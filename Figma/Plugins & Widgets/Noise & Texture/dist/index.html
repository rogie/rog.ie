<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8" />
      <meta name="viewport"
            content="width=device-width, initial-scale=1.0" />
  <script type="module">
//assets/index.19555e47.js
const RL=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};RL();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PL(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return n[t]}})}),e}var ie={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=Symbol.for("react.element"),kL=Symbol.for("react.portal"),IL=Symbol.for("react.fragment"),zL=Symbol.for("react.strict_mode"),DL=Symbol.for("react.profiler"),OL=Symbol.for("react.provider"),NL=Symbol.for("react.context"),FL=Symbol.for("react.forward_ref"),BL=Symbol.for("react.suspense"),UL=Symbol.for("react.memo"),HL=Symbol.for("react.lazy"),n_=Symbol.iterator;function WL(n){return n===null||typeof n!="object"?null:(n=n_&&n[n_]||n["@@iterator"],typeof n=="function"?n:null)}var x3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w3=Object.assign,S3={};function nu(n,e,t){this.props=n,this.context=e,this.refs=S3,this.updater=t||x3}nu.prototype.isReactComponent={};nu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};nu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _3(){}_3.prototype=nu.prototype;function kx(n,e,t){this.props=n,this.context=e,this.refs=S3,this.updater=t||x3}var Ix=kx.prototype=new _3;Ix.constructor=kx;w3(Ix,nu.prototype);Ix.isPureReactComponent=!0;var i_=Array.isArray,b3=Object.prototype.hasOwnProperty,zx={current:null},A3={key:!0,ref:!0,__self:!0,__source:!0};function C3(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)b3.call(e,i)&&!A3.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){for(var h=Array(l),f=0;f<l;f++)h[f]=arguments[f+2];r.children=h}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:Cf,type:n,key:s,ref:a,props:r,_owner:zx.current}}function VL(n,e){return{$$typeof:Cf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Dx(n){return typeof n=="object"&&n!==null&&n.$$typeof===Cf}function GL(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var r_=/\/+/g;function c0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?GL(""+n.key):e.toString(36)}function qp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Cf:case kL:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+c0(a,0):i,i_(r)?(t="",n!=null&&(t=n.replace(r_,"$&/")+"/"),qp(r,e,t,"",function(f){return f})):r!=null&&(Dx(r)&&(r=VL(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(r_,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",i_(n))for(var l=0;l<n.length;l++){s=n[l];var h=i+c0(s,l);a+=qp(s,e,t,h,r)}else if(h=WL(n),typeof h=="function")for(n=h.call(n),l=0;!(s=n.next()).done;)s=s.value,h=i+c0(s,l++),a+=qp(s,e,t,h,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Hd(n,e,t){if(n==null)return n;var i=[],r=0;return qp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function KL(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var zi={current:null},Jp={transition:null},jL={ReactCurrentDispatcher:zi,ReactCurrentBatchConfig:Jp,ReactCurrentOwner:zx};zt.Children={map:Hd,forEach:function(n,e,t){Hd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Hd(n,function(){e++}),e},toArray:function(n){return Hd(n,function(e){return e})||[]},only:function(n){if(!Dx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};zt.Component=nu;zt.Fragment=IL;zt.Profiler=DL;zt.PureComponent=kx;zt.StrictMode=zL;zt.Suspense=BL;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jL;zt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=w3({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=zx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(h in e)b3.call(e,h)&&!A3.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&l!==void 0?l[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=t;else if(1<h){l=Array(h);for(var f=0;f<h;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:Cf,type:n.type,key:r,ref:s,props:i,_owner:a}};zt.createContext=function(n){return n={$$typeof:NL,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:OL,_context:n},n.Consumer=n};zt.createElement=C3;zt.createFactory=function(n){var e=C3.bind(null,n);return e.type=n,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(n){return{$$typeof:FL,render:n}};zt.isValidElement=Dx;zt.lazy=function(n){return{$$typeof:HL,_payload:{_status:-1,_result:n},_init:KL}};zt.memo=function(n,e){return{$$typeof:UL,type:n,compare:e===void 0?null:e}};zt.startTransition=function(n){var e=Jp.transition;Jp.transition={};try{n()}finally{Jp.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(n,e){return zi.current.useCallback(n,e)};zt.useContext=function(n){return zi.current.useContext(n)};zt.useDebugValue=function(){};zt.useDeferredValue=function(n){return zi.current.useDeferredValue(n)};zt.useEffect=function(n,e){return zi.current.useEffect(n,e)};zt.useId=function(){return zi.current.useId()};zt.useImperativeHandle=function(n,e,t){return zi.current.useImperativeHandle(n,e,t)};zt.useInsertionEffect=function(n,e){return zi.current.useInsertionEffect(n,e)};zt.useLayoutEffect=function(n,e){return zi.current.useLayoutEffect(n,e)};zt.useMemo=function(n,e){return zi.current.useMemo(n,e)};zt.useReducer=function(n,e,t){return zi.current.useReducer(n,e,t)};zt.useRef=function(n){return zi.current.useRef(n)};zt.useState=function(n){return zi.current.useState(n)};zt.useSyncExternalStore=function(n,e,t){return zi.current.useSyncExternalStore(n,e,t)};zt.useTransition=function(){return zi.current.useTransition()};zt.version="18.2.0";ie.exports=zt;var Q=ie.exports,Ox={exports:{}},fr={},M3={exports:{}},E3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,U){var H=F.length;F.push(U);e:for(;0<H;){var j=H-1>>>1,Y=F[j];if(0<r(Y,U))F[j]=U,F[H]=Y,H=j;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var U=F[0],H=F.pop();if(H!==U){F[0]=H;e:for(var j=0,Y=F.length,K=Y>>>1;j<K;){var X=2*(j+1)-1,$=F[X],q=X+1,pe=F[q];if(0>r($,H))q<Y&&0>r(pe,$)?(F[j]=pe,F[q]=H,j=q):(F[j]=$,F[X]=H,j=X);else if(q<Y&&0>r(pe,H))F[j]=pe,F[q]=H,j=q;else break e}}return U}function r(F,U){var H=F.sortIndex-U.sortIndex;return H!==0?H:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var h=[],f=[],c=1,o=null,u=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var U=t(f);U!==null;){if(U.callback===null)i(f);else if(U.startTime<=F)i(f),U.sortIndex=U.expirationTime,e(h,U);else break;U=t(f)}}function M(F){if(m=!1,A(F),!p)if(t(h)!==null)p=!0,D(C);else{var U=t(f);U!==null&&B(M,U.startTime-F)}}function C(F,U){p=!1,m&&(m=!1,x(b),b=-1),d=!0;var H=u;try{for(A(U),o=t(h);o!==null&&(!(o.expirationTime>U)||F&&!T());){var j=o.callback;if(typeof j=="function"){o.callback=null,u=o.priorityLevel;var Y=j(o.expirationTime<=U);U=n.unstable_now(),typeof Y=="function"?o.callback=Y:o===t(h)&&i(h),A(U)}else i(h);o=t(h)}if(o!==null)var K=!0;else{var X=t(f);X!==null&&B(M,X.startTime-U),K=!1}return K}finally{o=null,u=H,d=!1}}var E=!1,R=null,b=-1,_=5,S=-1;function T(){return!(n.unstable_now()-S<_)}function P(){if(R!==null){var F=n.unstable_now();S=F;var U=!0;try{U=R(!0,F)}finally{U?I():(E=!1,R=null)}}else E=!1}var I;if(typeof w=="function")I=function(){w(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=P,I=function(){O.postMessage(null)}}else I=function(){v(P,0)};function D(F){R=F,E||(E=!0,I())}function B(F,U){b=v(function(){F(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,D(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return u},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(F){switch(u){case 1:case 2:case 3:var U=3;break;default:U=u}var H=u;u=U;try{return F()}finally{u=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=u;u=F;try{return U()}finally{u=H}},n.unstable_scheduleCallback=function(F,U,H){var j=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,F={id:c++,callback:U,priorityLevel:F,startTime:H,expirationTime:Y,sortIndex:-1},H>j?(F.sortIndex=H,e(f,F),t(h)===null&&F===t(f)&&(m?(x(b),b=-1):m=!0,B(M,H-j))):(F.sortIndex=Y,e(h,F),p||d||(p=!0,D(C))),F},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(F){var U=u;return function(){var H=u;u=U;try{return F.apply(this,arguments)}finally{u=H}}}})(E3);M3.exports=E3;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3=ie.exports,hr=M3.exports;function He(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L3=new Set,Oh={};function pl(n,e){Uc(n,e),Uc(n+"Capture",e)}function Uc(n,e){for(Oh[n]=e,n=0;n<e.length;n++)L3.add(e[n])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D1=Object.prototype.hasOwnProperty,YL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s_={},o_={};function XL(n){return D1.call(o_,n)?!0:D1.call(s_,n)?!1:YL.test(n)?o_[n]=!0:(s_[n]=!0,!1)}function QL(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $L(n,e,t,i){if(e===null||typeof e>"u"||QL(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Di(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){li[n]=new Di(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];li[e]=new Di(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){li[n]=new Di(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){li[n]=new Di(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){li[n]=new Di(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){li[n]=new Di(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){li[n]=new Di(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){li[n]=new Di(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){li[n]=new Di(n,5,!1,n.toLowerCase(),null,!1,!1)});var Nx=/[\-:]([a-z])/g;function Fx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Nx,Fx);li[e]=new Di(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Nx,Fx);li[e]=new Di(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Nx,Fx);li[e]=new Di(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){li[n]=new Di(n,1,!1,n.toLowerCase(),null,!1,!1)});li.xlinkHref=new Di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){li[n]=new Di(n,1,!1,n.toLowerCase(),null,!0,!0)});function Bx(n,e,t,i){var r=li.hasOwnProperty(e)?li[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($L(e,t,r,i)&&(t=null),i||r===null?XL(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var no=T3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wd=Symbol.for("react.element"),dc=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),Ux=Symbol.for("react.strict_mode"),O1=Symbol.for("react.profiler"),R3=Symbol.for("react.provider"),P3=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),F1=Symbol.for("react.suspense_list"),Wx=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),k3=Symbol.for("react.offscreen"),a_=Symbol.iterator;function Hu(n){return n===null||typeof n!="object"?null:(n=a_&&n[a_]||n["@@iterator"],typeof n=="function"?n:null)}var yn=Object.assign,u0;function uh(n){if(u0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);u0=e&&e[1]||""}return`
`+u0+n}var h0=!1;function f0(n,e){if(!n||h0)return"";h0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,l=s.length-1;1<=a&&0<=l&&r[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==s[l]){var h=`
`+r[a].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=a&&0<=l);break}}}finally{h0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?uh(n):""}function qL(n){switch(n.tag){case 5:return uh(n.type);case 16:return uh("Lazy");case 13:return uh("Suspense");case 19:return uh("SuspenseList");case 0:case 2:case 15:return n=f0(n.type,!1),n;case 11:return n=f0(n.type.render,!1),n;case 1:return n=f0(n.type,!0),n;default:return""}}function B1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case pc:return"Fragment";case dc:return"Portal";case O1:return"Profiler";case Ux:return"StrictMode";case N1:return"Suspense";case F1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P3:return(n.displayName||"Context")+".Consumer";case R3:return(n._context.displayName||"Context")+".Provider";case Hx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Wx:return e=n.displayName||null,e!==null?e:B1(n.type)||"Memo";case bo:e=n._payload,n=n._init;try{return B1(n(e))}catch{}}return null}function JL(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B1(e);case 8:return e===Ux?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function I3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZL(n){var e=I3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Vd(n){n._valueTracker||(n._valueTracker=ZL(n))}function z3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=I3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function _m(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function U1(n,e){var t=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function l_(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Vo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D3(n,e){e=e.checked,e!=null&&Bx(n,"checked",e,!1)}function H1(n,e){D3(n,e);var t=Vo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?W1(n,e.type,t):e.hasOwnProperty("defaultValue")&&W1(n,e.type,Vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function c_(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function W1(n,e,t){(e!=="number"||_m(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var hh=Array.isArray;function Ic(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Vo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function V1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function u_(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(He(92));if(hh(t)){if(1<t.length)throw Error(He(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Vo(t)}}function O3(n,e){var t=Vo(e.value),i=Vo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function h_(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function N3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?N3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gd,F3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Gd=Gd||document.createElement("div"),Gd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Nh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];Object.keys(vh).forEach(function(n){eR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),vh[e]=vh[n]})});function B3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||vh.hasOwnProperty(n)&&vh[n]?(""+e).trim():e+"px"}function U3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=B3(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var tR=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K1(n,e){if(e){if(tR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function j1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y1=null;function Vx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var X1=null,zc=null,Dc=null;function f_(n){if(n=Tf(n)){if(typeof X1!="function")throw Error(He(280));var e=n.stateNode;e&&(e=Eg(e),X1(n.stateNode,n.type,e))}}function H3(n){zc?Dc?Dc.push(n):Dc=[n]:zc=n}function W3(){if(zc){var n=zc,e=Dc;if(Dc=zc=null,f_(n),e)for(n=0;n<e.length;n++)f_(e[n])}}function V3(n,e){return n(e)}function G3(){}var d0=!1;function K3(n,e,t){if(d0)return n(e,t);d0=!0;try{return V3(n,e,t)}finally{d0=!1,(zc!==null||Dc!==null)&&(G3(),W3())}}function Fh(n,e){var t=n.stateNode;if(t===null)return null;var i=Eg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(He(231,e,typeof t));return t}var Q1=!1;if(Qs)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){Q1=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Q1=!1}function nR(n,e,t,i,r,s,a,l,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(c){this.onError(c)}}var yh=!1,bm=null,Am=!1,$1=null,iR={onError:function(n){yh=!0,bm=n}};function rR(n,e,t,i,r,s,a,l,h){yh=!1,bm=null,nR.apply(iR,arguments)}function sR(n,e,t,i,r,s,a,l,h){if(rR.apply(this,arguments),yh){if(yh){var f=bm;yh=!1,bm=null}else throw Error(He(198));Am||(Am=!0,$1=f)}}function ml(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function j3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function d_(n){if(ml(n)!==n)throw Error(He(188))}function oR(n){var e=n.alternate;if(!e){if(e=ml(n),e===null)throw Error(He(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return d_(r),n;if(s===i)return d_(r),e;s=s.sibling}throw Error(He(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===t){a=!0,t=r,i=s;break}if(l===i){a=!0,i=r,t=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===t){a=!0,t=s,i=r;break}if(l===i){a=!0,i=s,t=r;break}l=l.sibling}if(!a)throw Error(He(189))}}if(t.alternate!==i)throw Error(He(190))}if(t.tag!==3)throw Error(He(188));return t.stateNode.current===t?n:e}function Y3(n){return n=oR(n),n!==null?X3(n):null}function X3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=X3(n);if(e!==null)return e;n=n.sibling}return null}var Q3=hr.unstable_scheduleCallback,p_=hr.unstable_cancelCallback,aR=hr.unstable_shouldYield,lR=hr.unstable_requestPaint,Pn=hr.unstable_now,cR=hr.unstable_getCurrentPriorityLevel,Gx=hr.unstable_ImmediatePriority,$3=hr.unstable_UserBlockingPriority,Cm=hr.unstable_NormalPriority,uR=hr.unstable_LowPriority,q3=hr.unstable_IdlePriority,bg=null,ys=null;function hR(n){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(bg,n,void 0,(n.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:pR,fR=Math.log,dR=Math.LN2;function pR(n){return n>>>=0,n===0?32:31-(fR(n)/dR|0)|0}var Kd=64,jd=4194304;function fh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Mm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var l=a&~r;l!==0?i=fh(l):(s&=a,s!==0&&(i=fh(s)))}else a=t&~r,a!==0?i=fh(a):s!==0&&(i=fh(s));if(i===0)return 0;if(e!==0&&e!==i&&(e&r)===0&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if((i&4)!==0&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ts(e),r=1<<t,i|=n[t],e&=~r;return i}function mR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gR(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-ts(s),l=1<<a,h=r[a];h===-1?((l&t)===0||(l&i)!==0)&&(r[a]=mR(l,e)):h<=e&&(n.expiredLanes|=l),s&=~l}}function q1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function J3(){var n=Kd;return Kd<<=1,(Kd&4194240)===0&&(Kd=64),n}function p0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ts(e),n[e]=t}function vR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ts(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Kx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ts(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var jt=0;function Z3(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var eC,jx,tC,nC,iC,J1=!1,Yd=[],Io=null,zo=null,Do=null,Bh=new Map,Uh=new Map,Eo=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(n,e){switch(n){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(e.pointerId)}}function Vu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Tf(e),e!==null&&jx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function xR(n,e,t,i,r){switch(e){case"focusin":return Io=Vu(Io,n,e,t,i,r),!0;case"dragenter":return zo=Vu(zo,n,e,t,i,r),!0;case"mouseover":return Do=Vu(Do,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Bh.set(s,Vu(Bh.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Uh.set(s,Vu(Uh.get(s)||null,n,e,t,i,r)),!0}return!1}function rC(n){var e=Fa(n.target);if(e!==null){var t=ml(e);if(t!==null){if(e=t.tag,e===13){if(e=j3(t),e!==null){n.blockedOn=e,iC(n.priority,function(){tC(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Z1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Y1=i,t.target.dispatchEvent(i),Y1=null}else return e=Tf(t),e!==null&&jx(e),n.blockedOn=t,!1;e.shift()}return!0}function g_(n,e,t){Zp(n)&&t.delete(e)}function wR(){J1=!1,Io!==null&&Zp(Io)&&(Io=null),zo!==null&&Zp(zo)&&(zo=null),Do!==null&&Zp(Do)&&(Do=null),Bh.forEach(g_),Uh.forEach(g_)}function Gu(n,e){n.blockedOn===e&&(n.blockedOn=null,J1||(J1=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,wR)))}function Hh(n){function e(r){return Gu(r,n)}if(0<Yd.length){Gu(Yd[0],n);for(var t=1;t<Yd.length;t++){var i=Yd[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Io!==null&&Gu(Io,n),zo!==null&&Gu(zo,n),Do!==null&&Gu(Do,n),Bh.forEach(e),Uh.forEach(e),t=0;t<Eo.length;t++)i=Eo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Eo.length&&(t=Eo[0],t.blockedOn===null);)rC(t),t.blockedOn===null&&Eo.shift()}var Oc=no.ReactCurrentBatchConfig,Em=!0;function SR(n,e,t,i){var r=jt,s=Oc.transition;Oc.transition=null;try{jt=1,Yx(n,e,t,i)}finally{jt=r,Oc.transition=s}}function _R(n,e,t,i){var r=jt,s=Oc.transition;Oc.transition=null;try{jt=4,Yx(n,e,t,i)}finally{jt=r,Oc.transition=s}}function Yx(n,e,t,i){if(Em){var r=Z1(n,e,t,i);if(r===null)A0(n,e,i,Tm,t),m_(n,i);else if(xR(r,n,e,t,i))i.stopPropagation();else if(m_(n,i),e&4&&-1<yR.indexOf(n)){for(;r!==null;){var s=Tf(r);if(s!==null&&eC(s),s=Z1(n,e,t,i),s===null&&A0(n,e,i,Tm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else A0(n,e,i,null,t)}}var Tm=null;function Z1(n,e,t,i){if(Tm=null,n=Vx(i),n=Fa(n),n!==null)if(e=ml(n),e===null)n=null;else if(t=e.tag,t===13){if(n=j3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Tm=n,null}function sC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case Gx:return 1;case $3:return 4;case Cm:case uR:return 16;case q3:return 536870912;default:return 16}default:return 16}}var Ro=null,Xx=null,em=null;function oC(){if(em)return em;var n,e=Xx,t=e.length,i,r="value"in Ro?Ro.value:Ro.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return em=r.slice(n,1<i?1-i:void 0)}function tm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Xd(){return!0}function v_(){return!1}function dr(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xd:v_,this.isPropagationStopped=v_,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),e}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qx=dr(iu),Ef=yn({},iu,{view:0,detail:0}),bR=dr(Ef),m0,g0,Ku,Ag=yn({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ku&&(Ku&&n.type==="mousemove"?(m0=n.screenX-Ku.screenX,g0=n.screenY-Ku.screenY):g0=m0=0,Ku=n),m0)},movementY:function(n){return"movementY"in n?n.movementY:g0}}),y_=dr(Ag),AR=yn({},Ag,{dataTransfer:0}),CR=dr(AR),MR=yn({},Ef,{relatedTarget:0}),v0=dr(MR),ER=yn({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),TR=dr(ER),LR=yn({},iu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RR=dr(LR),PR=yn({},iu,{data:0}),x_=dr(PR),kR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=zR[n])?!!e[n]:!1}function $x(){return DR}var OR=yn({},Ef,{key:function(n){if(n.key){var e=kR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=tm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?IR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(n){return n.type==="keypress"?tm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NR=dr(OR),FR=yn({},Ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=dr(FR),BR=yn({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),UR=dr(BR),HR=yn({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),WR=dr(HR),VR=yn({},Ag,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GR=dr(VR),KR=[9,13,27,32],qx=Qs&&"CompositionEvent"in window,xh=null;Qs&&"documentMode"in document&&(xh=document.documentMode);var jR=Qs&&"TextEvent"in window&&!xh,aC=Qs&&(!qx||xh&&8<xh&&11>=xh),S_=String.fromCharCode(32),__=!1;function lC(n,e){switch(n){case"keyup":return KR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mc=!1;function YR(n,e){switch(n){case"compositionend":return cC(e);case"keypress":return e.which!==32?null:(__=!0,S_);case"textInput":return n=e.data,n===S_&&__?null:n;default:return null}}function XR(n,e){if(mc)return n==="compositionend"||!qx&&lC(n,e)?(n=oC(),em=Xx=Ro=null,mc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aC&&e.locale!=="ko"?null:e.data;default:return null}}var QR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!QR[n.type]:e==="textarea"}function uC(n,e,t,i){H3(i),e=Lm(e,"onChange"),0<e.length&&(t=new Qx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var wh=null,Wh=null;function $R(n){SC(n,0)}function Cg(n){var e=yc(n);if(z3(e))return n}function qR(n,e){if(n==="change")return e}var hC=!1;if(Qs){var y0;if(Qs){var x0="oninput"in document;if(!x0){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),x0=typeof A_.oninput=="function"}y0=x0}else y0=!1;hC=y0&&(!document.documentMode||9<document.documentMode)}function C_(){wh&&(wh.detachEvent("onpropertychange",fC),Wh=wh=null)}function fC(n){if(n.propertyName==="value"&&Cg(Wh)){var e=[];uC(e,Wh,n,Vx(n)),K3($R,e)}}function JR(n,e,t){n==="focusin"?(C_(),wh=e,Wh=t,wh.attachEvent("onpropertychange",fC)):n==="focusout"&&C_()}function ZR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cg(Wh)}function eP(n,e){if(n==="click")return Cg(e)}function tP(n,e){if(n==="input"||n==="change")return Cg(e)}function nP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var rs=typeof Object.is=="function"?Object.is:nP;function Vh(n,e){if(rs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!D1.call(e,r)||!rs(n[r],e[r]))return!1}return!0}function M_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function E_(n,e){var t=M_(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=M_(t)}}function dC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?dC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function pC(){for(var n=window,e=_m();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=_m(n.document)}return e}function Jx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function iP(n){var e=pC(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&dC(t.ownerDocument.documentElement,t)){if(i!==null&&Jx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=E_(t,s);var a=E_(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rP=Qs&&"documentMode"in document&&11>=document.documentMode,gc=null,ey=null,Sh=null,ty=!1;function T_(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ty||gc==null||gc!==_m(i)||(i=gc,"selectionStart"in i&&Jx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sh&&Vh(Sh,i)||(Sh=i,i=Lm(ey,"onSelect"),0<i.length&&(e=new Qx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=gc)))}function Qd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var vc={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},w0={},mC={};Qs&&(mC=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function Mg(n){if(w0[n])return w0[n];if(!vc[n])return n;var e=vc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in mC)return w0[n]=e[t];return n}var gC=Mg("animationend"),vC=Mg("animationiteration"),yC=Mg("animationstart"),xC=Mg("transitionend"),wC=new Map,L_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(n,e){wC.set(n,e),pl(e,[n])}for(var S0=0;S0<L_.length;S0++){var _0=L_[S0],sP=_0.toLowerCase(),oP=_0[0].toUpperCase()+_0.slice(1);$o(sP,"on"+oP)}$o(gC,"onAnimationEnd");$o(vC,"onAnimationIteration");$o(yC,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(xC,"onTransitionEnd");Uc("onMouseEnter",["mouseout","mouseover"]);Uc("onMouseLeave",["mouseout","mouseover"]);Uc("onPointerEnter",["pointerout","pointerover"]);Uc("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat(dh));function R_(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,sR(i,e,void 0,n),n.currentTarget=null}function SC(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],h=l.instance,f=l.currentTarget;if(l=l.listener,h!==s&&r.isPropagationStopped())break e;R_(r,l,f),s=h}else for(a=0;a<i.length;a++){if(l=i[a],h=l.instance,f=l.currentTarget,l=l.listener,h!==s&&r.isPropagationStopped())break e;R_(r,l,f),s=h}}}if(Am)throw n=$1,Am=!1,$1=null,n}function sn(n,e){var t=e[oy];t===void 0&&(t=e[oy]=new Set);var i=n+"__bubble";t.has(i)||(_C(e,n,2,!1),t.add(i))}function b0(n,e,t){var i=0;e&&(i|=4),_C(t,n,i,e)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Gh(n){if(!n[$d]){n[$d]=!0,L3.forEach(function(t){t!=="selectionchange"&&(aP.has(t)||b0(t,!1,n),b0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[$d]||(e[$d]=!0,b0("selectionchange",!1,e))}}function _C(n,e,t,i){switch(sC(e)){case 1:var r=SR;break;case 4:r=_R;break;default:r=Yx}t=r.bind(null,e,t,n),r=void 0,!Q1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function A0(n,e,t,i,r){var s=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Fa(l),a===null)return;if(h=a.tag,h===5||h===6){i=s=a;continue e}l=l.parentNode}}i=i.return}K3(function(){var f=s,c=Vx(t),o=[];e:{var u=wC.get(n);if(u!==void 0){var d=Qx,p=n;switch(n){case"keypress":if(tm(t)===0)break e;case"keydown":case"keyup":d=NR;break;case"focusin":p="focus",d=v0;break;case"focusout":p="blur",d=v0;break;case"beforeblur":case"afterblur":d=v0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=CR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=UR;break;case gC:case vC:case yC:d=TR;break;case xC:d=WR;break;case"scroll":d=bR;break;case"wheel":d=GR;break;case"copy":case"cut":case"paste":d=RR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=w_}var m=(e&4)!==0,v=!m&&n==="scroll",x=m?u!==null?u+"Capture":null:u;m=[];for(var w=f,A;w!==null;){A=w;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,x!==null&&(M=Fh(w,x),M!=null&&m.push(Kh(w,M,A)))),v)break;w=w.return}0<m.length&&(u=new d(u,p,null,t,c),o.push({event:u,listeners:m}))}}if((e&7)===0){e:{if(u=n==="mouseover"||n==="pointerover",d=n==="mouseout"||n==="pointerout",u&&t!==Y1&&(p=t.relatedTarget||t.fromElement)&&(Fa(p)||p[$s]))break e;if((d||u)&&(u=c.window===c?c:(u=c.ownerDocument)?u.defaultView||u.parentWindow:window,d?(p=t.relatedTarget||t.toElement,d=f,p=p?Fa(p):null,p!==null&&(v=ml(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=f),d!==p)){if(m=y_,M="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(m=w_,M="onPointerLeave",x="onPointerEnter",w="pointer"),v=d==null?u:yc(d),A=p==null?u:yc(p),u=new m(M,w+"leave",d,t,c),u.target=v,u.relatedTarget=A,M=null,Fa(c)===f&&(m=new m(x,w+"enter",p,t,c),m.target=A,m.relatedTarget=v,M=m),v=M,d&&p)t:{for(m=d,x=p,w=0,A=m;A;A=Ul(A))w++;for(A=0,M=x;M;M=Ul(M))A++;for(;0<w-A;)m=Ul(m),w--;for(;0<A-w;)x=Ul(x),A--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=Ul(m),x=Ul(x)}m=null}else m=null;d!==null&&P_(o,u,d,m,!1),p!==null&&v!==null&&P_(o,v,p,m,!0)}}e:{if(u=f?yc(f):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var C=qR;else if(b_(u))if(hC)C=tP;else{C=ZR;var E=JR}else(d=u.nodeName)&&d.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(C=eP);if(C&&(C=C(n,f))){uC(o,C,t,c);break e}E&&E(n,u,f),n==="focusout"&&(E=u._wrapperState)&&E.controlled&&u.type==="number"&&W1(u,"number",u.value)}switch(E=f?yc(f):window,n){case"focusin":(b_(E)||E.contentEditable==="true")&&(gc=E,ey=f,Sh=null);break;case"focusout":Sh=ey=gc=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,T_(o,t,c);break;case"selectionchange":if(rP)break;case"keydown":case"keyup":T_(o,t,c)}var R;if(qx)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else mc?lC(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(aC&&t.locale!=="ko"&&(mc||b!=="onCompositionStart"?b==="onCompositionEnd"&&mc&&(R=oC()):(Ro=c,Xx="value"in Ro?Ro.value:Ro.textContent,mc=!0)),E=Lm(f,b),0<E.length&&(b=new x_(b,n,null,t,c),o.push({event:b,listeners:E}),R?b.data=R:(R=cC(t),R!==null&&(b.data=R)))),(R=jR?YR(n,t):XR(n,t))&&(f=Lm(f,"onBeforeInput"),0<f.length&&(c=new x_("onBeforeInput","beforeinput",null,t,c),o.push({event:c,listeners:f}),c.data=R))}SC(o,e)})}function Kh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Lm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Fh(n,t),s!=null&&i.unshift(Kh(n,s,r)),s=Fh(n,e),s!=null&&i.push(Kh(n,s,r))),n=n.return}return i}function Ul(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function P_(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var l=t,h=l.alternate,f=l.stateNode;if(h!==null&&h===i)break;l.tag===5&&f!==null&&(l=f,r?(h=Fh(t,s),h!=null&&a.unshift(Kh(t,h,l))):r||(h=Fh(t,s),h!=null&&a.push(Kh(t,h,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var lP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function k_(n){return(typeof n=="string"?n:""+n).replace(lP,`
`).replace(cP,"")}function qd(n,e,t){if(e=k_(e),k_(n)!==e&&t)throw Error(He(425))}function Rm(){}var ny=null,iy=null;function ry(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sy=typeof setTimeout=="function"?setTimeout:void 0,uP=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(n){return I_.resolve(null).then(n).catch(fP)}:sy;function fP(n){setTimeout(function(){throw n})}function C0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Hh(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Hh(e)}function Oo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function z_(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ru=Math.random().toString(36).slice(2),vs="__reactFiber$"+ru,jh="__reactProps$"+ru,$s="__reactContainer$"+ru,oy="__reactEvents$"+ru,dP="__reactListeners$"+ru,pP="__reactHandles$"+ru;function Fa(n){var e=n[vs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$s]||t[vs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=z_(n);n!==null;){if(t=n[vs])return t;n=z_(n)}return e}n=t,t=n.parentNode}return null}function Tf(n){return n=n[vs]||n[$s],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function yc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(He(33))}function Eg(n){return n[jh]||null}var ay=[],xc=-1;function qo(n){return{current:n}}function on(n){0>xc||(n.current=ay[xc],ay[xc]=null,xc--)}function en(n,e){xc++,ay[xc]=n.current,n.current=e}var Go={},Ai=qo(Go),Xi=qo(!1),il=Go;function Hc(n,e){var t=n.type.contextTypes;if(!t)return Go;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Qi(n){return n=n.childContextTypes,n!=null}function Pm(){on(Xi),on(Ai)}function D_(n,e,t){if(Ai.current!==Go)throw Error(He(168));en(Ai,e),en(Xi,t)}function bC(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(He(108,JL(n)||"Unknown",r));return yn({},t,i)}function km(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Go,il=Ai.current,en(Ai,n),en(Xi,Xi.current),!0}function O_(n,e,t){var i=n.stateNode;if(!i)throw Error(He(169));t?(n=bC(n,e,il),i.__reactInternalMemoizedMergedChildContext=n,on(Xi),on(Ai),en(Ai,n)):on(Xi),en(Xi,t)}var Hs=null,Tg=!1,M0=!1;function AC(n){Hs===null?Hs=[n]:Hs.push(n)}function mP(n){Tg=!0,AC(n)}function Jo(){if(!M0&&Hs!==null){M0=!0;var n=0,e=jt;try{var t=Hs;for(jt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Hs=null,Tg=!1}catch(r){throw Hs!==null&&(Hs=Hs.slice(n+1)),Q3(Gx,Jo),r}finally{jt=e,M0=!1}}return null}var wc=[],Sc=0,Im=null,zm=0,Rr=[],Pr=0,rl=null,Vs=1,Gs="";function Ta(n,e){wc[Sc++]=zm,wc[Sc++]=Im,Im=n,zm=e}function CC(n,e,t){Rr[Pr++]=Vs,Rr[Pr++]=Gs,Rr[Pr++]=rl,rl=n;var i=Vs;n=Gs;var r=32-ts(i)-1;i&=~(1<<r),t+=1;var s=32-ts(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Vs=1<<32-ts(e)+r|t<<r|i,Gs=s+n}else Vs=1<<s|t<<r|i,Gs=n}function Zx(n){n.return!==null&&(Ta(n,1),CC(n,1,0))}function ew(n){for(;n===Im;)Im=wc[--Sc],wc[Sc]=null,zm=wc[--Sc],wc[Sc]=null;for(;n===rl;)rl=Rr[--Pr],Rr[Pr]=null,Gs=Rr[--Pr],Rr[Pr]=null,Vs=Rr[--Pr],Rr[Pr]=null}var lr=null,ar=null,un=!1,Jr=null;function MC(n,e){var t=Ir(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function N_(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,lr=n,ar=Oo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,lr=n,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=rl!==null?{id:Vs,overflow:Gs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ir(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,lr=n,ar=null,!0):!1;default:return!1}}function ly(n){return(n.mode&1)!==0&&(n.flags&128)===0}function cy(n){if(un){var e=ar;if(e){var t=e;if(!N_(n,e)){if(ly(n))throw Error(He(418));e=Oo(t.nextSibling);var i=lr;e&&N_(n,e)?MC(i,t):(n.flags=n.flags&-4097|2,un=!1,lr=n)}}else{if(ly(n))throw Error(He(418));n.flags=n.flags&-4097|2,un=!1,lr=n}}}function F_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;lr=n}function Jd(n){if(n!==lr)return!1;if(!un)return F_(n),un=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ry(n.type,n.memoizedProps)),e&&(e=ar)){if(ly(n))throw EC(),Error(He(418));for(;e;)MC(n,e),e=Oo(e.nextSibling)}if(F_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(He(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ar=Oo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ar=null}}else ar=lr?Oo(n.stateNode.nextSibling):null;return!0}function EC(){for(var n=ar;n;)n=Oo(n.nextSibling)}function Wc(){ar=lr=null,un=!1}function tw(n){Jr===null?Jr=[n]:Jr.push(n)}var gP=no.ReactCurrentBatchConfig;function Qr(n,e){if(n&&n.defaultProps){e=yn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Dm=qo(null),Om=null,_c=null,nw=null;function iw(){nw=_c=Om=null}function rw(n){var e=Dm.current;on(Dm),n._currentValue=e}function uy(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Nc(n,e){Om=n,nw=_c=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Yi=!0),n.firstContext=null)}function Dr(n){var e=n._currentValue;if(nw!==n)if(n={context:n,memoizedValue:e,next:null},_c===null){if(Om===null)throw Error(He(308));_c=n,Om.dependencies={lanes:0,firstContext:n}}else _c=_c.next=n;return e}var Ba=null;function sw(n){Ba===null?Ba=[n]:Ba.push(n)}function TC(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,sw(e)):(t.next=r.next,r.next=t),e.interleaved=t,qs(n,i)}function qs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ao=!1;function ow(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ys(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function No(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,(Nt&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,qs(n,t)}return r=i.interleaved,r===null?(e.next=e,sw(i)):(e.next=r.next,r.next=e),i.interleaved=e,qs(n,t)}function nm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Kx(n,t)}}function B_(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Nm(n,e,t,i){var r=n.updateQueue;Ao=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var h=l,f=h.next;h.next=null,a===null?s=f:a.next=f,a=h;var c=n.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==a&&(l===null?c.firstBaseUpdate=f:l.next=f,c.lastBaseUpdate=h))}if(s!==null){var o=r.baseState;a=0,c=f=h=null,l=s;do{var u=l.lane,d=l.eventTime;if((i&u)===u){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=n,m=l;switch(u=e,d=t,m.tag){case 1:if(p=m.payload,typeof p=="function"){o=p.call(d,o,u);break e}o=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,u=typeof p=="function"?p.call(d,o,u):p,u==null)break e;o=yn({},o,u);break e;case 2:Ao=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,u=r.effects,u===null?r.effects=[l]:u.push(l))}else d={eventTime:d,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(f=c=d,h=o):c=c.next=d,a|=u;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;u=l,l=u.next,u.next=null,r.lastBaseUpdate=u,r.shared.pending=null}}while(1);if(c===null&&(h=o),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ol|=a,n.lanes=a,n.memoizedState=o}}function U_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(He(191,r));r.call(i)}}}var RC=new T3.Component().refs;function hy(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:yn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Lg={isMounted:function(n){return(n=n._reactInternals)?ml(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Ii(),r=Bo(n),s=Ys(i,r);s.payload=e,t!=null&&(s.callback=t),e=No(n,s,r),e!==null&&(ns(e,n,r,i),nm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Ii(),r=Bo(n),s=Ys(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=No(n,s,r),e!==null&&(ns(e,n,r,i),nm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ii(),i=Bo(n),r=Ys(t,i);r.tag=2,e!=null&&(r.callback=e),e=No(n,r,i),e!==null&&(ns(e,n,i,t),nm(e,n,i))}};function H_(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Vh(t,i)||!Vh(r,s):!0}function PC(n,e,t){var i=!1,r=Go,s=e.contextType;return typeof s=="object"&&s!==null?s=Dr(s):(r=Qi(e)?il:Ai.current,i=e.contextTypes,s=(i=i!=null)?Hc(n,r):Go),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function W_(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Lg.enqueueReplaceState(e,e.state,null)}function fy(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=RC,ow(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Dr(s):(s=Qi(e)?il:Ai.current,r.context=Hc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hy(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Lg.enqueueReplaceState(r,r.state,null),Nm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function ju(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(He(309));var i=t.stateNode}if(!i)throw Error(He(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=r.refs;l===RC&&(l=r.refs={}),a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(He(284));if(!t._owner)throw Error(He(290,n))}return n}function Zd(n,e){throw n=Object.prototype.toString.call(e),Error(He(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function V_(n){var e=n._init;return e(n._payload)}function kC(n){function e(x,w){if(n){var A=x.deletions;A===null?(x.deletions=[w],x.flags|=16):A.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function i(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=Uo(x,w),x.index=0,x.sibling=null,x}function s(x,w,A){return x.index=A,n?(A=x.alternate,A!==null?(A=A.index,A<w?(x.flags|=2,w):A):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function l(x,w,A,M){return w===null||w.tag!==6?(w=I0(A,x.mode,M),w.return=x,w):(w=r(w,A),w.return=x,w)}function h(x,w,A,M){var C=A.type;return C===pc?c(x,w,A.props.children,M,A.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bo&&V_(C)===w.type)?(M=r(w,A.props),M.ref=ju(x,w,A),M.return=x,M):(M=lm(A.type,A.key,A.props,null,x.mode,M),M.ref=ju(x,w,A),M.return=x,M)}function f(x,w,A,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=z0(A,x.mode,M),w.return=x,w):(w=r(w,A.children||[]),w.return=x,w)}function c(x,w,A,M,C){return w===null||w.tag!==7?(w=$a(A,x.mode,M,C),w.return=x,w):(w=r(w,A),w.return=x,w)}function o(x,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=I0(""+w,x.mode,A),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wd:return A=lm(w.type,w.key,w.props,null,x.mode,A),A.ref=ju(x,null,w),A.return=x,A;case dc:return w=z0(w,x.mode,A),w.return=x,w;case bo:var M=w._init;return o(x,M(w._payload),A)}if(hh(w)||Hu(w))return w=$a(w,x.mode,A,null),w.return=x,w;Zd(x,w)}return null}function u(x,w,A,M){var C=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:l(x,w,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wd:return A.key===C?h(x,w,A,M):null;case dc:return A.key===C?f(x,w,A,M):null;case bo:return C=A._init,u(x,w,C(A._payload),M)}if(hh(A)||Hu(A))return C!==null?null:c(x,w,A,M,null);Zd(x,A)}return null}function d(x,w,A,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(A)||null,l(w,x,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Wd:return x=x.get(M.key===null?A:M.key)||null,h(w,x,M,C);case dc:return x=x.get(M.key===null?A:M.key)||null,f(w,x,M,C);case bo:var E=M._init;return d(x,w,A,E(M._payload),C)}if(hh(M)||Hu(M))return x=x.get(A)||null,c(w,x,M,C,null);Zd(w,M)}return null}function p(x,w,A,M){for(var C=null,E=null,R=w,b=w=0,_=null;R!==null&&b<A.length;b++){R.index>b?(_=R,R=null):_=R.sibling;var S=u(x,R,A[b],M);if(S===null){R===null&&(R=_);break}n&&R&&S.alternate===null&&e(x,R),w=s(S,w,b),E===null?C=S:E.sibling=S,E=S,R=_}if(b===A.length)return t(x,R),un&&Ta(x,b),C;if(R===null){for(;b<A.length;b++)R=o(x,A[b],M),R!==null&&(w=s(R,w,b),E===null?C=R:E.sibling=R,E=R);return un&&Ta(x,b),C}for(R=i(x,R);b<A.length;b++)_=d(R,x,b,A[b],M),_!==null&&(n&&_.alternate!==null&&R.delete(_.key===null?b:_.key),w=s(_,w,b),E===null?C=_:E.sibling=_,E=_);return n&&R.forEach(function(T){return e(x,T)}),un&&Ta(x,b),C}function m(x,w,A,M){var C=Hu(A);if(typeof C!="function")throw Error(He(150));if(A=C.call(A),A==null)throw Error(He(151));for(var E=C=null,R=w,b=w=0,_=null,S=A.next();R!==null&&!S.done;b++,S=A.next()){R.index>b?(_=R,R=null):_=R.sibling;var T=u(x,R,S.value,M);if(T===null){R===null&&(R=_);break}n&&R&&T.alternate===null&&e(x,R),w=s(T,w,b),E===null?C=T:E.sibling=T,E=T,R=_}if(S.done)return t(x,R),un&&Ta(x,b),C;if(R===null){for(;!S.done;b++,S=A.next())S=o(x,S.value,M),S!==null&&(w=s(S,w,b),E===null?C=S:E.sibling=S,E=S);return un&&Ta(x,b),C}for(R=i(x,R);!S.done;b++,S=A.next())S=d(R,x,b,S.value,M),S!==null&&(n&&S.alternate!==null&&R.delete(S.key===null?b:S.key),w=s(S,w,b),E===null?C=S:E.sibling=S,E=S);return n&&R.forEach(function(P){return e(x,P)}),un&&Ta(x,b),C}function v(x,w,A,M){if(typeof A=="object"&&A!==null&&A.type===pc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Wd:e:{for(var C=A.key,E=w;E!==null;){if(E.key===C){if(C=A.type,C===pc){if(E.tag===7){t(x,E.sibling),w=r(E,A.props.children),w.return=x,x=w;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bo&&V_(C)===E.type){t(x,E.sibling),w=r(E,A.props),w.ref=ju(x,E,A),w.return=x,x=w;break e}t(x,E);break}else e(x,E);E=E.sibling}A.type===pc?(w=$a(A.props.children,x.mode,M,A.key),w.return=x,x=w):(M=lm(A.type,A.key,A.props,null,x.mode,M),M.ref=ju(x,w,A),M.return=x,x=M)}return a(x);case dc:e:{for(E=A.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){t(x,w.sibling),w=r(w,A.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=z0(A,x.mode,M),w.return=x,x=w}return a(x);case bo:return E=A._init,v(x,w,E(A._payload),M)}if(hh(A))return p(x,w,A,M);if(Hu(A))return m(x,w,A,M);Zd(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(t(x,w.sibling),w=r(w,A),w.return=x,x=w):(t(x,w),w=I0(A,x.mode,M),w.return=x,x=w),a(x)):t(x,w)}return v}var Vc=kC(!0),IC=kC(!1),Lf={},xs=qo(Lf),Yh=qo(Lf),Xh=qo(Lf);function Ua(n){if(n===Lf)throw Error(He(174));return n}function aw(n,e){switch(en(Xh,e),en(Yh,n),en(xs,Lf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:G1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=G1(e,n)}on(xs),en(xs,e)}function Gc(){on(xs),on(Yh),on(Xh)}function zC(n){Ua(Xh.current);var e=Ua(xs.current),t=G1(e,n.type);e!==t&&(en(Yh,n),en(xs,t))}function lw(n){Yh.current===n&&(on(xs),on(Yh))}var mn=qo(0);function Fm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E0=[];function cw(){for(var n=0;n<E0.length;n++)E0[n]._workInProgressVersionPrimary=null;E0.length=0}var im=no.ReactCurrentDispatcher,T0=no.ReactCurrentBatchConfig,sl=0,vn=null,Kn=null,Zn=null,Bm=!1,_h=!1,Qh=0,vP=0;function vi(){throw Error(He(321))}function uw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!rs(n[t],e[t]))return!1;return!0}function hw(n,e,t,i,r,s){if(sl=s,vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,im.current=n===null||n.memoizedState===null?SP:_P,n=t(i,r),_h){s=0;do{if(_h=!1,Qh=0,25<=s)throw Error(He(301));s+=1,Zn=Kn=null,e.updateQueue=null,im.current=bP,n=t(i,r)}while(_h)}if(im.current=Um,e=Kn!==null&&Kn.next!==null,sl=0,Zn=Kn=vn=null,Bm=!1,e)throw Error(He(300));return n}function fw(){var n=Qh!==0;return Qh=0,n}function ds(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?vn.memoizedState=Zn=n:Zn=Zn.next=n,Zn}function Or(){if(Kn===null){var n=vn.alternate;n=n!==null?n.memoizedState:null}else n=Kn.next;var e=Zn===null?vn.memoizedState:Zn.next;if(e!==null)Zn=e,Kn=n;else{if(n===null)throw Error(He(310));Kn=n,n={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},Zn===null?vn.memoizedState=Zn=n:Zn=Zn.next=n}return Zn}function $h(n,e){return typeof e=="function"?e(n):e}function L0(n){var e=Or(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var i=Kn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=a=null,h=null,f=s;do{var c=f.lane;if((sl&c)===c)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var o={lane:c,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(l=h=o,a=i):h=h.next=o,vn.lanes|=c,ol|=c}f=f.next}while(f!==null&&f!==s);h===null?a=i:h.next=l,rs(i,e.memoizedState)||(Yi=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,vn.lanes|=s,ol|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function R0(n){var e=Or(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);rs(s,e.memoizedState)||(Yi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function DC(){}function OC(n,e){var t=vn,i=Or(),r=e(),s=!rs(i.memoizedState,r);if(s&&(i.memoizedState=r,Yi=!0),i=i.queue,dw(BC.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Zn!==null&&Zn.memoizedState.tag&1){if(t.flags|=2048,qh(9,FC.bind(null,t,i,r,e),void 0,null),ti===null)throw Error(He(349));(sl&30)!==0||NC(t,e,r)}return r}function NC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function FC(n,e,t,i){e.value=t,e.getSnapshot=i,UC(e)&&HC(n)}function BC(n,e,t){return t(function(){UC(e)&&HC(n)})}function UC(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!rs(n,t)}catch{return!0}}function HC(n){var e=qs(n,1);e!==null&&ns(e,n,1,-1)}function G_(n){var e=ds();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:n},e.queue=n,n=n.dispatch=wP.bind(null,vn,n),[e.memoizedState,n]}function qh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function WC(){return Or().memoizedState}function rm(n,e,t,i){var r=ds();vn.flags|=n,r.memoizedState=qh(1|e,t,void 0,i===void 0?null:i)}function Rg(n,e,t,i){var r=Or();i=i===void 0?null:i;var s=void 0;if(Kn!==null){var a=Kn.memoizedState;if(s=a.destroy,i!==null&&uw(i,a.deps)){r.memoizedState=qh(e,t,s,i);return}}vn.flags|=n,r.memoizedState=qh(1|e,t,s,i)}function K_(n,e){return rm(8390656,8,n,e)}function dw(n,e){return Rg(2048,8,n,e)}function VC(n,e){return Rg(4,2,n,e)}function GC(n,e){return Rg(4,4,n,e)}function KC(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function jC(n,e,t){return t=t!=null?t.concat([n]):null,Rg(4,4,KC.bind(null,e,n),t)}function pw(){}function YC(n,e){var t=Or();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&uw(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function XC(n,e){var t=Or();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&uw(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function QC(n,e,t){return(sl&21)===0?(n.baseState&&(n.baseState=!1,Yi=!0),n.memoizedState=t):(rs(t,e)||(t=J3(),vn.lanes|=t,ol|=t,n.baseState=!0),e)}function yP(n,e){var t=jt;jt=t!==0&&4>t?t:4,n(!0);var i=T0.transition;T0.transition={};try{n(!1),e()}finally{jt=t,T0.transition=i}}function $C(){return Or().memoizedState}function xP(n,e,t){var i=Bo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},qC(n))JC(e,t);else if(t=TC(n,e,t,i),t!==null){var r=Ii();ns(t,n,i,r),ZC(t,e,i)}}function wP(n,e,t){var i=Bo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(qC(n))JC(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,t);if(r.hasEagerState=!0,r.eagerState=l,rs(l,a)){var h=e.interleaved;h===null?(r.next=r,sw(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}t=TC(n,e,r,i),t!==null&&(r=Ii(),ns(t,n,i,r),ZC(t,e,i))}}function qC(n){var e=n.alternate;return n===vn||e!==null&&e===vn}function JC(n,e){_h=Bm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ZC(n,e,t){if((t&4194240)!==0){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Kx(n,t)}}var Um={readContext:Dr,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},SP={readContext:Dr,useCallback:function(n,e){return ds().memoizedState=[n,e===void 0?null:e],n},useContext:Dr,useEffect:K_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,rm(4194308,4,KC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return rm(4194308,4,n,e)},useInsertionEffect:function(n,e){return rm(4,2,n,e)},useMemo:function(n,e){var t=ds();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ds();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=xP.bind(null,vn,n),[i.memoizedState,n]},useRef:function(n){var e=ds();return n={current:n},e.memoizedState=n},useState:G_,useDebugValue:pw,useDeferredValue:function(n){return ds().memoizedState=n},useTransition:function(){var n=G_(!1),e=n[0];return n=yP.bind(null,n[1]),ds().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=vn,r=ds();if(un){if(t===void 0)throw Error(He(407));t=t()}else{if(t=e(),ti===null)throw Error(He(349));(sl&30)!==0||NC(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,K_(BC.bind(null,i,s,n),[n]),i.flags|=2048,qh(9,FC.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ds(),e=ti.identifierPrefix;if(un){var t=Gs,i=Vs;t=(i&~(1<<32-ts(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Qh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=vP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},_P={readContext:Dr,useCallback:YC,useContext:Dr,useEffect:dw,useImperativeHandle:jC,useInsertionEffect:VC,useLayoutEffect:GC,useMemo:XC,useReducer:L0,useRef:WC,useState:function(){return L0($h)},useDebugValue:pw,useDeferredValue:function(n){var e=Or();return QC(e,Kn.memoizedState,n)},useTransition:function(){var n=L0($h)[0],e=Or().memoizedState;return[n,e]},useMutableSource:DC,useSyncExternalStore:OC,useId:$C,unstable_isNewReconciler:!1},bP={readContext:Dr,useCallback:YC,useContext:Dr,useEffect:dw,useImperativeHandle:jC,useInsertionEffect:VC,useLayoutEffect:GC,useMemo:XC,useReducer:R0,useRef:WC,useState:function(){return R0($h)},useDebugValue:pw,useDeferredValue:function(n){var e=Or();return Kn===null?e.memoizedState=n:QC(e,Kn.memoizedState,n)},useTransition:function(){var n=R0($h)[0],e=Or().memoizedState;return[n,e]},useMutableSource:DC,useSyncExternalStore:OC,useId:$C,unstable_isNewReconciler:!1};function Kc(n,e){try{var t="",i=e;do t+=qL(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function P0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function dy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var AP=typeof WeakMap=="function"?WeakMap:Map;function eM(n,e,t){t=Ys(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Wm||(Wm=!0,by=i),dy(n,e)},t}function tM(n,e,t){t=Ys(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){dy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){dy(n,e),typeof i!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function j_(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new AP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=FP.bind(null,n,e,t),e.then(n,n))}function Y_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function X_(n,e,t,i,r){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ys(-1,1),e.tag=2,No(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=r,n)}var CP=no.ReactCurrentOwner,Yi=!1;function Pi(n,e,t,i){e.child=n===null?IC(e,null,t,i):Vc(e,n.child,t,i)}function Q_(n,e,t,i,r){t=t.render;var s=e.ref;return Nc(e,r),i=hw(n,e,t,i,s,r),t=fw(),n!==null&&!Yi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Js(n,e,r)):(un&&t&&Zx(e),e.flags|=1,Pi(n,e,i,r),e.child)}function $_(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!_w(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,nM(n,e,s,i,r)):(n=lm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&r)===0){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Vh,t(a,i)&&n.ref===e.ref)return Js(n,e,r)}return e.flags|=1,n=Uo(s,i),n.ref=e.ref,n.return=e,e.child=n}function nM(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Vh(s,i)&&n.ref===e.ref)if(Yi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)(n.flags&131072)!==0&&(Yi=!0);else return e.lanes=n.lanes,Js(n,e,r)}return py(n,e,t,i,r)}function iM(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(Ac,sr),sr|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,en(Ac,sr),sr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,en(Ac,sr),sr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,en(Ac,sr),sr|=i;return Pi(n,e,r,t),e.child}function rM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function py(n,e,t,i,r){var s=Qi(t)?il:Ai.current;return s=Hc(e,s),Nc(e,r),t=hw(n,e,t,i,s,r),i=fw(),n!==null&&!Yi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Js(n,e,r)):(un&&i&&Zx(e),e.flags|=1,Pi(n,e,t,r),e.child)}function q_(n,e,t,i,r){if(Qi(t)){var s=!0;km(e)}else s=!1;if(Nc(e,r),e.stateNode===null)sm(n,e),PC(e,t,i),fy(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var h=a.context,f=t.contextType;typeof f=="object"&&f!==null?f=Dr(f):(f=Qi(t)?il:Ai.current,f=Hc(e,f));var c=t.getDerivedStateFromProps,o=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";o||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||h!==f)&&W_(e,a,i,f),Ao=!1;var u=e.memoizedState;a.state=u,Nm(e,i,a,r),h=e.memoizedState,l!==i||u!==h||Xi.current||Ao?(typeof c=="function"&&(hy(e,t,c,i),h=e.memoizedState),(l=Ao||H_(e,t,l,i,u,h,f))?(o||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=f,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,LC(n,e),l=e.memoizedProps,f=e.type===e.elementType?l:Qr(e.type,l),a.props=f,o=e.pendingProps,u=a.context,h=t.contextType,typeof h=="object"&&h!==null?h=Dr(h):(h=Qi(t)?il:Ai.current,h=Hc(e,h));var d=t.getDerivedStateFromProps;(c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==o||u!==h)&&W_(e,a,i,h),Ao=!1,u=e.memoizedState,a.state=u,Nm(e,i,a,r);var p=e.memoizedState;l!==o||u!==p||Xi.current||Ao?(typeof d=="function"&&(hy(e,t,d,i),p=e.memoizedState),(f=Ao||H_(e,t,f,i,u,p,h)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&u===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=h,i=f):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&u===n.memoizedState||(e.flags|=1024),i=!1)}return my(n,e,t,i,s,r)}function my(n,e,t,i,r,s){rM(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&O_(e,t,!1),Js(n,e,s);i=e.stateNode,CP.current=e;var l=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=Vc(e,n.child,null,s),e.child=Vc(e,null,l,s)):Pi(n,e,l,s),e.memoizedState=i.state,r&&O_(e,t,!0),e.child}function sM(n){var e=n.stateNode;e.pendingContext?D_(n,e.pendingContext,e.pendingContext!==e.context):e.context&&D_(n,e.context,!1),aw(n,e.containerInfo)}function J_(n,e,t,i,r){return Wc(),tw(r),e.flags|=256,Pi(n,e,t,i),e.child}var gy={dehydrated:null,treeContext:null,retryLane:0};function vy(n){return{baseLanes:n,cachePool:null,transitions:null}}function oM(n,e,t){var i=e.pendingProps,r=mn.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),en(mn,r&1),n===null)return cy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},(i&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ig(a,i,0,null),n=$a(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=vy(t),e.memoizedState=gy,n):mw(e,a));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return MP(n,e,a,i,l,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,l=r.sibling;var h={mode:"hidden",children:i.children};return(a&1)===0&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Uo(r,h),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=Uo(l,s):(s=$a(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?vy(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=gy,i}return s=n.child,n=s.sibling,i=Uo(s,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function mw(n,e){return e=Ig({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ep(n,e,t,i){return i!==null&&tw(i),Vc(e,n.child,null,t),n=mw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function MP(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=P0(Error(He(422))),ep(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ig({mode:"visible",children:i.children},r,0,null),s=$a(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,(e.mode&1)!==0&&Vc(e,n.child,null,a),e.child.memoizedState=vy(a),e.memoizedState=gy,s);if((e.mode&1)===0)return ep(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(He(419)),i=P0(s,i,void 0),ep(n,e,a,i)}if(l=(a&n.childLanes)!==0,Yi||l){if(i=ti,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(i.suspendedLanes|a))!==0?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,qs(n,r),ns(i,n,r,-1))}return Sw(),i=P0(Error(He(421))),ep(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=BP.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ar=Oo(r.nextSibling),lr=e,un=!0,Jr=null,n!==null&&(Rr[Pr++]=Vs,Rr[Pr++]=Gs,Rr[Pr++]=rl,Vs=n.id,Gs=n.overflow,rl=e),e=mw(e,i.children),e.flags|=4096,e)}function Z_(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),uy(n.return,e,t)}function k0(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function aM(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Pi(n,e,i.children,t),i=mn.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z_(n,t,e);else if(n.tag===19)Z_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(en(mn,i),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Fm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),k0(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Fm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}k0(e,!0,t,null,s);break;case"together":k0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sm(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Js(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ol|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(He(153));if(e.child!==null){for(n=e.child,t=Uo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Uo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function EP(n,e,t){switch(e.tag){case 3:sM(e),Wc();break;case 5:zC(e);break;case 1:Qi(e.type)&&km(e);break;case 4:aw(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;en(Dm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(en(mn,mn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?oM(n,e,t):(en(mn,mn.current&1),n=Js(n,e,t),n!==null?n.sibling:null);en(mn,mn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,(n.flags&128)!==0){if(i)return aM(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),en(mn,mn.current),i)break;return null;case 22:case 23:return e.lanes=0,iM(n,e,t)}return Js(n,e,t)}var lM,yy,cM,uM;lM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};yy=function(){};cM=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ua(xs.current);var s=null;switch(t){case"input":r=U1(n,r),i=U1(n,i),s=[];break;case"select":r=yn({},r,{value:void 0}),i=yn({},i,{value:void 0}),s=[];break;case"textarea":r=V1(n,r),i=V1(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Rm)}K1(t,i);var a;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var l=r[f];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Oh.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var h=i[f];if(l=r?.[f],i.hasOwnProperty(f)&&h!==l&&(h!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in h)h.hasOwnProperty(a)&&l[a]!==h[a]&&(t||(t={}),t[a]=h[a])}else t||(s||(s=[]),s.push(f,t)),t=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,l=l?l.__html:void 0,h!=null&&l!==h&&(s=s||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Oh.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&sn("scroll",n),s||l===h||(s=[])):(s=s||[]).push(f,h))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};uM=function(n,e,t,i){t!==i&&(e.flags|=4)};function Yu(n,e){if(!un)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function yi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function TP(n,e,t){var i=e.pendingProps;switch(ew(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return Qi(e.type)&&Pm(),yi(e),null;case 3:return i=e.stateNode,Gc(),on(Xi),on(Ai),cw(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Jd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Jr!==null&&(My(Jr),Jr=null))),yy(n,e),yi(e),null;case 5:lw(e);var r=Ua(Xh.current);if(t=e.type,n!==null&&e.stateNode!=null)cM(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(He(166));return yi(e),null}if(n=Ua(xs.current),Jd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[vs]=e,i[jh]=s,n=(e.mode&1)!==0,t){case"dialog":sn("cancel",i),sn("close",i);break;case"iframe":case"object":case"embed":sn("load",i);break;case"video":case"audio":for(r=0;r<dh.length;r++)sn(dh[r],i);break;case"source":sn("error",i);break;case"img":case"image":case"link":sn("error",i),sn("load",i);break;case"details":sn("toggle",i);break;case"input":l_(i,s),sn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},sn("invalid",i);break;case"textarea":u_(i,s),sn("invalid",i)}K1(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&qd(i.textContent,l,n),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&qd(i.textContent,l,n),r=["children",""+l]):Oh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&sn("scroll",i)}switch(t){case"input":Vd(i),c_(i,s,!0);break;case"textarea":Vd(i),h_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Rm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=N3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[vs]=e,n[jh]=i,lM(n,e,!1,!1),e.stateNode=n;e:{switch(a=j1(t,i),t){case"dialog":sn("cancel",n),sn("close",n),r=i;break;case"iframe":case"object":case"embed":sn("load",n),r=i;break;case"video":case"audio":for(r=0;r<dh.length;r++)sn(dh[r],n);r=i;break;case"source":sn("error",n),r=i;break;case"img":case"image":case"link":sn("error",n),sn("load",n),r=i;break;case"details":sn("toggle",n),r=i;break;case"input":l_(n,i),r=U1(n,i),sn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=yn({},i,{value:void 0}),sn("invalid",n);break;case"textarea":u_(n,i),r=V1(n,i),sn("invalid",n);break;default:r=i}K1(t,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];s==="style"?U3(n,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&F3(n,h)):s==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&Nh(n,h):typeof h=="number"&&Nh(n,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oh.hasOwnProperty(s)?h!=null&&s==="onScroll"&&sn("scroll",n):h!=null&&Bx(n,s,h,a))}switch(t){case"input":Vd(n),c_(n,i,!1);break;case"textarea":Vd(n),h_(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Vo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Ic(n,!!i.multiple,s,!1):i.defaultValue!=null&&Ic(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Rm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(n&&e.stateNode!=null)uM(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(He(166));if(t=Ua(Xh.current),Ua(xs.current),Jd(e)){if(i=e.stateNode,t=e.memoizedProps,i[vs]=e,(s=i.nodeValue!==t)&&(n=lr,n!==null))switch(n.tag){case 3:qd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&qd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[vs]=e,e.stateNode=i}return yi(e),null;case 13:if(on(mn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(un&&ar!==null&&(e.mode&1)!==0&&(e.flags&128)===0)EC(),Wc(),e.flags|=98560,s=!1;else if(s=Jd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[vs]=e}else Wc(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;yi(e),s=!1}else Jr!==null&&(My(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(mn.current&1)!==0?jn===0&&(jn=3):Sw())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return Gc(),yy(n,e),n===null&&Gh(e.stateNode.containerInfo),yi(e),null;case 10:return rw(e.type._context),yi(e),null;case 17:return Qi(e.type)&&Pm(),yi(e),null;case 19:if(on(mn),s=e.memoizedState,s===null)return yi(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Yu(s,!1);else{if(jn!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(a=Fm(n),a!==null){for(e.flags|=128,Yu(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return en(mn,mn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pn()>jc&&(e.flags|=128,i=!0,Yu(s,!1),e.lanes=4194304)}else{if(!i)if(n=Fm(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Yu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!un)return yi(e),null}else 2*Pn()-s.renderingStartTime>jc&&t!==1073741824&&(e.flags|=128,i=!0,Yu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pn(),e.sibling=null,t=mn.current,en(mn,i?t&1|2:t&1),e):(yi(e),null);case 22:case 23:return ww(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(sr&1073741824)!==0&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function LP(n,e){switch(ew(e),e.tag){case 1:return Qi(e.type)&&Pm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gc(),on(Xi),on(Ai),cw(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return lw(e),null;case 13:if(on(mn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(He(340));Wc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return on(mn),null;case 4:return Gc(),null;case 10:return rw(e.type._context),null;case 22:case 23:return ww(),null;case 24:return null;default:return null}}var tp=!1,Si=!1,RP=typeof WeakSet=="function"?WeakSet:Set,et=null;function bc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){bn(n,e,i)}else t.current=null}function xy(n,e,t){try{t()}catch(i){bn(n,e,i)}}var eb=!1;function PP(n,e){if(ny=Em,n=pC(),Jx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,l=-1,h=-1,f=0,c=0,o=n,u=null;t:for(;;){for(var d;o!==t||r!==0&&o.nodeType!==3||(l=a+r),o!==s||i!==0&&o.nodeType!==3||(h=a+i),o.nodeType===3&&(a+=o.nodeValue.length),(d=o.firstChild)!==null;)u=o,o=d;for(;;){if(o===n)break t;if(u===t&&++f===r&&(l=a),u===s&&++c===i&&(h=a),(d=o.nextSibling)!==null)break;o=u,u=o.parentNode}o=d}t=l===-1||h===-1?null:{start:l,end:h}}else t=null}t=t||{start:0,end:0}}else t=null;for(iy={focusedElem:n,selectionRange:t},Em=!1,et=e;et!==null;)if(e=et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,et=n;else for(;et!==null;){e=et;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Qr(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(M){bn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}return p=eb,eb=!1,p}function bh(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&xy(e,t,s)}r=r.next}while(r!==i)}}function Pg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function wy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function hM(n){var e=n.alternate;e!==null&&(n.alternate=null,hM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[vs],delete e[jh],delete e[oy],delete e[dP],delete e[pP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function fM(n){return n.tag===5||n.tag===3||n.tag===4}function tb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Rm));else if(i!==4&&(n=n.child,n!==null))for(Sy(n,e,t),n=n.sibling;n!==null;)Sy(n,e,t),n=n.sibling}function _y(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(_y(n,e,t),n=n.sibling;n!==null;)_y(n,e,t),n=n.sibling}var si=null,$r=!1;function mo(n,e,t){for(t=t.child;t!==null;)dM(n,e,t),t=t.sibling}function dM(n,e,t){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(bg,t)}catch{}switch(t.tag){case 5:Si||bc(t,e);case 6:var i=si,r=$r;si=null,mo(n,e,t),si=i,$r=r,si!==null&&($r?(n=si,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):si.removeChild(t.stateNode));break;case 18:si!==null&&($r?(n=si,t=t.stateNode,n.nodeType===8?C0(n.parentNode,t):n.nodeType===1&&C0(n,t),Hh(n)):C0(si,t.stateNode));break;case 4:i=si,r=$r,si=t.stateNode.containerInfo,$r=!0,mo(n,e,t),si=i,$r=r;break;case 0:case 11:case 14:case 15:if(!Si&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&((s&2)!==0||(s&4)!==0)&&xy(t,e,a),r=r.next}while(r!==i)}mo(n,e,t);break;case 1:if(!Si&&(bc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){bn(t,e,l)}mo(n,e,t);break;case 21:mo(n,e,t);break;case 22:t.mode&1?(Si=(i=Si)||t.memoizedState!==null,mo(n,e,t),Si=i):mo(n,e,t);break;default:mo(n,e,t)}}function nb(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new RP),e.forEach(function(i){var r=UP.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Gr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:si=l.stateNode,$r=!1;break e;case 3:si=l.stateNode.containerInfo,$r=!0;break e;case 4:si=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(si===null)throw Error(He(160));dM(s,a,r),si=null,$r=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){bn(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pM(e,n),e=e.sibling}function pM(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Gr(e,n),fs(n),i&4){try{bh(3,n,n.return),Pg(3,n)}catch(m){bn(n,n.return,m)}try{bh(5,n,n.return)}catch(m){bn(n,n.return,m)}}break;case 1:Gr(e,n),fs(n),i&512&&t!==null&&bc(t,t.return);break;case 5:if(Gr(e,n),fs(n),i&512&&t!==null&&bc(t,t.return),n.flags&32){var r=n.stateNode;try{Nh(r,"")}catch(m){bn(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,l=n.type,h=n.updateQueue;if(n.updateQueue=null,h!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&D3(r,s),j1(l,a);var f=j1(l,s);for(a=0;a<h.length;a+=2){var c=h[a],o=h[a+1];c==="style"?U3(r,o):c==="dangerouslySetInnerHTML"?F3(r,o):c==="children"?Nh(r,o):Bx(r,c,o,f)}switch(l){case"input":H1(r,s);break;case"textarea":O3(r,s);break;case"select":var u=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ic(r,!!s.multiple,d,!1):u!==!!s.multiple&&(s.defaultValue!=null?Ic(r,!!s.multiple,s.defaultValue,!0):Ic(r,!!s.multiple,s.multiple?[]:"",!1))}r[jh]=s}catch(m){bn(n,n.return,m)}}break;case 6:if(Gr(e,n),fs(n),i&4){if(n.stateNode===null)throw Error(He(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){bn(n,n.return,m)}}break;case 3:if(Gr(e,n),fs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Hh(e.containerInfo)}catch(m){bn(n,n.return,m)}break;case 4:Gr(e,n),fs(n);break;case 13:Gr(e,n),fs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(yw=Pn())),i&4&&nb(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Si=(f=Si)||c,Gr(e,n),Si=f):Gr(e,n),fs(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!c&&(n.mode&1)!==0)for(et=n,c=n.child;c!==null;){for(o=et=c;et!==null;){switch(u=et,d=u.child,u.tag){case 0:case 11:case 14:case 15:bh(4,u,u.return);break;case 1:bc(u,u.return);var p=u.stateNode;if(typeof p.componentWillUnmount=="function"){i=u,t=u.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){bn(i,t,m)}}break;case 5:bc(u,u.return);break;case 22:if(u.memoizedState!==null){rb(o);continue}}d!==null?(d.return=u,et=d):rb(o)}c=c.sibling}e:for(c=null,o=n;;){if(o.tag===5){if(c===null){c=o;try{r=o.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=o.stateNode,h=o.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,l.style.display=B3("display",a))}catch(m){bn(n,n.return,m)}}}else if(o.tag===6){if(c===null)try{o.stateNode.nodeValue=f?"":o.memoizedProps}catch(m){bn(n,n.return,m)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:Gr(e,n),fs(n),i&4&&nb(n);break;case 21:break;default:Gr(e,n),fs(n)}}function fs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(fM(t)){var i=t;break e}t=t.return}throw Error(He(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Nh(r,""),i.flags&=-33);var s=tb(n);_y(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,l=tb(n);Sy(n,l,a);break;default:throw Error(He(161))}}catch(h){bn(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function kP(n,e,t){et=n,mM(n)}function mM(n,e,t){for(var i=(n.mode&1)!==0;et!==null;){var r=et,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||tp;if(!a){var l=r.alternate,h=l!==null&&l.memoizedState!==null||Si;l=tp;var f=Si;if(tp=a,(Si=h)&&!f)for(et=r;et!==null;)a=et,h=a.child,a.tag===22&&a.memoizedState!==null?sb(r):h!==null?(h.return=a,et=h):sb(r);for(;s!==null;)et=s,mM(s),s=s.sibling;et=r,tp=l,Si=f}ib(n)}else(r.subtreeFlags&8772)!==0&&s!==null?(s.return=r,et=s):ib(n)}}function ib(n){for(;et!==null;){var e=et;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Si||Pg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Si)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Qr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U_(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}U_(e,a,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&t.focus();break;case"img":h.src&&(t.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var c=f.memoizedState;if(c!==null){var o=c.dehydrated;o!==null&&Hh(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Si||e.flags&512&&wy(e)}catch(u){bn(e,e.return,u)}}if(e===n){et=null;break}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}}function rb(n){for(;et!==null;){var e=et;if(e===n){et=null;break}var t=e.sibling;if(t!==null){t.return=e.return,et=t;break}et=e.return}}function sb(n){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Pg(4,e)}catch(h){bn(e,t,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){bn(e,r,h)}}var s=e.return;try{wy(e)}catch(h){bn(e,s,h)}break;case 5:var a=e.return;try{wy(e)}catch(h){bn(e,a,h)}}}catch(h){bn(e,e.return,h)}if(e===n){et=null;break}var l=e.sibling;if(l!==null){l.return=e.return,et=l;break}et=e.return}}var IP=Math.ceil,Hm=no.ReactCurrentDispatcher,gw=no.ReactCurrentOwner,zr=no.ReactCurrentBatchConfig,Nt=0,ti=null,Hn=null,ai=0,sr=0,Ac=qo(0),jn=0,Jh=null,ol=0,kg=0,vw=0,Ah=null,Gi=null,yw=0,jc=1/0,Bs=null,Wm=!1,by=null,Fo=null,np=!1,Po=null,Vm=0,Ch=0,Ay=null,om=-1,am=0;function Ii(){return(Nt&6)!==0?Pn():om!==-1?om:om=Pn()}function Bo(n){return(n.mode&1)===0?1:(Nt&2)!==0&&ai!==0?ai&-ai:gP.transition!==null?(am===0&&(am=J3()),am):(n=jt,n!==0||(n=window.event,n=n===void 0?16:sC(n.type)),n)}function ns(n,e,t,i){if(50<Ch)throw Ch=0,Ay=null,Error(He(185));Mf(n,t,i),((Nt&2)===0||n!==ti)&&(n===ti&&((Nt&2)===0&&(kg|=t),jn===4&&To(n,ai)),$i(n,i),t===1&&Nt===0&&(e.mode&1)===0&&(jc=Pn()+500,Tg&&Jo()))}function $i(n,e){var t=n.callbackNode;gR(n,e);var i=Mm(n,n===ti?ai:0);if(i===0)t!==null&&p_(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&p_(t),e===1)n.tag===0?mP(ob.bind(null,n)):AC(ob.bind(null,n)),hP(function(){(Nt&6)===0&&Jo()}),t=null;else{switch(Z3(i)){case 1:t=Gx;break;case 4:t=$3;break;case 16:t=Cm;break;case 536870912:t=q3;break;default:t=Cm}t=bM(t,gM.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function gM(n,e){if(om=-1,am=0,(Nt&6)!==0)throw Error(He(327));var t=n.callbackNode;if(Fc()&&n.callbackNode!==t)return null;var i=Mm(n,n===ti?ai:0);if(i===0)return null;if((i&30)!==0||(i&n.expiredLanes)!==0||e)e=Gm(n,i);else{e=i;var r=Nt;Nt|=2;var s=yM();(ti!==n||ai!==e)&&(Bs=null,jc=Pn()+500,Qa(n,e));do try{OP();break}catch(l){vM(n,l)}while(1);iw(),Hm.current=s,Nt=r,Hn!==null?e=0:(ti=null,ai=0,e=jn)}if(e!==0){if(e===2&&(r=q1(n),r!==0&&(i=r,e=Cy(n,r))),e===1)throw t=Jh,Qa(n,0),To(n,i),$i(n,Pn()),t;if(e===6)To(n,i);else{if(r=n.current.alternate,(i&30)===0&&!zP(r)&&(e=Gm(n,i),e===2&&(s=q1(n),s!==0&&(i=s,e=Cy(n,s))),e===1))throw t=Jh,Qa(n,0),To(n,i),$i(n,Pn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(He(345));case 2:La(n,Gi,Bs);break;case 3:if(To(n,i),(i&130023424)===i&&(e=yw+500-Pn(),10<e)){if(Mm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Ii(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=sy(La.bind(null,n,Gi,Bs),e);break}La(n,Gi,Bs);break;case 4:if(To(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-ts(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Pn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*IP(i/1960))-i,10<i){n.timeoutHandle=sy(La.bind(null,n,Gi,Bs),i);break}La(n,Gi,Bs);break;case 5:La(n,Gi,Bs);break;default:throw Error(He(329))}}}return $i(n,Pn()),n.callbackNode===t?gM.bind(null,n):null}function Cy(n,e){var t=Ah;return n.current.memoizedState.isDehydrated&&(Qa(n,e).flags|=256),n=Gm(n,e),n!==2&&(e=Gi,Gi=t,e!==null&&My(e)),n}function My(n){Gi===null?Gi=n:Gi.push.apply(Gi,n)}function zP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!rs(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(n,e){for(e&=~vw,e&=~kg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ts(e),i=1<<t;n[t]=-1,e&=~i}}function ob(n){if((Nt&6)!==0)throw Error(He(327));Fc();var e=Mm(n,0);if((e&1)===0)return $i(n,Pn()),null;var t=Gm(n,e);if(n.tag!==0&&t===2){var i=q1(n);i!==0&&(e=i,t=Cy(n,i))}if(t===1)throw t=Jh,Qa(n,0),To(n,e),$i(n,Pn()),t;if(t===6)throw Error(He(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,La(n,Gi,Bs),$i(n,Pn()),null}function xw(n,e){var t=Nt;Nt|=1;try{return n(e)}finally{Nt=t,Nt===0&&(jc=Pn()+500,Tg&&Jo())}}function al(n){Po!==null&&Po.tag===0&&(Nt&6)===0&&Fc();var e=Nt;Nt|=1;var t=zr.transition,i=jt;try{if(zr.transition=null,jt=1,n)return n()}finally{jt=i,zr.transition=t,Nt=e,(Nt&6)===0&&Jo()}}function ww(){sr=Ac.current,on(Ac)}function Qa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,uP(t)),Hn!==null)for(t=Hn.return;t!==null;){var i=t;switch(ew(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Pm();break;case 3:Gc(),on(Xi),on(Ai),cw();break;case 5:lw(i);break;case 4:Gc();break;case 13:on(mn);break;case 19:on(mn);break;case 10:rw(i.type._context);break;case 22:case 23:ww()}t=t.return}if(ti=n,Hn=n=Uo(n.current,null),ai=sr=e,jn=0,Jh=null,vw=kg=ol=0,Gi=Ah=null,Ba!==null){for(e=0;e<Ba.length;e++)if(t=Ba[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}Ba=null}return n}function vM(n,e){do{var t=Hn;try{if(iw(),im.current=Um,Bm){for(var i=vn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Bm=!1}if(sl=0,Zn=Kn=vn=null,_h=!1,Qh=0,gw.current=null,t===null||t.return===null){jn=1,Jh=e,Hn=null;break}e:{var s=n,a=t.return,l=t,h=e;if(e=ai,l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,c=l,o=c.tag;if((c.mode&1)===0&&(o===0||o===11||o===15)){var u=c.alternate;u?(c.updateQueue=u.updateQueue,c.memoizedState=u.memoizedState,c.lanes=u.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Y_(a);if(d!==null){d.flags&=-257,X_(d,a,l,s,e),d.mode&1&&j_(s,f,e),e=d,h=f;var p=e.updateQueue;if(p===null){var m=new Set;m.add(h),e.updateQueue=m}else p.add(h);break e}else{if((e&1)===0){j_(s,f,e),Sw();break e}h=Error(He(426))}}else if(un&&l.mode&1){var v=Y_(a);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),X_(v,a,l,s,e),tw(Kc(h,l));break e}}s=h=Kc(h,l),jn!==4&&(jn=2),Ah===null?Ah=[s]:Ah.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=eM(s,h,e);B_(s,x);break e;case 1:l=h;var w=s.type,A=s.stateNode;if((s.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Fo===null||!Fo.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=tM(s,l,e);B_(s,M);break e}}s=s.return}while(s!==null)}wM(t)}catch(C){e=C,Hn===t&&t!==null&&(Hn=t=t.return);continue}break}while(1)}function yM(){var n=Hm.current;return Hm.current=Um,n===null?Um:n}function Sw(){(jn===0||jn===3||jn===2)&&(jn=4),ti===null||(ol&268435455)===0&&(kg&268435455)===0||To(ti,ai)}function Gm(n,e){var t=Nt;Nt|=2;var i=yM();(ti!==n||ai!==e)&&(Bs=null,Qa(n,e));do try{DP();break}catch(r){vM(n,r)}while(1);if(iw(),Nt=t,Hm.current=i,Hn!==null)throw Error(He(261));return ti=null,ai=0,jn}function DP(){for(;Hn!==null;)xM(Hn)}function OP(){for(;Hn!==null&&!aR();)xM(Hn)}function xM(n){var e=_M(n.alternate,n,sr);n.memoizedProps=n.pendingProps,e===null?wM(n):Hn=e,gw.current=null}function wM(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=TP(t,e,sr),t!==null){Hn=t;return}}else{if(t=LP(t,e),t!==null){t.flags&=32767,Hn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jn=6,Hn=null;return}}if(e=e.sibling,e!==null){Hn=e;return}Hn=e=n}while(e!==null);jn===0&&(jn=5)}function La(n,e,t){var i=jt,r=zr.transition;try{zr.transition=null,jt=1,NP(n,e,t,i)}finally{zr.transition=r,jt=i}return null}function NP(n,e,t,i){do Fc();while(Po!==null);if((Nt&6)!==0)throw Error(He(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(He(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(vR(n,s),n===ti&&(Hn=ti=null,ai=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||np||(np=!0,bM(Cm,function(){return Fc(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=zr.transition,zr.transition=null;var a=jt;jt=1;var l=Nt;Nt|=4,gw.current=null,PP(n,t),pM(t,n),iP(iy),Em=!!ny,iy=ny=null,n.current=t,kP(t),lR(),Nt=l,jt=a,zr.transition=s}else n.current=t;if(np&&(np=!1,Po=n,Vm=r),s=n.pendingLanes,s===0&&(Fo=null),hR(t.stateNode),$i(n,Pn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wm)throw Wm=!1,n=by,by=null,n;return(Vm&1)!==0&&n.tag!==0&&Fc(),s=n.pendingLanes,(s&1)!==0?n===Ay?Ch++:(Ch=0,Ay=n):Ch=0,Jo(),null}function Fc(){if(Po!==null){var n=Z3(Vm),e=zr.transition,t=jt;try{if(zr.transition=null,jt=16>n?16:n,Po===null)var i=!1;else{if(n=Po,Po=null,Vm=0,(Nt&6)!==0)throw Error(He(331));var r=Nt;for(Nt|=4,et=n.current;et!==null;){var s=et,a=s.child;if((et.flags&16)!==0){var l=s.deletions;if(l!==null){for(var h=0;h<l.length;h++){var f=l[h];for(et=f;et!==null;){var c=et;switch(c.tag){case 0:case 11:case 15:bh(8,c,s)}var o=c.child;if(o!==null)o.return=c,et=o;else for(;et!==null;){c=et;var u=c.sibling,d=c.return;if(hM(c),c===f){et=null;break}if(u!==null){u.return=d,et=u;break}et=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}et=s}}if((s.subtreeFlags&2064)!==0&&a!==null)a.return=s,et=a;else e:for(;et!==null;){if(s=et,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:bh(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,et=x;break e}et=s.return}}var w=n.current;for(et=w;et!==null;){a=et;var A=a.child;if((a.subtreeFlags&2064)!==0&&A!==null)A.return=a,et=A;else e:for(a=w;et!==null;){if(l=et,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:Pg(9,l)}}catch(C){bn(l,l.return,C)}if(l===a){et=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,et=M;break e}et=l.return}}if(Nt=r,Jo(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(bg,n)}catch{}i=!0}return i}finally{jt=t,zr.transition=e}}return!1}function ab(n,e,t){e=Kc(t,e),e=eM(n,e,1),n=No(n,e,1),e=Ii(),n!==null&&(Mf(n,1,e),$i(n,e))}function bn(n,e,t){if(n.tag===3)ab(n,n,t);else for(;e!==null;){if(e.tag===3){ab(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fo===null||!Fo.has(i))){n=Kc(t,n),n=tM(e,n,1),e=No(e,n,1),n=Ii(),e!==null&&(Mf(e,1,n),$i(e,n));break}}e=e.return}}function FP(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Ii(),n.pingedLanes|=n.suspendedLanes&t,ti===n&&(ai&t)===t&&(jn===4||jn===3&&(ai&130023424)===ai&&500>Pn()-yw?Qa(n,0):vw|=t),$i(n,e)}function SM(n,e){e===0&&((n.mode&1)===0?e=1:(e=jd,jd<<=1,(jd&130023424)===0&&(jd=4194304)));var t=Ii();n=qs(n,e),n!==null&&(Mf(n,e,t),$i(n,t))}function BP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),SM(n,t)}function UP(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(He(314))}i!==null&&i.delete(e),SM(n,t)}var _M;_M=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Xi.current)Yi=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return Yi=!1,EP(n,e,t);Yi=(n.flags&131072)!==0}else Yi=!1,un&&(e.flags&1048576)!==0&&CC(e,zm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;sm(n,e),n=e.pendingProps;var r=Hc(e,Ai.current);Nc(e,t),r=hw(null,e,i,n,r,t);var s=fw();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qi(i)?(s=!0,km(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ow(e),r.updater=Lg,e.stateNode=r,r._reactInternals=e,fy(e,i,n,t),e=my(null,e,i,!0,s,t)):(e.tag=0,un&&s&&Zx(e),Pi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(sm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=WP(i),n=Qr(i,n),r){case 0:e=py(null,e,i,n,t);break e;case 1:e=q_(null,e,i,n,t);break e;case 11:e=Q_(null,e,i,n,t);break e;case 14:e=$_(null,e,i,Qr(i.type,n),t);break e}throw Error(He(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),py(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),q_(n,e,i,r,t);case 3:e:{if(sM(e),n===null)throw Error(He(387));i=e.pendingProps,s=e.memoizedState,r=s.element,LC(n,e),Nm(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Kc(Error(He(423)),e),e=J_(n,e,i,t,r);break e}else if(i!==r){r=Kc(Error(He(424)),e),e=J_(n,e,i,t,r);break e}else for(ar=Oo(e.stateNode.containerInfo.firstChild),lr=e,un=!0,Jr=null,t=IC(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Wc(),i===r){e=Js(n,e,t);break e}Pi(n,e,i,t)}e=e.child}return e;case 5:return zC(e),n===null&&cy(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,ry(i,r)?a=null:s!==null&&ry(i,s)&&(e.flags|=32),rM(n,e),Pi(n,e,a,t),e.child;case 6:return n===null&&cy(e),null;case 13:return oM(n,e,t);case 4:return aw(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Vc(e,null,i,t):Pi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),Q_(n,e,i,r,t);case 7:return Pi(n,e,e.pendingProps,t),e.child;case 8:return Pi(n,e,e.pendingProps.children,t),e.child;case 12:return Pi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,en(Dm,i._currentValue),i._currentValue=a,s!==null)if(rs(s.value,a)){if(s.children===r.children&&!Xi.current){e=Js(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var h=l.firstContext;h!==null;){if(h.context===i){if(s.tag===1){h=Ys(-1,t&-t),h.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var c=f.pending;c===null?h.next=h:(h.next=c.next,c.next=h),f.pending=h}}s.lanes|=t,h=s.alternate,h!==null&&(h.lanes|=t),uy(s.return,t,e),l.lanes|=t;break}h=h.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(He(341));a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),uy(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Nc(e,t),r=Dr(r),i=i(r),e.flags|=1,Pi(n,e,i,t),e.child;case 14:return i=e.type,r=Qr(i,e.pendingProps),r=Qr(i.type,r),$_(n,e,i,r,t);case 15:return nM(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),sm(n,e),e.tag=1,Qi(i)?(n=!0,km(e)):n=!1,Nc(e,t),PC(e,i,r),fy(e,i,r,t),my(null,e,i,!0,n,t);case 19:return aM(n,e,t);case 22:return iM(n,e,t)}throw Error(He(156,e.tag))};function bM(n,e){return Q3(n,e)}function HP(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(n,e,t,i){return new HP(n,e,t,i)}function _w(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WP(n){if(typeof n=="function")return _w(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Hx)return 11;if(n===Wx)return 14}return 2}function Uo(n,e){var t=n.alternate;return t===null?(t=Ir(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function lm(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")_w(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case pc:return $a(t.children,r,s,e);case Ux:a=8,r|=8;break;case O1:return n=Ir(12,t,e,r|2),n.elementType=O1,n.lanes=s,n;case N1:return n=Ir(13,t,e,r),n.elementType=N1,n.lanes=s,n;case F1:return n=Ir(19,t,e,r),n.elementType=F1,n.lanes=s,n;case k3:return Ig(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R3:a=10;break e;case P3:a=9;break e;case Hx:a=11;break e;case Wx:a=14;break e;case bo:a=16,i=null;break e}throw Error(He(130,n==null?n:typeof n,""))}return e=Ir(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function $a(n,e,t,i){return n=Ir(7,n,i,e),n.lanes=t,n}function Ig(n,e,t,i){return n=Ir(22,n,i,e),n.elementType=k3,n.lanes=t,n.stateNode={isHidden:!1},n}function I0(n,e,t){return n=Ir(6,n,null,e),n.lanes=t,n}function z0(n,e,t){return e=Ir(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function VP(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p0(0),this.expirationTimes=p0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function bw(n,e,t,i,r,s,a,l,h){return n=new VP(n,e,t,l,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ir(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(s),n}function GP(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function AM(n){if(!n)return Go;n=n._reactInternals;e:{if(ml(n)!==n||n.tag!==1)throw Error(He(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(n.tag===1){var t=n.type;if(Qi(t))return bC(n,t,e)}return e}function CM(n,e,t,i,r,s,a,l,h){return n=bw(t,i,!0,n,r,s,a,l,h),n.context=AM(null),t=n.current,i=Ii(),r=Bo(t),s=Ys(i,r),s.callback=e??null,No(t,s,r),n.current.lanes=r,Mf(n,r,i),$i(n,i),n}function zg(n,e,t,i){var r=e.current,s=Ii(),a=Bo(r);return t=AM(t),e.context===null?e.context=t:e.pendingContext=t,e=Ys(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=No(r,e,a),n!==null&&(ns(n,r,a,s),nm(n,r,a)),a}function Km(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function lb(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Aw(n,e){lb(n,e),(n=n.alternate)&&lb(n,e)}function KP(){return null}var MM=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cw(n){this._internalRoot=n}Dg.prototype.render=Cw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(He(409));zg(n,e,null,null)};Dg.prototype.unmount=Cw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;al(function(){zg(null,n,null,null)}),e[$s]=null}};function Dg(n){this._internalRoot=n}Dg.prototype.unstable_scheduleHydration=function(n){if(n){var e=nC();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Eo.length&&e!==0&&e<Eo[t].priority;t++);Eo.splice(t,0,n),t===0&&rC(n)}};function Mw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Og(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cb(){}function jP(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=Km(a);s.call(f)}}var a=CM(e,i,n,0,null,!1,!1,"",cb);return n._reactRootContainer=a,n[$s]=a.current,Gh(n.nodeType===8?n.parentNode:n),al(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var f=Km(h);l.call(f)}}var h=bw(n,0,!1,null,null,!1,!1,"",cb);return n._reactRootContainer=h,n[$s]=h.current,Gh(n.nodeType===8?n.parentNode:n),al(function(){zg(e,h,t,i)}),h}function Ng(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var l=r;r=function(){var h=Km(a);l.call(h)}}zg(e,a,n,r)}else a=jP(t,e,n,r,i);return Km(a)}eC=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=fh(e.pendingLanes);t!==0&&(Kx(e,t|1),$i(e,Pn()),(Nt&6)===0&&(jc=Pn()+500,Jo()))}break;case 13:al(function(){var i=qs(n,1);if(i!==null){var r=Ii();ns(i,n,1,r)}}),Aw(n,1)}};jx=function(n){if(n.tag===13){var e=qs(n,134217728);if(e!==null){var t=Ii();ns(e,n,134217728,t)}Aw(n,134217728)}};tC=function(n){if(n.tag===13){var e=Bo(n),t=qs(n,e);if(t!==null){var i=Ii();ns(t,n,e,i)}Aw(n,e)}};nC=function(){return jt};iC=function(n,e){var t=jt;try{return jt=n,e()}finally{jt=t}};X1=function(n,e,t){switch(e){case"input":if(H1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Eg(i);if(!r)throw Error(He(90));z3(i),H1(i,r)}}}break;case"textarea":O3(n,t);break;case"select":e=t.value,e!=null&&Ic(n,!!t.multiple,e,!1)}};V3=xw;G3=al;var YP={usingClientEntryPoint:!1,Events:[Tf,yc,Eg,H3,W3,xw]},Xu={findFiberByHostInstance:Fa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XP={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Y3(n),n===null?null:n.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||KP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{bg=ip.inject(XP),ys=ip}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;fr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mw(e))throw Error(He(200));return GP(n,e,null,t)};fr.createRoot=function(n,e){if(!Mw(n))throw Error(He(299));var t=!1,i="",r=MM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=bw(n,1,!1,null,null,t,!1,i,r),n[$s]=e.current,Gh(n.nodeType===8?n.parentNode:n),new Cw(e)};fr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(He(188)):(n=Object.keys(n).join(","),Error(He(268,n)));return n=Y3(e),n=n===null?null:n.stateNode,n};fr.flushSync=function(n){return al(n)};fr.hydrate=function(n,e,t){if(!Og(e))throw Error(He(200));return Ng(null,n,e,!0,t)};fr.hydrateRoot=function(n,e,t){if(!Mw(n))throw Error(He(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=MM;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=CM(e,null,n,1,t??null,r,!1,s,a),n[$s]=e.current,Gh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Dg(e)};fr.render=function(n,e,t){if(!Og(e))throw Error(He(200));return Ng(null,n,e,!1,t)};fr.unmountComponentAtNode=function(n){if(!Og(n))throw Error(He(40));return n._reactRootContainer?(al(function(){Ng(null,null,n,!1,function(){n._reactRootContainer=null,n[$s]=null})}),!0):!1};fr.unstable_batchedUpdates=xw;fr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Og(t))throw Error(He(200));if(n==null||n._reactInternals===void 0)throw Error(He(38));return Ng(n,e,t,!1,i)};fr.version="18.2.0-next-9e3b772b8-20220608";function EM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EM)}catch(n){console.error(n)}}EM(),Ox.exports=fr;var su=Ox.exports,TM,ub=Ox.exports;TM=ub.createRoot,ub.hydrateRoot;var QP="Expected a function",hb=0/0,$P="[object Symbol]",qP=/^\s+|\s+$/g,JP=/^[-+]0x[0-9a-f]+$/i,ZP=/^0b[01]+$/i,ek=/^0o[0-7]+$/i,tk=parseInt,nk=typeof fn=="object"&&fn&&fn.Object===Object&&fn,ik=typeof self=="object"&&self&&self.Object===Object&&self,rk=nk||ik||Function("return this")(),sk=Object.prototype,ok=sk.toString,ak=Math.max,lk=Math.min,D0=function(){return rk.Date.now()};function ck(n,e,t){var i,r,s,a,l,h,f=0,c=!1,o=!1,u=!0;if(typeof n!="function")throw new TypeError(QP);e=fb(e)||0,Ey(t)&&(c=!!t.leading,o="maxWait"in t,s=o?ak(fb(t.maxWait)||0,e):s,u="trailing"in t?!!t.trailing:u);function d(E){var R=i,b=r;return i=r=void 0,f=E,a=n.apply(b,R),a}function p(E){return f=E,l=setTimeout(x,e),c?d(E):a}function m(E){var R=E-h,b=E-f,_=e-R;return o?lk(_,s-b):_}function v(E){var R=E-h,b=E-f;return h===void 0||R>=e||R<0||o&&b>=s}function x(){var E=D0();if(v(E))return w(E);l=setTimeout(x,m(E))}function w(E){return l=void 0,u&&i?d(E):(i=r=void 0,a)}function A(){l!==void 0&&clearTimeout(l),f=0,i=h=r=l=void 0}function M(){return l===void 0?a:w(D0())}function C(){var E=D0(),R=v(E);if(i=arguments,r=this,h=E,R){if(l===void 0)return p(h);if(o)return l=setTimeout(x,e),d(h)}return l===void 0&&(l=setTimeout(x,e)),a}return C.cancel=A,C.flush=M,C}function Ey(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function uk(n){return!!n&&typeof n=="object"}function hk(n){return typeof n=="symbol"||uk(n)&&ok.call(n)==$P}function fb(n){if(typeof n=="number")return n;if(hk(n))return hb;if(Ey(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ey(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(qP,"");var t=ZP.test(n);return t||ek.test(n)?tk(n.slice(2),t?2:8):JP.test(n)?hb:+n}var db=ck;const jm={},Ty={};let pb=!1,Ym={};async function fk(n,e,t){let i=e.toString();jm[i]=t,parent.postMessage({pluginMessage:{action:"figma-scene-on",event:n,function:i}},"*")}async function dk(n,e,t={}){let i=n.toString();jm[i]=e,parent.postMessage({pluginMessage:{action:"figma-scene-run",function:i,args:t}},"*")}async function ou(n,e={}){return new Promise((t,i)=>{let r=n.toString();Ty[r]={resolve:t,reject:i},parent.postMessage({pluginMessage:{action:"figma-scene-run",function:r,args:e}},"*")})}async function pk(n,e={}){return await ou(t=>{figma.notify(t.message,t.options)},{message:n.toString(),options:e})}async function mk(){return await ou(n=>({id:figma.currentUser.id,photoUrl:figma.currentUser.photoUrl,name:figma.currentUser.name}))}async function gk(n){return await ou(async e=>await figma.clientStorage.getAsync(e),n)}async function vk(n,e){return await ou(async t=>await figma.clientStorage.setAsync(t.key,t.value),{key:n,value:e})}async function yk(n){return await ou(async e=>await figma.clientStorage.deleteAsync(e),n)}function xk(){parent.postMessage({pluginMessage:{action:"figma-scene-init"}},"*")}function wk(){pb||(pb=!0,window?(xk(),window.addEventListener("message",async n=>{let e=n.data.pluginMessage;if(e&&e.action)switch(e.action){case"figma-scene-return":jm[e.function]?await jm[e.function](e.return):Ty[e.function]&&Ty[e.function].resolve(e.return);break;case"figma-scene-init":let{functions:t}=e;t.forEach(i=>{Ym[i]=function(){let r=[];for(var s in arguments)r[s]=arguments[s];Ym.runWithPromise(a=>{figma[a.name]&&figma[a.name].apply(null,a.args)},{name:i,args:r})}});break}})):(globalThis.scene=this,figma.ui.on("message",async n=>{if(n&&n.action){let e;switch(n.action){case"figma-scene-run":e=new Function(`return ${n.function}`)();let t=await e(n.args);figma.ui.postMessage({action:"figma-scene-return",id:n.id,return:t,function:n.function});break;case"figma-scene-on":e=new Function(`return ${n.function}`)(),figma.on(n.event,async function(){let s=await e(...arguments);figma.ui.postMessage({action:"figma-scene-return",id:n.id,return:s,function:n.function})});break;case"figma-scene-init":let i=Object.getOwnPropertyNames(figma),r=[];i.forEach(s=>{try{typeof figma[s]=="function"&&r.push(s)}catch{}}),figma.ui.postMessage({action:"figma-scene-init",functions:r});break}}})))}Ym={on:fk,run:dk,notify:pk,getCurrentUser:mk,init:wk,getClientStorage:gk,setClientStorage:vk,deleteClientStorage:yk,runWithPromise:ou};var An=Ym;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Fg="148",Ra={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Pa={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},LM=0,Ly=1,RM=2,Sk=3,PM=0,Bg=1,Mh=2,Ha=3,Ko=0,cr=1,Rf=2,ph=3,Xs=0,qa=1,Ry=2,Py=3,ky=4,kM=5,za=100,IM=101,zM=102,Iy=103,zy=104,DM=200,OM=201,NM=202,FM=203,Ew=204,Tw=205,BM=206,UM=207,HM=208,WM=209,VM=210,GM=0,KM=1,jM=2,Xm=3,YM=4,XM=5,QM=6,$M=7,Pf=0,qM=1,JM=2,is=0,ZM=1,eE=2,tE=3,Lw=4,nE=5,Ug=300,jo=301,Yo=302,Zh=303,ef=304,au=306,tf=1e3,_i=1001,nf=1002,Rn=1003,Qm=1004,_k=1004,Eh=1005,bk=1005,kn=1006,Rw=1007,Ak=1007,Xo=1008,Ck=1008,Zs=1009,iE=1010,rE=1011,Pw=1012,sE=1013,ko=1014,Ks=1015,Yc=1016,oE=1017,aE=1018,Ja=1020,lE=1021,cE=1022,ji=1023,uE=1024,hE=1025,Ho=1026,ll=1027,fE=1028,dE=1029,pE=1030,mE=1031,gE=1033,cm=33776,um=33777,hm=33778,fm=33779,Dy=35840,Oy=35841,Ny=35842,Fy=35843,vE=36196,By=37492,Uy=37496,Hy=37808,Wy=37809,Vy=37810,Gy=37811,Ky=37812,jy=37813,Yy=37814,Xy=37815,Qy=37816,$y=37817,qy=37818,Jy=37819,Zy=37820,ex=37821,tx=36492,yE=2200,xE=2201,wE=2202,rf=2300,sf=2301,dm=2302,Wa=2400,Va=2401,of=2402,Hg=2500,kw=2501,Mk=0,Ek=1,Tk=2,eo=3e3,Xt=3001,SE=3200,_E=3201,Zo=0,bE=1,Lk="",qr="srgb",Xc="srgb-linear",Rk=0,pm=7680,Pk=7681,kk=7682,Ik=7683,zk=34055,Dk=34056,Ok=5386,Nk=512,Fk=513,Bk=514,Uk=515,Hk=516,Wk=517,Vk=518,AE=519,af=35044,Gk=35048,Kk=35040,jk=35045,Yk=35049,Xk=35041,Qk=35046,$k=35050,qk=35042,CE="100",$m="300 es",qm=1035;class _s{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const xi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let mb=1234567;const Za=Math.PI/180,lf=180/Math.PI;function ur(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(xi[n&255]+xi[n>>8&255]+xi[n>>16&255]+xi[n>>24&255]+"-"+xi[e&255]+xi[e>>8&255]+"-"+xi[e>>16&15|64]+xi[e>>24&255]+"-"+xi[t&63|128]+xi[t>>8&255]+"-"+xi[t>>16&255]+xi[t>>24&255]+xi[i&255]+xi[i>>8&255]+xi[i>>16&255]+xi[i>>24&255]).toLowerCase()}function In(n,e,t){return Math.max(e,Math.min(t,n))}function Iw(n,e){return(n%e+e)%e}function Jk(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Zk(n,e,t){return n!==e?(t-n)/(e-n):0}function Th(n,e,t){return(1-t)*n+t*e}function eI(n,e,t,i){return Th(n,e,1-Math.exp(-t*i))}function tI(n,e=1){return e-Math.abs(Iw(n,e*2)-e)}function nI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function iI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function rI(n,e){return n+Math.floor(Math.random()*(e-n+1))}function sI(n,e){return n+Math.random()*(e-n)}function oI(n){return n*(.5-Math.random())}function aI(n){n!==void 0&&(mb=n);let e=mb+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function lI(n){return n*Za}function cI(n){return n*lf}function nx(n){return(n&n-1)===0&&n!==0}function ME(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Jm(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function uI(n,e,t,i,r){const s=Math.cos,a=Math.sin,l=s(t/2),h=a(t/2),f=s((e+i)/2),c=a((e+i)/2),o=s((e-i)/2),u=a((e-i)/2),d=s((i-e)/2),p=a((i-e)/2);switch(r){case"XYX":n.set(l*c,h*o,h*u,l*f);break;case"YZY":n.set(h*u,l*c,h*o,l*f);break;case"ZXZ":n.set(h*o,h*u,l*c,l*f);break;case"XZX":n.set(l*c,h*p,h*d,l*f);break;case"YXY":n.set(h*d,l*c,h*p,l*f);break;case"ZYZ":n.set(h*p,h*d,l*c,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function js(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function qt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var hI=Object.freeze({__proto__:null,DEG2RAD:Za,RAD2DEG:lf,generateUUID:ur,clamp:In,euclideanModulo:Iw,mapLinear:Jk,inverseLerp:Zk,lerp:Th,damp:eI,pingpong:tI,smoothstep:nI,smootherstep:iI,randInt:rI,randFloat:sI,randFloatSpread:oI,seededRandom:aI,degToRad:lI,radToDeg:cI,isPowerOfTwo:nx,ceilPowerOfTwo:ME,floorPowerOfTwo:Jm,setQuaternionFromProperEuler:uI,normalize:qt,denormalize:js});class ke{constructor(e=0,t=0){ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ki{constructor(){ki.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,a,l,h,f){const c=this.elements;return c[0]=e,c[1]=r,c[2]=l,c[3]=t,c[4]=s,c[5]=h,c[6]=i,c[7]=a,c[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],l=i[3],h=i[6],f=i[1],c=i[4],o=i[7],u=i[2],d=i[5],p=i[8],m=r[0],v=r[3],x=r[6],w=r[1],A=r[4],M=r[7],C=r[2],E=r[5],R=r[8];return s[0]=a*m+l*w+h*C,s[3]=a*v+l*A+h*E,s[6]=a*x+l*M+h*R,s[1]=f*m+c*w+o*C,s[4]=f*v+c*A+o*E,s[7]=f*x+c*M+o*R,s[2]=u*m+d*w+p*C,s[5]=u*v+d*A+p*E,s[8]=u*x+d*M+p*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],h=e[6],f=e[7],c=e[8];return t*a*c-t*l*f-i*s*c+i*l*h+r*s*f-r*a*h}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],h=e[6],f=e[7],c=e[8],o=c*a-l*f,u=l*h-c*s,d=f*s-a*h,p=t*o+i*u+r*d;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=o*m,e[1]=(r*f-c*i)*m,e[2]=(l*i-r*a)*m,e[3]=u*m,e[4]=(c*t-r*h)*m,e[5]=(r*s-l*t)*m,e[6]=d*m,e[7]=(i*h-f*t)*m,e[8]=(a*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,l){const h=Math.cos(s),f=Math.sin(s);return this.set(i*h,i*f,-i*(h*a+f*l)+a+e,-r*f,r*h,-r*(-f*a+h*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(O0.makeScale(e,t)),this}rotate(e){return this.premultiply(O0.makeRotation(-e)),this}translate(e,t){return this.premultiply(O0.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const O0=new ki;function EE(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const fI={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cc(n,e){return new fI[n](e)}function cf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function el(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function mm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const N0={[qr]:{[Xc]:el},[Xc]:{[qr]:mm}},wi={legacyMode:!0,get workingColorSpace(){return Xc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(N0[e]&&N0[e][t]!==void 0){const i=N0[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},TE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gn={r:0,g:0,b:0},Kr={h:0,s:0,l:0},rp={h:0,s:0,l:0};function F0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function sp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ze{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=wi.workingColorSpace){return this.r=e,this.g=t,this.b=i,wi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=wi.workingColorSpace){if(e=Iw(e,1),t=In(t,0,1),i=In(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=F0(a,s,e+1/3),this.g=F0(a,s,e),this.b=F0(a,s,e-1/3)}return wi.toWorkingColorSpace(this,r),this}setStyle(e,t=qr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,wi.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,wi.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const h=parseFloat(s[1])/360,f=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return i(s[4]),this.setHSL(h,f,c,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,wi.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,wi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=qr){const i=TE[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=el(e.r),this.g=el(e.g),this.b=el(e.b),this}copyLinearToSRGB(e){return this.r=mm(e.r),this.g=mm(e.g),this.b=mm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qr){return wi.fromWorkingColorSpace(sp(this,Gn),e),In(Gn.r*255,0,255)<<16^In(Gn.g*255,0,255)<<8^In(Gn.b*255,0,255)<<0}getHexString(e=qr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wi.workingColorSpace){wi.fromWorkingColorSpace(sp(this,Gn),t);const i=Gn.r,r=Gn.g,s=Gn.b,a=Math.max(i,r,s),l=Math.min(i,r,s);let h,f;const c=(l+a)/2;if(l===a)h=0,f=0;else{const o=a-l;switch(f=c<=.5?o/(a+l):o/(2-a-l),a){case i:h=(r-s)/o+(r<s?6:0);break;case r:h=(s-i)/o+2;break;case s:h=(i-r)/o+4;break}h/=6}return e.h=h,e.s=f,e.l=c,e}getRGB(e,t=wi.workingColorSpace){return wi.fromWorkingColorSpace(sp(this,Gn),t),e.r=Gn.r,e.g=Gn.g,e.b=Gn.b,e}getStyle(e=qr){return wi.fromWorkingColorSpace(sp(this,Gn),e),e!==qr?`color(${e} ${Gn.r} ${Gn.g} ${Gn.b})`:`rgb(${Gn.r*255|0},${Gn.g*255|0},${Gn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Kr),Kr.h+=e,Kr.s+=t,Kr.l+=i,this.setHSL(Kr.h,Kr.s,Kr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Kr),e.getHSL(rp);const i=Th(Kr.h,rp.h,t),r=Th(Kr.s,rp.s,t),s=Th(Kr.l,rp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ze.NAMES=TE;let Hl;class zw{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Hl===void 0&&(Hl=cf("canvas")),Hl.width=e.width,Hl.height=e.height;const i=Hl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Hl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=cf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=el(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(el(t[i]/255)*255):t[i]=el(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ga{constructor(e=null){this.isSource=!0,this.uuid=ur(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?s.push(B0(r[a].image)):s.push(B0(r[a]))}else s=B0(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function B0(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?zw.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let dI=0;class Cn extends _s{constructor(e=Cn.DEFAULT_IMAGE,t=Cn.DEFAULT_MAPPING,i=_i,r=_i,s=kn,a=Xo,l=ji,h=Zs,f=Cn.DEFAULT_ANISOTROPY,c=eo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:dI++}),this.uuid=ur(),this.name="",this.source=new Ga(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=h,this.offset=new ke(0,0),this.repeat=new ke(1,1),this.center=new ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ki,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ug)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tf:e.x=e.x-Math.floor(e.x);break;case _i:e.x=e.x<0?0:1;break;case nf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case tf:e.y=e.y-Math.floor(e.y);break;case _i:e.y=e.y<0?0:1;break;case nf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Cn.DEFAULT_IMAGE=null;Cn.DEFAULT_MAPPING=Ug;Cn.DEFAULT_ANISOTROPY=1;class Gt{constructor(e=0,t=0,i=0,r=1){Gt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const h=e.elements,f=h[0],c=h[4],o=h[8],u=h[1],d=h[5],p=h[9],m=h[2],v=h[6],x=h[10];if(Math.abs(c-u)<.01&&Math.abs(o-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(c+u)<.1&&Math.abs(o+m)<.1&&Math.abs(p+v)<.1&&Math.abs(f+d+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(f+1)/2,M=(d+1)/2,C=(x+1)/2,E=(c+u)/4,R=(o+m)/4,b=(p+v)/4;return A>M&&A>C?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=E/i,s=R/i):M>C?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=E/r,s=b/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=R/s,r=b/s),this.set(i,r,s,t),this}let w=Math.sqrt((v-p)*(v-p)+(o-m)*(o-m)+(u-c)*(u-c));return Math.abs(w)<.001&&(w=1),this.x=(v-p)/w,this.y=(o-m)/w,this.z=(u-c)/w,this.w=Math.acos((f+d+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Nr extends _s{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gt(0,0,e,t),this.scissorTest=!1,this.viewport=new Gt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Cn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:kn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ga(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class kf extends Cn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=_i,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pI extends Nr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new kf(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Wg extends Cn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=_i,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mI extends Nr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Wg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class gI extends Nr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<i;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class bi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,l){let h=i[r+0],f=i[r+1],c=i[r+2],o=i[r+3];const u=s[a+0],d=s[a+1],p=s[a+2],m=s[a+3];if(l===0){e[t+0]=h,e[t+1]=f,e[t+2]=c,e[t+3]=o;return}if(l===1){e[t+0]=u,e[t+1]=d,e[t+2]=p,e[t+3]=m;return}if(o!==m||h!==u||f!==d||c!==p){let v=1-l;const x=h*u+f*d+c*p+o*m,w=x>=0?1:-1,A=1-x*x;if(A>Number.EPSILON){const C=Math.sqrt(A),E=Math.atan2(C,x*w);v=Math.sin(v*E)/C,l=Math.sin(l*E)/C}const M=l*w;if(h=h*v+u*M,f=f*v+d*M,c=c*v+p*M,o=o*v+m*M,v===1-l){const C=1/Math.sqrt(h*h+f*f+c*c+o*o);h*=C,f*=C,c*=C,o*=C}}e[t]=h,e[t+1]=f,e[t+2]=c,e[t+3]=o}static multiplyQuaternionsFlat(e,t,i,r,s,a){const l=i[r],h=i[r+1],f=i[r+2],c=i[r+3],o=s[a],u=s[a+1],d=s[a+2],p=s[a+3];return e[t]=l*p+c*o+h*d-f*u,e[t+1]=h*p+c*u+f*o-l*d,e[t+2]=f*p+c*d+l*u-h*o,e[t+3]=c*p-l*o-h*u-f*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,a=e._order,l=Math.cos,h=Math.sin,f=l(i/2),c=l(r/2),o=l(s/2),u=h(i/2),d=h(r/2),p=h(s/2);switch(a){case"XYZ":this._x=u*c*o+f*d*p,this._y=f*d*o-u*c*p,this._z=f*c*p+u*d*o,this._w=f*c*o-u*d*p;break;case"YXZ":this._x=u*c*o+f*d*p,this._y=f*d*o-u*c*p,this._z=f*c*p-u*d*o,this._w=f*c*o+u*d*p;break;case"ZXY":this._x=u*c*o-f*d*p,this._y=f*d*o+u*c*p,this._z=f*c*p+u*d*o,this._w=f*c*o-u*d*p;break;case"ZYX":this._x=u*c*o-f*d*p,this._y=f*d*o+u*c*p,this._z=f*c*p-u*d*o,this._w=f*c*o+u*d*p;break;case"YZX":this._x=u*c*o+f*d*p,this._y=f*d*o+u*c*p,this._z=f*c*p-u*d*o,this._w=f*c*o-u*d*p;break;case"XZY":this._x=u*c*o-f*d*p,this._y=f*d*o-u*c*p,this._z=f*c*p+u*d*o,this._w=f*c*o+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],l=t[5],h=t[9],f=t[2],c=t[6],o=t[10],u=i+l+o;if(u>0){const d=.5/Math.sqrt(u+1);this._w=.25/d,this._x=(c-h)*d,this._y=(s-f)*d,this._z=(a-r)*d}else if(i>l&&i>o){const d=2*Math.sqrt(1+i-l-o);this._w=(c-h)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(s+f)/d}else if(l>o){const d=2*Math.sqrt(1+l-i-o);this._w=(s-f)/d,this._x=(r+a)/d,this._y=.25*d,this._z=(h+c)/d}else{const d=2*Math.sqrt(1+o-i-l);this._w=(a-r)/d,this._x=(s+f)/d,this._y=(h+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(In(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,l=t._x,h=t._y,f=t._z,c=t._w;return this._x=i*c+a*l+r*f-s*h,this._y=r*c+a*h+s*l-i*f,this._z=s*c+a*f+i*h-r*l,this._w=a*c-i*l-r*h-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let l=a*e._w+i*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const h=1-l*l;if(h<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(h),c=Math.atan2(f,l),o=Math.sin((1-t)*c)/f,u=Math.sin(t*c)/f;return this._w=a*o+this._w*u,this._x=i*o+this._x*u,this._y=r*o+this._y*u,this._z=s*o+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,i=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(gb.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(gb.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,l=e.z,h=e.w,f=h*t+a*r-l*i,c=h*i+l*t-s*r,o=h*r+s*i-a*t,u=-s*t-a*i-l*r;return this.x=f*h+u*-s+c*-l-o*-a,this.y=c*h+u*-a+o*-s-f*-l,this.z=o*h+u*-l+f*-a-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,l=t.y,h=t.z;return this.x=r*h-s*l,this.y=s*a-i*h,this.z=i*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return U0.copy(this).projectOnVector(e),this.sub(U0)}reflect(e){return this.sub(U0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(In(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const U0=new ee,gb=new bi;class gl{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,l=-1/0;for(let h=0,f=e.length;h<f;h+=3){const c=e[h],o=e[h+1],u=e[h+2];c<t&&(t=c),o<i&&(i=o),u<r&&(r=u),c>s&&(s=c),o>a&&(a=o),u>l&&(l=u)}return this.min.set(t,i,r),this.max.set(s,a,l),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,l=-1/0;for(let h=0,f=e.count;h<f;h++){const c=e.getX(h),o=e.getY(h),u=e.getZ(h);c<t&&(t=c),o<i&&(i=o),u<r&&(r=u),c>s&&(s=c),o>a&&(a=o),u>l&&(l=u)}return this.min.set(t,i,r),this.max.set(s,a,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=xa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let a=0,l=s.count;a<l;a++)xa.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(xa)}else i.boundingBox===null&&i.computeBoundingBox(),H0.copy(i.boundingBox),H0.applyMatrix4(e.matrixWorld),this.union(H0);const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,xa),xa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Qu),op.subVectors(this.max,Qu),Wl.subVectors(e.a,Qu),Vl.subVectors(e.b,Qu),Gl.subVectors(e.c,Qu),go.subVectors(Vl,Wl),vo.subVectors(Gl,Vl),wa.subVectors(Wl,Gl);let t=[0,-go.z,go.y,0,-vo.z,vo.y,0,-wa.z,wa.y,go.z,0,-go.x,vo.z,0,-vo.x,wa.z,0,-wa.x,-go.y,go.x,0,-vo.y,vo.x,0,-wa.y,wa.x,0];return!W0(t,Wl,Vl,Gl,op)||(t=[1,0,0,0,1,0,0,0,1],!W0(t,Wl,Vl,Gl,op))?!1:(ap.crossVectors(go,vo),t=[ap.x,ap.y,ap.z],W0(t,Wl,Vl,Gl,op))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xa.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(xa).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ps[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ps[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ps[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ps[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ps[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ps[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ps[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ps[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ps),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ps=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],xa=new ee,H0=new gl,Wl=new ee,Vl=new ee,Gl=new ee,go=new ee,vo=new ee,wa=new ee,Qu=new ee,op=new ee,ap=new ee,Sa=new ee;function W0(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Sa.fromArray(n,s);const l=r.x*Math.abs(Sa.x)+r.y*Math.abs(Sa.y)+r.z*Math.abs(Sa.z),h=e.dot(Sa),f=t.dot(Sa),c=i.dot(Sa);if(Math.max(-Math.max(h,f,c),Math.min(h,f,c))>l)return!1}return!0}const vI=new gl,$u=new ee,V0=new ee;class vl{constructor(e=new ee,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):vI.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$u.subVectors(e,this.center);const t=$u.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector($u,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(V0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($u.copy(e.center).add(V0)),this.expandByPoint($u.copy(e.center).sub(V0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ks=new ee,G0=new ee,lp=new ee,yo=new ee,K0=new ee,cp=new ee,j0=new ee;class If{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ks)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ks.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ks.copy(this.direction).multiplyScalar(t).add(this.origin),ks.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){G0.copy(e).add(t).multiplyScalar(.5),lp.copy(t).sub(e).normalize(),yo.copy(this.origin).sub(G0);const s=e.distanceTo(t)*.5,a=-this.direction.dot(lp),l=yo.dot(this.direction),h=-yo.dot(lp),f=yo.lengthSq(),c=Math.abs(1-a*a);let o,u,d,p;if(c>0)if(o=a*h-l,u=a*l-h,p=s*c,o>=0)if(u>=-p)if(u<=p){const m=1/c;o*=m,u*=m,d=o*(o+a*u+2*l)+u*(a*o+u+2*h)+f}else u=s,o=Math.max(0,-(a*u+l)),d=-o*o+u*(u+2*h)+f;else u=-s,o=Math.max(0,-(a*u+l)),d=-o*o+u*(u+2*h)+f;else u<=-p?(o=Math.max(0,-(-a*s+l)),u=o>0?-s:Math.min(Math.max(-s,-h),s),d=-o*o+u*(u+2*h)+f):u<=p?(o=0,u=Math.min(Math.max(-s,-h),s),d=u*(u+2*h)+f):(o=Math.max(0,-(a*s+l)),u=o>0?s:Math.min(Math.max(-s,-h),s),d=-o*o+u*(u+2*h)+f);else u=a>0?-s:s,o=Math.max(0,-(a*u+l)),d=-o*o+u*(u+2*h)+f;return i&&i.copy(this.direction).multiplyScalar(o).add(this.origin),r&&r.copy(lp).multiplyScalar(u).add(G0),d}intersectSphere(e,t){ks.subVectors(e.center,this.origin);const i=ks.dot(this.direction),r=ks.dot(ks)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),l=i-a,h=i+a;return l<0&&h<0?null:l<0?this.at(h,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,l,h;const f=1/this.direction.x,c=1/this.direction.y,o=1/this.direction.z,u=this.origin;return f>=0?(i=(e.min.x-u.x)*f,r=(e.max.x-u.x)*f):(i=(e.max.x-u.x)*f,r=(e.min.x-u.x)*f),c>=0?(s=(e.min.y-u.y)*c,a=(e.max.y-u.y)*c):(s=(e.max.y-u.y)*c,a=(e.min.y-u.y)*c),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),o>=0?(l=(e.min.z-u.z)*o,h=(e.max.z-u.z)*o):(l=(e.max.z-u.z)*o,h=(e.min.z-u.z)*o),i>h||l>r)||((l>i||i!==i)&&(i=l),(h<r||r!==r)&&(r=h),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ks)!==null}intersectTriangle(e,t,i,r,s){K0.subVectors(t,e),cp.subVectors(i,e),j0.crossVectors(K0,cp);let a=this.direction.dot(j0),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;yo.subVectors(this.origin,e);const h=l*this.direction.dot(cp.crossVectors(yo,cp));if(h<0)return null;const f=l*this.direction.dot(K0.cross(yo));if(f<0||h+f>a)return null;const c=-l*yo.dot(j0);return c<0?null:this.at(c/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _t{constructor(){_t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,a,l,h,f,c,o,u,d,p,m,v){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=s,x[5]=a,x[9]=l,x[13]=h,x[2]=f,x[6]=c,x[10]=o,x[14]=u,x[3]=d,x[7]=p,x[11]=m,x[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _t().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Kl.setFromMatrixColumn(e,0).length(),s=1/Kl.setFromMatrixColumn(e,1).length(),a=1/Kl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),l=Math.sin(i),h=Math.cos(r),f=Math.sin(r),c=Math.cos(s),o=Math.sin(s);if(e.order==="XYZ"){const u=a*c,d=a*o,p=l*c,m=l*o;t[0]=h*c,t[4]=-h*o,t[8]=f,t[1]=d+p*f,t[5]=u-m*f,t[9]=-l*h,t[2]=m-u*f,t[6]=p+d*f,t[10]=a*h}else if(e.order==="YXZ"){const u=h*c,d=h*o,p=f*c,m=f*o;t[0]=u+m*l,t[4]=p*l-d,t[8]=a*f,t[1]=a*o,t[5]=a*c,t[9]=-l,t[2]=d*l-p,t[6]=m+u*l,t[10]=a*h}else if(e.order==="ZXY"){const u=h*c,d=h*o,p=f*c,m=f*o;t[0]=u-m*l,t[4]=-a*o,t[8]=p+d*l,t[1]=d+p*l,t[5]=a*c,t[9]=m-u*l,t[2]=-a*f,t[6]=l,t[10]=a*h}else if(e.order==="ZYX"){const u=a*c,d=a*o,p=l*c,m=l*o;t[0]=h*c,t[4]=p*f-d,t[8]=u*f+m,t[1]=h*o,t[5]=m*f+u,t[9]=d*f-p,t[2]=-f,t[6]=l*h,t[10]=a*h}else if(e.order==="YZX"){const u=a*h,d=a*f,p=l*h,m=l*f;t[0]=h*c,t[4]=m-u*o,t[8]=p*o+d,t[1]=o,t[5]=a*c,t[9]=-l*c,t[2]=-f*c,t[6]=d*o+p,t[10]=u-m*o}else if(e.order==="XZY"){const u=a*h,d=a*f,p=l*h,m=l*f;t[0]=h*c,t[4]=-o,t[8]=f*c,t[1]=u*o+m,t[5]=a*c,t[9]=d*o-p,t[2]=p*o-d,t[6]=l*c,t[10]=m*o+u}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yI,e,xI)}lookAt(e,t,i){const r=this.elements;return ir.subVectors(e,t),ir.lengthSq()===0&&(ir.z=1),ir.normalize(),xo.crossVectors(i,ir),xo.lengthSq()===0&&(Math.abs(i.z)===1?ir.x+=1e-4:ir.z+=1e-4,ir.normalize(),xo.crossVectors(i,ir)),xo.normalize(),up.crossVectors(ir,xo),r[0]=xo.x,r[4]=up.x,r[8]=ir.x,r[1]=xo.y,r[5]=up.y,r[9]=ir.y,r[2]=xo.z,r[6]=up.z,r[10]=ir.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],l=i[4],h=i[8],f=i[12],c=i[1],o=i[5],u=i[9],d=i[13],p=i[2],m=i[6],v=i[10],x=i[14],w=i[3],A=i[7],M=i[11],C=i[15],E=r[0],R=r[4],b=r[8],_=r[12],S=r[1],T=r[5],P=r[9],I=r[13],z=r[2],O=r[6],D=r[10],B=r[14],F=r[3],U=r[7],H=r[11],j=r[15];return s[0]=a*E+l*S+h*z+f*F,s[4]=a*R+l*T+h*O+f*U,s[8]=a*b+l*P+h*D+f*H,s[12]=a*_+l*I+h*B+f*j,s[1]=c*E+o*S+u*z+d*F,s[5]=c*R+o*T+u*O+d*U,s[9]=c*b+o*P+u*D+d*H,s[13]=c*_+o*I+u*B+d*j,s[2]=p*E+m*S+v*z+x*F,s[6]=p*R+m*T+v*O+x*U,s[10]=p*b+m*P+v*D+x*H,s[14]=p*_+m*I+v*B+x*j,s[3]=w*E+A*S+M*z+C*F,s[7]=w*R+A*T+M*O+C*U,s[11]=w*b+A*P+M*D+C*H,s[15]=w*_+A*I+M*B+C*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],l=e[5],h=e[9],f=e[13],c=e[2],o=e[6],u=e[10],d=e[14],p=e[3],m=e[7],v=e[11],x=e[15];return p*(+s*h*o-r*f*o-s*l*u+i*f*u+r*l*d-i*h*d)+m*(+t*h*d-t*f*u+s*a*u-r*a*d+r*f*c-s*h*c)+v*(+t*f*o-t*l*d-s*a*o+i*a*d+s*l*c-i*f*c)+x*(-r*l*c-t*h*o+t*l*u+r*a*o-i*a*u+i*h*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],h=e[6],f=e[7],c=e[8],o=e[9],u=e[10],d=e[11],p=e[12],m=e[13],v=e[14],x=e[15],w=o*v*f-m*u*f+m*h*d-l*v*d-o*h*x+l*u*x,A=p*u*f-c*v*f-p*h*d+a*v*d+c*h*x-a*u*x,M=c*m*f-p*o*f+p*l*d-a*m*d-c*l*x+a*o*x,C=p*o*h-c*m*h-p*l*u+a*m*u+c*l*v-a*o*v,E=t*w+i*A+r*M+s*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=w*R,e[1]=(m*u*s-o*v*s-m*r*d+i*v*d+o*r*x-i*u*x)*R,e[2]=(l*v*s-m*h*s+m*r*f-i*v*f-l*r*x+i*h*x)*R,e[3]=(o*h*s-l*u*s-o*r*f+i*u*f+l*r*d-i*h*d)*R,e[4]=A*R,e[5]=(c*v*s-p*u*s+p*r*d-t*v*d-c*r*x+t*u*x)*R,e[6]=(p*h*s-a*v*s-p*r*f+t*v*f+a*r*x-t*h*x)*R,e[7]=(a*u*s-c*h*s+c*r*f-t*u*f-a*r*d+t*h*d)*R,e[8]=M*R,e[9]=(p*o*s-c*m*s-p*i*d+t*m*d+c*i*x-t*o*x)*R,e[10]=(a*m*s-p*l*s+p*i*f-t*m*f-a*i*x+t*l*x)*R,e[11]=(c*l*s-a*o*s-c*i*f+t*o*f+a*i*d-t*l*d)*R,e[12]=C*R,e[13]=(c*m*r-p*o*r+p*i*u-t*m*u-c*i*v+t*o*v)*R,e[14]=(p*l*r-a*m*r-p*i*h+t*m*h+a*i*v-t*l*v)*R,e[15]=(a*o*r-c*l*r+c*i*h-t*o*h-a*i*u+t*l*u)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,l=e.y,h=e.z,f=s*a,c=s*l;return this.set(f*a+i,f*l-r*h,f*h+r*l,0,f*l+r*h,c*l+i,c*h-r*a,0,f*h-r*l,c*h+r*a,s*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,l=t._z,h=t._w,f=s+s,c=a+a,o=l+l,u=s*f,d=s*c,p=s*o,m=a*c,v=a*o,x=l*o,w=h*f,A=h*c,M=h*o,C=i.x,E=i.y,R=i.z;return r[0]=(1-(m+x))*C,r[1]=(d+M)*C,r[2]=(p-A)*C,r[3]=0,r[4]=(d-M)*E,r[5]=(1-(u+x))*E,r[6]=(v+w)*E,r[7]=0,r[8]=(p+A)*R,r[9]=(v-w)*R,r[10]=(1-(u+m))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Kl.set(r[0],r[1],r[2]).length();const a=Kl.set(r[4],r[5],r[6]).length(),l=Kl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],jr.copy(this);const f=1/s,c=1/a,o=1/l;return jr.elements[0]*=f,jr.elements[1]*=f,jr.elements[2]*=f,jr.elements[4]*=c,jr.elements[5]*=c,jr.elements[6]*=c,jr.elements[8]*=o,jr.elements[9]*=o,jr.elements[10]*=o,t.setFromRotationMatrix(jr),i.x=s,i.y=a,i.z=l,this}makePerspective(e,t,i,r,s,a){const l=this.elements,h=2*s/(t-e),f=2*s/(i-r),c=(t+e)/(t-e),o=(i+r)/(i-r),u=-(a+s)/(a-s),d=-2*a*s/(a-s);return l[0]=h,l[4]=0,l[8]=c,l[12]=0,l[1]=0,l[5]=f,l[9]=o,l[13]=0,l[2]=0,l[6]=0,l[10]=u,l[14]=d,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a){const l=this.elements,h=1/(t-e),f=1/(i-r),c=1/(a-s),o=(t+e)*h,u=(i+r)*f,d=(a+s)*c;return l[0]=2*h,l[4]=0,l[8]=0,l[12]=-o,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-u,l[2]=0,l[6]=0,l[10]=-2*c,l[14]=-d,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Kl=new ee,jr=new _t,yI=new ee(0,0,0),xI=new ee(1,1,1),xo=new ee,up=new ee,ir=new ee,vb=new _t,yb=new bi;class lu{constructor(e=0,t=0,i=0,r=lu.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],l=r[8],h=r[1],f=r[5],c=r[9],o=r[2],u=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(In(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(u,f),this._z=0);break;case"YXZ":this._x=Math.asin(-In(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(l,d),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-o,s),this._z=0);break;case"ZXY":this._x=Math.asin(In(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-o,d),this._z=Math.atan2(-a,f)):(this._y=0,this._z=Math.atan2(h,s));break;case"ZYX":this._y=Math.asin(-In(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(h,s)):(this._x=0,this._z=Math.atan2(-a,f));break;case"YZX":this._z=Math.asin(In(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-c,f),this._y=Math.atan2(-o,s)):(this._x=0,this._y=Math.atan2(l,d));break;case"XZY":this._z=Math.asin(-In(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(u,f),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return vb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(vb,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return yb.setFromEuler(this),this.setFromQuaternion(yb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}lu.DefaultOrder="XYZ";lu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class tl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wI=0;const xb=new ee,jl=new bi,Is=new _t,hp=new ee,qu=new ee,SI=new ee,_I=new bi,wb=new ee(1,0,0),Sb=new ee(0,1,0),_b=new ee(0,0,1),bI={type:"added"},bb={type:"removed"};class Ht extends _s{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wI++}),this.uuid=ur(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ht.DefaultUp.clone();const e=new ee,t=new lu,i=new bi,r=new ee(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _t},normalMatrix:{value:new ki}}),this.matrix=new _t,this.matrixWorld=new _t,this.matrixAutoUpdate=Ht.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ht.DefaultMatrixWorldAutoUpdate,this.layers=new tl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return jl.setFromAxisAngle(e,t),this.quaternion.multiply(jl),this}rotateOnWorldAxis(e,t){return jl.setFromAxisAngle(e,t),this.quaternion.premultiply(jl),this}rotateX(e){return this.rotateOnAxis(wb,e)}rotateY(e){return this.rotateOnAxis(Sb,e)}rotateZ(e){return this.rotateOnAxis(_b,e)}translateOnAxis(e,t){return xb.copy(e).applyQuaternion(this.quaternion),this.position.add(xb.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(wb,e)}translateY(e){return this.translateOnAxis(Sb,e)}translateZ(e){return this.translateOnAxis(_b,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Is.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?hp.copy(e):hp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),qu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Is.lookAt(qu,hp,this.up):Is.lookAt(hp,qu,this.up),this.quaternion.setFromRotationMatrix(Is),r&&(Is.extractRotation(r.matrixWorld),jl.setFromRotationMatrix(Is),this.quaternion.premultiply(jl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(bI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(bb)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(bb)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Is.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Is.multiply(e.parent.matrixWorld)),e.applyMatrix4(Is),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qu,e,SI),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qu,_I,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++){const l=r[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(l,h){return l[h.uuid]===void 0&&(l[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const h=l.shapes;if(Array.isArray(h))for(let f=0,c=h.length;f<c;f++){const o=h[f];s(e.shapes,o)}else s(e.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let h=0,f=this.material.length;h<f;h++)l.push(s(e.materials,this.material[h]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const h=this.animations[l];r.animations.push(s(e.animations,h))}}if(t){const l=a(e.geometries),h=a(e.materials),f=a(e.textures),c=a(e.images),o=a(e.shapes),u=a(e.skeletons),d=a(e.animations),p=a(e.nodes);l.length>0&&(i.geometries=l),h.length>0&&(i.materials=h),f.length>0&&(i.textures=f),c.length>0&&(i.images=c),o.length>0&&(i.shapes=o),u.length>0&&(i.skeletons=u),d.length>0&&(i.animations=d),p.length>0&&(i.nodes=p)}return i.object=r,i;function a(l){const h=[];for(const f in l){const c=l[f];delete c.metadata,h.push(c)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ht.DefaultUp=new ee(0,1,0);Ht.DefaultMatrixAutoUpdate=!0;Ht.DefaultMatrixWorldAutoUpdate=!0;const Yr=new ee,zs=new ee,Y0=new ee,Ds=new ee,Yl=new ee,Xl=new ee,Ab=new ee,X0=new ee,Q0=new ee,$0=new ee;class kr{constructor(e=new ee,t=new ee,i=new ee){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Yr.subVectors(e,t),r.cross(Yr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Yr.subVectors(r,t),zs.subVectors(i,t),Y0.subVectors(e,t);const a=Yr.dot(Yr),l=Yr.dot(zs),h=Yr.dot(Y0),f=zs.dot(zs),c=zs.dot(Y0),o=a*f-l*l;if(o===0)return s.set(-2,-1,-1);const u=1/o,d=(f*h-l*c)*u,p=(a*c-l*h)*u;return s.set(1-d-p,p,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ds),Ds.x>=0&&Ds.y>=0&&Ds.x+Ds.y<=1}static getUV(e,t,i,r,s,a,l,h){return this.getBarycoord(e,t,i,r,Ds),h.set(0,0),h.addScaledVector(s,Ds.x),h.addScaledVector(a,Ds.y),h.addScaledVector(l,Ds.z),h}static isFrontFacing(e,t,i,r){return Yr.subVectors(i,t),zs.subVectors(e,t),Yr.cross(zs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yr.subVectors(this.c,this.b),zs.subVectors(this.a,this.b),Yr.cross(zs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return kr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return kr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return kr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return kr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return kr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,l;Yl.subVectors(r,i),Xl.subVectors(s,i),X0.subVectors(e,i);const h=Yl.dot(X0),f=Xl.dot(X0);if(h<=0&&f<=0)return t.copy(i);Q0.subVectors(e,r);const c=Yl.dot(Q0),o=Xl.dot(Q0);if(c>=0&&o<=c)return t.copy(r);const u=h*o-c*f;if(u<=0&&h>=0&&c<=0)return a=h/(h-c),t.copy(i).addScaledVector(Yl,a);$0.subVectors(e,s);const d=Yl.dot($0),p=Xl.dot($0);if(p>=0&&d<=p)return t.copy(s);const m=d*f-h*p;if(m<=0&&f>=0&&p<=0)return l=f/(f-p),t.copy(i).addScaledVector(Xl,l);const v=c*p-d*o;if(v<=0&&o-c>=0&&d-p>=0)return Ab.subVectors(s,r),l=(o-c)/(o-c+(d-p)),t.copy(r).addScaledVector(Ab,l);const x=1/(v+m+u);return a=m*x,l=u*x,t.copy(i).addScaledVector(Yl,a).addScaledVector(Xl,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let AI=0;class ci extends _s{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:AI++}),this.uuid=ur(),this.name="",this.type="Material",this.blending=qa,this.side=Ko,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ew,this.blendDst=Tw,this.blendEquation=za,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pm,this.stencilZFail=pm,this.stencilZPass=pm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==qa&&(i.blending=this.blending),this.side!==Ko&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const l in s){const h=s[l];delete h.metadata,a.push(h)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ea extends ci{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Un=new ee,fp=new ke;class Jt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=af,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)fp.fromBufferAttribute(this,t),fp.applyMatrix3(e),this.setXY(t,fp.x,fp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Un.fromBufferAttribute(this,t),Un.applyMatrix3(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Un.fromBufferAttribute(this,t),Un.applyMatrix4(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Un.fromBufferAttribute(this,t),Un.applyNormalMatrix(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Un.fromBufferAttribute(this,t),Un.transformDirection(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=js(t,this.array)),t}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=js(t,this.array)),t}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=js(t,this.array)),t}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=js(t,this.array)),t}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),i=qt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),i=qt(i,this.array),r=qt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),i=qt(i,this.array),r=qt(r,this.array),s=qt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==af&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class CI extends Jt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class MI extends Jt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class EI extends Jt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class TI extends Jt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Dw extends Jt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class LI extends Jt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class Ow extends Jt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class RI extends Jt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class nt extends Jt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class PI extends Jt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let kI=0;const Mr=new _t,q0=new Ht,Ql=new ee,rr=new gl,Ju=new gl,qn=new ee;class Tt extends _s{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kI++}),this.uuid=ur(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EE(e)?Ow:Dw)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new ki().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mr.makeRotationFromQuaternion(e),this.applyMatrix4(Mr),this}rotateX(e){return Mr.makeRotationX(e),this.applyMatrix4(Mr),this}rotateY(e){return Mr.makeRotationY(e),this.applyMatrix4(Mr),this}rotateZ(e){return Mr.makeRotationZ(e),this.applyMatrix4(Mr),this}translate(e,t,i){return Mr.makeTranslation(e,t,i),this.applyMatrix4(Mr),this}scale(e,t,i){return Mr.makeScale(e,t,i),this.applyMatrix4(Mr),this}lookAt(e){return q0.lookAt(e),q0.updateMatrix(),this.applyMatrix4(q0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ql).negate(),this.translate(Ql.x,Ql.y,Ql.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new nt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];rr.setFromBufferAttribute(s),this.morphTargetsRelative?(qn.addVectors(this.boundingBox.min,rr.min),this.boundingBox.expandByPoint(qn),qn.addVectors(this.boundingBox.max,rr.max),this.boundingBox.expandByPoint(qn)):(this.boundingBox.expandByPoint(rr.min),this.boundingBox.expandByPoint(rr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ee,1/0);return}if(e){const i=this.boundingSphere.center;if(rr.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];Ju.setFromBufferAttribute(l),this.morphTargetsRelative?(qn.addVectors(rr.min,Ju.min),rr.expandByPoint(qn),qn.addVectors(rr.max,Ju.max),rr.expandByPoint(qn)):(rr.expandByPoint(Ju.min),rr.expandByPoint(Ju.max))}rr.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)qn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(qn));if(t)for(let s=0,a=t.length;s<a;s++){const l=t[s],h=this.morphTargetsRelative;for(let f=0,c=l.count;f<c;f++)qn.fromBufferAttribute(l,f),h&&(Ql.fromBufferAttribute(e,f),qn.add(Ql)),r=Math.max(r,i.distanceToSquared(qn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,l=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jt(new Float32Array(4*l),4));const h=this.getAttribute("tangent").array,f=[],c=[];for(let S=0;S<l;S++)f[S]=new ee,c[S]=new ee;const o=new ee,u=new ee,d=new ee,p=new ke,m=new ke,v=new ke,x=new ee,w=new ee;function A(S,T,P){o.fromArray(r,S*3),u.fromArray(r,T*3),d.fromArray(r,P*3),p.fromArray(a,S*2),m.fromArray(a,T*2),v.fromArray(a,P*2),u.sub(o),d.sub(o),m.sub(p),v.sub(p);const I=1/(m.x*v.y-v.x*m.y);!isFinite(I)||(x.copy(u).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(I),w.copy(d).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(I),f[S].add(x),f[T].add(x),f[P].add(x),c[S].add(w),c[T].add(w),c[P].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let S=0,T=M.length;S<T;++S){const P=M[S],I=P.start,z=P.count;for(let O=I,D=I+z;O<D;O+=3)A(i[O+0],i[O+1],i[O+2])}const C=new ee,E=new ee,R=new ee,b=new ee;function _(S){R.fromArray(s,S*3),b.copy(R);const T=f[S];C.copy(T),C.sub(R.multiplyScalar(R.dot(T))).normalize(),E.crossVectors(b,T);const I=E.dot(c[S])<0?-1:1;h[S*4]=C.x,h[S*4+1]=C.y,h[S*4+2]=C.z,h[S*4+3]=I}for(let S=0,T=M.length;S<T;++S){const P=M[S],I=P.start,z=P.count;for(let O=I,D=I+z;O<D;O+=3)_(i[O+0]),_(i[O+1]),_(i[O+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Jt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let u=0,d=i.count;u<d;u++)i.setXYZ(u,0,0,0);const r=new ee,s=new ee,a=new ee,l=new ee,h=new ee,f=new ee,c=new ee,o=new ee;if(e)for(let u=0,d=e.count;u<d;u+=3){const p=e.getX(u+0),m=e.getX(u+1),v=e.getX(u+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),c.subVectors(a,s),o.subVectors(r,s),c.cross(o),l.fromBufferAttribute(i,p),h.fromBufferAttribute(i,m),f.fromBufferAttribute(i,v),l.add(c),h.add(c),f.add(c),i.setXYZ(p,l.x,l.y,l.z),i.setXYZ(m,h.x,h.y,h.z),i.setXYZ(v,f.x,f.y,f.z)}else for(let u=0,d=t.count;u<d;u+=3)r.fromBufferAttribute(t,u+0),s.fromBufferAttribute(t,u+1),a.fromBufferAttribute(t,u+2),c.subVectors(a,s),o.subVectors(r,s),c.cross(o),i.setXYZ(u+0,c.x,c.y,c.z),i.setXYZ(u+1,c.x,c.y,c.z),i.setXYZ(u+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)qn.fromBufferAttribute(e,t),qn.normalize(),e.setXYZ(t,qn.x,qn.y,qn.z)}toNonIndexed(){function e(l,h){const f=l.array,c=l.itemSize,o=l.normalized,u=new f.constructor(h.length*c);let d=0,p=0;for(let m=0,v=h.length;m<v;m++){l.isInterleavedBufferAttribute?d=h[m]*l.data.stride+l.offset:d=h[m]*c;for(let x=0;x<c;x++)u[p++]=f[d++]}return new Jt(u,c,o)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Tt,i=this.index.array,r=this.attributes;for(const l in r){const h=r[l],f=e(h,i);t.setAttribute(l,f)}const s=this.morphAttributes;for(const l in s){const h=[],f=s[l];for(let c=0,o=f.length;c<o;c++){const u=f[c],d=e(u,i);h.push(d)}t.morphAttributes[l]=h}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,h=a.length;l<h;l++){const f=a[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const f in h)h[f]!==void 0&&(e[f]=h[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const f=i[h];e.data.attributes[h]=f.toJSON(e.data)}const r={};let s=!1;for(const h in this.morphAttributes){const f=this.morphAttributes[h],c=[];for(let o=0,u=f.length;o<u;o++){const d=f[o];c.push(d.toJSON(e.data))}c.length>0&&(r[h]=c,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const c=r[f];this.setAttribute(f,c.clone(t))}const s=e.morphAttributes;for(const f in s){const c=[],o=s[f];for(let u=0,d=o.length;u<d;u++)c.push(o[u].clone(t));this.morphAttributes[f]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let f=0,c=a.length;f<c;f++){const o=a[f];this.addGroup(o.start,o.count,o.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Cb=new _t,$l=new If,J0=new vl,Zu=new ee,eh=new ee,th=new ee,Z0=new ee,dp=new ee,pp=new ke,mp=new ke,gp=new ke,e1=new ee,vp=new ee;class oi extends Ht{constructor(e=new Tt,t=new ea){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){dp.set(0,0,0);for(let h=0,f=s.length;h<f;h++){const c=l[h],o=s[h];c!==0&&(Z0.fromBufferAttribute(o,e),a?dp.addScaledVector(Z0,c):dp.addScaledVector(Z0.sub(t),c))}t.add(dp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),J0.copy(i.boundingSphere),J0.applyMatrix4(s),e.ray.intersectsSphere(J0)===!1)||(Cb.copy(s).invert(),$l.copy(e.ray).applyMatrix4(Cb),i.boundingBox!==null&&$l.intersectsBox(i.boundingBox)===!1))return;let a;const l=i.index,h=i.attributes.position,f=i.attributes.uv,c=i.attributes.uv2,o=i.groups,u=i.drawRange;if(l!==null)if(Array.isArray(r))for(let d=0,p=o.length;d<p;d++){const m=o[d],v=r[m.materialIndex],x=Math.max(m.start,u.start),w=Math.min(l.count,Math.min(m.start+m.count,u.start+u.count));for(let A=x,M=w;A<M;A+=3){const C=l.getX(A),E=l.getX(A+1),R=l.getX(A+2);a=yp(this,v,e,$l,f,c,C,E,R),a&&(a.faceIndex=Math.floor(A/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const d=Math.max(0,u.start),p=Math.min(l.count,u.start+u.count);for(let m=d,v=p;m<v;m+=3){const x=l.getX(m),w=l.getX(m+1),A=l.getX(m+2);a=yp(this,r,e,$l,f,c,x,w,A),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}else if(h!==void 0)if(Array.isArray(r))for(let d=0,p=o.length;d<p;d++){const m=o[d],v=r[m.materialIndex],x=Math.max(m.start,u.start),w=Math.min(h.count,Math.min(m.start+m.count,u.start+u.count));for(let A=x,M=w;A<M;A+=3){const C=A,E=A+1,R=A+2;a=yp(this,v,e,$l,f,c,C,E,R),a&&(a.faceIndex=Math.floor(A/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const d=Math.max(0,u.start),p=Math.min(h.count,u.start+u.count);for(let m=d,v=p;m<v;m+=3){const x=m,w=m+1,A=m+2;a=yp(this,r,e,$l,f,c,x,w,A),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}}}function II(n,e,t,i,r,s,a,l){let h;if(e.side===cr?h=i.intersectTriangle(a,s,r,!0,l):h=i.intersectTriangle(r,s,a,e.side===Ko,l),h===null)return null;vp.copy(l),vp.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(vp);return f<t.near||f>t.far?null:{distance:f,point:vp.clone(),object:n}}function yp(n,e,t,i,r,s,a,l,h){n.getVertexPosition(a,Zu),n.getVertexPosition(l,eh),n.getVertexPosition(h,th);const f=II(n,e,t,i,Zu,eh,th,e1);if(f){r&&(pp.fromBufferAttribute(r,a),mp.fromBufferAttribute(r,l),gp.fromBufferAttribute(r,h),f.uv=kr.getUV(e1,Zu,eh,th,pp,mp,gp,new ke)),s&&(pp.fromBufferAttribute(s,a),mp.fromBufferAttribute(s,l),gp.fromBufferAttribute(s,h),f.uv2=kr.getUV(e1,Zu,eh,th,pp,mp,gp,new ke));const c={a,b:l,c:h,normal:new ee,materialIndex:0};kr.getNormal(Zu,eh,th,c.normal),f.face=c}return f}class ta extends Tt{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const l=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const h=[],f=[],c=[],o=[];let u=0,d=0;p("z","y","x",-1,-1,i,t,e,a,s,0),p("z","y","x",1,-1,i,t,-e,a,s,1),p("x","z","y",1,1,e,i,t,r,a,2),p("x","z","y",1,-1,e,i,-t,r,a,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(h),this.setAttribute("position",new nt(f,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(o,2));function p(m,v,x,w,A,M,C,E,R,b,_){const S=M/R,T=C/b,P=M/2,I=C/2,z=E/2,O=R+1,D=b+1;let B=0,F=0;const U=new ee;for(let H=0;H<D;H++){const j=H*T-I;for(let Y=0;Y<O;Y++){const K=Y*S-P;U[m]=K*w,U[v]=j*A,U[x]=z,f.push(U.x,U.y,U.z),U[m]=0,U[v]=0,U[x]=E>0?1:-1,c.push(U.x,U.y,U.z),o.push(Y/R),o.push(1-H/b),B+=1}}for(let H=0;H<b;H++)for(let j=0;j<R;j++){const Y=u+j+O*H,K=u+j+O*(H+1),X=u+(j+1)+O*(H+1),$=u+(j+1)+O*H;h.push(Y,K,$),h.push(K,X,$),F+=6}l.addGroup(d,F,_),d+=F,u+=B}}static fromJSON(e){return new ta(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Li(n){const e={};for(let t=0;t<n.length;t++){const i=Qc(n[t]);for(const r in i)e[r]=i[r]}return e}function zI(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function LE(n){return n.getRenderTarget()===null&&n.outputEncoding===Xt?qr:Xc}const RE={clone:Qc,merge:Li};var DI=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,OI=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ss extends ci{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=DI,this.fragmentShader=OI,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qc(e.uniforms),this.uniformsGroups=zI(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class zf extends Ht{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _t,this.projectionMatrix=new _t,this.projectionMatrixInverse=new _t}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class hn extends zf{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=lf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Za*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lf*2*Math.atan(Math.tan(Za*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Za*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const h=a.fullWidth,f=a.fullHeight;s+=a.offsetX*r/h,t-=a.offsetY*i/f,r*=a.width/h,i*=a.height/f}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ql=-90,Jl=1;class PE extends Ht{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new hn(ql,Jl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new hn(ql,Jl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const a=new hn(ql,Jl,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const l=new hn(ql,Jl,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);const h=new hn(ql,Jl,e,t);h.layers=this.layers,h.up.set(0,1,0),h.lookAt(0,0,1),this.add(h);const f=new hn(ql,Jl,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,a,l,h,f]=this.children,c=e.getRenderTarget(),o=e.toneMapping,u=e.xr.enabled;e.toneMapping=is,e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,l),e.setRenderTarget(i,4),e.render(t,h),i.texture.generateMipmaps=d,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(c),e.toneMapping=o,e.xr.enabled=u,i.texture.needsPMREMUpdate=!0}}class Df extends Cn{constructor(e,t,i,r,s,a,l,h,f,c){e=e!==void 0?e:[],t=t!==void 0?t:jo,super(e,t,i,r,s,a,l,h,f,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kE extends Nr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Df(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:kn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ta(5,5,5),s=new Ss({name:"CubemapFromEquirect",uniforms:Qc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:cr,blending:Xs});s.uniforms.tEquirect.value=t;const a=new oi(r,s),l=t.minFilter;return t.minFilter===Xo&&(t.minFilter=kn),new PE(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}const t1=new ee,NI=new ee,FI=new ki;class Co{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=t1.subVectors(i,t).cross(NI.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(t1),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||FI.getNormalMatrix(e),r=this.coplanarPoint(t1).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zl=new vl,xp=new ee;class Vg{constructor(e=new Co,t=new Co,i=new Co,r=new Co,s=new Co,a=new Co){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(s),l[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],a=i[2],l=i[3],h=i[4],f=i[5],c=i[6],o=i[7],u=i[8],d=i[9],p=i[10],m=i[11],v=i[12],x=i[13],w=i[14],A=i[15];return t[0].setComponents(l-r,o-h,m-u,A-v).normalize(),t[1].setComponents(l+r,o+h,m+u,A+v).normalize(),t[2].setComponents(l+s,o+f,m+d,A+x).normalize(),t[3].setComponents(l-s,o-f,m-d,A-x).normalize(),t[4].setComponents(l-a,o-c,m-p,A-w).normalize(),t[5].setComponents(l+a,o+c,m+p,A+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Zl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Zl)}intersectsSprite(e){return Zl.center.set(0,0,0),Zl.radius=.7071067811865476,Zl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(xp.x=r.normal.x>0?e.max.x:e.min.x,xp.y=r.normal.y>0?e.max.y:e.min.y,xp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(xp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function IE(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function BI(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,c){const o=f.array,u=f.usage,d=n.createBuffer();n.bindBuffer(c,d),n.bufferData(c,o,u),f.onUploadCallback();let p;if(o instanceof Float32Array)p=5126;else if(o instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)p=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=5123;else if(o instanceof Int16Array)p=5122;else if(o instanceof Uint32Array)p=5125;else if(o instanceof Int32Array)p=5124;else if(o instanceof Int8Array)p=5120;else if(o instanceof Uint8Array)p=5121;else if(o instanceof Uint8ClampedArray)p=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);return{buffer:d,type:p,bytesPerElement:o.BYTES_PER_ELEMENT,version:f.version}}function s(f,c,o){const u=c.array,d=c.updateRange;n.bindBuffer(o,f),d.count===-1?n.bufferSubData(o,0,u):(t?n.bufferSubData(o,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count):n.bufferSubData(o,d.offset*u.BYTES_PER_ELEMENT,u.subarray(d.offset,d.offset+d.count)),d.count=-1),c.onUploadCallback()}function a(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function l(f){f.isInterleavedBufferAttribute&&(f=f.data);const c=i.get(f);c&&(n.deleteBuffer(c.buffer),i.delete(f))}function h(f,c){if(f.isGLBufferAttribute){const u=i.get(f);(!u||u.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const o=i.get(f);o===void 0?i.set(f,r(f,c)):o.version<f.version&&(s(o.buffer,f,c),o.version=f.version)}return{get:a,remove:l,update:h}}class cu extends Tt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,l=Math.floor(i),h=Math.floor(r),f=l+1,c=h+1,o=e/l,u=t/h,d=[],p=[],m=[],v=[];for(let x=0;x<c;x++){const w=x*u-a;for(let A=0;A<f;A++){const M=A*o-s;p.push(M,-w,0),m.push(0,0,1),v.push(A/l),v.push(1-x/h)}}for(let x=0;x<h;x++)for(let w=0;w<l;w++){const A=w+f*x,M=w+f*(x+1),C=w+1+f*(x+1),E=w+1+f*x;d.push(A,M,E),d.push(M,C,E)}this.setIndex(d),this.setAttribute("position",new nt(p,3)),this.setAttribute("normal",new nt(m,3)),this.setAttribute("uv",new nt(v,2))}static fromJSON(e){return new cu(e.width,e.height,e.widthSegments,e.heightSegments)}}var UI=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,HI=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WI=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,VI=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,GI=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,KI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,jI="vec3 transformed = vec3( position );",YI=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,XI=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,QI=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$I=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,qI=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,JI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ZI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ez=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,tz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,nz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,iz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,rz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,sz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,oz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,az=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,uz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,hz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,fz="gl_FragColor = linearToOutputTexel( gl_FragColor );",dz=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,pz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,mz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,gz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,yz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Sz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_z=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,bz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Az=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Cz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Mz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Ez=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Tz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Lz=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Rz=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Pz=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,kz=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Iz=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,zz=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Dz=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Oz=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Nz=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Fz=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Bz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Uz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Hz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Wz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Vz=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Gz=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Kz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Yz=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Xz=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Qz=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$z=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,qz=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Jz=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Zz=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,e5=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,t5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,n5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,i5=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,r5=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,s5=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,o5=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,a5=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,l5=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,c5=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,u5=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,h5=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,f5=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,d5=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,p5=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,m5=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,g5=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,v5=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,y5=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,x5=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,w5=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,S5=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_5=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,b5=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,A5=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,C5=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,M5=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,E5=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,T5=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,L5=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,R5=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,P5=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,k5=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,I5=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,z5=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,D5=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,O5=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,N5=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const F5=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,B5=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,U5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,H5=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,W5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,V5=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,G5=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,K5=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,j5=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Y5=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,X5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Q5=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$5=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,q5=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,J5=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Z5=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eD=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tD=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nD=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,iD=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rD=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sD=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,oD=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aD=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lD=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cD=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uD=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hD=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fD=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,dD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pD=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mD=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gD=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Et={alphamap_fragment:UI,alphamap_pars_fragment:HI,alphatest_fragment:WI,alphatest_pars_fragment:VI,aomap_fragment:GI,aomap_pars_fragment:KI,begin_vertex:jI,beginnormal_vertex:YI,bsdfs:XI,iridescence_fragment:QI,bumpmap_pars_fragment:$I,clipping_planes_fragment:qI,clipping_planes_pars_fragment:JI,clipping_planes_pars_vertex:ZI,clipping_planes_vertex:ez,color_fragment:tz,color_pars_fragment:nz,color_pars_vertex:iz,color_vertex:rz,common:sz,cube_uv_reflection_fragment:oz,defaultnormal_vertex:az,displacementmap_pars_vertex:lz,displacementmap_vertex:cz,emissivemap_fragment:uz,emissivemap_pars_fragment:hz,encodings_fragment:fz,encodings_pars_fragment:dz,envmap_fragment:pz,envmap_common_pars_fragment:mz,envmap_pars_fragment:gz,envmap_pars_vertex:vz,envmap_physical_pars_fragment:Lz,envmap_vertex:yz,fog_vertex:xz,fog_pars_vertex:wz,fog_fragment:Sz,fog_pars_fragment:_z,gradientmap_pars_fragment:bz,lightmap_fragment:Az,lightmap_pars_fragment:Cz,lights_lambert_fragment:Mz,lights_lambert_pars_fragment:Ez,lights_pars_begin:Tz,lights_toon_fragment:Rz,lights_toon_pars_fragment:Pz,lights_phong_fragment:kz,lights_phong_pars_fragment:Iz,lights_physical_fragment:zz,lights_physical_pars_fragment:Dz,lights_fragment_begin:Oz,lights_fragment_maps:Nz,lights_fragment_end:Fz,logdepthbuf_fragment:Bz,logdepthbuf_pars_fragment:Uz,logdepthbuf_pars_vertex:Hz,logdepthbuf_vertex:Wz,map_fragment:Vz,map_pars_fragment:Gz,map_particle_fragment:Kz,map_particle_pars_fragment:jz,metalnessmap_fragment:Yz,metalnessmap_pars_fragment:Xz,morphcolor_vertex:Qz,morphnormal_vertex:$z,morphtarget_pars_vertex:qz,morphtarget_vertex:Jz,normal_fragment_begin:Zz,normal_fragment_maps:e5,normal_pars_fragment:t5,normal_pars_vertex:n5,normal_vertex:i5,normalmap_pars_fragment:r5,clearcoat_normal_fragment_begin:s5,clearcoat_normal_fragment_maps:o5,clearcoat_pars_fragment:a5,iridescence_pars_fragment:l5,output_fragment:c5,packing:u5,premultiplied_alpha_fragment:h5,project_vertex:f5,dithering_fragment:d5,dithering_pars_fragment:p5,roughnessmap_fragment:m5,roughnessmap_pars_fragment:g5,shadowmap_pars_fragment:v5,shadowmap_pars_vertex:y5,shadowmap_vertex:x5,shadowmask_pars_fragment:w5,skinbase_vertex:S5,skinning_pars_vertex:_5,skinning_vertex:b5,skinnormal_vertex:A5,specularmap_fragment:C5,specularmap_pars_fragment:M5,tonemapping_fragment:E5,tonemapping_pars_fragment:T5,transmission_fragment:L5,transmission_pars_fragment:R5,uv_pars_fragment:P5,uv_pars_vertex:k5,uv_vertex:I5,uv2_pars_fragment:z5,uv2_pars_vertex:D5,uv2_vertex:O5,worldpos_vertex:N5,background_vert:F5,background_frag:B5,backgroundCube_vert:U5,backgroundCube_frag:H5,cube_vert:W5,cube_frag:V5,depth_vert:G5,depth_frag:K5,distanceRGBA_vert:j5,distanceRGBA_frag:Y5,equirect_vert:X5,equirect_frag:Q5,linedashed_vert:$5,linedashed_frag:q5,meshbasic_vert:J5,meshbasic_frag:Z5,meshlambert_vert:eD,meshlambert_frag:tD,meshmatcap_vert:nD,meshmatcap_frag:iD,meshnormal_vert:rD,meshnormal_frag:sD,meshphong_vert:oD,meshphong_frag:aD,meshphysical_vert:lD,meshphysical_frag:cD,meshtoon_vert:uD,meshtoon_frag:hD,points_vert:fD,points_frag:dD,shadow_vert:pD,shadow_frag:mD,sprite_vert:gD,sprite_frag:vD},Xe={common:{diffuse:{value:new Ze(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ki},uv2Transform:{value:new ki},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ki}},sprite:{diffuse:{value:new Ze(16777215)},opacity:{value:1},center:{value:new ke(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ki}}},Zr={basic:{uniforms:Li([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:Et.meshbasic_vert,fragmentShader:Et.meshbasic_frag},lambert:{uniforms:Li([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new Ze(0)}}]),vertexShader:Et.meshlambert_vert,fragmentShader:Et.meshlambert_frag},phong:{uniforms:Li([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new Ze(0)},specular:{value:new Ze(1118481)},shininess:{value:30}}]),vertexShader:Et.meshphong_vert,fragmentShader:Et.meshphong_frag},standard:{uniforms:Li([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new Ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag},toon:{uniforms:Li([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new Ze(0)}}]),vertexShader:Et.meshtoon_vert,fragmentShader:Et.meshtoon_frag},matcap:{uniforms:Li([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:Et.meshmatcap_vert,fragmentShader:Et.meshmatcap_frag},points:{uniforms:Li([Xe.points,Xe.fog]),vertexShader:Et.points_vert,fragmentShader:Et.points_frag},dashed:{uniforms:Li([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Et.linedashed_vert,fragmentShader:Et.linedashed_frag},depth:{uniforms:Li([Xe.common,Xe.displacementmap]),vertexShader:Et.depth_vert,fragmentShader:Et.depth_frag},normal:{uniforms:Li([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:Et.meshnormal_vert,fragmentShader:Et.meshnormal_frag},sprite:{uniforms:Li([Xe.sprite,Xe.fog]),vertexShader:Et.sprite_vert,fragmentShader:Et.sprite_frag},background:{uniforms:{uvTransform:{value:new ki},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Et.background_vert,fragmentShader:Et.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Et.backgroundCube_vert,fragmentShader:Et.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Et.cube_vert,fragmentShader:Et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Et.equirect_vert,fragmentShader:Et.equirect_frag},distanceRGBA:{uniforms:Li([Xe.common,Xe.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Et.distanceRGBA_vert,fragmentShader:Et.distanceRGBA_frag},shadow:{uniforms:Li([Xe.lights,Xe.fog,{color:{value:new Ze(0)},opacity:{value:1}}]),vertexShader:Et.shadow_vert,fragmentShader:Et.shadow_frag}};Zr.physical={uniforms:Li([Zr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ke(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ze(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ze(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ze(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag};const wp={r:0,b:0,g:0};function yD(n,e,t,i,r,s,a){const l=new Ze(0);let h=s===!0?0:1,f,c,o=null,u=0,d=null;function p(v,x){let w=!1,A=x.isScene===!0?x.background:null;A&&A.isTexture&&(A=(x.backgroundBlurriness>0?t:e).get(A));const M=n.xr,C=M.getSession&&M.getSession();C&&C.environmentBlendMode==="additive"&&(A=null),A===null?m(l,h):A&&A.isColor&&(m(A,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),A&&(A.isCubeTexture||A.mapping===au)?(c===void 0&&(c=new oi(new ta(1,1,1),new Ss({name:"BackgroundCubeMaterial",uniforms:Qc(Zr.backgroundCube.uniforms),vertexShader:Zr.backgroundCube.vertexShader,fragmentShader:Zr.backgroundCube.fragmentShader,side:cr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,R,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=A,c.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=A.encoding!==Xt,(o!==A||u!==A.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,o=A,u=A.version,d=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):A&&A.isTexture&&(f===void 0&&(f=new oi(new cu(2,2),new Ss({name:"BackgroundMaterial",uniforms:Qc(Zr.background.uniforms),vertexShader:Zr.background.vertexShader,fragmentShader:Zr.background.fragmentShader,side:Ko,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=A,f.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,f.material.toneMapped=A.encoding!==Xt,A.matrixAutoUpdate===!0&&A.updateMatrix(),f.material.uniforms.uvTransform.value.copy(A.matrix),(o!==A||u!==A.version||d!==n.toneMapping)&&(f.material.needsUpdate=!0,o=A,u=A.version,d=n.toneMapping),f.layers.enableAll(),v.unshift(f,f.geometry,f.material,0,0,null))}function m(v,x){v.getRGB(wp,LE(n)),i.buffers.color.setClear(wp.r,wp.g,wp.b,x,a)}return{getClearColor:function(){return l},setClearColor:function(v,x=1){l.set(v),h=x,m(l,h)},getClearAlpha:function(){return h},setClearAlpha:function(v){h=v,m(l,h)},render:p}}function xD(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,l={},h=v(null);let f=h,c=!1;function o(z,O,D,B,F){let U=!1;if(a){const H=m(B,D,O);f!==H&&(f=H,d(f.object)),U=x(z,B,D,F),U&&w(z,B,D,F)}else{const H=O.wireframe===!0;(f.geometry!==B.id||f.program!==D.id||f.wireframe!==H)&&(f.geometry=B.id,f.program=D.id,f.wireframe=H,U=!0)}F!==null&&t.update(F,34963),(U||c)&&(c=!1,b(z,O,D,B),F!==null&&n.bindBuffer(34963,t.get(F).buffer))}function u(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function d(z){return i.isWebGL2?n.bindVertexArray(z):s.bindVertexArrayOES(z)}function p(z){return i.isWebGL2?n.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function m(z,O,D){const B=D.wireframe===!0;let F=l[z.id];F===void 0&&(F={},l[z.id]=F);let U=F[O.id];U===void 0&&(U={},F[O.id]=U);let H=U[B];return H===void 0&&(H=v(u()),U[B]=H),H}function v(z){const O=[],D=[],B=[];for(let F=0;F<r;F++)O[F]=0,D[F]=0,B[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:D,attributeDivisors:B,object:z,attributes:{},index:null}}function x(z,O,D,B){const F=f.attributes,U=O.attributes;let H=0;const j=D.getAttributes();for(const Y in j)if(j[Y].location>=0){const X=F[Y];let $=U[Y];if($===void 0&&(Y==="instanceMatrix"&&z.instanceMatrix&&($=z.instanceMatrix),Y==="instanceColor"&&z.instanceColor&&($=z.instanceColor)),X===void 0||X.attribute!==$||$&&X.data!==$.data)return!0;H++}return f.attributesNum!==H||f.index!==B}function w(z,O,D,B){const F={},U=O.attributes;let H=0;const j=D.getAttributes();for(const Y in j)if(j[Y].location>=0){let X=U[Y];X===void 0&&(Y==="instanceMatrix"&&z.instanceMatrix&&(X=z.instanceMatrix),Y==="instanceColor"&&z.instanceColor&&(X=z.instanceColor));const $={};$.attribute=X,X&&X.data&&($.data=X.data),F[Y]=$,H++}f.attributes=F,f.attributesNum=H,f.index=B}function A(){const z=f.newAttributes;for(let O=0,D=z.length;O<D;O++)z[O]=0}function M(z){C(z,0)}function C(z,O){const D=f.newAttributes,B=f.enabledAttributes,F=f.attributeDivisors;D[z]=1,B[z]===0&&(n.enableVertexAttribArray(z),B[z]=1),F[z]!==O&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,O),F[z]=O)}function E(){const z=f.newAttributes,O=f.enabledAttributes;for(let D=0,B=O.length;D<B;D++)O[D]!==z[D]&&(n.disableVertexAttribArray(D),O[D]=0)}function R(z,O,D,B,F,U){i.isWebGL2===!0&&(D===5124||D===5125)?n.vertexAttribIPointer(z,O,D,F,U):n.vertexAttribPointer(z,O,D,B,F,U)}function b(z,O,D,B){if(i.isWebGL2===!1&&(z.isInstancedMesh||B.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const F=B.attributes,U=D.getAttributes(),H=O.defaultAttributeValues;for(const j in U){const Y=U[j];if(Y.location>=0){let K=F[j];if(K===void 0&&(j==="instanceMatrix"&&z.instanceMatrix&&(K=z.instanceMatrix),j==="instanceColor"&&z.instanceColor&&(K=z.instanceColor)),K!==void 0){const X=K.normalized,$=K.itemSize,q=t.get(K);if(q===void 0)continue;const pe=q.buffer,he=q.type,Ae=q.bytesPerElement;if(K.isInterleavedBufferAttribute){const me=K.data,De=me.stride,fe=K.offset;if(me.isInstancedInterleavedBuffer){for(let xe=0;xe<Y.locationSize;xe++)C(Y.location+xe,me.meshPerAttribute);z.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let xe=0;xe<Y.locationSize;xe++)M(Y.location+xe);n.bindBuffer(34962,pe);for(let xe=0;xe<Y.locationSize;xe++)R(Y.location+xe,$/Y.locationSize,he,X,De*Ae,(fe+$/Y.locationSize*xe)*Ae)}else{if(K.isInstancedBufferAttribute){for(let me=0;me<Y.locationSize;me++)C(Y.location+me,K.meshPerAttribute);z.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let me=0;me<Y.locationSize;me++)M(Y.location+me);n.bindBuffer(34962,pe);for(let me=0;me<Y.locationSize;me++)R(Y.location+me,$/Y.locationSize,he,X,$*Ae,$/Y.locationSize*me*Ae)}}else if(H!==void 0){const X=H[j];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv(Y.location,X);break;case 3:n.vertexAttrib3fv(Y.location,X);break;case 4:n.vertexAttrib4fv(Y.location,X);break;default:n.vertexAttrib1fv(Y.location,X)}}}}E()}function _(){P();for(const z in l){const O=l[z];for(const D in O){const B=O[D];for(const F in B)p(B[F].object),delete B[F];delete O[D]}delete l[z]}}function S(z){if(l[z.id]===void 0)return;const O=l[z.id];for(const D in O){const B=O[D];for(const F in B)p(B[F].object),delete B[F];delete O[D]}delete l[z.id]}function T(z){for(const O in l){const D=l[O];if(D[z.id]===void 0)continue;const B=D[z.id];for(const F in B)p(B[F].object),delete B[F];delete D[z.id]}}function P(){I(),c=!0,f!==h&&(f=h,d(f.object))}function I(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:o,reset:P,resetDefaultState:I,dispose:_,releaseStatesOfGeometry:S,releaseStatesOfProgram:T,initAttributes:A,enableAttribute:M,disableUnusedAttributes:E}}function wD(n,e,t,i){const r=i.isWebGL2;let s;function a(f){s=f}function l(f,c){n.drawArrays(s,f,c),t.update(c,s,1)}function h(f,c,o){if(o===0)return;let u,d;if(r)u=n,d="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[d](s,f,c,o),t.update(c,s,o)}this.setMode=a,this.render=l,this.renderInstances=h}function SD(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let l=t.precision!==void 0?t.precision:"highp";const h=s(l);h!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",h,"instead."),l=h);const f=a||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,o=n.getParameter(34930),u=n.getParameter(35660),d=n.getParameter(3379),p=n.getParameter(34076),m=n.getParameter(34921),v=n.getParameter(36347),x=n.getParameter(36348),w=n.getParameter(36349),A=u>0,M=a||e.has("OES_texture_float"),C=A&&M,E=a?n.getParameter(36183):0;return{isWebGL2:a,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:c,maxTextures:o,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:A,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:E}}function _D(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new Co,l=new ki,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(o,u,d){const p=o.length!==0||u||i!==0||r;return r=u,t=c(o,d,0),i=o.length,p},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1,f()},this.setState=function(o,u,d){const p=o.clippingPlanes,m=o.clipIntersection,v=o.clipShadows,x=n.get(o);if(!r||p===null||p.length===0||s&&!v)s?c(null):f();else{const w=s?0:i,A=w*4;let M=x.clippingState||null;h.value=M,M=c(p,u,A,d);for(let C=0;C!==A;++C)M[C]=t[C];x.clippingState=M,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=w}};function f(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(o,u,d,p){const m=o!==null?o.length:0;let v=null;if(m!==0){if(v=h.value,p!==!0||v===null){const x=d+m*4,w=u.matrixWorldInverse;l.getNormalMatrix(w),(v===null||v.length<x)&&(v=new Float32Array(x));for(let A=0,M=d;A!==m;++A,M+=4)a.copy(o[A]).applyMatrix4(w,l),a.normal.toArray(v,M),v[M+3]=a.constant}h.value=v,h.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function bD(n){let e=new WeakMap;function t(a,l){return l===Zh?a.mapping=jo:l===ef&&(a.mapping=Yo),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===Zh||l===ef)if(e.has(a)){const h=e.get(a).texture;return t(h,a.mapping)}else{const h=a.image;if(h&&h.height>0){const f=new kE(h.height/2);return f.fromEquirectangularTexture(n,a),e.set(a,f),a.addEventListener("dispose",r),t(f.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const h=e.get(l);h!==void 0&&(e.delete(l),h.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Wo extends zf{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,l=r+t,h=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,a=s+f*this.view.width,l-=c*this.view.offsetY,h=l-c*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,h,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Mc=4,Mb=[.125,.215,.35,.446,.526,.582],Da=20,n1=new Wo,Eb=new Ze;let i1=null;const ka=(1+Math.sqrt(5))/2,ec=1/ka,Tb=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,ka,ec),new ee(0,ka,-ec),new ee(ec,0,ka),new ee(-ec,0,ka),new ee(ka,ec,0),new ee(-ka,ec,0)];class ix{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){i1=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Pb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Rb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(i1),e.scissorTest=!1,Sp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===jo||e.mapping===Yo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),i1=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:kn,minFilter:kn,generateMipmaps:!1,type:Yc,format:ji,encoding:eo,depthBuffer:!1},r=Lb(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Lb(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=AD(s)),this._blurMaterial=CD(s,e,t)}return r}_compileMaterial(e){const t=new oi(this._lodPlanes[0],e);this._renderer.compile(t,n1)}_sceneToCubeUV(e,t,i,r){const l=new hn(90,1,t,i),h=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],c=this._renderer,o=c.autoClear,u=c.toneMapping;c.getClearColor(Eb),c.toneMapping=is,c.autoClear=!1;const d=new ea({name:"PMREM.Background",side:cr,depthWrite:!1,depthTest:!1}),p=new oi(new ta,d);let m=!1;const v=e.background;v?v.isColor&&(d.color.copy(v),e.background=null,m=!0):(d.color.copy(Eb),m=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(l.up.set(0,h[x],0),l.lookAt(f[x],0,0)):w===1?(l.up.set(0,0,h[x]),l.lookAt(0,f[x],0)):(l.up.set(0,h[x],0),l.lookAt(0,0,f[x]));const A=this._cubeSize;Sp(r,w*A,x>2?A:0,A,A),c.setRenderTarget(r),m&&c.render(p,l),c.render(e,l)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=u,c.autoClear=o,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===jo||e.mapping===Yo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Pb()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Rb());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new oi(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const h=this._cubeSize;Sp(t,0,0,3*h,2*h),i.setRenderTarget(t),i.render(a,n1)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Tb[(r-1)%Tb.length];this._blur(e,r-1,r,s,a)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,l){const h=this._renderer,f=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,o=new oi(this._lodPlanes[r],f),u=f.uniforms,d=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Da-1),m=s/p,v=isFinite(s)?1+Math.floor(c*m):Da;v>Da&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Da}`);const x=[];let w=0;for(let R=0;R<Da;++R){const b=R/m,_=Math.exp(-b*b/2);x.push(_),R===0?w+=_:R<v&&(w+=2*_)}for(let R=0;R<x.length;R++)x[R]=x[R]/w;u.envMap.value=e.texture,u.samples.value=v,u.weights.value=x,u.latitudinal.value=a==="latitudinal",l&&(u.poleAxis.value=l);const{_lodMax:A}=this;u.dTheta.value=p,u.mipInt.value=A-i;const M=this._sizeLods[r],C=3*M*(r>A-Mc?r-A+Mc:0),E=4*(this._cubeSize-M);Sp(t,C,E,3*M,2*M),h.setRenderTarget(t),h.render(o,n1)}}function AD(n){const e=[],t=[],i=[];let r=n;const s=n-Mc+1+Mb.length;for(let a=0;a<s;a++){const l=Math.pow(2,r);t.push(l);let h=1/l;a>n-Mc?h=Mb[a-n+Mc-1]:a===0&&(h=0),i.push(h);const f=1/(l-2),c=-f,o=1+f,u=[c,c,o,c,o,o,c,c,o,o,c,o],d=6,p=6,m=3,v=2,x=1,w=new Float32Array(m*p*d),A=new Float32Array(v*p*d),M=new Float32Array(x*p*d);for(let E=0;E<d;E++){const R=E%3*2/3-1,b=E>2?0:-1,_=[R,b,0,R+2/3,b,0,R+2/3,b+1,0,R,b,0,R+2/3,b+1,0,R,b+1,0];w.set(_,m*p*E),A.set(u,v*p*E);const S=[E,E,E,E,E,E];M.set(S,x*p*E)}const C=new Tt;C.setAttribute("position",new Jt(w,m)),C.setAttribute("uv",new Jt(A,v)),C.setAttribute("faceIndex",new Jt(M,x)),e.push(C),r>Mc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Lb(n,e,t){const i=new Nr(n,e,t);return i.texture.mapping=au,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Sp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function CD(n,e,t){const i=new Float32Array(Da),r=new ee(0,1,0);return new Ss({name:"SphericalGaussianBlur",defines:{n:Da,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Nw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xs,depthTest:!1,depthWrite:!1})}function Rb(){return new Ss({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Nw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xs,depthTest:!1,depthWrite:!1})}function Pb(){return new Ss({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Nw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xs,depthTest:!1,depthWrite:!1})}function Nw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function MD(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const h=l.mapping,f=h===Zh||h===ef,c=h===jo||h===Yo;if(f||c)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let o=e.get(l);return t===null&&(t=new ix(n)),o=f?t.fromEquirectangular(l,o):t.fromCubemap(l,o),e.set(l,o),o.texture}else{if(e.has(l))return e.get(l).texture;{const o=l.image;if(f&&o&&o.height>0||c&&o&&r(o)){t===null&&(t=new ix(n));const u=f?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,u),l.addEventListener("dispose",s),u.texture}else return null}}}return l}function r(l){let h=0;const f=6;for(let c=0;c<f;c++)l[c]!==void 0&&h++;return h===f}function s(l){const h=l.target;h.removeEventListener("dispose",s);const f=e.get(h);f!==void 0&&(e.delete(h),f.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function ED(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function TD(n,e,t,i){const r={},s=new WeakMap;function a(o){const u=o.target;u.index!==null&&e.remove(u.index);for(const p in u.attributes)e.remove(u.attributes[p]);u.removeEventListener("dispose",a),delete r[u.id];const d=s.get(u);d&&(e.remove(d),s.delete(u)),i.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,t.memory.geometries--}function l(o,u){return r[u.id]===!0||(u.addEventListener("dispose",a),r[u.id]=!0,t.memory.geometries++),u}function h(o){const u=o.attributes;for(const p in u)e.update(u[p],34962);const d=o.morphAttributes;for(const p in d){const m=d[p];for(let v=0,x=m.length;v<x;v++)e.update(m[v],34962)}}function f(o){const u=[],d=o.index,p=o.attributes.position;let m=0;if(d!==null){const w=d.array;m=d.version;for(let A=0,M=w.length;A<M;A+=3){const C=w[A+0],E=w[A+1],R=w[A+2];u.push(C,E,E,R,R,C)}}else{const w=p.array;m=p.version;for(let A=0,M=w.length/3-1;A<M;A+=3){const C=A+0,E=A+1,R=A+2;u.push(C,E,E,R,R,C)}}const v=new(EE(u)?Ow:Dw)(u,1);v.version=m;const x=s.get(o);x&&e.remove(x),s.set(o,v)}function c(o){const u=s.get(o);if(u){const d=o.index;d!==null&&u.version<d.version&&f(o)}else f(o);return s.get(o)}return{get:l,update:h,getWireframeAttribute:c}}function LD(n,e,t,i){const r=i.isWebGL2;let s;function a(u){s=u}let l,h;function f(u){l=u.type,h=u.bytesPerElement}function c(u,d){n.drawElements(s,d,l,u*h),t.update(d,s,1)}function o(u,d,p){if(p===0)return;let m,v;if(r)m=n,v="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,d,l,u*h,p),t.update(d,s,p)}this.setMode=a,this.setIndex=f,this.render=c,this.renderInstances=o}function RD(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,l){switch(t.calls++,a){case 4:t.triangles+=l*(s/3);break;case 1:t.lines+=l*(s/2);break;case 3:t.lines+=l*(s-1);break;case 2:t.lines+=l*s;break;case 0:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function PD(n,e){return n[0]-e[0]}function kD(n,e){return Math.abs(e[1])-Math.abs(n[1])}function ID(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,a=new Gt,l=[];for(let f=0;f<8;f++)l[f]=[f,0];function h(f,c,o,u){const d=f.morphTargetInfluences;if(e.isWebGL2===!0){const m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=m!==void 0?m.length:0;let x=s.get(c);if(x===void 0||x.count!==v){let D=function(){z.dispose(),s.delete(c),c.removeEventListener("dispose",D)};var p=D;x!==void 0&&x.texture.dispose();const M=c.morphAttributes.position!==void 0,C=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,R=c.morphAttributes.position||[],b=c.morphAttributes.normal||[],_=c.morphAttributes.color||[];let S=0;M===!0&&(S=1),C===!0&&(S=2),E===!0&&(S=3);let T=c.attributes.position.count*S,P=1;T>e.maxTextureSize&&(P=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const I=new Float32Array(T*P*4*v),z=new kf(I,T,P,v);z.type=Ks,z.needsUpdate=!0;const O=S*4;for(let B=0;B<v;B++){const F=R[B],U=b[B],H=_[B],j=T*P*4*B;for(let Y=0;Y<F.count;Y++){const K=Y*O;M===!0&&(a.fromBufferAttribute(F,Y),I[j+K+0]=a.x,I[j+K+1]=a.y,I[j+K+2]=a.z,I[j+K+3]=0),C===!0&&(a.fromBufferAttribute(U,Y),I[j+K+4]=a.x,I[j+K+5]=a.y,I[j+K+6]=a.z,I[j+K+7]=0),E===!0&&(a.fromBufferAttribute(H,Y),I[j+K+8]=a.x,I[j+K+9]=a.y,I[j+K+10]=a.z,I[j+K+11]=H.itemSize===4?a.w:1)}}x={count:v,texture:z,size:new ke(T,P)},s.set(c,x),c.addEventListener("dispose",D)}let w=0;for(let M=0;M<d.length;M++)w+=d[M];const A=c.morphTargetsRelative?1:1-w;u.getUniforms().setValue(n,"morphTargetBaseInfluence",A),u.getUniforms().setValue(n,"morphTargetInfluences",d),u.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const m=d===void 0?0:d.length;let v=i[c.id];if(v===void 0||v.length!==m){v=[];for(let C=0;C<m;C++)v[C]=[C,0];i[c.id]=v}for(let C=0;C<m;C++){const E=v[C];E[0]=C,E[1]=d[C]}v.sort(kD);for(let C=0;C<8;C++)C<m&&v[C][1]?(l[C][0]=v[C][0],l[C][1]=v[C][1]):(l[C][0]=Number.MAX_SAFE_INTEGER,l[C][1]=0);l.sort(PD);const x=c.morphAttributes.position,w=c.morphAttributes.normal;let A=0;for(let C=0;C<8;C++){const E=l[C],R=E[0],b=E[1];R!==Number.MAX_SAFE_INTEGER&&b?(x&&c.getAttribute("morphTarget"+C)!==x[R]&&c.setAttribute("morphTarget"+C,x[R]),w&&c.getAttribute("morphNormal"+C)!==w[R]&&c.setAttribute("morphNormal"+C,w[R]),r[C]=b,A+=b):(x&&c.hasAttribute("morphTarget"+C)===!0&&c.deleteAttribute("morphTarget"+C),w&&c.hasAttribute("morphNormal"+C)===!0&&c.deleteAttribute("morphNormal"+C),r[C]=0)}const M=c.morphTargetsRelative?1:1-A;u.getUniforms().setValue(n,"morphTargetBaseInfluence",M),u.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:h}}function zD(n,e,t,i){let r=new WeakMap;function s(h){const f=i.render.frame,c=h.geometry,o=e.get(h,c);return r.get(o)!==f&&(e.update(o),r.set(o,f)),h.isInstancedMesh&&(h.hasEventListener("dispose",l)===!1&&h.addEventListener("dispose",l),t.update(h.instanceMatrix,34962),h.instanceColor!==null&&t.update(h.instanceColor,34962)),o}function a(){r=new WeakMap}function l(h){const f=h.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:a}}const zE=new Cn,DE=new kf,OE=new Wg,NE=new Df,kb=[],Ib=[],zb=new Float32Array(16),Db=new Float32Array(9),Ob=new Float32Array(4);function uu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=kb[r];if(s===void 0&&(s=new Float32Array(r),kb[r]=s),e!==0){i.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=t,n[a].toArray(s,l)}return s}function Yn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Xn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Gg(n,e){let t=Ib[e];t===void 0&&(t=new Int32Array(e),Ib[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function DD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function OD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yn(t,e))return;n.uniform2fv(this.addr,e),Xn(t,e)}}function ND(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Yn(t,e))return;n.uniform3fv(this.addr,e),Xn(t,e)}}function FD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yn(t,e))return;n.uniform4fv(this.addr,e),Xn(t,e)}}function BD(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Xn(t,e)}else{if(Yn(t,i))return;Ob.set(i),n.uniformMatrix2fv(this.addr,!1,Ob),Xn(t,i)}}function UD(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Xn(t,e)}else{if(Yn(t,i))return;Db.set(i),n.uniformMatrix3fv(this.addr,!1,Db),Xn(t,i)}}function HD(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Xn(t,e)}else{if(Yn(t,i))return;zb.set(i),n.uniformMatrix4fv(this.addr,!1,zb),Xn(t,i)}}function WD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function VD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yn(t,e))return;n.uniform2iv(this.addr,e),Xn(t,e)}}function GD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yn(t,e))return;n.uniform3iv(this.addr,e),Xn(t,e)}}function KD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yn(t,e))return;n.uniform4iv(this.addr,e),Xn(t,e)}}function jD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function YD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yn(t,e))return;n.uniform2uiv(this.addr,e),Xn(t,e)}}function XD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yn(t,e))return;n.uniform3uiv(this.addr,e),Xn(t,e)}}function QD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yn(t,e))return;n.uniform4uiv(this.addr,e),Xn(t,e)}}function $D(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||zE,r)}function qD(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||OE,r)}function JD(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||NE,r)}function ZD(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||DE,r)}function eO(n){switch(n){case 5126:return DD;case 35664:return OD;case 35665:return ND;case 35666:return FD;case 35674:return BD;case 35675:return UD;case 35676:return HD;case 5124:case 35670:return WD;case 35667:case 35671:return VD;case 35668:case 35672:return GD;case 35669:case 35673:return KD;case 5125:return jD;case 36294:return YD;case 36295:return XD;case 36296:return QD;case 35678:case 36198:case 36298:case 36306:case 35682:return $D;case 35679:case 36299:case 36307:return qD;case 35680:case 36300:case 36308:case 36293:return JD;case 36289:case 36303:case 36311:case 36292:return ZD}}function tO(n,e){n.uniform1fv(this.addr,e)}function nO(n,e){const t=uu(e,this.size,2);n.uniform2fv(this.addr,t)}function iO(n,e){const t=uu(e,this.size,3);n.uniform3fv(this.addr,t)}function rO(n,e){const t=uu(e,this.size,4);n.uniform4fv(this.addr,t)}function sO(n,e){const t=uu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function oO(n,e){const t=uu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function aO(n,e){const t=uu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function lO(n,e){n.uniform1iv(this.addr,e)}function cO(n,e){n.uniform2iv(this.addr,e)}function uO(n,e){n.uniform3iv(this.addr,e)}function hO(n,e){n.uniform4iv(this.addr,e)}function fO(n,e){n.uniform1uiv(this.addr,e)}function dO(n,e){n.uniform2uiv(this.addr,e)}function pO(n,e){n.uniform3uiv(this.addr,e)}function mO(n,e){n.uniform4uiv(this.addr,e)}function gO(n,e,t){const i=this.cache,r=e.length,s=Gg(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Xn(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||zE,s[a])}function vO(n,e,t){const i=this.cache,r=e.length,s=Gg(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Xn(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||OE,s[a])}function yO(n,e,t){const i=this.cache,r=e.length,s=Gg(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Xn(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||NE,s[a])}function xO(n,e,t){const i=this.cache,r=e.length,s=Gg(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Xn(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||DE,s[a])}function wO(n){switch(n){case 5126:return tO;case 35664:return nO;case 35665:return iO;case 35666:return rO;case 35674:return sO;case 35675:return oO;case 35676:return aO;case 5124:case 35670:return lO;case 35667:case 35671:return cO;case 35668:case 35672:return uO;case 35669:case 35673:return hO;case 5125:return fO;case 36294:return dO;case 36295:return pO;case 36296:return mO;case 35678:case 36198:case 36298:case 36306:case 35682:return gO;case 35679:case 36299:case 36307:return vO;case 35680:case 36300:case 36308:case 36293:return yO;case 36289:case 36303:case 36311:case 36292:return xO}}class SO{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=eO(t.type)}}class _O{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=wO(t.type)}}class bO{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const l=r[s];l.setValue(e,t[l.id],i)}}}const r1=/(\w+)(\])?(\[|\.)?/g;function Nb(n,e){n.seq.push(e),n.map[e.id]=e}function AO(n,e,t){const i=n.name,r=i.length;for(r1.lastIndex=0;;){const s=r1.exec(i),a=r1.lastIndex;let l=s[1];const h=s[2]==="]",f=s[3];if(h&&(l=l|0),f===void 0||f==="["&&a+2===r){Nb(t,f===void 0?new SO(l,n,e):new _O(l,n,e));break}else{let o=t.map[l];o===void 0&&(o=new bO(l),Nb(t,o)),t=o}}}class gm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);AO(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const l=t[s],h=i[l.id];h.needsUpdate!==!1&&l.setValue(e,h.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function Fb(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let CO=0;function MO(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const l=a+1;i.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return i.join(`
`)}function EO(n){switch(n){case eo:return["Linear","( value )"];case Xt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Bb(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+MO(n.getShaderSource(e),a)}else return r}function TO(n,e){const t=EO(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function LO(n,e){let t;switch(e){case ZM:t="Linear";break;case eE:t="Reinhard";break;case tE:t="OptimizedCineon";break;case Lw:t="ACESFilmic";break;case nE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function RO(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(mh).join(`
`)}function PO(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function kO(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let l=1;s.type===35674&&(l=2),s.type===35675&&(l=3),s.type===35676&&(l=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:l}}return t}function mh(n){return n!==""}function Ub(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Hb(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const IO=/^[ \t]*#include +<([\w\d./]+)>/gm;function rx(n){return n.replace(IO,zO)}function zO(n,e){const t=Et[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return rx(t)}const DO=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wb(n){return n.replace(DO,OO)}function OO(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Vb(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function NO(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Bg?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Mh?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ha&&(e="SHADOWMAP_TYPE_VSM"),e}function FO(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case jo:case Yo:e="ENVMAP_TYPE_CUBE";break;case au:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BO(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Yo:e="ENVMAP_MODE_REFRACTION";break}return e}function UO(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Pf:e="ENVMAP_BLENDING_MULTIPLY";break;case qM:e="ENVMAP_BLENDING_MIX";break;case JM:e="ENVMAP_BLENDING_ADD";break}return e}function HO(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function WO(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,l=t.fragmentShader;const h=NO(t),f=FO(t),c=BO(t),o=UO(t),u=HO(t),d=t.isWebGL2?"":RO(t),p=PO(s),m=r.createProgram();let v,x,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[p].filter(mh).join(`
`),v.length>0&&(v+=`
`),x=[d,p].filter(mh).join(`
`),x.length>0&&(x+=`
`)):(v=[Vb(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(mh).join(`
`),x=[d,Vb(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+c:"",t.envMap?"#define "+o:"",u?"#define CUBEUV_TEXEL_WIDTH "+u.texelWidth:"",u?"#define CUBEUV_TEXEL_HEIGHT "+u.texelHeight:"",u?"#define CUBEUV_MAX_MIP "+u.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==is?"#define TONE_MAPPING":"",t.toneMapping!==is?Et.tonemapping_pars_fragment:"",t.toneMapping!==is?LO("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Et.encodings_pars_fragment,TO("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(mh).join(`
`)),a=rx(a),a=Ub(a,t),a=Hb(a,t),l=rx(l),l=Ub(l,t),l=Hb(l,t),a=Wb(a),l=Wb(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,x=["#define varying in",t.glslVersion===$m?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===$m?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const A=w+v+a,M=w+x+l,C=Fb(r,35633,A),E=Fb(r,35632,M);if(r.attachShader(m,C),r.attachShader(m,E),t.index0AttributeName!==void 0?r.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const _=r.getProgramInfoLog(m).trim(),S=r.getShaderInfoLog(C).trim(),T=r.getShaderInfoLog(E).trim();let P=!0,I=!0;if(r.getProgramParameter(m,35714)===!1){P=!1;const z=Bb(r,C,"vertex"),O=Bb(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+`

Program Info Log: `+_+`
`+z+`
`+O)}else _!==""?console.warn("THREE.WebGLProgram: Program Info Log:",_):(S===""||T==="")&&(I=!1);I&&(this.diagnostics={runnable:P,programLog:_,vertexShader:{log:S,prefix:v},fragmentShader:{log:T,prefix:x}})}r.deleteShader(C),r.deleteShader(E);let R;this.getUniforms=function(){return R===void 0&&(R=new gm(r,m)),R};let b;return this.getAttributes=function(){return b===void 0&&(b=kO(r,m)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=CO++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=C,this.fragmentShader=E,this}let VO=0;class GO{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new KO(e),t.set(e,i)),i}}class KO{constructor(e){this.id=VO++,this.code=e,this.usedTimes=0}}function jO(n,e,t,i,r,s,a){const l=new tl,h=new GO,f=[],c=r.isWebGL2,o=r.logarithmicDepthBuffer,u=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(b,_,S,T,P){const I=T.fog,z=P.geometry,O=b.isMeshStandardMaterial?T.environment:null,D=(b.isMeshStandardMaterial?t:e).get(b.envMap||O),B=!!D&&D.mapping===au?D.image.height:null,F=p[b.type];b.precision!==null&&(d=r.getMaxPrecision(b.precision),d!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",d,"instead."));const U=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,H=U!==void 0?U.length:0;let j=0;z.morphAttributes.position!==void 0&&(j=1),z.morphAttributes.normal!==void 0&&(j=2),z.morphAttributes.color!==void 0&&(j=3);let Y,K,X,$;if(F){const De=Zr[F];Y=De.vertexShader,K=De.fragmentShader}else Y=b.vertexShader,K=b.fragmentShader,h.update(b),X=h.getVertexShaderID(b),$=h.getFragmentShaderID(b);const q=n.getRenderTarget(),pe=b.alphaTest>0,he=b.clearcoat>0,Ae=b.iridescence>0;return{isWebGL2:c,shaderID:F,shaderName:b.type,vertexShader:Y,fragmentShader:K,defines:b.defines,customVertexShaderID:X,customFragmentShaderID:$,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:d,instancing:P.isInstancedMesh===!0,instancingColor:P.isInstancedMesh===!0&&P.instanceColor!==null,supportsVertexTextures:u,outputEncoding:q===null?n.outputEncoding:q.isXRRenderTarget===!0?q.texture.encoding:eo,map:!!b.map,matcap:!!b.matcap,envMap:!!D,envMapMode:D&&D.mapping,envMapCubeUVHeight:B,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===bE,tangentSpaceNormalMap:b.normalMapType===Zo,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===Xt,clearcoat:he,clearcoatMap:he&&!!b.clearcoatMap,clearcoatRoughnessMap:he&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!b.clearcoatNormalMap,iridescence:Ae,iridescenceMap:Ae&&!!b.iridescenceMap,iridescenceThicknessMap:Ae&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===qa,alphaMap:!!b.alphaMap,alphaTest:pe,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!z.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||b.transmission>0||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||b.sheen>0||!!b.sheenColorMap||!!b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!I,useFog:b.fog===!0,fogExp2:I&&I.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:o,skinning:P.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:j,numDirLights:_.directional.length,numPointLights:_.point.length,numSpotLights:_.spot.length,numSpotLightMaps:_.spotLightMap.length,numRectAreaLights:_.rectArea.length,numHemiLights:_.hemi.length,numDirLightShadows:_.directionalShadowMap.length,numPointLightShadows:_.pointShadowMap.length,numSpotLightShadows:_.spotShadowMap.length,numSpotLightShadowsWithMaps:_.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&S.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:is,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Rf,flipSided:b.side===cr,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function v(b){const _=[];if(b.shaderID?_.push(b.shaderID):(_.push(b.customVertexShaderID),_.push(b.customFragmentShaderID)),b.defines!==void 0)for(const S in b.defines)_.push(S),_.push(b.defines[S]);return b.isRawShaderMaterial===!1&&(x(_,b),w(_,b),_.push(n.outputEncoding)),_.push(b.customProgramCacheKey),_.join()}function x(b,_){b.push(_.precision),b.push(_.outputEncoding),b.push(_.envMapMode),b.push(_.envMapCubeUVHeight),b.push(_.combine),b.push(_.vertexUvs),b.push(_.fogExp2),b.push(_.sizeAttenuation),b.push(_.morphTargetsCount),b.push(_.morphAttributeCount),b.push(_.numDirLights),b.push(_.numPointLights),b.push(_.numSpotLights),b.push(_.numSpotLightMaps),b.push(_.numHemiLights),b.push(_.numRectAreaLights),b.push(_.numDirLightShadows),b.push(_.numPointLightShadows),b.push(_.numSpotLightShadows),b.push(_.numSpotLightShadowsWithMaps),b.push(_.shadowMapType),b.push(_.toneMapping),b.push(_.numClippingPlanes),b.push(_.numClipIntersection),b.push(_.depthPacking)}function w(b,_){l.disableAll(),_.isWebGL2&&l.enable(0),_.supportsVertexTextures&&l.enable(1),_.instancing&&l.enable(2),_.instancingColor&&l.enable(3),_.map&&l.enable(4),_.matcap&&l.enable(5),_.envMap&&l.enable(6),_.lightMap&&l.enable(7),_.aoMap&&l.enable(8),_.emissiveMap&&l.enable(9),_.bumpMap&&l.enable(10),_.normalMap&&l.enable(11),_.objectSpaceNormalMap&&l.enable(12),_.tangentSpaceNormalMap&&l.enable(13),_.clearcoat&&l.enable(14),_.clearcoatMap&&l.enable(15),_.clearcoatRoughnessMap&&l.enable(16),_.clearcoatNormalMap&&l.enable(17),_.iridescence&&l.enable(18),_.iridescenceMap&&l.enable(19),_.iridescenceThicknessMap&&l.enable(20),_.displacementMap&&l.enable(21),_.specularMap&&l.enable(22),_.roughnessMap&&l.enable(23),_.metalnessMap&&l.enable(24),_.gradientMap&&l.enable(25),_.alphaMap&&l.enable(26),_.alphaTest&&l.enable(27),_.vertexColors&&l.enable(28),_.vertexAlphas&&l.enable(29),_.vertexUvs&&l.enable(30),_.vertexTangents&&l.enable(31),_.uvsVertexOnly&&l.enable(32),b.push(l.mask),l.disableAll(),_.fog&&l.enable(0),_.useFog&&l.enable(1),_.flatShading&&l.enable(2),_.logarithmicDepthBuffer&&l.enable(3),_.skinning&&l.enable(4),_.morphTargets&&l.enable(5),_.morphNormals&&l.enable(6),_.morphColors&&l.enable(7),_.premultipliedAlpha&&l.enable(8),_.shadowMapEnabled&&l.enable(9),_.physicallyCorrectLights&&l.enable(10),_.doubleSided&&l.enable(11),_.flipSided&&l.enable(12),_.useDepthPacking&&l.enable(13),_.dithering&&l.enable(14),_.specularIntensityMap&&l.enable(15),_.specularColorMap&&l.enable(16),_.transmission&&l.enable(17),_.transmissionMap&&l.enable(18),_.thicknessMap&&l.enable(19),_.sheen&&l.enable(20),_.sheenColorMap&&l.enable(21),_.sheenRoughnessMap&&l.enable(22),_.decodeVideoTexture&&l.enable(23),_.opaque&&l.enable(24),b.push(l.mask)}function A(b){const _=p[b.type];let S;if(_){const T=Zr[_];S=RE.clone(T.uniforms)}else S=b.uniforms;return S}function M(b,_){let S;for(let T=0,P=f.length;T<P;T++){const I=f[T];if(I.cacheKey===_){S=I,++S.usedTimes;break}}return S===void 0&&(S=new WO(n,_,b,s),f.push(S)),S}function C(b){if(--b.usedTimes===0){const _=f.indexOf(b);f[_]=f[f.length-1],f.pop(),b.destroy()}}function E(b){h.remove(b)}function R(){h.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:A,acquireProgram:M,releaseProgram:C,releaseShaderCache:E,programs:f,dispose:R}}function YO(){let n=new WeakMap;function e(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function t(s){n.delete(s)}function i(s,a,l){n.get(s)[a]=l}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function XO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Gb(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Kb(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(o,u,d,p,m,v){let x=n[e];return x===void 0?(x={id:o.id,object:o,geometry:u,material:d,groupOrder:p,renderOrder:o.renderOrder,z:m,group:v},n[e]=x):(x.id=o.id,x.object=o,x.geometry=u,x.material=d,x.groupOrder=p,x.renderOrder=o.renderOrder,x.z=m,x.group=v),e++,x}function l(o,u,d,p,m,v){const x=a(o,u,d,p,m,v);d.transmission>0?i.push(x):d.transparent===!0?r.push(x):t.push(x)}function h(o,u,d,p,m,v){const x=a(o,u,d,p,m,v);d.transmission>0?i.unshift(x):d.transparent===!0?r.unshift(x):t.unshift(x)}function f(o,u){t.length>1&&t.sort(o||XO),i.length>1&&i.sort(u||Gb),r.length>1&&r.sort(u||Gb)}function c(){for(let o=e,u=n.length;o<u;o++){const d=n[o];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:l,unshift:h,finish:c,sort:f}}function QO(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new Kb,n.set(i,[a])):r>=s.length?(a=new Kb,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function $O(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new Ze};break;case"SpotLight":t={position:new ee,direction:new ee,color:new Ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new Ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new Ze,groundColor:new Ze};break;case"RectAreaLight":t={color:new Ze,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return n[e.id]=t,t}}}function qO(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let JO=0;function ZO(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function eN(n,e){const t=new $O,i=qO(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)r.probe.push(new ee);const s=new ee,a=new _t,l=new _t;function h(c,o){let u=0,d=0,p=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let m=0,v=0,x=0,w=0,A=0,M=0,C=0,E=0,R=0,b=0;c.sort(ZO);const _=o!==!0?Math.PI:1;for(let T=0,P=c.length;T<P;T++){const I=c[T],z=I.color,O=I.intensity,D=I.distance,B=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=z.r*O*_,d+=z.g*O*_,p+=z.b*O*_;else if(I.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(I.sh.coefficients[F],O);else if(I.isDirectionalLight){const F=t.get(I);if(F.color.copy(I.color).multiplyScalar(I.intensity*_),I.castShadow){const U=I.shadow,H=i.get(I);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,r.directionalShadow[m]=H,r.directionalShadowMap[m]=B,r.directionalShadowMatrix[m]=I.shadow.matrix,M++}r.directional[m]=F,m++}else if(I.isSpotLight){const F=t.get(I);F.position.setFromMatrixPosition(I.matrixWorld),F.color.copy(z).multiplyScalar(O*_),F.distance=D,F.coneCos=Math.cos(I.angle),F.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),F.decay=I.decay,r.spot[x]=F;const U=I.shadow;if(I.map&&(r.spotLightMap[R]=I.map,R++,U.updateMatrices(I),I.castShadow&&b++),r.spotLightMatrix[x]=U.matrix,I.castShadow){const H=i.get(I);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,r.spotShadow[x]=H,r.spotShadowMap[x]=B,E++}x++}else if(I.isRectAreaLight){const F=t.get(I);F.color.copy(z).multiplyScalar(O),F.halfWidth.set(I.width*.5,0,0),F.halfHeight.set(0,I.height*.5,0),r.rectArea[w]=F,w++}else if(I.isPointLight){const F=t.get(I);if(F.color.copy(I.color).multiplyScalar(I.intensity*_),F.distance=I.distance,F.decay=I.decay,I.castShadow){const U=I.shadow,H=i.get(I);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,H.shadowCameraNear=U.camera.near,H.shadowCameraFar=U.camera.far,r.pointShadow[v]=H,r.pointShadowMap[v]=B,r.pointShadowMatrix[v]=I.shadow.matrix,C++}r.point[v]=F,v++}else if(I.isHemisphereLight){const F=t.get(I);F.skyColor.copy(I.color).multiplyScalar(O*_),F.groundColor.copy(I.groundColor).multiplyScalar(O*_),r.hemi[A]=F,A++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Xe.LTC_FLOAT_1,r.rectAreaLTC2=Xe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Xe.LTC_HALF_1,r.rectAreaLTC2=Xe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=p;const S=r.hash;(S.directionalLength!==m||S.pointLength!==v||S.spotLength!==x||S.rectAreaLength!==w||S.hemiLength!==A||S.numDirectionalShadows!==M||S.numPointShadows!==C||S.numSpotShadows!==E||S.numSpotMaps!==R)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=w,r.point.length=v,r.hemi.length=A,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=E+R-b,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=b,S.directionalLength=m,S.pointLength=v,S.spotLength=x,S.rectAreaLength=w,S.hemiLength=A,S.numDirectionalShadows=M,S.numPointShadows=C,S.numSpotShadows=E,S.numSpotMaps=R,r.version=JO++)}function f(c,o){let u=0,d=0,p=0,m=0,v=0;const x=o.matrixWorldInverse;for(let w=0,A=c.length;w<A;w++){const M=c[w];if(M.isDirectionalLight){const C=r.directional[u];C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),u++}else if(M.isSpotLight){const C=r.spot[p];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),p++}else if(M.isRectAreaLight){const C=r.rectArea[m];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(x),l.identity(),a.copy(M.matrixWorld),a.premultiply(x),l.extractRotation(a),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(l),C.halfHeight.applyMatrix4(l),m++}else if(M.isPointLight){const C=r.point[d];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(x),d++}else if(M.isHemisphereLight){const C=r.hemi[v];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(x),v++}}}return{setup:h,setupView:f,state:r}}function jb(n,e){const t=new eN(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function a(o){i.push(o)}function l(o){r.push(o)}function h(o){t.setup(i,o)}function f(o){t.setupView(i,o)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:h,setupLightsView:f,pushLight:a,pushShadow:l}}function tN(n,e){let t=new WeakMap;function i(s,a=0){const l=t.get(s);let h;return l===void 0?(h=new jb(n,e),t.set(s,[h])):a>=l.length?(h=new jb(n,e),l.push(h)):h=l[a],h}function r(){t=new WeakMap}return{get:i,dispose:r}}class Fw extends ci{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=SE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Bw extends ci{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const nN=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,iN=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rN(n,e,t){let i=new Vg;const r=new ke,s=new ke,a=new Gt,l=new Fw({depthPacking:_E}),h=new Bw,f={},c=t.maxTextureSize,o={0:cr,1:Ko,2:Rf},u=new Ss({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ke},radius:{value:4}},vertexShader:nN,fragmentShader:iN}),d=u.clone();d.defines.HORIZONTAL_PASS=1;const p=new Tt;p.setAttribute("position",new Jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new oi(p,u),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Bg,this.render=function(M,C,E){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),b=n.getActiveCubeFace(),_=n.getActiveMipmapLevel(),S=n.state;S.setBlending(Xs),S.buffers.color.setClear(1,1,1,1),S.buffers.depth.setTest(!0),S.setScissorTest(!1);for(let T=0,P=M.length;T<P;T++){const I=M[T],z=I.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;r.copy(z.mapSize);const O=z.getFrameExtents();if(r.multiply(O),s.copy(z.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(s.x=Math.floor(c/O.x),r.x=s.x*O.x,z.mapSize.x=s.x),r.y>c&&(s.y=Math.floor(c/O.y),r.y=s.y*O.y,z.mapSize.y=s.y)),z.map===null){const B=this.type!==Ha?{minFilter:Rn,magFilter:Rn}:{};z.map=new Nr(r.x,r.y,B),z.map.texture.name=I.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const D=z.getViewportCount();for(let B=0;B<D;B++){const F=z.getViewport(B);a.set(s.x*F.x,s.y*F.y,s.x*F.z,s.y*F.w),S.viewport(a),z.updateMatrices(I,B),i=z.getFrustum(),A(C,E,z.camera,I,this.type)}z.isPointLightShadow!==!0&&this.type===Ha&&x(z,E),z.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(R,b,_)};function x(M,C){const E=e.update(m);u.defines.VSM_SAMPLES!==M.blurSamples&&(u.defines.VSM_SAMPLES=M.blurSamples,d.defines.VSM_SAMPLES=M.blurSamples,u.needsUpdate=!0,d.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Nr(r.x,r.y)),u.uniforms.shadow_pass.value=M.map.texture,u.uniforms.resolution.value=M.mapSize,u.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(C,null,E,u,m,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(C,null,E,d,m,null)}function w(M,C,E,R,b,_){let S=null;const T=E.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(T!==void 0)S=T;else if(S=E.isPointLight===!0?h:l,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const P=S.uuid,I=C.uuid;let z=f[P];z===void 0&&(z={},f[P]=z);let O=z[I];O===void 0&&(O=S.clone(),z[I]=O),S=O}return S.visible=C.visible,S.wireframe=C.wireframe,_===Ha?S.side=C.shadowSide!==null?C.shadowSide:C.side:S.side=C.shadowSide!==null?C.shadowSide:o[C.side],S.alphaMap=C.alphaMap,S.alphaTest=C.alphaTest,S.map=C.map,S.clipShadows=C.clipShadows,S.clippingPlanes=C.clippingPlanes,S.clipIntersection=C.clipIntersection,S.displacementMap=C.displacementMap,S.displacementScale=C.displacementScale,S.displacementBias=C.displacementBias,S.wireframeLinewidth=C.wireframeLinewidth,S.linewidth=C.linewidth,E.isPointLight===!0&&S.isMeshDistanceMaterial===!0&&(S.referencePosition.setFromMatrixPosition(E.matrixWorld),S.nearDistance=R,S.farDistance=b),S}function A(M,C,E,R,b){if(M.visible===!1)return;if(M.layers.test(C.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&b===Ha)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld);const T=e.update(M),P=M.material;if(Array.isArray(P)){const I=T.groups;for(let z=0,O=I.length;z<O;z++){const D=I[z],B=P[D.materialIndex];if(B&&B.visible){const F=w(M,B,R,E.near,E.far,b);n.renderBufferDirect(E,null,T,F,M,D)}}}else if(P.visible){const I=w(M,P,R,E.near,E.far,b);n.renderBufferDirect(E,null,T,I,M,null)}}const S=M.children;for(let T=0,P=S.length;T<P;T++)A(S[T],C,E,R,b)}}function sN(n,e,t){const i=t.isWebGL2;function r(){let se=!1;const _e=new Gt;let Ne=null;const Ye=new Gt(0,0,0,0);return{setMask:function(qe){Ne!==qe&&!se&&(n.colorMask(qe,qe,qe,qe),Ne=qe)},setLocked:function(qe){se=qe},setClear:function(qe,pt,Vt,tn,xn){xn===!0&&(qe*=tn,pt*=tn,Vt*=tn),_e.set(qe,pt,Vt,tn),Ye.equals(_e)===!1&&(n.clearColor(qe,pt,Vt,tn),Ye.copy(_e))},reset:function(){se=!1,Ne=null,Ye.set(-1,0,0,0)}}}function s(){let se=!1,_e=null,Ne=null,Ye=null;return{setTest:function(qe){qe?pe(2929):he(2929)},setMask:function(qe){_e!==qe&&!se&&(n.depthMask(qe),_e=qe)},setFunc:function(qe){if(Ne!==qe){switch(qe){case GM:n.depthFunc(512);break;case KM:n.depthFunc(519);break;case jM:n.depthFunc(513);break;case Xm:n.depthFunc(515);break;case YM:n.depthFunc(514);break;case XM:n.depthFunc(518);break;case QM:n.depthFunc(516);break;case $M:n.depthFunc(517);break;default:n.depthFunc(515)}Ne=qe}},setLocked:function(qe){se=qe},setClear:function(qe){Ye!==qe&&(n.clearDepth(qe),Ye=qe)},reset:function(){se=!1,_e=null,Ne=null,Ye=null}}}function a(){let se=!1,_e=null,Ne=null,Ye=null,qe=null,pt=null,Vt=null,tn=null,xn=null;return{setTest:function(bt){se||(bt?pe(2960):he(2960))},setMask:function(bt){_e!==bt&&!se&&(n.stencilMask(bt),_e=bt)},setFunc:function(bt,Ni,ui){(Ne!==bt||Ye!==Ni||qe!==ui)&&(n.stencilFunc(bt,Ni,ui),Ne=bt,Ye=Ni,qe=ui)},setOp:function(bt,Ni,ui){(pt!==bt||Vt!==Ni||tn!==ui)&&(n.stencilOp(bt,Ni,ui),pt=bt,Vt=Ni,tn=ui)},setLocked:function(bt){se=bt},setClear:function(bt){xn!==bt&&(n.clearStencil(bt),xn=bt)},reset:function(){se=!1,_e=null,Ne=null,Ye=null,qe=null,pt=null,Vt=null,tn=null,xn=null}}}const l=new r,h=new s,f=new a,c=new WeakMap,o=new WeakMap;let u={},d={},p=new WeakMap,m=[],v=null,x=!1,w=null,A=null,M=null,C=null,E=null,R=null,b=null,_=!1,S=null,T=null,P=null,I=null,z=null;const O=n.getParameter(35661);let D=!1,B=0;const F=n.getParameter(7938);F.indexOf("WebGL")!==-1?(B=parseFloat(/^WebGL (\d)/.exec(F)[1]),D=B>=1):F.indexOf("OpenGL ES")!==-1&&(B=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),D=B>=2);let U=null,H={};const j=n.getParameter(3088),Y=n.getParameter(2978),K=new Gt().fromArray(j),X=new Gt().fromArray(Y);function $(se,_e,Ne){const Ye=new Uint8Array(4),qe=n.createTexture();n.bindTexture(se,qe),n.texParameteri(se,10241,9728),n.texParameteri(se,10240,9728);for(let pt=0;pt<Ne;pt++)n.texImage2D(_e+pt,0,6408,1,1,0,6408,5121,Ye);return qe}const q={};q[3553]=$(3553,3553,1),q[34067]=$(34067,34069,6),l.setClear(0,0,0,1),h.setClear(1),f.setClear(0),pe(2929),h.setFunc(Xm),Ee(!1),Ge(Ly),pe(2884),Le(Xs);function pe(se){u[se]!==!0&&(n.enable(se),u[se]=!0)}function he(se){u[se]!==!1&&(n.disable(se),u[se]=!1)}function Ae(se,_e){return d[se]!==_e?(n.bindFramebuffer(se,_e),d[se]=_e,i&&(se===36009&&(d[36160]=_e),se===36160&&(d[36009]=_e)),!0):!1}function me(se,_e){let Ne=m,Ye=!1;if(se)if(Ne=p.get(_e),Ne===void 0&&(Ne=[],p.set(_e,Ne)),se.isWebGLMultipleRenderTargets){const qe=se.texture;if(Ne.length!==qe.length||Ne[0]!==36064){for(let pt=0,Vt=qe.length;pt<Vt;pt++)Ne[pt]=36064+pt;Ne.length=qe.length,Ye=!0}}else Ne[0]!==36064&&(Ne[0]=36064,Ye=!0);else Ne[0]!==1029&&(Ne[0]=1029,Ye=!0);Ye&&(t.isWebGL2?n.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function De(se){return v!==se?(n.useProgram(se),v=se,!0):!1}const fe={[za]:32774,[IM]:32778,[zM]:32779};if(i)fe[Iy]=32775,fe[zy]=32776;else{const se=e.get("EXT_blend_minmax");se!==null&&(fe[Iy]=se.MIN_EXT,fe[zy]=se.MAX_EXT)}const xe={[DM]:0,[OM]:1,[NM]:768,[Ew]:770,[VM]:776,[HM]:774,[BM]:772,[FM]:769,[Tw]:771,[WM]:775,[UM]:773};function Le(se,_e,Ne,Ye,qe,pt,Vt,tn){if(se===Xs){x===!0&&(he(3042),x=!1);return}if(x===!1&&(pe(3042),x=!0),se!==kM){if(se!==w||tn!==_){if((A!==za||E!==za)&&(n.blendEquation(32774),A=za,E=za),tn)switch(se){case qa:n.blendFuncSeparate(1,771,1,771);break;case Ry:n.blendFunc(1,1);break;case Py:n.blendFuncSeparate(0,769,0,1);break;case ky:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case qa:n.blendFuncSeparate(770,771,1,771);break;case Ry:n.blendFunc(770,1);break;case Py:n.blendFuncSeparate(0,769,0,1);break;case ky:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}M=null,C=null,R=null,b=null,w=se,_=tn}return}qe=qe||_e,pt=pt||Ne,Vt=Vt||Ye,(_e!==A||qe!==E)&&(n.blendEquationSeparate(fe[_e],fe[qe]),A=_e,E=qe),(Ne!==M||Ye!==C||pt!==R||Vt!==b)&&(n.blendFuncSeparate(xe[Ne],xe[Ye],xe[pt],xe[Vt]),M=Ne,C=Ye,R=pt,b=Vt),w=se,_=!1}function Re(se,_e){se.side===Rf?he(2884):pe(2884);let Ne=se.side===cr;_e&&(Ne=!Ne),Ee(Ne),se.blending===qa&&se.transparent===!1?Le(Xs):Le(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.premultipliedAlpha),h.setFunc(se.depthFunc),h.setTest(se.depthTest),h.setMask(se.depthWrite),l.setMask(se.colorWrite);const Ye=se.stencilWrite;f.setTest(Ye),Ye&&(f.setMask(se.stencilWriteMask),f.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),f.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),je(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?pe(32926):he(32926)}function Ee(se){S!==se&&(se?n.frontFace(2304):n.frontFace(2305),S=se)}function Ge(se){se!==LM?(pe(2884),se!==T&&(se===Ly?n.cullFace(1029):se===RM?n.cullFace(1028):n.cullFace(1032))):he(2884),T=se}function Ue(se){se!==P&&(D&&n.lineWidth(se),P=se)}function je(se,_e,Ne){se?(pe(32823),(I!==_e||z!==Ne)&&(n.polygonOffset(_e,Ne),I=_e,z=Ne)):he(32823)}function ot(se){se?pe(3089):he(3089)}function ge(se){se===void 0&&(se=33984+O-1),U!==se&&(n.activeTexture(se),U=se)}function V(se,_e,Ne){Ne===void 0&&(U===null?Ne=33984+O-1:Ne=U);let Ye=H[Ne];Ye===void 0&&(Ye={type:void 0,texture:void 0},H[Ne]=Ye),(Ye.type!==se||Ye.texture!==_e)&&(U!==Ne&&(n.activeTexture(Ne),U=Ne),n.bindTexture(se,_e||q[se]),Ye.type=se,Ye.texture=_e)}function G(){const se=H[U];se!==void 0&&se.type!==void 0&&(n.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function ne(){try{n.compressedTexImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function de(){try{n.compressedTexImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ce(){try{n.texSubImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Me(){try{n.texSubImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ie(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ue(){try{n.texStorage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ke(){try{n.texStorage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function re(){try{n.texImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function we(){try{n.texImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Oe(se){K.equals(se)===!1&&(n.scissor(se.x,se.y,se.z,se.w),K.copy(se))}function Fe(se){X.equals(se)===!1&&(n.viewport(se.x,se.y,se.z,se.w),X.copy(se))}function it(se,_e){let Ne=o.get(_e);Ne===void 0&&(Ne=new WeakMap,o.set(_e,Ne));let Ye=Ne.get(se);Ye===void 0&&(Ye=n.getUniformBlockIndex(_e,se.name),Ne.set(se,Ye))}function mt(se,_e){const Ye=o.get(_e).get(se);c.get(_e)!==Ye&&(n.uniformBlockBinding(_e,Ye,se.__bindingPointIndex),c.set(_e,Ye))}function Wt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},U=null,H={},d={},p=new WeakMap,m=[],v=null,x=!1,w=null,A=null,M=null,C=null,E=null,R=null,b=null,_=!1,S=null,T=null,P=null,I=null,z=null,K.set(0,0,n.canvas.width,n.canvas.height),X.set(0,0,n.canvas.width,n.canvas.height),l.reset(),h.reset(),f.reset()}return{buffers:{color:l,depth:h,stencil:f},enable:pe,disable:he,bindFramebuffer:Ae,drawBuffers:me,useProgram:De,setBlending:Le,setMaterial:Re,setFlipSided:Ee,setCullFace:Ge,setLineWidth:Ue,setPolygonOffset:je,setScissorTest:ot,activeTexture:ge,bindTexture:V,unbindTexture:G,compressedTexImage2D:ne,compressedTexImage3D:de,texImage2D:re,texImage3D:we,updateUBOMapping:it,uniformBlockBinding:mt,texStorage2D:ue,texStorage3D:Ke,texSubImage2D:ce,texSubImage3D:Me,compressedTexSubImage2D:Be,compressedTexSubImage3D:Ie,scissor:Oe,viewport:Fe,reset:Wt}}function oN(n,e,t,i,r,s,a){const l=r.isWebGL2,h=r.maxTextures,f=r.maxCubemapSize,c=r.maxTextureSize,o=r.maxSamples,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const v=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(V,G){return x?new OffscreenCanvas(V,G):cf("canvas")}function A(V,G,ne,de){let ce=1;if((V.width>de||V.height>de)&&(ce=de/Math.max(V.width,V.height)),ce<1||G===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const Me=G?Jm:Math.floor,Be=Me(ce*V.width),Ie=Me(ce*V.height);m===void 0&&(m=w(Be,Ie));const ue=ne?w(Be,Ie):m;return ue.width=Be,ue.height=Ie,ue.getContext("2d").drawImage(V,0,0,Be,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+Be+"x"+Ie+")."),ue}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function M(V){return nx(V.width)&&nx(V.height)}function C(V){return l?!1:V.wrapS!==_i||V.wrapT!==_i||V.minFilter!==Rn&&V.minFilter!==kn}function E(V,G){return V.generateMipmaps&&G&&V.minFilter!==Rn&&V.minFilter!==kn}function R(V){n.generateMipmap(V)}function b(V,G,ne,de,ce=!1){if(l===!1)return G;if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Me=G;return G===6403&&(ne===5126&&(Me=33326),ne===5131&&(Me=33325),ne===5121&&(Me=33321)),G===33319&&(ne===5126&&(Me=33328),ne===5131&&(Me=33327),ne===5121&&(Me=33323)),G===6408&&(ne===5126&&(Me=34836),ne===5131&&(Me=34842),ne===5121&&(Me=de===Xt&&ce===!1?35907:32856),ne===32819&&(Me=32854),ne===32820&&(Me=32855)),(Me===33325||Me===33326||Me===33327||Me===33328||Me===34842||Me===34836)&&e.get("EXT_color_buffer_float"),Me}function _(V,G,ne){return E(V,ne)===!0||V.isFramebufferTexture&&V.minFilter!==Rn&&V.minFilter!==kn?Math.log2(Math.max(G.width,G.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?G.mipmaps.length:1}function S(V){return V===Rn||V===Qm||V===Eh?9728:9729}function T(V){const G=V.target;G.removeEventListener("dispose",T),I(G),G.isVideoTexture&&p.delete(G)}function P(V){const G=V.target;G.removeEventListener("dispose",P),O(G)}function I(V){const G=i.get(V);if(G.__webglInit===void 0)return;const ne=V.source,de=v.get(ne);if(de){const ce=de[G.__cacheKey];ce.usedTimes--,ce.usedTimes===0&&z(V),Object.keys(de).length===0&&v.delete(ne)}i.remove(V)}function z(V){const G=i.get(V);n.deleteTexture(G.__webglTexture);const ne=V.source,de=v.get(ne);delete de[G.__cacheKey],a.memory.textures--}function O(V){const G=V.texture,ne=i.get(V),de=i.get(G);if(de.__webglTexture!==void 0&&(n.deleteTexture(de.__webglTexture),a.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++)n.deleteFramebuffer(ne.__webglFramebuffer[ce]),ne.__webglDepthbuffer&&n.deleteRenderbuffer(ne.__webglDepthbuffer[ce]);else{if(n.deleteFramebuffer(ne.__webglFramebuffer),ne.__webglDepthbuffer&&n.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let ce=0;ce<ne.__webglColorRenderbuffer.length;ce++)ne.__webglColorRenderbuffer[ce]&&n.deleteRenderbuffer(ne.__webglColorRenderbuffer[ce]);ne.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let ce=0,Me=G.length;ce<Me;ce++){const Be=i.get(G[ce]);Be.__webglTexture&&(n.deleteTexture(Be.__webglTexture),a.memory.textures--),i.remove(G[ce])}i.remove(G),i.remove(V)}let D=0;function B(){D=0}function F(){const V=D;return V>=h&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+h),D+=1,V}function U(V){const G=[];return G.push(V.wrapS),G.push(V.wrapT),G.push(V.wrapR||0),G.push(V.magFilter),G.push(V.minFilter),G.push(V.anisotropy),G.push(V.internalFormat),G.push(V.format),G.push(V.type),G.push(V.generateMipmaps),G.push(V.premultiplyAlpha),G.push(V.flipY),G.push(V.unpackAlignment),G.push(V.encoding),G.join()}function H(V,G){const ne=i.get(V);if(V.isVideoTexture&&ot(V),V.isRenderTargetTexture===!1&&V.version>0&&ne.__version!==V.version){const de=V.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(ne,V,G);return}}t.bindTexture(3553,ne.__webglTexture,33984+G)}function j(V,G){const ne=i.get(V);if(V.version>0&&ne.__version!==V.version){he(ne,V,G);return}t.bindTexture(35866,ne.__webglTexture,33984+G)}function Y(V,G){const ne=i.get(V);if(V.version>0&&ne.__version!==V.version){he(ne,V,G);return}t.bindTexture(32879,ne.__webglTexture,33984+G)}function K(V,G){const ne=i.get(V);if(V.version>0&&ne.__version!==V.version){Ae(ne,V,G);return}t.bindTexture(34067,ne.__webglTexture,33984+G)}const X={[tf]:10497,[_i]:33071,[nf]:33648},$={[Rn]:9728,[Qm]:9984,[Eh]:9986,[kn]:9729,[Rw]:9985,[Xo]:9987};function q(V,G,ne){if(ne?(n.texParameteri(V,10242,X[G.wrapS]),n.texParameteri(V,10243,X[G.wrapT]),(V===32879||V===35866)&&n.texParameteri(V,32882,X[G.wrapR]),n.texParameteri(V,10240,$[G.magFilter]),n.texParameteri(V,10241,$[G.minFilter])):(n.texParameteri(V,10242,33071),n.texParameteri(V,10243,33071),(V===32879||V===35866)&&n.texParameteri(V,32882,33071),(G.wrapS!==_i||G.wrapT!==_i)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,10240,S(G.magFilter)),n.texParameteri(V,10241,S(G.minFilter)),G.minFilter!==Rn&&G.minFilter!==kn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const de=e.get("EXT_texture_filter_anisotropic");if(G.magFilter===Rn||G.minFilter!==Eh&&G.minFilter!==Xo||G.type===Ks&&e.has("OES_texture_float_linear")===!1||l===!1&&G.type===Yc&&e.has("OES_texture_half_float_linear")===!1)return;(G.anisotropy>1||i.get(G).__currentAnisotropy)&&(n.texParameterf(V,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),i.get(G).__currentAnisotropy=G.anisotropy)}}function pe(V,G){let ne=!1;V.__webglInit===void 0&&(V.__webglInit=!0,G.addEventListener("dispose",T));const de=G.source;let ce=v.get(de);ce===void 0&&(ce={},v.set(de,ce));const Me=U(G);if(Me!==V.__cacheKey){ce[Me]===void 0&&(ce[Me]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ne=!0),ce[Me].usedTimes++;const Be=ce[V.__cacheKey];Be!==void 0&&(ce[V.__cacheKey].usedTimes--,Be.usedTimes===0&&z(G)),V.__cacheKey=Me,V.__webglTexture=ce[Me].texture}return ne}function he(V,G,ne){let de=3553;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(de=35866),G.isData3DTexture&&(de=32879);const ce=pe(V,G),Me=G.source;t.bindTexture(de,V.__webglTexture,33984+ne);const Be=i.get(Me);if(Me.version!==Be.__version||ce===!0){t.activeTexture(33984+ne),n.pixelStorei(37440,G.flipY),n.pixelStorei(37441,G.premultiplyAlpha),n.pixelStorei(3317,G.unpackAlignment),n.pixelStorei(37443,0);const Ie=C(G)&&M(G.image)===!1;let ue=A(G.image,Ie,!1,c);ue=ge(G,ue);const Ke=M(ue)||l,re=s.convert(G.format,G.encoding);let we=s.convert(G.type),Oe=b(G.internalFormat,re,we,G.encoding,G.isVideoTexture);q(de,G,Ke);let Fe;const it=G.mipmaps,mt=l&&G.isVideoTexture!==!0,Wt=Be.__version===void 0||ce===!0,se=_(G,ue,Ke);if(G.isDepthTexture)Oe=6402,l?G.type===Ks?Oe=36012:G.type===ko?Oe=33190:G.type===Ja?Oe=35056:Oe=33189:G.type===Ks&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===Ho&&Oe===6402&&G.type!==Pw&&G.type!==ko&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=ko,we=s.convert(G.type)),G.format===ll&&Oe===6402&&(Oe=34041,G.type!==Ja&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=Ja,we=s.convert(G.type))),Wt&&(mt?t.texStorage2D(3553,1,Oe,ue.width,ue.height):t.texImage2D(3553,0,Oe,ue.width,ue.height,0,re,we,null));else if(G.isDataTexture)if(it.length>0&&Ke){mt&&Wt&&t.texStorage2D(3553,se,Oe,it[0].width,it[0].height);for(let _e=0,Ne=it.length;_e<Ne;_e++)Fe=it[_e],mt?t.texSubImage2D(3553,_e,0,0,Fe.width,Fe.height,re,we,Fe.data):t.texImage2D(3553,_e,Oe,Fe.width,Fe.height,0,re,we,Fe.data);G.generateMipmaps=!1}else mt?(Wt&&t.texStorage2D(3553,se,Oe,ue.width,ue.height),t.texSubImage2D(3553,0,0,0,ue.width,ue.height,re,we,ue.data)):t.texImage2D(3553,0,Oe,ue.width,ue.height,0,re,we,ue.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){mt&&Wt&&t.texStorage3D(35866,se,Oe,it[0].width,it[0].height,ue.depth);for(let _e=0,Ne=it.length;_e<Ne;_e++)Fe=it[_e],G.format!==ji?re!==null?mt?t.compressedTexSubImage3D(35866,_e,0,0,0,Fe.width,Fe.height,ue.depth,re,Fe.data,0,0):t.compressedTexImage3D(35866,_e,Oe,Fe.width,Fe.height,ue.depth,0,Fe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):mt?t.texSubImage3D(35866,_e,0,0,0,Fe.width,Fe.height,ue.depth,re,we,Fe.data):t.texImage3D(35866,_e,Oe,Fe.width,Fe.height,ue.depth,0,re,we,Fe.data)}else{mt&&Wt&&t.texStorage2D(3553,se,Oe,it[0].width,it[0].height);for(let _e=0,Ne=it.length;_e<Ne;_e++)Fe=it[_e],G.format!==ji?re!==null?mt?t.compressedTexSubImage2D(3553,_e,0,0,Fe.width,Fe.height,re,Fe.data):t.compressedTexImage2D(3553,_e,Oe,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):mt?t.texSubImage2D(3553,_e,0,0,Fe.width,Fe.height,re,we,Fe.data):t.texImage2D(3553,_e,Oe,Fe.width,Fe.height,0,re,we,Fe.data)}else if(G.isDataArrayTexture)mt?(Wt&&t.texStorage3D(35866,se,Oe,ue.width,ue.height,ue.depth),t.texSubImage3D(35866,0,0,0,0,ue.width,ue.height,ue.depth,re,we,ue.data)):t.texImage3D(35866,0,Oe,ue.width,ue.height,ue.depth,0,re,we,ue.data);else if(G.isData3DTexture)mt?(Wt&&t.texStorage3D(32879,se,Oe,ue.width,ue.height,ue.depth),t.texSubImage3D(32879,0,0,0,0,ue.width,ue.height,ue.depth,re,we,ue.data)):t.texImage3D(32879,0,Oe,ue.width,ue.height,ue.depth,0,re,we,ue.data);else if(G.isFramebufferTexture){if(Wt)if(mt)t.texStorage2D(3553,se,Oe,ue.width,ue.height);else{let _e=ue.width,Ne=ue.height;for(let Ye=0;Ye<se;Ye++)t.texImage2D(3553,Ye,Oe,_e,Ne,0,re,we,null),_e>>=1,Ne>>=1}}else if(it.length>0&&Ke){mt&&Wt&&t.texStorage2D(3553,se,Oe,it[0].width,it[0].height);for(let _e=0,Ne=it.length;_e<Ne;_e++)Fe=it[_e],mt?t.texSubImage2D(3553,_e,0,0,re,we,Fe):t.texImage2D(3553,_e,Oe,re,we,Fe);G.generateMipmaps=!1}else mt?(Wt&&t.texStorage2D(3553,se,Oe,ue.width,ue.height),t.texSubImage2D(3553,0,0,0,re,we,ue)):t.texImage2D(3553,0,Oe,re,we,ue);E(G,Ke)&&R(de),Be.__version=Me.version,G.onUpdate&&G.onUpdate(G)}V.__version=G.version}function Ae(V,G,ne){if(G.image.length!==6)return;const de=pe(V,G),ce=G.source;t.bindTexture(34067,V.__webglTexture,33984+ne);const Me=i.get(ce);if(ce.version!==Me.__version||de===!0){t.activeTexture(33984+ne),n.pixelStorei(37440,G.flipY),n.pixelStorei(37441,G.premultiplyAlpha),n.pixelStorei(3317,G.unpackAlignment),n.pixelStorei(37443,0);const Be=G.isCompressedTexture||G.image[0].isCompressedTexture,Ie=G.image[0]&&G.image[0].isDataTexture,ue=[];for(let _e=0;_e<6;_e++)!Be&&!Ie?ue[_e]=A(G.image[_e],!1,!0,f):ue[_e]=Ie?G.image[_e].image:G.image[_e],ue[_e]=ge(G,ue[_e]);const Ke=ue[0],re=M(Ke)||l,we=s.convert(G.format,G.encoding),Oe=s.convert(G.type),Fe=b(G.internalFormat,we,Oe,G.encoding),it=l&&G.isVideoTexture!==!0,mt=Me.__version===void 0||de===!0;let Wt=_(G,Ke,re);q(34067,G,re);let se;if(Be){it&&mt&&t.texStorage2D(34067,Wt,Fe,Ke.width,Ke.height);for(let _e=0;_e<6;_e++){se=ue[_e].mipmaps;for(let Ne=0;Ne<se.length;Ne++){const Ye=se[Ne];G.format!==ji?we!==null?it?t.compressedTexSubImage2D(34069+_e,Ne,0,0,Ye.width,Ye.height,we,Ye.data):t.compressedTexImage2D(34069+_e,Ne,Fe,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(34069+_e,Ne,0,0,Ye.width,Ye.height,we,Oe,Ye.data):t.texImage2D(34069+_e,Ne,Fe,Ye.width,Ye.height,0,we,Oe,Ye.data)}}}else{se=G.mipmaps,it&&mt&&(se.length>0&&Wt++,t.texStorage2D(34067,Wt,Fe,ue[0].width,ue[0].height));for(let _e=0;_e<6;_e++)if(Ie){it?t.texSubImage2D(34069+_e,0,0,0,ue[_e].width,ue[_e].height,we,Oe,ue[_e].data):t.texImage2D(34069+_e,0,Fe,ue[_e].width,ue[_e].height,0,we,Oe,ue[_e].data);for(let Ne=0;Ne<se.length;Ne++){const qe=se[Ne].image[_e].image;it?t.texSubImage2D(34069+_e,Ne+1,0,0,qe.width,qe.height,we,Oe,qe.data):t.texImage2D(34069+_e,Ne+1,Fe,qe.width,qe.height,0,we,Oe,qe.data)}}else{it?t.texSubImage2D(34069+_e,0,0,0,we,Oe,ue[_e]):t.texImage2D(34069+_e,0,Fe,we,Oe,ue[_e]);for(let Ne=0;Ne<se.length;Ne++){const Ye=se[Ne];it?t.texSubImage2D(34069+_e,Ne+1,0,0,we,Oe,Ye.image[_e]):t.texImage2D(34069+_e,Ne+1,Fe,we,Oe,Ye.image[_e])}}}E(G,re)&&R(34067),Me.__version=ce.version,G.onUpdate&&G.onUpdate(G)}V.__version=G.version}function me(V,G,ne,de,ce){const Me=s.convert(ne.format,ne.encoding),Be=s.convert(ne.type),Ie=b(ne.internalFormat,Me,Be,ne.encoding);i.get(G).__hasExternalTextures||(ce===32879||ce===35866?t.texImage3D(ce,0,Ie,G.width,G.height,G.depth,0,Me,Be,null):t.texImage2D(ce,0,Ie,G.width,G.height,0,Me,Be,null)),t.bindFramebuffer(36160,V),je(G)?u.framebufferTexture2DMultisampleEXT(36160,de,ce,i.get(ne).__webglTexture,0,Ue(G)):(ce===3553||ce>=34069&&ce<=34074)&&n.framebufferTexture2D(36160,de,ce,i.get(ne).__webglTexture,0),t.bindFramebuffer(36160,null)}function De(V,G,ne){if(n.bindRenderbuffer(36161,V),G.depthBuffer&&!G.stencilBuffer){let de=33189;if(ne||je(G)){const ce=G.depthTexture;ce&&ce.isDepthTexture&&(ce.type===Ks?de=36012:ce.type===ko&&(de=33190));const Me=Ue(G);je(G)?u.renderbufferStorageMultisampleEXT(36161,Me,de,G.width,G.height):n.renderbufferStorageMultisample(36161,Me,de,G.width,G.height)}else n.renderbufferStorage(36161,de,G.width,G.height);n.framebufferRenderbuffer(36160,36096,36161,V)}else if(G.depthBuffer&&G.stencilBuffer){const de=Ue(G);ne&&je(G)===!1?n.renderbufferStorageMultisample(36161,de,35056,G.width,G.height):je(G)?u.renderbufferStorageMultisampleEXT(36161,de,35056,G.width,G.height):n.renderbufferStorage(36161,34041,G.width,G.height),n.framebufferRenderbuffer(36160,33306,36161,V)}else{const de=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let ce=0;ce<de.length;ce++){const Me=de[ce],Be=s.convert(Me.format,Me.encoding),Ie=s.convert(Me.type),ue=b(Me.internalFormat,Be,Ie,Me.encoding),Ke=Ue(G);ne&&je(G)===!1?n.renderbufferStorageMultisample(36161,Ke,ue,G.width,G.height):je(G)?u.renderbufferStorageMultisampleEXT(36161,Ke,ue,G.width,G.height):n.renderbufferStorage(36161,ue,G.width,G.height)}}n.bindRenderbuffer(36161,null)}function fe(V,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,V),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),H(G.depthTexture,0);const de=i.get(G.depthTexture).__webglTexture,ce=Ue(G);if(G.depthTexture.format===Ho)je(G)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,de,0,ce):n.framebufferTexture2D(36160,36096,3553,de,0);else if(G.depthTexture.format===ll)je(G)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,de,0,ce):n.framebufferTexture2D(36160,33306,3553,de,0);else throw new Error("Unknown depthTexture format")}function xe(V){const G=i.get(V),ne=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!G.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");fe(G.__webglFramebuffer,V)}else if(ne){G.__webglDepthbuffer=[];for(let de=0;de<6;de++)t.bindFramebuffer(36160,G.__webglFramebuffer[de]),G.__webglDepthbuffer[de]=n.createRenderbuffer(),De(G.__webglDepthbuffer[de],V,!1)}else t.bindFramebuffer(36160,G.__webglFramebuffer),G.__webglDepthbuffer=n.createRenderbuffer(),De(G.__webglDepthbuffer,V,!1);t.bindFramebuffer(36160,null)}function Le(V,G,ne){const de=i.get(V);G!==void 0&&me(de.__webglFramebuffer,V,V.texture,36064,3553),ne!==void 0&&xe(V)}function Re(V){const G=V.texture,ne=i.get(V),de=i.get(G);V.addEventListener("dispose",P),V.isWebGLMultipleRenderTargets!==!0&&(de.__webglTexture===void 0&&(de.__webglTexture=n.createTexture()),de.__version=G.version,a.memory.textures++);const ce=V.isWebGLCubeRenderTarget===!0,Me=V.isWebGLMultipleRenderTargets===!0,Be=M(V)||l;if(ce){ne.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)ne.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(ne.__webglFramebuffer=n.createFramebuffer(),Me)if(r.drawBuffers){const Ie=V.texture;for(let ue=0,Ke=Ie.length;ue<Ke;ue++){const re=i.get(Ie[ue]);re.__webglTexture===void 0&&(re.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&V.samples>0&&je(V)===!1){const Ie=Me?G:[G];ne.__webglMultisampledFramebuffer=n.createFramebuffer(),ne.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ne.__webglMultisampledFramebuffer);for(let ue=0;ue<Ie.length;ue++){const Ke=Ie[ue];ne.__webglColorRenderbuffer[ue]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ne.__webglColorRenderbuffer[ue]);const re=s.convert(Ke.format,Ke.encoding),we=s.convert(Ke.type),Oe=b(Ke.internalFormat,re,we,Ke.encoding,V.isXRRenderTarget===!0),Fe=Ue(V);n.renderbufferStorageMultisample(36161,Fe,Oe,V.width,V.height),n.framebufferRenderbuffer(36160,36064+ue,36161,ne.__webglColorRenderbuffer[ue])}n.bindRenderbuffer(36161,null),V.depthBuffer&&(ne.__webglDepthRenderbuffer=n.createRenderbuffer(),De(ne.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(36160,null)}}if(ce){t.bindTexture(34067,de.__webglTexture),q(34067,G,Be);for(let Ie=0;Ie<6;Ie++)me(ne.__webglFramebuffer[Ie],V,G,36064,34069+Ie);E(G,Be)&&R(34067),t.unbindTexture()}else if(Me){const Ie=V.texture;for(let ue=0,Ke=Ie.length;ue<Ke;ue++){const re=Ie[ue],we=i.get(re);t.bindTexture(3553,we.__webglTexture),q(3553,re,Be),me(ne.__webglFramebuffer,V,re,36064+ue,3553),E(re,Be)&&R(3553)}t.unbindTexture()}else{let Ie=3553;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(l?Ie=V.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,de.__webglTexture),q(Ie,G,Be),me(ne.__webglFramebuffer,V,G,36064,Ie),E(G,Be)&&R(Ie),t.unbindTexture()}V.depthBuffer&&xe(V)}function Ee(V){const G=M(V)||l,ne=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let de=0,ce=ne.length;de<ce;de++){const Me=ne[de];if(E(Me,G)){const Be=V.isWebGLCubeRenderTarget?34067:3553,Ie=i.get(Me).__webglTexture;t.bindTexture(Be,Ie),R(Be),t.unbindTexture()}}}function Ge(V){if(l&&V.samples>0&&je(V)===!1){const G=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],ne=V.width,de=V.height;let ce=16384;const Me=[],Be=V.stencilBuffer?33306:36096,Ie=i.get(V),ue=V.isWebGLMultipleRenderTargets===!0;if(ue)for(let Ke=0;Ke<G.length;Ke++)t.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,null),t.bindFramebuffer(36160,Ie.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,null,0);t.bindFramebuffer(36008,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ie.__webglFramebuffer);for(let Ke=0;Ke<G.length;Ke++){Me.push(36064+Ke),V.depthBuffer&&Me.push(Be);const re=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(re===!1&&(V.depthBuffer&&(ce|=256),V.stencilBuffer&&(ce|=1024)),ue&&n.framebufferRenderbuffer(36008,36064,36161,Ie.__webglColorRenderbuffer[Ke]),re===!0&&(n.invalidateFramebuffer(36008,[Be]),n.invalidateFramebuffer(36009,[Be])),ue){const we=i.get(G[Ke]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,we,0)}n.blitFramebuffer(0,0,ne,de,0,0,ne,de,ce,9728),d&&n.invalidateFramebuffer(36008,Me)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ue)for(let Ke=0;Ke<G.length;Ke++){t.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,Ie.__webglColorRenderbuffer[Ke]);const re=i.get(G[Ke]).__webglTexture;t.bindFramebuffer(36160,Ie.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,re,0)}t.bindFramebuffer(36009,Ie.__webglMultisampledFramebuffer)}}function Ue(V){return Math.min(o,V.samples)}function je(V){const G=i.get(V);return l&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function ot(V){const G=a.render.frame;p.get(V)!==G&&(p.set(V,G),V.update())}function ge(V,G){const ne=V.encoding,de=V.format,ce=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||V.format===qm||ne!==eo&&(ne===Xt?l===!1?e.has("EXT_sRGB")===!0&&de===ji?(V.format=qm,V.minFilter=kn,V.generateMipmaps=!1):G=zw.sRGBToLinear(G):(de!==ji||ce!==Zs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ne)),G}this.allocateTextureUnit=F,this.resetTextureUnits=B,this.setTexture2D=H,this.setTexture2DArray=j,this.setTexture3D=Y,this.setTextureCube=K,this.rebindTextures=Le,this.setupRenderTarget=Re,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=me,this.useMultisampledRTT=je}function FE(n,e,t){const i=t.isWebGL2;function r(s,a=null){let l;if(s===Zs)return 5121;if(s===oE)return 32819;if(s===aE)return 32820;if(s===iE)return 5120;if(s===rE)return 5122;if(s===Pw)return 5123;if(s===sE)return 5124;if(s===ko)return 5125;if(s===Ks)return 5126;if(s===Yc)return i?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===lE)return 6406;if(s===ji)return 6408;if(s===uE)return 6409;if(s===hE)return 6410;if(s===Ho)return 6402;if(s===ll)return 34041;if(s===cE)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===qm)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===fE)return 6403;if(s===dE)return 36244;if(s===pE)return 33319;if(s===mE)return 33320;if(s===gE)return 36249;if(s===cm||s===um||s===hm||s===fm)if(a===Xt)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===cm)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===um)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===hm)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===fm)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===cm)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===um)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===hm)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===fm)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Dy||s===Oy||s===Ny||s===Fy)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===Dy)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Oy)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Ny)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Fy)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===vE)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===By||s===Uy)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===By)return a===Xt?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===Uy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Hy||s===Wy||s===Vy||s===Gy||s===Ky||s===jy||s===Yy||s===Xy||s===Qy||s===$y||s===qy||s===Jy||s===Zy||s===ex)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===Hy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Wy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Vy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Gy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Ky)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===jy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Yy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Xy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Qy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===$y)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===qy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Jy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Zy)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ex)return a===Xt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===tx)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===tx)return a===Xt?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Ja?i?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class BE extends hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ec extends Ht{constructor(){super(),this.isGroup=!0,this.type="Group"}}const aN={type:"move"};class s1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ec,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ec,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ec,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const l=this._targetRay,h=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){a=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,i),x=this._getHandJoint(f,m);v!==null&&(x.matrix.fromArray(v.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=v.radius),x.visible=v!==null}const c=f.joints["index-finger-tip"],o=f.joints["thumb-tip"],u=c.position.distanceTo(o.position),d=.02,p=.005;f.inputState.pinching&&u>d+p?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&u<=d-p&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(aN)))}return l!==null&&(l.visible=r!==null),h!==null&&(h.visible=s!==null),f!==null&&(f.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ec;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class UE extends Cn{constructor(e,t,i,r,s,a,l,h,f,c){if(c=c!==void 0?c:Ho,c!==Ho&&c!==ll)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===Ho&&(i=ko),i===void 0&&c===ll&&(i=Ja),super(null,r,s,a,l,h,c,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:Rn,this.minFilter=h!==void 0?h:Rn,this.flipY=!1,this.generateMipmaps=!1}}class lN extends _s{constructor(e,t){super();const i=this;let r=null,s=1,a=null,l="local-floor",h=null,f=null,c=null,o=null,u=null,d=null;const p=t.getContextAttributes();let m=null,v=null;const x=[],w=[],A=new Set,M=new Map,C=new hn;C.layers.enable(1),C.viewport=new Gt;const E=new hn;E.layers.enable(2),E.viewport=new Gt;const R=[C,E],b=new BE;b.layers.enable(1),b.layers.enable(2);let _=null,S=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let Y=x[j];return Y===void 0&&(Y=new s1,x[j]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(j){let Y=x[j];return Y===void 0&&(Y=new s1,x[j]=Y),Y.getGripSpace()},this.getHand=function(j){let Y=x[j];return Y===void 0&&(Y=new s1,x[j]=Y),Y.getHandSpace()};function T(j){const Y=w.indexOf(j.inputSource);if(Y===-1)return;const K=x[Y];K!==void 0&&K.dispatchEvent({type:j.type,data:j.inputSource})}function P(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",P),r.removeEventListener("inputsourceschange",I);for(let j=0;j<x.length;j++){const Y=w[j];Y!==null&&(w[j]=null,x[j].disconnect(Y))}_=null,S=null,e.setRenderTarget(m),u=null,o=null,c=null,r=null,v=null,H.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){s=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){l=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||a},this.setReferenceSpace=function(j){h=j},this.getBaseLayer=function(){return o!==null?o:u},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(j){if(r=j,r!==null){if(m=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",P),r.addEventListener("inputsourceschange",I),p.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Y={antialias:r.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s};u=new XRWebGLLayer(r,t,Y),r.updateRenderState({baseLayer:u}),v=new Nr(u.framebufferWidth,u.framebufferHeight,{format:ji,type:Zs,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let Y=null,K=null,X=null;p.depth&&(X=p.stencil?35056:33190,Y=p.stencil?ll:Ho,K=p.stencil?Ja:ko);const $={colorFormat:32856,depthFormat:X,scaleFactor:s};c=new XRWebGLBinding(r,t),o=c.createProjectionLayer($),r.updateRenderState({layers:[o]}),v=new Nr(o.textureWidth,o.textureHeight,{format:ji,type:Zs,depthTexture:new UE(o.textureWidth,o.textureHeight,K,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const q=e.properties.get(v);q.__ignoreDepthValues=o.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),h=null,a=await r.requestReferenceSpace(l),H.setContext(r),H.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function I(j){for(let Y=0;Y<j.removed.length;Y++){const K=j.removed[Y],X=w.indexOf(K);X>=0&&(w[X]=null,x[X].disconnect(K))}for(let Y=0;Y<j.added.length;Y++){const K=j.added[Y];let X=w.indexOf(K);if(X===-1){for(let q=0;q<x.length;q++)if(q>=w.length){w.push(K),X=q;break}else if(w[q]===null){w[q]=K,X=q;break}if(X===-1)break}const $=x[X];$&&$.connect(K)}}const z=new ee,O=new ee;function D(j,Y,K){z.setFromMatrixPosition(Y.matrixWorld),O.setFromMatrixPosition(K.matrixWorld);const X=z.distanceTo(O),$=Y.projectionMatrix.elements,q=K.projectionMatrix.elements,pe=$[14]/($[10]-1),he=$[14]/($[10]+1),Ae=($[9]+1)/$[5],me=($[9]-1)/$[5],De=($[8]-1)/$[0],fe=(q[8]+1)/q[0],xe=pe*De,Le=pe*fe,Re=X/(-De+fe),Ee=Re*-De;Y.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Ee),j.translateZ(Re),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const Ge=pe+Re,Ue=he+Re,je=xe-Ee,ot=Le+(X-Ee),ge=Ae*he/Ue*Ge,V=me*he/Ue*Ge;j.projectionMatrix.makePerspective(je,ot,ge,V,Ge,Ue)}function B(j,Y){Y===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(Y.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(r===null)return;b.near=E.near=C.near=j.near,b.far=E.far=C.far=j.far,(_!==b.near||S!==b.far)&&(r.updateRenderState({depthNear:b.near,depthFar:b.far}),_=b.near,S=b.far);const Y=j.parent,K=b.cameras;B(b,Y);for(let $=0;$<K.length;$++)B(K[$],Y);b.matrixWorld.decompose(b.position,b.quaternion,b.scale),j.matrix.copy(b.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale);const X=j.children;for(let $=0,q=X.length;$<q;$++)X[$].updateMatrixWorld(!0);K.length===2?D(b,C,E):b.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return b},this.getFoveation=function(){if(o!==null)return o.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(j){o!==null&&(o.fixedFoveation=j),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=j)},this.getPlanes=function(){return A};let F=null;function U(j,Y){if(f=Y.getViewerPose(h||a),d=Y,f!==null){const K=f.views;u!==null&&(e.setRenderTargetFramebuffer(v,u.framebuffer),e.setRenderTarget(v));let X=!1;K.length!==b.cameras.length&&(b.cameras.length=0,X=!0);for(let $=0;$<K.length;$++){const q=K[$];let pe=null;if(u!==null)pe=u.getViewport(q);else{const Ae=c.getViewSubImage(o,q);pe=Ae.viewport,$===0&&(e.setRenderTargetTextures(v,Ae.colorTexture,o.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(v))}let he=R[$];he===void 0&&(he=new hn,he.layers.enable($),he.viewport=new Gt,R[$]=he),he.matrix.fromArray(q.transform.matrix),he.projectionMatrix.fromArray(q.projectionMatrix),he.viewport.set(pe.x,pe.y,pe.width,pe.height),$===0&&b.matrix.copy(he.matrix),X===!0&&b.cameras.push(he)}}for(let K=0;K<x.length;K++){const X=w[K],$=x[K];X!==null&&$!==void 0&&$.update(X,Y,h||a)}if(F&&F(j,Y),Y.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:Y.detectedPlanes});let K=null;for(const X of A)Y.detectedPlanes.has(X)||(K===null&&(K=[]),K.push(X));if(K!==null)for(const X of K)A.delete(X),M.delete(X),i.dispatchEvent({type:"planeremoved",data:X});for(const X of Y.detectedPlanes)if(!A.has(X))A.add(X),M.set(X,Y.lastChangedTime),i.dispatchEvent({type:"planeadded",data:X});else{const $=M.get(X);X.lastChangedTime>$&&(M.set(X,X.lastChangedTime),i.dispatchEvent({type:"planechanged",data:X}))}}d=null}const H=new IE;H.setAnimationLoop(U),this.setAnimationLoop=function(j){F=j},this.dispose=function(){}}}function cN(n,e){function t(m,v){v.color.getRGB(m.fogColor.value,LE(n)),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function i(m,v,x,w,A){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(m,v):v.isMeshToonMaterial?(r(m,v),c(m,v)):v.isMeshPhongMaterial?(r(m,v),f(m,v)):v.isMeshStandardMaterial?(r(m,v),o(m,v),v.isMeshPhysicalMaterial&&u(m,v,A)):v.isMeshMatcapMaterial?(r(m,v),d(m,v)):v.isMeshDepthMaterial?r(m,v):v.isMeshDistanceMaterial?(r(m,v),p(m,v)):v.isMeshNormalMaterial?r(m,v):v.isLineBasicMaterial?(s(m,v),v.isLineDashedMaterial&&a(m,v)):v.isPointsMaterial?l(m,v,x,w):v.isSpriteMaterial?h(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===cr&&(m.bumpScale.value*=-1)),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===cr&&m.normalScale.value.negate()),v.specularMap&&(m.specularMap.value=v.specularMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(m.envMap.value=x,m.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio),v.lightMap){m.lightMap.value=v.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=v.lightMapIntensity*M}v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity);let w;v.map?w=v.map:v.specularMap?w=v.specularMap:v.displacementMap?w=v.displacementMap:v.normalMap?w=v.normalMap:v.bumpMap?w=v.bumpMap:v.roughnessMap?w=v.roughnessMap:v.metalnessMap?w=v.metalnessMap:v.alphaMap?w=v.alphaMap:v.emissiveMap?w=v.emissiveMap:v.clearcoatMap?w=v.clearcoatMap:v.clearcoatNormalMap?w=v.clearcoatNormalMap:v.clearcoatRoughnessMap?w=v.clearcoatRoughnessMap:v.iridescenceMap?w=v.iridescenceMap:v.iridescenceThicknessMap?w=v.iridescenceThicknessMap:v.specularIntensityMap?w=v.specularIntensityMap:v.specularColorMap?w=v.specularColorMap:v.transmissionMap?w=v.transmissionMap:v.thicknessMap?w=v.thicknessMap:v.sheenColorMap?w=v.sheenColorMap:v.sheenRoughnessMap&&(w=v.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),m.uvTransform.value.copy(w.matrix));let A;v.aoMap?A=v.aoMap:v.lightMap&&(A=v.lightMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),m.uv2Transform.value.copy(A.matrix))}function s(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity}function a(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function l(m,v,x,w){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*x,m.scale.value=w*.5,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let A;v.map?A=v.map:v.alphaMap&&(A=v.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),m.uvTransform.value.copy(A.matrix))}function h(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix))}function f(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4)}function c(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap)}function o(m,v){m.roughness.value=v.roughness,m.metalness.value=v.metalness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function u(m,v,x){m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),m.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===cr&&m.clearcoatNormalScale.value.negate())),v.iridescence>0&&(m.iridescence.value=v.iridescence,m.iridescenceIOR.value=v.iridescenceIOR,m.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(m.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=x.texture,m.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap)}function d(m,v){v.matcap&&(m.matcap.value=v.matcap)}function p(m,v){m.referencePosition.value.copy(v.referencePosition),m.nearDistance.value=v.nearDistance,m.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function uN(n,e,t,i){let r={},s={},a=[];const l=t.isWebGL2?n.getParameter(35375):0;function h(w,A){const M=A.program;i.uniformBlockBinding(w,M)}function f(w,A){let M=r[w.id];M===void 0&&(p(w),M=c(w),r[w.id]=M,w.addEventListener("dispose",v));const C=A.program;i.updateUBOMapping(w,C);const E=e.render.frame;s[w.id]!==E&&(u(w),s[w.id]=E)}function c(w){const A=o();w.__bindingPointIndex=A;const M=n.createBuffer(),C=w.__size,E=w.usage;return n.bindBuffer(35345,M),n.bufferData(35345,C,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,A,M),M}function o(){for(let w=0;w<l;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function u(w){const A=r[w.id],M=w.uniforms,C=w.__cache;n.bindBuffer(35345,A);for(let E=0,R=M.length;E<R;E++){const b=M[E];if(d(b,E,C)===!0){const _=b.__offset,S=Array.isArray(b.value)?b.value:[b.value];let T=0;for(let P=0;P<S.length;P++){const I=S[P],z=m(I);typeof I=="number"?(b.__data[0]=I,n.bufferSubData(35345,_+T,b.__data)):I.isMatrix3?(b.__data[0]=I.elements[0],b.__data[1]=I.elements[1],b.__data[2]=I.elements[2],b.__data[3]=I.elements[0],b.__data[4]=I.elements[3],b.__data[5]=I.elements[4],b.__data[6]=I.elements[5],b.__data[7]=I.elements[0],b.__data[8]=I.elements[6],b.__data[9]=I.elements[7],b.__data[10]=I.elements[8],b.__data[11]=I.elements[0]):(I.toArray(b.__data,T),T+=z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,_,b.__data)}}n.bindBuffer(35345,null)}function d(w,A,M){const C=w.value;if(M[A]===void 0){if(typeof C=="number")M[A]=C;else{const E=Array.isArray(C)?C:[C],R=[];for(let b=0;b<E.length;b++)R.push(E[b].clone());M[A]=R}return!0}else if(typeof C=="number"){if(M[A]!==C)return M[A]=C,!0}else{const E=Array.isArray(M[A])?M[A]:[M[A]],R=Array.isArray(C)?C:[C];for(let b=0;b<E.length;b++){const _=E[b];if(_.equals(R[b])===!1)return _.copy(R[b]),!0}}return!1}function p(w){const A=w.uniforms;let M=0;const C=16;let E=0;for(let R=0,b=A.length;R<b;R++){const _=A[R],S={boundary:0,storage:0},T=Array.isArray(_.value)?_.value:[_.value];for(let P=0,I=T.length;P<I;P++){const z=T[P],O=m(z);S.boundary+=O.boundary,S.storage+=O.storage}if(_.__data=new Float32Array(S.storage/Float32Array.BYTES_PER_ELEMENT),_.__offset=M,R>0){E=M%C;const P=C-E;E!==0&&P-S.boundary<0&&(M+=C-E,_.__offset=M)}M+=S.storage}return E=M%C,E>0&&(M+=C-E),w.__size=M,w.__cache={},this}function m(w){const A={boundary:0,storage:0};return typeof w=="number"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function v(w){const A=w.target;A.removeEventListener("dispose",v);const M=a.indexOf(A.__bindingPointIndex);a.splice(M,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function x(){for(const w in r)n.deleteBuffer(r[w]);a=[],r={},s={}}return{bind:h,update:f,dispose:x}}function hN(){const n=cf("canvas");return n.style.display="block",n}function Uw(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:hN(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,h=n.powerPreference!==void 0?n.powerPreference:"default",f=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let o=null,u=null;const d=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=eo,this.physicallyCorrectLights=!1,this.toneMapping=is,this.toneMappingExposure=1;const m=this;let v=!1,x=0,w=0,A=null,M=-1,C=null;const E=new Gt,R=new Gt;let b=null,_=e.width,S=e.height,T=1,P=null,I=null;const z=new Gt(0,0,_,S),O=new Gt(0,0,_,S);let D=!1;const B=new Vg;let F=!1,U=!1,H=null;const j=new _t,Y=new ke,K=new ee,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function $(){return A===null?T:1}let q=t;function pe(Z,ve){for(let Te=0;Te<Z.length;Te++){const ye=Z[Te],Pe=e.getContext(ye,ve);if(Pe!==null)return Pe}return null}try{const Z={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Fg}`),e.addEventListener("webglcontextlost",Oe,!1),e.addEventListener("webglcontextrestored",Fe,!1),e.addEventListener("webglcontextcreationerror",it,!1),q===null){const ve=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&ve.shift(),q=pe(ve,Z),q===null)throw pe(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let he,Ae,me,De,fe,xe,Le,Re,Ee,Ge,Ue,je,ot,ge,V,G,ne,de,ce,Me,Be,Ie,ue,Ke;function re(){he=new ED(q),Ae=new SD(q,he,n),he.init(Ae),Ie=new FE(q,he,Ae),me=new sN(q,he,Ae),De=new RD,fe=new YO,xe=new oN(q,he,me,fe,Ae,Ie,De),Le=new bD(m),Re=new MD(m),Ee=new BI(q,Ae),ue=new xD(q,he,Ee,Ae),Ge=new TD(q,Ee,De,ue),Ue=new zD(q,Ge,Ee,De),ce=new ID(q,Ae,xe),G=new _D(fe),je=new jO(m,Le,Re,he,Ae,ue,G),ot=new cN(m,fe),ge=new QO,V=new tN(he,Ae),de=new yD(m,Le,Re,me,Ue,c,a),ne=new rN(m,Ue,Ae),Ke=new uN(q,De,Ae,me),Me=new wD(q,he,De,Ae),Be=new LD(q,he,De,Ae),De.programs=je.programs,m.capabilities=Ae,m.extensions=he,m.properties=fe,m.renderLists=ge,m.shadowMap=ne,m.state=me,m.info=De}re();const we=new lN(m,q);this.xr=we,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const Z=he.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=he.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(Z){Z!==void 0&&(T=Z,this.setSize(_,S,!1))},this.getSize=function(Z){return Z.set(_,S)},this.setSize=function(Z,ve,Te){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}_=Z,S=ve,e.width=Math.floor(Z*T),e.height=Math.floor(ve*T),Te!==!1&&(e.style.width=Z+"px",e.style.height=ve+"px"),this.setViewport(0,0,Z,ve)},this.getDrawingBufferSize=function(Z){return Z.set(_*T,S*T).floor()},this.setDrawingBufferSize=function(Z,ve,Te){_=Z,S=ve,T=Te,e.width=Math.floor(Z*Te),e.height=Math.floor(ve*Te),this.setViewport(0,0,Z,ve)},this.getCurrentViewport=function(Z){return Z.copy(E)},this.getViewport=function(Z){return Z.copy(z)},this.setViewport=function(Z,ve,Te,ye){Z.isVector4?z.set(Z.x,Z.y,Z.z,Z.w):z.set(Z,ve,Te,ye),me.viewport(E.copy(z).multiplyScalar(T).floor())},this.getScissor=function(Z){return Z.copy(O)},this.setScissor=function(Z,ve,Te,ye){Z.isVector4?O.set(Z.x,Z.y,Z.z,Z.w):O.set(Z,ve,Te,ye),me.scissor(R.copy(O).multiplyScalar(T).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(Z){me.setScissorTest(D=Z)},this.setOpaqueSort=function(Z){P=Z},this.setTransparentSort=function(Z){I=Z},this.getClearColor=function(Z){return Z.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function(Z=!0,ve=!0,Te=!0){let ye=0;Z&&(ye|=16384),ve&&(ye|=256),Te&&(ye|=1024),q.clear(ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Oe,!1),e.removeEventListener("webglcontextrestored",Fe,!1),e.removeEventListener("webglcontextcreationerror",it,!1),ge.dispose(),V.dispose(),fe.dispose(),Le.dispose(),Re.dispose(),Ue.dispose(),ue.dispose(),Ke.dispose(),je.dispose(),we.dispose(),we.removeEventListener("sessionstart",Ye),we.removeEventListener("sessionend",qe),H&&(H.dispose(),H=null),pt.stop()};function Oe(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Fe(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const Z=De.autoReset,ve=ne.enabled,Te=ne.autoUpdate,ye=ne.needsUpdate,Pe=ne.type;re(),De.autoReset=Z,ne.enabled=ve,ne.autoUpdate=Te,ne.needsUpdate=ye,ne.type=Pe}function it(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function mt(Z){const ve=Z.target;ve.removeEventListener("dispose",mt),Wt(ve)}function Wt(Z){se(Z),fe.remove(Z)}function se(Z){const ve=fe.get(Z).programs;ve!==void 0&&(ve.forEach(function(Te){je.releaseProgram(Te)}),Z.isShaderMaterial&&je.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,ve,Te,ye,Pe,lt){ve===null&&(ve=X);const dt=Pe.isMesh&&Pe.matrixWorld.determinant()<0,ft=gu(Z,ve,Te,ye,Pe);me.setMaterial(ye,dt);let At=Te.index,kt=1;ye.wireframe===!0&&(At=Ge.getWireframeAttribute(Te),kt=2);const Rt=Te.drawRange,Pt=Te.attributes.position;let an=Rt.start*kt,dn=(Rt.start+Rt.count)*kt;lt!==null&&(an=Math.max(an,lt.start*kt),dn=Math.min(dn,(lt.start+lt.count)*kt)),At!==null?(an=Math.max(an,0),dn=Math.min(dn,At.count)):Pt!=null&&(an=Math.max(an,0),dn=Math.min(dn,Pt.count));const qi=dn-an;if(qi<0||qi===1/0)return;ue.setup(Pe,ye,ft,Te,At);let Fr,Zt=Me;if(At!==null&&(Fr=Ee.get(At),Zt=Be,Zt.setIndex(Fr)),Pe.isMesh)ye.wireframe===!0?(me.setLineWidth(ye.wireframeLinewidth*$()),Zt.setMode(1)):Zt.setMode(4);else if(Pe.isLine){let St=ye.linewidth;St===void 0&&(St=1),me.setLineWidth(St*$()),Pe.isLineSegments?Zt.setMode(1):Pe.isLineLoop?Zt.setMode(2):Zt.setMode(3)}else Pe.isPoints?Zt.setMode(0):Pe.isSprite&&Zt.setMode(4);if(Pe.isInstancedMesh)Zt.renderInstances(an,qi,Pe.count);else if(Te.isInstancedBufferGeometry){const St=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,As=Math.min(Te.instanceCount,St);Zt.renderInstances(an,qi,As)}else Zt.render(an,qi)},this.compile=function(Z,ve){function Te(ye,Pe,lt){ye.transparent===!0&&ye.side===ph?(ye.side=cr,ye.needsUpdate=!0,ui(ye,Pe,lt),ye.side=Ko,ye.needsUpdate=!0,ui(ye,Pe,lt),ye.side=ph):ui(ye,Pe,lt)}u=V.get(Z),u.init(),p.push(u),Z.traverseVisible(function(ye){ye.isLight&&ye.layers.test(ve.layers)&&(u.pushLight(ye),ye.castShadow&&u.pushShadow(ye))}),u.setupLights(m.physicallyCorrectLights),Z.traverse(function(ye){const Pe=ye.material;if(Pe)if(Array.isArray(Pe))for(let lt=0;lt<Pe.length;lt++){const dt=Pe[lt];Te(dt,Z,ye)}else Te(Pe,Z,ye)}),p.pop(),u=null};let _e=null;function Ne(Z){_e&&_e(Z)}function Ye(){pt.stop()}function qe(){pt.start()}const pt=new IE;pt.setAnimationLoop(Ne),typeof self<"u"&&pt.setContext(self),this.setAnimationLoop=function(Z){_e=Z,we.setAnimationLoop(Z),Z===null?pt.stop():pt.start()},we.addEventListener("sessionstart",Ye),we.addEventListener("sessionend",qe),this.render=function(Z,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(ve),ve=we.getCamera()),Z.isScene===!0&&Z.onBeforeRender(m,Z,ve,A),u=V.get(Z,p.length),u.init(),p.push(u),j.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),B.setFromProjectionMatrix(j),U=this.localClippingEnabled,F=G.init(this.clippingPlanes,U,ve),o=ge.get(Z,d.length),o.init(),d.push(o),Vt(Z,ve,0,m.sortObjects),o.finish(),m.sortObjects===!0&&o.sort(P,I),F===!0&&G.beginShadows();const Te=u.state.shadowsArray;if(ne.render(Te,Z,ve),F===!0&&G.endShadows(),this.info.autoReset===!0&&this.info.reset(),de.render(o,Z),u.setupLights(m.physicallyCorrectLights),ve.isArrayCamera){const ye=ve.cameras;for(let Pe=0,lt=ye.length;Pe<lt;Pe++){const dt=ye[Pe];tn(o,Z,dt,dt.viewport)}}else tn(o,Z,ve);A!==null&&(xe.updateMultisampleRenderTarget(A),xe.updateRenderTargetMipmap(A)),Z.isScene===!0&&Z.onAfterRender(m,Z,ve),ue.resetDefaultState(),M=-1,C=null,p.pop(),p.length>0?u=p[p.length-1]:u=null,d.pop(),d.length>0?o=d[d.length-1]:o=null};function Vt(Z,ve,Te,ye){if(Z.visible===!1)return;if(Z.layers.test(ve.layers)){if(Z.isGroup)Te=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(ve);else if(Z.isLight)u.pushLight(Z),Z.castShadow&&u.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||B.intersectsSprite(Z)){ye&&K.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(j);const dt=Ue.update(Z),ft=Z.material;ft.visible&&o.push(Z,dt,ft,Te,K.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(Z.isSkinnedMesh&&Z.skeleton.frame!==De.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=De.render.frame),!Z.frustumCulled||B.intersectsObject(Z))){ye&&K.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(j);const dt=Ue.update(Z),ft=Z.material;if(Array.isArray(ft)){const At=dt.groups;for(let kt=0,Rt=At.length;kt<Rt;kt++){const Pt=At[kt],an=ft[Pt.materialIndex];an&&an.visible&&o.push(Z,dt,an,Te,K.z,Pt)}}else ft.visible&&o.push(Z,dt,ft,Te,K.z,null)}}const lt=Z.children;for(let dt=0,ft=lt.length;dt<ft;dt++)Vt(lt[dt],ve,Te,ye)}function tn(Z,ve,Te,ye){const Pe=Z.opaque,lt=Z.transmissive,dt=Z.transparent;u.setupLightsView(Te),lt.length>0&&xn(Pe,ve,Te),ye&&me.viewport(E.copy(ye)),Pe.length>0&&bt(Pe,ve,Te),lt.length>0&&bt(lt,ve,Te),dt.length>0&&bt(dt,ve,Te),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function xn(Z,ve,Te){const ye=Ae.isWebGL2;H===null&&(H=new Nr(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?Yc:Zs,minFilter:Xo,samples:ye&&s===!0?4:0})),m.getDrawingBufferSize(Y),ye?H.setSize(Y.x,Y.y):H.setSize(Jm(Y.x),Jm(Y.y));const Pe=m.getRenderTarget();m.setRenderTarget(H),m.clear();const lt=m.toneMapping;m.toneMapping=is,bt(Z,ve,Te),m.toneMapping=lt,xe.updateMultisampleRenderTarget(H),xe.updateRenderTargetMipmap(H),m.setRenderTarget(Pe)}function bt(Z,ve,Te){const ye=ve.isScene===!0?ve.overrideMaterial:null;for(let Pe=0,lt=Z.length;Pe<lt;Pe++){const dt=Z[Pe],ft=dt.object,At=dt.geometry,kt=ye===null?dt.material:ye,Rt=dt.group;ft.layers.test(Te.layers)&&Ni(ft,ve,Te,At,kt,Rt)}}function Ni(Z,ve,Te,ye,Pe,lt){Z.onBeforeRender(m,ve,Te,ye,Pe,lt),Z.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Pe.onBeforeRender(m,ve,Te,ye,Z,lt),Pe.transparent===!0&&Pe.side===ph?(Pe.side=cr,Pe.needsUpdate=!0,m.renderBufferDirect(Te,ve,ye,Pe,Z,lt),Pe.side=Ko,Pe.needsUpdate=!0,m.renderBufferDirect(Te,ve,ye,Pe,Z,lt),Pe.side=ph):m.renderBufferDirect(Te,ve,ye,Pe,Z,lt),Z.onAfterRender(m,ve,Te,ye,Pe,lt)}function ui(Z,ve,Te){ve.isScene!==!0&&(ve=X);const ye=fe.get(Z),Pe=u.state.lights,lt=u.state.shadowsArray,dt=Pe.state.version,ft=je.getParameters(Z,Pe.state,lt,ve,Te),At=je.getProgramCacheKey(ft);let kt=ye.programs;ye.environment=Z.isMeshStandardMaterial?ve.environment:null,ye.fog=ve.fog,ye.envMap=(Z.isMeshStandardMaterial?Re:Le).get(Z.envMap||ye.environment),kt===void 0&&(Z.addEventListener("dispose",mt),kt=new Map,ye.programs=kt);let Rt=kt.get(At);if(Rt!==void 0){if(ye.currentProgram===Rt&&ye.lightsStateVersion===dt)return bl(Z,ft),Rt}else ft.uniforms=je.getUniforms(Z),Z.onBuild(Te,ft,m),Z.onBeforeCompile(ft,m),Rt=je.acquireProgram(ft,At),kt.set(At,Rt),ye.uniforms=ft.uniforms;const Pt=ye.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Pt.clippingPlanes=G.uniform),bl(Z,ft),ye.needsLights=ro(Z),ye.lightsStateVersion=dt,ye.needsLights&&(Pt.ambientLightColor.value=Pe.state.ambient,Pt.lightProbe.value=Pe.state.probe,Pt.directionalLights.value=Pe.state.directional,Pt.directionalLightShadows.value=Pe.state.directionalShadow,Pt.spotLights.value=Pe.state.spot,Pt.spotLightShadows.value=Pe.state.spotShadow,Pt.rectAreaLights.value=Pe.state.rectArea,Pt.ltc_1.value=Pe.state.rectAreaLTC1,Pt.ltc_2.value=Pe.state.rectAreaLTC2,Pt.pointLights.value=Pe.state.point,Pt.pointLightShadows.value=Pe.state.pointShadow,Pt.hemisphereLights.value=Pe.state.hemi,Pt.directionalShadowMap.value=Pe.state.directionalShadowMap,Pt.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,Pt.spotShadowMap.value=Pe.state.spotShadowMap,Pt.spotLightMatrix.value=Pe.state.spotLightMatrix,Pt.spotLightMap.value=Pe.state.spotLightMap,Pt.pointShadowMap.value=Pe.state.pointShadowMap,Pt.pointShadowMatrix.value=Pe.state.pointShadowMatrix);const an=Rt.getUniforms(),dn=gm.seqWithValue(an.seq,Pt);return ye.currentProgram=Rt,ye.uniformsList=dn,Rt}function bl(Z,ve){const Te=fe.get(Z);Te.outputEncoding=ve.outputEncoding,Te.instancing=ve.instancing,Te.skinning=ve.skinning,Te.morphTargets=ve.morphTargets,Te.morphNormals=ve.morphNormals,Te.morphColors=ve.morphColors,Te.morphTargetsCount=ve.morphTargetsCount,Te.numClippingPlanes=ve.numClippingPlanes,Te.numIntersection=ve.numClipIntersection,Te.vertexAlphas=ve.vertexAlphas,Te.vertexTangents=ve.vertexTangents,Te.toneMapping=ve.toneMapping}function gu(Z,ve,Te,ye,Pe){ve.isScene!==!0&&(ve=X),xe.resetTextureUnits();const lt=ve.fog,dt=ye.isMeshStandardMaterial?ve.environment:null,ft=A===null?m.outputEncoding:A.isXRRenderTarget===!0?A.texture.encoding:eo,At=(ye.isMeshStandardMaterial?Re:Le).get(ye.envMap||dt),kt=ye.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,Rt=!!ye.normalMap&&!!Te.attributes.tangent,Pt=!!Te.morphAttributes.position,an=!!Te.morphAttributes.normal,dn=!!Te.morphAttributes.color,qi=ye.toneMapped?m.toneMapping:is,Fr=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,Zt=Fr!==void 0?Fr.length:0,St=fe.get(ye),As=u.state.lights;if(F===!0&&(U===!0||Z!==C)){const Ft=Z===C&&ye.id===M;G.setState(ye,Z,Ft)}let Qt=!1;ye.version===St.__version?(St.needsLights&&St.lightsStateVersion!==As.state.version||St.outputEncoding!==ft||Pe.isInstancedMesh&&St.instancing===!1||!Pe.isInstancedMesh&&St.instancing===!0||Pe.isSkinnedMesh&&St.skinning===!1||!Pe.isSkinnedMesh&&St.skinning===!0||St.envMap!==At||ye.fog===!0&&St.fog!==lt||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==G.numPlanes||St.numIntersection!==G.numIntersection)||St.vertexAlphas!==kt||St.vertexTangents!==Rt||St.morphTargets!==Pt||St.morphNormals!==an||St.morphColors!==dn||St.toneMapping!==qi||Ae.isWebGL2===!0&&St.morphTargetsCount!==Zt)&&(Qt=!0):(Qt=!0,St.__version=ye.version);let Br=St.currentProgram;Qt===!0&&(Br=ui(ye,ve,Pe));let so=!1,Mn=!1,Fi=!1;const gt=Br.getUniforms(),It=St.uniforms;if(me.useProgram(Br.program)&&(so=!0,Mn=!0,Fi=!0),ye.id!==M&&(M=ye.id,Mn=!0),so||C!==Z){if(gt.setValue(q,"projectionMatrix",Z.projectionMatrix),Ae.logarithmicDepthBuffer&&gt.setValue(q,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),C!==Z&&(C=Z,Mn=!0,Fi=!0),ye.isShaderMaterial||ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshStandardMaterial||ye.envMap){const Ft=gt.map.cameraPosition;Ft!==void 0&&Ft.setValue(q,K.setFromMatrixPosition(Z.matrixWorld))}(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&gt.setValue(q,"isOrthographic",Z.isOrthographicCamera===!0),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial||ye.isShadowMaterial||Pe.isSkinnedMesh)&&gt.setValue(q,"viewMatrix",Z.matrixWorldInverse)}if(Pe.isSkinnedMesh){gt.setOptional(q,Pe,"bindMatrix"),gt.setOptional(q,Pe,"bindMatrixInverse");const Ft=Pe.skeleton;Ft&&(Ae.floatVertexTextures?(Ft.boneTexture===null&&Ft.computeBoneTexture(),gt.setValue(q,"boneTexture",Ft.boneTexture,xe),gt.setValue(q,"boneTextureSize",Ft.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Bi=Te.morphAttributes;if((Bi.position!==void 0||Bi.normal!==void 0||Bi.color!==void 0&&Ae.isWebGL2===!0)&&ce.update(Pe,Te,ye,Br),(Mn||St.receiveShadow!==Pe.receiveShadow)&&(St.receiveShadow=Pe.receiveShadow,gt.setValue(q,"receiveShadow",Pe.receiveShadow)),ye.isMeshGouraudMaterial&&ye.envMap!==null&&(It.envMap.value=At,It.flipEnvMap.value=At.isCubeTexture&&At.isRenderTargetTexture===!1?-1:1),Mn&&(gt.setValue(q,"toneMappingExposure",m.toneMappingExposure),St.needsLights&&Al(It,Fi),lt&&ye.fog===!0&&ot.refreshFogUniforms(It,lt),ot.refreshMaterialUniforms(It,ye,T,S,H),gm.upload(q,St.uniformsList,It,xe)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(gm.upload(q,St.uniformsList,It,xe),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&gt.setValue(q,"center",Pe.center),gt.setValue(q,"modelViewMatrix",Pe.modelViewMatrix),gt.setValue(q,"normalMatrix",Pe.normalMatrix),gt.setValue(q,"modelMatrix",Pe.matrixWorld),ye.isShaderMaterial||ye.isRawShaderMaterial){const Ft=ye.uniformsGroups;for(let zn=0,Ui=Ft.length;zn<Ui;zn++)if(Ae.isWebGL2){const Ur=Ft[zn];Ke.update(Ur,Br),Ke.bind(Ur,Br)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Br}function Al(Z,ve){Z.ambientLightColor.needsUpdate=ve,Z.lightProbe.needsUpdate=ve,Z.directionalLights.needsUpdate=ve,Z.directionalLightShadows.needsUpdate=ve,Z.pointLights.needsUpdate=ve,Z.pointLightShadows.needsUpdate=ve,Z.spotLights.needsUpdate=ve,Z.spotLightShadows.needsUpdate=ve,Z.rectAreaLights.needsUpdate=ve,Z.hemisphereLights.needsUpdate=ve}function ro(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(Z,ve,Te){fe.get(Z.texture).__webglTexture=ve,fe.get(Z.depthTexture).__webglTexture=Te;const ye=fe.get(Z);ye.__hasExternalTextures=!0,ye.__hasExternalTextures&&(ye.__autoAllocateDepthBuffer=Te===void 0,ye.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ye.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,ve){const Te=fe.get(Z);Te.__webglFramebuffer=ve,Te.__useDefaultFramebuffer=ve===void 0},this.setRenderTarget=function(Z,ve=0,Te=0){A=Z,x=ve,w=Te;let ye=!0,Pe=null,lt=!1,dt=!1;if(Z){const At=fe.get(Z);At.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(36160,null),ye=!1):At.__webglFramebuffer===void 0?xe.setupRenderTarget(Z):At.__hasExternalTextures&&xe.rebindTextures(Z,fe.get(Z.texture).__webglTexture,fe.get(Z.depthTexture).__webglTexture);const kt=Z.texture;(kt.isData3DTexture||kt.isDataArrayTexture||kt.isCompressedArrayTexture)&&(dt=!0);const Rt=fe.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Pe=Rt[ve],lt=!0):Ae.isWebGL2&&Z.samples>0&&xe.useMultisampledRTT(Z)===!1?Pe=fe.get(Z).__webglMultisampledFramebuffer:Pe=Rt,E.copy(Z.viewport),R.copy(Z.scissor),b=Z.scissorTest}else E.copy(z).multiplyScalar(T).floor(),R.copy(O).multiplyScalar(T).floor(),b=D;if(me.bindFramebuffer(36160,Pe)&&Ae.drawBuffers&&ye&&me.drawBuffers(Z,Pe),me.viewport(E),me.scissor(R),me.setScissorTest(b),lt){const At=fe.get(Z.texture);q.framebufferTexture2D(36160,36064,34069+ve,At.__webglTexture,Te)}else if(dt){const At=fe.get(Z.texture),kt=ve||0;q.framebufferTextureLayer(36160,36064,At.__webglTexture,Te||0,kt)}M=-1},this.readRenderTargetPixels=function(Z,ve,Te,ye,Pe,lt,dt){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=fe.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&dt!==void 0&&(ft=ft[dt]),ft){me.bindFramebuffer(36160,ft);try{const At=Z.texture,kt=At.format,Rt=At.type;if(kt!==ji&&Ie.convert(kt)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pt=Rt===Yc&&(he.has("EXT_color_buffer_half_float")||Ae.isWebGL2&&he.has("EXT_color_buffer_float"));if(Rt!==Zs&&Ie.convert(Rt)!==q.getParameter(35738)&&!(Rt===Ks&&(Ae.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=Z.width-ye&&Te>=0&&Te<=Z.height-Pe&&q.readPixels(ve,Te,ye,Pe,Ie.convert(kt),Ie.convert(Rt),lt)}finally{const At=A!==null?fe.get(A).__webglFramebuffer:null;me.bindFramebuffer(36160,At)}}},this.copyFramebufferToTexture=function(Z,ve,Te=0){const ye=Math.pow(2,-Te),Pe=Math.floor(ve.image.width*ye),lt=Math.floor(ve.image.height*ye);xe.setTexture2D(ve,0),q.copyTexSubImage2D(3553,Te,0,0,Z.x,Z.y,Pe,lt),me.unbindTexture()},this.copyTextureToTexture=function(Z,ve,Te,ye=0){const Pe=ve.image.width,lt=ve.image.height,dt=Ie.convert(Te.format),ft=Ie.convert(Te.type);xe.setTexture2D(Te,0),q.pixelStorei(37440,Te.flipY),q.pixelStorei(37441,Te.premultiplyAlpha),q.pixelStorei(3317,Te.unpackAlignment),ve.isDataTexture?q.texSubImage2D(3553,ye,Z.x,Z.y,Pe,lt,dt,ft,ve.image.data):ve.isCompressedTexture?q.compressedTexSubImage2D(3553,ye,Z.x,Z.y,ve.mipmaps[0].width,ve.mipmaps[0].height,dt,ve.mipmaps[0].data):q.texSubImage2D(3553,ye,Z.x,Z.y,dt,ft,ve.image),ye===0&&Te.generateMipmaps&&q.generateMipmap(3553),me.unbindTexture()},this.copyTextureToTexture3D=function(Z,ve,Te,ye,Pe=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const lt=Z.max.x-Z.min.x+1,dt=Z.max.y-Z.min.y+1,ft=Z.max.z-Z.min.z+1,At=Ie.convert(ye.format),kt=Ie.convert(ye.type);let Rt;if(ye.isData3DTexture)xe.setTexture3D(ye,0),Rt=32879;else if(ye.isDataArrayTexture)xe.setTexture2DArray(ye,0),Rt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,ye.flipY),q.pixelStorei(37441,ye.premultiplyAlpha),q.pixelStorei(3317,ye.unpackAlignment);const Pt=q.getParameter(3314),an=q.getParameter(32878),dn=q.getParameter(3316),qi=q.getParameter(3315),Fr=q.getParameter(32877),Zt=Te.isCompressedTexture?Te.mipmaps[0]:Te.image;q.pixelStorei(3314,Zt.width),q.pixelStorei(32878,Zt.height),q.pixelStorei(3316,Z.min.x),q.pixelStorei(3315,Z.min.y),q.pixelStorei(32877,Z.min.z),Te.isDataTexture||Te.isData3DTexture?q.texSubImage3D(Rt,Pe,ve.x,ve.y,ve.z,lt,dt,ft,At,kt,Zt.data):Te.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Rt,Pe,ve.x,ve.y,ve.z,lt,dt,ft,At,Zt.data)):q.texSubImage3D(Rt,Pe,ve.x,ve.y,ve.z,lt,dt,ft,At,kt,Zt),q.pixelStorei(3314,Pt),q.pixelStorei(32878,an),q.pixelStorei(3316,dn),q.pixelStorei(3315,qi),q.pixelStorei(32877,Fr),Pe===0&&ye.generateMipmaps&&q.generateMipmap(Rt),me.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?xe.setTextureCube(Z,0):Z.isData3DTexture?xe.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?xe.setTexture2DArray(Z,0):xe.setTexture2D(Z,0),me.unbindTexture()},this.resetState=function(){x=0,w=0,A=null,me.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class HE extends Uw{}HE.prototype.isWebGL1Renderer=!0;class Kg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ze(e),this.density=t}clone(){return new Kg(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class jg{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ze(e),this.near=t,this.far=i}clone(){return new jg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Zm extends Ht{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Yg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=af,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ur()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ur()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ur()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ei=new ee;class cl{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.applyMatrix4(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.applyNormalMatrix(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.transformDirection(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=js(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=js(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=js(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=js(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),i=qt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),i=qt(i,this.array),r=qt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),i=qt(i,this.array),r=qt(r,this.array),s=qt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Hw extends ci{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let tc;const nh=new ee,nc=new ee,ic=new ee,rc=new ke,ih=new ke,WE=new _t,_p=new ee,rh=new ee,bp=new ee,Yb=new ke,o1=new ke,Xb=new ke;class VE extends Ht{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",tc===void 0){tc=new Tt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Yg(t,5);tc.setIndex([0,1,2,0,2,3]),tc.setAttribute("position",new cl(i,3,0,!1)),tc.setAttribute("uv",new cl(i,2,3,!1))}this.geometry=tc,this.material=e!==void 0?e:new Hw,this.center=new ke(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),nc.setFromMatrixScale(this.matrixWorld),WE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ic.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&nc.multiplyScalar(-ic.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;Ap(_p.set(-.5,-.5,0),ic,a,nc,r,s),Ap(rh.set(.5,-.5,0),ic,a,nc,r,s),Ap(bp.set(.5,.5,0),ic,a,nc,r,s),Yb.set(0,0),o1.set(1,0),Xb.set(1,1);let l=e.ray.intersectTriangle(_p,rh,bp,!1,nh);if(l===null&&(Ap(rh.set(-.5,.5,0),ic,a,nc,r,s),o1.set(0,1),l=e.ray.intersectTriangle(_p,bp,rh,!1,nh),l===null))return;const h=e.ray.origin.distanceTo(nh);h<e.near||h>e.far||t.push({distance:h,point:nh.clone(),uv:kr.getUV(nh,_p,rh,bp,Yb,o1,Xb,new ke),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ap(n,e,t,i,r,s){rc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(ih.x=s*rc.x-r*rc.y,ih.y=r*rc.x+s*rc.y):ih.copy(rc),n.copy(e),n.x+=ih.x,n.y+=ih.y,n.applyMatrix4(WE)}const Cp=new ee,Qb=new ee;class GE extends Ht{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Cp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Cp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Cp.setFromMatrixPosition(e.matrixWorld),Qb.setFromMatrixPosition(this.matrixWorld);const i=Cp.distanceTo(Qb)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const $b=new ee,qb=new Gt,Jb=new Gt,fN=new ee,Zb=new _t;class KE extends oi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _t,this.bindMatrixInverse=new _t}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;qb.fromBufferAttribute(r.attributes.skinIndex,e),Jb.fromBufferAttribute(r.attributes.skinWeight,e),$b.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Jb.getComponent(s);if(a!==0){const l=qb.getComponent(s);Zb.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(fN.copy($b).applyMatrix4(Zb),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Ww extends Ht{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bc extends Cn{constructor(e=null,t=1,i=1,r,s,a,l,h,f=Rn,c=Rn,o,u){super(null,a,l,h,f,c,r,s,o,u),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eA=new _t,dN=new _t;class Xg{constructor(e=[],t=[]){this.uuid=ur(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new _t)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new _t;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:dN;eA.multiplyMatrices(l,t[s]),eA.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Xg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ME(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Bc(t,e,e,ji,Ks);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new Ww),this.bones.push(a),this.boneInverses.push(new _t().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class $c extends Jt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const tA=new _t,nA=new _t,Mp=[],pN=new _t,sh=new oi;class jE extends oi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new $c(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,pN)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(sh.geometry=this.geometry,sh.material=this.material,sh.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,tA),nA.multiplyMatrices(i,tA),sh.matrixWorld=nA,sh.raycast(e,Mp);for(let a=0,l=Mp.length;a<l;a++){const h=Mp[a];h.instanceId=s,h.object=this,t.push(h)}Mp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new $c(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Oi extends ci{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ze(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const iA=new ee,rA=new ee,sA=new _t,a1=new If,Ep=new vl;class Qo extends Ht{constructor(e=new Tt,t=new Oi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)iA.fromBufferAttribute(t,r-1),rA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=iA.distanceTo(rA);e.setAttribute("lineDistance",new nt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ep.copy(i.boundingSphere),Ep.applyMatrix4(r),Ep.radius+=s,e.ray.intersectsSphere(Ep)===!1)return;sA.copy(r).invert(),a1.copy(e.ray).applyMatrix4(sA);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,f=new ee,c=new ee,o=new ee,u=new ee,d=this.isLineSegments?2:1,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,a.start),w=Math.min(p.count,a.start+a.count);for(let A=x,M=w-1;A<M;A+=d){const C=p.getX(A),E=p.getX(A+1);if(f.fromBufferAttribute(v,C),c.fromBufferAttribute(v,E),a1.distanceSqToSegment(f,c,u,o)>h)continue;u.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:o.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,a.start),w=Math.min(v.count,a.start+a.count);for(let A=x,M=w-1;A<M;A+=d){if(f.fromBufferAttribute(v,A),c.fromBufferAttribute(v,A+1),a1.distanceSqToSegment(f,c,u,o)>h)continue;u.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(u);E<e.near||E>e.far||t.push({distance:E,point:o.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}const oA=new ee,aA=new ee;class bs extends Qo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)oA.fromBufferAttribute(t,r),aA.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+oA.distanceTo(aA);e.setAttribute("lineDistance",new nt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YE extends Qo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Vw extends ci{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const lA=new _t,sx=new If,Tp=new vl,Lp=new ee;class XE extends Ht{constructor(e=new Tt,t=new Vw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Tp.copy(i.boundingSphere),Tp.applyMatrix4(r),Tp.radius+=s,e.ray.intersectsSphere(Tp)===!1)return;lA.copy(r).invert(),sx.copy(e.ray).applyMatrix4(lA);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,f=i.index,o=i.attributes.position;if(f!==null){const u=Math.max(0,a.start),d=Math.min(f.count,a.start+a.count);for(let p=u,m=d;p<m;p++){const v=f.getX(p);Lp.fromBufferAttribute(o,v),cA(Lp,v,h,r,e,t,this)}}else{const u=Math.max(0,a.start),d=Math.min(o.count,a.start+a.count);for(let p=u,m=d;p<m;p++)Lp.fromBufferAttribute(o,p),cA(Lp,p,h,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function cA(n,e,t,i,r,s,a){const l=sx.distanceSqToPoint(n);if(l<t){const h=new ee;sx.closestPointToPoint(n,h),h.applyMatrix4(i);const f=r.ray.origin.distanceTo(h);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(l),point:h,index:e,face:null,object:a})}}class mN extends Cn{constructor(e,t,i,r,s,a,l,h,f){super(e,t,i,r,s,a,l,h,f),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:kn,this.magFilter=s!==void 0?s:kn,this.generateMipmaps=!1;const c=this;function o(){c.needsUpdate=!0,e.requestVideoFrameCallback(o)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(o)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class gN extends Cn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=Rn,this.minFilter=Rn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Gw extends Cn{constructor(e,t,i,r,s,a,l,h,f,c,o,u){super(null,a,l,h,f,c,r,s,o,u),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class vN extends Gw{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=_i}}class yN extends Cn{constructor(e,t,i,r,s,a,l,h,f){super(e,t,i,r,s,a,l,h,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ss{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let l=0,h=s-1,f;for(;l<=h;)if(r=Math.floor(l+(h-l)/2),f=i[r]-a,f<0)l=r+1;else if(f>0)h=r-1;else{h=r;break}if(r=h,i[r]===a)return r/(s-1);const c=i[r],u=i[r+1]-c,d=(a-c)/u;return(r+d)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),l=this.getPoint(s),h=t||(a.isVector2?new ke:new ee);return h.copy(l).sub(a).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new ee,r=[],s=[],a=[],l=new ee,h=new _t;for(let d=0;d<=e;d++){const p=d/e;r[d]=this.getTangentAt(p,new ee)}s[0]=new ee,a[0]=new ee;let f=Number.MAX_VALUE;const c=Math.abs(r[0].x),o=Math.abs(r[0].y),u=Math.abs(r[0].z);c<=f&&(f=c,i.set(1,0,0)),o<=f&&(f=o,i.set(0,1,0)),u<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],l),a[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),a[d]=a[d-1].clone(),l.crossVectors(r[d-1],r[d]),l.length()>Number.EPSILON){l.normalize();const p=Math.acos(In(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(h.makeRotationAxis(l,p))}a[d].crossVectors(r[d],s[d])}if(t===!0){let d=Math.acos(In(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(d=-d);for(let p=1;p<=e;p++)s[p].applyMatrix4(h.makeRotationAxis(r[p],d*p)),a[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Qg extends ss{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,l=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=h}getPoint(e,t){const i=t||new ke,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let h=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const c=Math.cos(this.aRotation),o=Math.sin(this.aRotation),u=h-this.aX,d=f-this.aY;h=u*c-d*o+this.aX,f=u*o+d*c+this.aY}return i.set(h,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class QE extends Qg{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Kw(){let n=0,e=0,t=0,i=0;function r(s,a,l,h){n=s,e=l,t=-3*s+3*a-2*l-h,i=2*s-2*a+l+h}return{initCatmullRom:function(s,a,l,h,f){r(a,l,f*(l-s),f*(h-a))},initNonuniformCatmullRom:function(s,a,l,h,f,c,o){let u=(a-s)/f-(l-s)/(f+c)+(l-a)/c,d=(l-a)/c-(h-a)/(c+o)+(h-l)/o;u*=c,d*=c,r(a,l,u,d)},calc:function(s){const a=s*s,l=a*s;return n+e*s+t*a+i*l}}}const Rp=new ee,l1=new Kw,c1=new Kw,u1=new Kw;class $E extends ss{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new ee){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),h=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:h===0&&l===s-1&&(l=s-2,h=1);let f,c;this.closed||l>0?f=r[(l-1)%s]:(Rp.subVectors(r[0],r[1]).add(r[0]),f=Rp);const o=r[l%s],u=r[(l+1)%s];if(this.closed||l+2<s?c=r[(l+2)%s]:(Rp.subVectors(r[s-1],r[s-2]).add(r[s-1]),c=Rp),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let p=Math.pow(f.distanceToSquared(o),d),m=Math.pow(o.distanceToSquared(u),d),v=Math.pow(u.distanceToSquared(c),d);m<1e-4&&(m=1),p<1e-4&&(p=m),v<1e-4&&(v=m),l1.initNonuniformCatmullRom(f.x,o.x,u.x,c.x,p,m,v),c1.initNonuniformCatmullRom(f.y,o.y,u.y,c.y,p,m,v),u1.initNonuniformCatmullRom(f.z,o.z,u.z,c.z,p,m,v)}else this.curveType==="catmullrom"&&(l1.initCatmullRom(f.x,o.x,u.x,c.x,this.tension),c1.initCatmullRom(f.y,o.y,u.y,c.y,this.tension),u1.initCatmullRom(f.z,o.z,u.z,c.z,this.tension));return i.set(l1.calc(h),c1.calc(h),u1.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ee().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function uA(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,l=n*n,h=n*l;return(2*t-2*i+s+a)*h+(-3*t+3*i-2*s-a)*l+s*n+t}function xN(n,e){const t=1-n;return t*t*e}function wN(n,e){return 2*(1-n)*n*e}function SN(n,e){return n*n*e}function Lh(n,e,t,i){return xN(n,e)+wN(n,t)+SN(n,i)}function _N(n,e){const t=1-n;return t*t*t*e}function bN(n,e){const t=1-n;return 3*t*t*n*e}function AN(n,e){return 3*(1-n)*n*n*e}function CN(n,e){return n*n*n*e}function Rh(n,e,t,i,r){return _N(n,e)+bN(n,t)+AN(n,i)+CN(n,r)}class jw extends ss{constructor(e=new ke,t=new ke,i=new ke,r=new ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ke){const i=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(Rh(e,r.x,s.x,a.x,l.x),Rh(e,r.y,s.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class qE extends ss{constructor(e=new ee,t=new ee,i=new ee,r=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ee){const i=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(Rh(e,r.x,s.x,a.x,l.x),Rh(e,r.y,s.y,a.y,l.y),Rh(e,r.z,s.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $g extends ss{constructor(e=new ke,t=new ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ke){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new ke;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JE extends ss{constructor(e=new ee,t=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ee){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yw extends ss{constructor(e=new ke,t=new ke,i=new ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ke){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Lh(e,r.x,s.x,a.x),Lh(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xw extends ss{constructor(e=new ee,t=new ee,i=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ee){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Lh(e,r.x,s.x,a.x),Lh(e,r.y,s.y,a.y),Lh(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qw extends ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ke){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),l=s-a,h=r[a===0?a:a-1],f=r[a],c=r[a>r.length-2?r.length-1:a+1],o=r[a>r.length-3?r.length-1:a+2];return i.set(uA(l,h.x,f.x,c.x,o.x),uA(l,h.y,f.y,c.y,o.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ke().fromArray(r))}return this}}var $w=Object.freeze({__proto__:null,ArcCurve:QE,CatmullRomCurve3:$E,CubicBezierCurve:jw,CubicBezierCurve3:qE,EllipseCurve:Qg,LineCurve:$g,LineCurve3:JE,QuadraticBezierCurve:Yw,QuadraticBezierCurve3:Xw,SplineCurve:Qw});class ZE extends ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new $g(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,l=this.curves[s],h=l.getLength(),f=h===0?0:1-a/h;return l.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,h=a.getPoints(l);for(let f=0;f<h.length;f++){const c=h[f];i&&i.equals(c)||(t.push(c),i=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new $w[r.type]().fromJSON(r))}return this}}class uf extends ZE{constructor(e){super(),this.type="Path",this.currentPoint=new ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new $g(this.currentPoint.clone(),new ke(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new Yw(this.currentPoint.clone(),new ke(e,t),new ke(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const l=new jw(this.currentPoint.clone(),new ke(e,t),new ke(i,r),new ke(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Qw(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const l=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+l,t+h,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,l,h){const f=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+f,t+c,i,r,s,a,l,h),this}absellipse(e,t,i,r,s,a,l,h){const f=new Qg(e,t,i,r,s,a,l,h);if(this.curves.length>0){const o=f.getPoint(0);o.equals(this.currentPoint)||this.lineTo(o.x,o.y)}this.curves.push(f);const c=f.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hu extends Tt{constructor(e=[new ke(0,-.5),new ke(.5,0),new ke(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=In(r,0,Math.PI*2);const s=[],a=[],l=[],h=[],f=[],c=1/t,o=new ee,u=new ke,d=new ee,p=new ee,m=new ee;let v=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,d.x=x*1,d.y=-v,d.z=x*0,m.copy(d),d.normalize(),h.push(d.x,d.y,d.z);break;case e.length-1:h.push(m.x,m.y,m.z);break;default:v=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,d.x=x*1,d.y=-v,d.z=x*0,p.copy(d),d.x+=m.x,d.y+=m.y,d.z+=m.z,d.normalize(),h.push(d.x,d.y,d.z),m.copy(p)}for(let w=0;w<=t;w++){const A=i+w*c*r,M=Math.sin(A),C=Math.cos(A);for(let E=0;E<=e.length-1;E++){o.x=e[E].x*M,o.y=e[E].y,o.z=e[E].x*C,a.push(o.x,o.y,o.z),u.x=w/t,u.y=E/(e.length-1),l.push(u.x,u.y);const R=h[3*E+0]*M,b=h[3*E+1],_=h[3*E+0]*C;f.push(R,b,_)}}for(let w=0;w<t;w++)for(let A=0;A<e.length-1;A++){const M=A+w*e.length,C=M,E=M+e.length,R=M+e.length+1,b=M+1;s.push(C,E,b),s.push(R,b,E)}this.setIndex(s),this.setAttribute("position",new nt(a,3)),this.setAttribute("uv",new nt(l,2)),this.setAttribute("normal",new nt(f,3))}static fromJSON(e){return new hu(e.points,e.segments,e.phiStart,e.phiLength)}}class Of extends hu{constructor(e=1,t=1,i=4,r=8){const s=new uf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Of(e.radius,e.length,e.capSegments,e.radialSegments)}}class Nf extends Tt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],l=[],h=[],f=new ee,c=new ke;a.push(0,0,0),l.push(0,0,1),h.push(.5,.5);for(let o=0,u=3;o<=t;o++,u+=3){const d=i+o/t*r;f.x=e*Math.cos(d),f.y=e*Math.sin(d),a.push(f.x,f.y,f.z),l.push(0,0,1),c.x=(a[u]/e+1)/2,c.y=(a[u+1]/e+1)/2,h.push(c.x,c.y)}for(let o=1;o<=t;o++)s.push(o,o+1,0);this.setIndex(s),this.setAttribute("position",new nt(a,3)),this.setAttribute("normal",new nt(l,3)),this.setAttribute("uv",new nt(h,2))}static fromJSON(e){return new Nf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class yl extends Tt{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,l=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:h};const f=this;r=Math.floor(r),s=Math.floor(s);const c=[],o=[],u=[],d=[];let p=0;const m=[],v=i/2;let x=0;w(),a===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(c),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(u,3)),this.setAttribute("uv",new nt(d,2));function w(){const M=new ee,C=new ee;let E=0;const R=(t-e)/i;for(let b=0;b<=s;b++){const _=[],S=b/s,T=S*(t-e)+e;for(let P=0;P<=r;P++){const I=P/r,z=I*h+l,O=Math.sin(z),D=Math.cos(z);C.x=T*O,C.y=-S*i+v,C.z=T*D,o.push(C.x,C.y,C.z),M.set(O,R,D).normalize(),u.push(M.x,M.y,M.z),d.push(I,1-S),_.push(p++)}m.push(_)}for(let b=0;b<r;b++)for(let _=0;_<s;_++){const S=m[_][b],T=m[_+1][b],P=m[_+1][b+1],I=m[_][b+1];c.push(S,T,I),c.push(T,P,I),E+=6}f.addGroup(x,E,0),x+=E}function A(M){const C=p,E=new ke,R=new ee;let b=0;const _=M===!0?e:t,S=M===!0?1:-1;for(let P=1;P<=r;P++)o.push(0,v*S,0),u.push(0,S,0),d.push(.5,.5),p++;const T=p;for(let P=0;P<=r;P++){const z=P/r*h+l,O=Math.cos(z),D=Math.sin(z);R.x=_*D,R.y=v*S,R.z=_*O,o.push(R.x,R.y,R.z),u.push(0,S,0),E.x=O*.5+.5,E.y=D*.5*S+.5,d.push(E.x,E.y),p++}for(let P=0;P<r;P++){const I=C+P,z=T+P;M===!0?c.push(z,z+1,I):c.push(z+1,z,I),b+=3}f.addGroup(x,b,M===!0?1:2),x+=b}}static fromJSON(e){return new yl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ff extends yl{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,l=Math.PI*2){super(0,e,t,i,r,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new Ff(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class io extends Tt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];l(r),f(i),c(),this.setAttribute("position",new nt(s,3)),this.setAttribute("normal",new nt(s.slice(),3)),this.setAttribute("uv",new nt(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const A=new ee,M=new ee,C=new ee;for(let E=0;E<t.length;E+=3)d(t[E+0],A),d(t[E+1],M),d(t[E+2],C),h(A,M,C,w)}function h(w,A,M,C){const E=C+1,R=[];for(let b=0;b<=E;b++){R[b]=[];const _=w.clone().lerp(M,b/E),S=A.clone().lerp(M,b/E),T=E-b;for(let P=0;P<=T;P++)P===0&&b===E?R[b][P]=_:R[b][P]=_.clone().lerp(S,P/T)}for(let b=0;b<E;b++)for(let _=0;_<2*(E-b)-1;_++){const S=Math.floor(_/2);_%2===0?(u(R[b][S+1]),u(R[b+1][S]),u(R[b][S])):(u(R[b][S+1]),u(R[b+1][S+1]),u(R[b+1][S]))}}function f(w){const A=new ee;for(let M=0;M<s.length;M+=3)A.x=s[M+0],A.y=s[M+1],A.z=s[M+2],A.normalize().multiplyScalar(w),s[M+0]=A.x,s[M+1]=A.y,s[M+2]=A.z}function c(){const w=new ee;for(let A=0;A<s.length;A+=3){w.x=s[A+0],w.y=s[A+1],w.z=s[A+2];const M=v(w)/2/Math.PI+.5,C=x(w)/Math.PI+.5;a.push(M,1-C)}p(),o()}function o(){for(let w=0;w<a.length;w+=6){const A=a[w+0],M=a[w+2],C=a[w+4],E=Math.max(A,M,C),R=Math.min(A,M,C);E>.9&&R<.1&&(A<.2&&(a[w+0]+=1),M<.2&&(a[w+2]+=1),C<.2&&(a[w+4]+=1))}}function u(w){s.push(w.x,w.y,w.z)}function d(w,A){const M=w*3;A.x=e[M+0],A.y=e[M+1],A.z=e[M+2]}function p(){const w=new ee,A=new ee,M=new ee,C=new ee,E=new ke,R=new ke,b=new ke;for(let _=0,S=0;_<s.length;_+=9,S+=6){w.set(s[_+0],s[_+1],s[_+2]),A.set(s[_+3],s[_+4],s[_+5]),M.set(s[_+6],s[_+7],s[_+8]),E.set(a[S+0],a[S+1]),R.set(a[S+2],a[S+3]),b.set(a[S+4],a[S+5]),C.copy(w).add(A).add(M).divideScalar(3);const T=v(C);m(E,S+0,w,T),m(R,S+2,A,T),m(b,S+4,M,T)}}function m(w,A,M,C){C<0&&w.x===1&&(a[A]=w.x-1),M.x===0&&M.z===0&&(a[A]=C/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new io(e.vertices,e.indices,e.radius,e.details)}}class Bf extends io{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bf(e.radius,e.detail)}}const Pp=new ee,kp=new ee,h1=new ee,Ip=new kr;class eT extends Tt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Za*t),a=e.getIndex(),l=e.getAttribute("position"),h=a?a.count:l.count,f=[0,0,0],c=["a","b","c"],o=new Array(3),u={},d=[];for(let p=0;p<h;p+=3){a?(f[0]=a.getX(p),f[1]=a.getX(p+1),f[2]=a.getX(p+2)):(f[0]=p,f[1]=p+1,f[2]=p+2);const{a:m,b:v,c:x}=Ip;if(m.fromBufferAttribute(l,f[0]),v.fromBufferAttribute(l,f[1]),x.fromBufferAttribute(l,f[2]),Ip.getNormal(h1),o[0]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,o[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,o[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(o[0]===o[1]||o[1]===o[2]||o[2]===o[0]))for(let w=0;w<3;w++){const A=(w+1)%3,M=o[w],C=o[A],E=Ip[c[w]],R=Ip[c[A]],b=`${M}_${C}`,_=`${C}_${M}`;_ in u&&u[_]?(h1.dot(u[_].normal)<=s&&(d.push(E.x,E.y,E.z),d.push(R.x,R.y,R.z)),u[_]=null):b in u||(u[b]={index0:f[w],index1:f[A],normal:h1.clone()})}}for(const p in u)if(u[p]){const{index0:m,index1:v}=u[p];Pp.fromBufferAttribute(l,m),kp.fromBufferAttribute(l,v),d.push(Pp.x,Pp.y,Pp.z),d.push(kp.x,kp.y,kp.z)}this.setAttribute("position",new nt(d,3))}}}class nl extends uf{constructor(e){super(e),this.uuid=ur(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new uf().fromJSON(r))}return this}}const MN={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=tT(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let l,h,f,c,o,u,d;if(i&&(s=PN(n,e,s,t)),n.length>80*t){l=f=n[0],h=c=n[1];for(let p=t;p<r;p+=t)o=n[p],u=n[p+1],o<l&&(l=o),u<h&&(h=u),o>f&&(f=o),u>c&&(c=u);d=Math.max(f-l,c-h),d=d!==0?32767/d:0}return hf(s,a,t,l,h,d,0),a}};function tT(n,e,t,i,r){let s,a;if(r===WN(n,e,t,i)>0)for(s=e;s<t;s+=i)a=hA(s,n[s],n[s+1],a);else for(s=t-i;s>=e;s-=i)a=hA(s,n[s],n[s+1],a);return a&&qg(a,a.next)&&(df(a),a=a.next),a}function ul(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(qg(t,t.next)||gn(t.prev,t,t.next)===0)){if(df(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function hf(n,e,t,i,r,s,a){if(!n)return;!a&&s&&ON(n,i,r,s);let l=n,h,f;for(;n.prev!==n.next;){if(h=n.prev,f=n.next,s?TN(n,i,r,s):EN(n)){e.push(h.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),df(n),n=f.next,l=f.next;continue}if(n=f,n===l){a?a===1?(n=LN(ul(n),e,t),hf(n,e,t,i,r,s,2)):a===2&&RN(n,e,t,i,r,s):hf(ul(n),e,t,i,r,s,1);break}}}function EN(n){const e=n.prev,t=n,i=n.next;if(gn(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,l=e.y,h=t.y,f=i.y,c=r<s?r<a?r:a:s<a?s:a,o=l<h?l<f?l:f:h<f?h:f,u=r>s?r>a?r:a:s>a?s:a,d=l>h?l>f?l:f:h>f?h:f;let p=i.next;for(;p!==e;){if(p.x>=c&&p.x<=u&&p.y>=o&&p.y<=d&&Tc(r,l,s,h,a,f,p.x,p.y)&&gn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function TN(n,e,t,i){const r=n.prev,s=n,a=n.next;if(gn(r,s,a)>=0)return!1;const l=r.x,h=s.x,f=a.x,c=r.y,o=s.y,u=a.y,d=l<h?l<f?l:f:h<f?h:f,p=c<o?c<u?c:u:o<u?o:u,m=l>h?l>f?l:f:h>f?h:f,v=c>o?c>u?c:u:o>u?o:u,x=ox(d,p,e,t,i),w=ox(m,v,e,t,i);let A=n.prevZ,M=n.nextZ;for(;A&&A.z>=x&&M&&M.z<=w;){if(A.x>=d&&A.x<=m&&A.y>=p&&A.y<=v&&A!==r&&A!==a&&Tc(l,c,h,o,f,u,A.x,A.y)&&gn(A.prev,A,A.next)>=0||(A=A.prevZ,M.x>=d&&M.x<=m&&M.y>=p&&M.y<=v&&M!==r&&M!==a&&Tc(l,c,h,o,f,u,M.x,M.y)&&gn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;A&&A.z>=x;){if(A.x>=d&&A.x<=m&&A.y>=p&&A.y<=v&&A!==r&&A!==a&&Tc(l,c,h,o,f,u,A.x,A.y)&&gn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;M&&M.z<=w;){if(M.x>=d&&M.x<=m&&M.y>=p&&M.y<=v&&M!==r&&M!==a&&Tc(l,c,h,o,f,u,M.x,M.y)&&gn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function LN(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!qg(r,s)&&nT(r,i,i.next,s)&&ff(r,s)&&ff(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),df(i),df(i.next),i=n=s),i=i.next}while(i!==n);return ul(i)}function RN(n,e,t,i,r,s){let a=n;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&BN(a,l)){let h=iT(a,l);a=ul(a,a.next),h=ul(h,h.next),hf(a,e,t,i,r,s,0),hf(h,e,t,i,r,s,0);return}l=l.next}a=a.next}while(a!==n)}function PN(n,e,t,i){const r=[];let s,a,l,h,f;for(s=0,a=e.length;s<a;s++)l=e[s]*i,h=s<a-1?e[s+1]*i:n.length,f=tT(n,l,h,i,!1),f===f.next&&(f.steiner=!0),r.push(FN(f));for(r.sort(kN),s=0;s<r.length;s++)t=IN(r[s],t);return t}function kN(n,e){return n.x-e.x}function IN(n,e){const t=zN(n,e);if(!t)return e;const i=iT(t,n);return ul(i,i.next),ul(t,t.next)}function zN(n,e){let t=e,i=-1/0,r;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const u=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(u<=s&&u>i&&(i=u,r=t.x<t.next.x?t:t.next,u===s))return r}t=t.next}while(t!==e);if(!r)return null;const l=r,h=r.x,f=r.y;let c=1/0,o;t=r;do s>=t.x&&t.x>=h&&s!==t.x&&Tc(a<f?s:i,a,h,f,a<f?i:s,a,t.x,t.y)&&(o=Math.abs(a-t.y)/(s-t.x),ff(t,n)&&(o<c||o===c&&(t.x>r.x||t.x===r.x&&DN(r,t)))&&(r=t,c=o)),t=t.next;while(t!==l);return r}function DN(n,e){return gn(n.prev,n,e.prev)<0&&gn(e.next,n,n.next)<0}function ON(n,e,t,i){let r=n;do r.z===0&&(r.z=ox(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,NN(r)}function NN(n){let e,t,i,r,s,a,l,h,f=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,i=t,l=0,e=0;e<f&&(l++,i=i.nextZ,!!i);e++);for(h=f;l>0||h>0&&i;)l!==0&&(h===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,l--):(r=i,i=i.nextZ,h--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(a>1);return n}function ox(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function FN(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Tc(n,e,t,i,r,s,a,l){return(r-a)*(e-l)>=(n-a)*(s-l)&&(n-a)*(i-l)>=(t-a)*(e-l)&&(t-a)*(s-l)>=(r-a)*(i-l)}function BN(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!UN(n,e)&&(ff(n,e)&&ff(e,n)&&HN(n,e)&&(gn(n.prev,n,e.prev)||gn(n,e.prev,e))||qg(n,e)&&gn(n.prev,n,n.next)>0&&gn(e.prev,e,e.next)>0)}function gn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function qg(n,e){return n.x===e.x&&n.y===e.y}function nT(n,e,t,i){const r=Dp(gn(n,e,t)),s=Dp(gn(n,e,i)),a=Dp(gn(t,i,n)),l=Dp(gn(t,i,e));return!!(r!==s&&a!==l||r===0&&zp(n,t,e)||s===0&&zp(n,i,e)||a===0&&zp(t,n,i)||l===0&&zp(t,e,i))}function zp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Dp(n){return n>0?1:n<0?-1:0}function UN(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&nT(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ff(n,e){return gn(n.prev,n,n.next)<0?gn(n,e,n.next)>=0&&gn(n,n.prev,e)>=0:gn(n,e,n.prev)<0||gn(n,n.next,e)<0}function HN(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function iT(n,e){const t=new ax(n.i,n.x,n.y),i=new ax(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function hA(n,e,t,i){const r=new ax(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function df(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ax(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function WN(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class ws{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ws.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];fA(e),dA(i,e);let a=e.length;t.forEach(fA);for(let h=0;h<t.length;h++)r.push(a),a+=t[h].length,dA(i,t[h]);const l=MN.triangulate(i,r);for(let h=0;h<l.length;h+=3)s.push(l.slice(h,h+3));return s}}function fA(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function dA(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Uf extends Tt{constructor(e=new nl([new ke(.5,.5),new ke(-.5,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let l=0,h=e.length;l<h;l++){const f=e[l];a(f)}this.setAttribute("position",new nt(r,3)),this.setAttribute("uv",new nt(s,2)),this.computeVertexNormals();function a(l){const h=[],f=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,o=t.depth!==void 0?t.depth:1;let u=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:d-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:VN;let A,M=!1,C,E,R,b;x&&(A=x.getSpacedPoints(c),M=!0,u=!1,C=x.computeFrenetFrames(c,!1),E=new ee,R=new ee,b=new ee),u||(v=0,d=0,p=0,m=0);const _=l.extractPoints(f);let S=_.shape;const T=_.holes;if(!ws.isClockWise(S)){S=S.reverse();for(let fe=0,xe=T.length;fe<xe;fe++){const Le=T[fe];ws.isClockWise(Le)&&(T[fe]=Le.reverse())}}const I=ws.triangulateShape(S,T),z=S;for(let fe=0,xe=T.length;fe<xe;fe++){const Le=T[fe];S=S.concat(Le)}function O(fe,xe,Le){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),xe.clone().multiplyScalar(Le).add(fe)}const D=S.length,B=I.length;function F(fe,xe,Le){let Re,Ee,Ge;const Ue=fe.x-xe.x,je=fe.y-xe.y,ot=Le.x-fe.x,ge=Le.y-fe.y,V=Ue*Ue+je*je,G=Ue*ge-je*ot;if(Math.abs(G)>Number.EPSILON){const ne=Math.sqrt(V),de=Math.sqrt(ot*ot+ge*ge),ce=xe.x-je/ne,Me=xe.y+Ue/ne,Be=Le.x-ge/de,Ie=Le.y+ot/de,ue=((Be-ce)*ge-(Ie-Me)*ot)/(Ue*ge-je*ot);Re=ce+Ue*ue-fe.x,Ee=Me+je*ue-fe.y;const Ke=Re*Re+Ee*Ee;if(Ke<=2)return new ke(Re,Ee);Ge=Math.sqrt(Ke/2)}else{let ne=!1;Ue>Number.EPSILON?ot>Number.EPSILON&&(ne=!0):Ue<-Number.EPSILON?ot<-Number.EPSILON&&(ne=!0):Math.sign(je)===Math.sign(ge)&&(ne=!0),ne?(Re=-je,Ee=Ue,Ge=Math.sqrt(V)):(Re=Ue,Ee=je,Ge=Math.sqrt(V/2))}return new ke(Re/Ge,Ee/Ge)}const U=[];for(let fe=0,xe=z.length,Le=xe-1,Re=fe+1;fe<xe;fe++,Le++,Re++)Le===xe&&(Le=0),Re===xe&&(Re=0),U[fe]=F(z[fe],z[Le],z[Re]);const H=[];let j,Y=U.concat();for(let fe=0,xe=T.length;fe<xe;fe++){const Le=T[fe];j=[];for(let Re=0,Ee=Le.length,Ge=Ee-1,Ue=Re+1;Re<Ee;Re++,Ge++,Ue++)Ge===Ee&&(Ge=0),Ue===Ee&&(Ue=0),j[Re]=F(Le[Re],Le[Ge],Le[Ue]);H.push(j),Y=Y.concat(j)}for(let fe=0;fe<v;fe++){const xe=fe/v,Le=d*Math.cos(xe*Math.PI/2),Re=p*Math.sin(xe*Math.PI/2)+m;for(let Ee=0,Ge=z.length;Ee<Ge;Ee++){const Ue=O(z[Ee],U[Ee],Re);pe(Ue.x,Ue.y,-Le)}for(let Ee=0,Ge=T.length;Ee<Ge;Ee++){const Ue=T[Ee];j=H[Ee];for(let je=0,ot=Ue.length;je<ot;je++){const ge=O(Ue[je],j[je],Re);pe(ge.x,ge.y,-Le)}}}const K=p+m;for(let fe=0;fe<D;fe++){const xe=u?O(S[fe],Y[fe],K):S[fe];M?(R.copy(C.normals[0]).multiplyScalar(xe.x),E.copy(C.binormals[0]).multiplyScalar(xe.y),b.copy(A[0]).add(R).add(E),pe(b.x,b.y,b.z)):pe(xe.x,xe.y,0)}for(let fe=1;fe<=c;fe++)for(let xe=0;xe<D;xe++){const Le=u?O(S[xe],Y[xe],K):S[xe];M?(R.copy(C.normals[fe]).multiplyScalar(Le.x),E.copy(C.binormals[fe]).multiplyScalar(Le.y),b.copy(A[fe]).add(R).add(E),pe(b.x,b.y,b.z)):pe(Le.x,Le.y,o/c*fe)}for(let fe=v-1;fe>=0;fe--){const xe=fe/v,Le=d*Math.cos(xe*Math.PI/2),Re=p*Math.sin(xe*Math.PI/2)+m;for(let Ee=0,Ge=z.length;Ee<Ge;Ee++){const Ue=O(z[Ee],U[Ee],Re);pe(Ue.x,Ue.y,o+Le)}for(let Ee=0,Ge=T.length;Ee<Ge;Ee++){const Ue=T[Ee];j=H[Ee];for(let je=0,ot=Ue.length;je<ot;je++){const ge=O(Ue[je],j[je],Re);M?pe(ge.x,ge.y+A[c-1].y,A[c-1].x+Le):pe(ge.x,ge.y,o+Le)}}}X(),$();function X(){const fe=r.length/3;if(u){let xe=0,Le=D*xe;for(let Re=0;Re<B;Re++){const Ee=I[Re];he(Ee[2]+Le,Ee[1]+Le,Ee[0]+Le)}xe=c+v*2,Le=D*xe;for(let Re=0;Re<B;Re++){const Ee=I[Re];he(Ee[0]+Le,Ee[1]+Le,Ee[2]+Le)}}else{for(let xe=0;xe<B;xe++){const Le=I[xe];he(Le[2],Le[1],Le[0])}for(let xe=0;xe<B;xe++){const Le=I[xe];he(Le[0]+D*c,Le[1]+D*c,Le[2]+D*c)}}i.addGroup(fe,r.length/3-fe,0)}function $(){const fe=r.length/3;let xe=0;q(z,xe),xe+=z.length;for(let Le=0,Re=T.length;Le<Re;Le++){const Ee=T[Le];q(Ee,xe),xe+=Ee.length}i.addGroup(fe,r.length/3-fe,1)}function q(fe,xe){let Le=fe.length;for(;--Le>=0;){const Re=Le;let Ee=Le-1;Ee<0&&(Ee=fe.length-1);for(let Ge=0,Ue=c+v*2;Ge<Ue;Ge++){const je=D*Ge,ot=D*(Ge+1),ge=xe+Re+je,V=xe+Ee+je,G=xe+Ee+ot,ne=xe+Re+ot;Ae(ge,V,G,ne)}}}function pe(fe,xe,Le){h.push(fe),h.push(xe),h.push(Le)}function he(fe,xe,Le){me(fe),me(xe),me(Le);const Re=r.length/3,Ee=w.generateTopUV(i,r,Re-3,Re-2,Re-1);De(Ee[0]),De(Ee[1]),De(Ee[2])}function Ae(fe,xe,Le,Re){me(fe),me(xe),me(Re),me(xe),me(Le),me(Re);const Ee=r.length/3,Ge=w.generateSideWallUV(i,r,Ee-6,Ee-3,Ee-2,Ee-1);De(Ge[0]),De(Ge[1]),De(Ge[3]),De(Ge[1]),De(Ge[2]),De(Ge[3])}function me(fe){r.push(h[fe*3+0]),r.push(h[fe*3+1]),r.push(h[fe*3+2])}function De(fe){s.push(fe.x),s.push(fe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return GN(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=t[e.shapes[s]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new $w[r.type]().fromJSON(r)),new Uf(i,e.options)}}const VN={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],l=e[i*3],h=e[i*3+1],f=e[r*3],c=e[r*3+1];return[new ke(s,a),new ke(l,h),new ke(f,c)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],l=e[t*3+1],h=e[t*3+2],f=e[i*3],c=e[i*3+1],o=e[i*3+2],u=e[r*3],d=e[r*3+1],p=e[r*3+2],m=e[s*3],v=e[s*3+1],x=e[s*3+2];return Math.abs(l-c)<Math.abs(a-f)?[new ke(a,1-h),new ke(f,1-o),new ke(u,1-p),new ke(m,1-x)]:[new ke(l,1-h),new ke(c,1-o),new ke(d,1-p),new ke(v,1-x)]}};function GN(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Hf extends io{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hf(e.radius,e.detail)}}class fu extends io{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fu(e.radius,e.detail)}}class Wf extends Tt{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const l=[],h=[],f=[],c=[];let o=e;const u=(t-e)/r,d=new ee,p=new ke;for(let m=0;m<=r;m++){for(let v=0;v<=i;v++){const x=s+v/i*a;d.x=o*Math.cos(x),d.y=o*Math.sin(x),h.push(d.x,d.y,d.z),f.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,c.push(p.x,p.y)}o+=u}for(let m=0;m<r;m++){const v=m*(i+1);for(let x=0;x<i;x++){const w=x+v,A=w,M=w+i+1,C=w+i+2,E=w+1;l.push(A,M,E),l.push(M,C,E)}}this.setIndex(l),this.setAttribute("position",new nt(h,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(c,2))}static fromJSON(e){return new Wf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Vf extends Tt{constructor(e=new nl([new ke(0,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let l=0,h=0;if(Array.isArray(e)===!1)f(e);else for(let c=0;c<e.length;c++)f(e[c]),this.addGroup(l,h,c),l+=h,h=0;this.setIndex(i),this.setAttribute("position",new nt(r,3)),this.setAttribute("normal",new nt(s,3)),this.setAttribute("uv",new nt(a,2));function f(c){const o=r.length/3,u=c.extractPoints(t);let d=u.shape;const p=u.holes;ws.isClockWise(d)===!1&&(d=d.reverse());for(let v=0,x=p.length;v<x;v++){const w=p[v];ws.isClockWise(w)===!0&&(p[v]=w.reverse())}const m=ws.triangulateShape(d,p);for(let v=0,x=p.length;v<x;v++){const w=p[v];d=d.concat(w)}for(let v=0,x=d.length;v<x;v++){const w=d[v];r.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let v=0,x=m.length;v<x;v++){const w=m[v],A=w[0]+o,M=w[1]+o,C=w[2]+o;i.push(A,M,C),h+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return KN(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new Vf(i,e.curveSegments)}}function KN(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class du extends Tt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const h=Math.min(a+l,Math.PI);let f=0;const c=[],o=new ee,u=new ee,d=[],p=[],m=[],v=[];for(let x=0;x<=i;x++){const w=[],A=x/i;let M=0;x==0&&a==0?M=.5/t:x==i&&h==Math.PI&&(M=-.5/t);for(let C=0;C<=t;C++){const E=C/t;o.x=-e*Math.cos(r+E*s)*Math.sin(a+A*l),o.y=e*Math.cos(a+A*l),o.z=e*Math.sin(r+E*s)*Math.sin(a+A*l),p.push(o.x,o.y,o.z),u.copy(o).normalize(),m.push(u.x,u.y,u.z),v.push(E+M,1-A),w.push(f++)}c.push(w)}for(let x=0;x<i;x++)for(let w=0;w<t;w++){const A=c[x][w+1],M=c[x][w],C=c[x+1][w],E=c[x+1][w+1];(x!==0||a>0)&&d.push(A,M,E),(x!==i-1||h<Math.PI)&&d.push(M,C,E)}this.setIndex(d),this.setAttribute("position",new nt(p,3)),this.setAttribute("normal",new nt(m,3)),this.setAttribute("uv",new nt(v,2))}static fromJSON(e){return new du(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gf extends io{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gf(e.radius,e.detail)}}class Kf extends Tt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],h=[],f=[],c=new ee,o=new ee,u=new ee;for(let d=0;d<=i;d++)for(let p=0;p<=r;p++){const m=p/r*s,v=d/i*Math.PI*2;o.x=(e+t*Math.cos(v))*Math.cos(m),o.y=(e+t*Math.cos(v))*Math.sin(m),o.z=t*Math.sin(v),l.push(o.x,o.y,o.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),u.subVectors(o,c).normalize(),h.push(u.x,u.y,u.z),f.push(p/r),f.push(d/i)}for(let d=1;d<=i;d++)for(let p=1;p<=r;p++){const m=(r+1)*d+p-1,v=(r+1)*(d-1)+p-1,x=(r+1)*(d-1)+p,w=(r+1)*d+p;a.push(m,v,w),a.push(v,x,w)}this.setIndex(a),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(h,3)),this.setAttribute("uv",new nt(f,2))}static fromJSON(e){return new Kf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jf extends Tt{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const l=[],h=[],f=[],c=[],o=new ee,u=new ee,d=new ee,p=new ee,m=new ee,v=new ee,x=new ee;for(let A=0;A<=i;++A){const M=A/i*s*Math.PI*2;w(M,s,a,e,d),w(M+.01,s,a,e,p),v.subVectors(p,d),x.addVectors(p,d),m.crossVectors(v,x),x.crossVectors(m,v),m.normalize(),x.normalize();for(let C=0;C<=r;++C){const E=C/r*Math.PI*2,R=-t*Math.cos(E),b=t*Math.sin(E);o.x=d.x+(R*x.x+b*m.x),o.y=d.y+(R*x.y+b*m.y),o.z=d.z+(R*x.z+b*m.z),h.push(o.x,o.y,o.z),u.subVectors(o,d).normalize(),f.push(u.x,u.y,u.z),c.push(A/i),c.push(C/r)}}for(let A=1;A<=i;A++)for(let M=1;M<=r;M++){const C=(r+1)*(A-1)+(M-1),E=(r+1)*A+(M-1),R=(r+1)*A+M,b=(r+1)*(A-1)+M;l.push(C,E,b),l.push(E,R,b)}this.setIndex(l),this.setAttribute("position",new nt(h,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(c,2));function w(A,M,C,E,R){const b=Math.cos(A),_=Math.sin(A),S=C/M*A,T=Math.cos(S);R.x=E*(2+T)*.5*b,R.y=E*(2+T)*_*.5,R.z=E*Math.sin(S)*.5}}static fromJSON(e){return new jf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Yf extends Tt{constructor(e=new Xw(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new ee,h=new ee,f=new ke;let c=new ee;const o=[],u=[],d=[],p=[];m(),this.setIndex(p),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(u,3)),this.setAttribute("uv",new nt(d,2));function m(){for(let A=0;A<t;A++)v(A);v(s===!1?t:0),w(),x()}function v(A){c=e.getPointAt(A/t,c);const M=a.normals[A],C=a.binormals[A];for(let E=0;E<=r;E++){const R=E/r*Math.PI*2,b=Math.sin(R),_=-Math.cos(R);h.x=_*M.x+b*C.x,h.y=_*M.y+b*C.y,h.z=_*M.z+b*C.z,h.normalize(),u.push(h.x,h.y,h.z),l.x=c.x+i*h.x,l.y=c.y+i*h.y,l.z=c.z+i*h.z,o.push(l.x,l.y,l.z)}}function x(){for(let A=1;A<=t;A++)for(let M=1;M<=r;M++){const C=(r+1)*(A-1)+(M-1),E=(r+1)*A+(M-1),R=(r+1)*A+M,b=(r+1)*(A-1)+M;p.push(C,E,b),p.push(E,R,b)}}function w(){for(let A=0;A<=t;A++)for(let M=0;M<=r;M++)f.x=A/t,f.y=M/r,d.push(f.x,f.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Yf(new $w[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rT extends Tt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new ee,s=new ee;if(e.index!==null){const a=e.attributes.position,l=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,c=h.length;f<c;++f){const o=h[f],u=o.start,d=o.count;for(let p=u,m=u+d;p<m;p+=3)for(let v=0;v<3;v++){const x=l.getX(p+v),w=l.getX(p+(v+1)%3);r.fromBufferAttribute(a,x),s.fromBufferAttribute(a,w),pA(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let l=0,h=a.count/3;l<h;l++)for(let f=0;f<3;f++){const c=3*l+f,o=3*l+(f+1)%3;r.fromBufferAttribute(a,c),s.fromBufferAttribute(a,o),pA(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new nt(t,3))}}}function pA(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var mA=Object.freeze({__proto__:null,BoxGeometry:ta,CapsuleGeometry:Of,CircleGeometry:Nf,ConeGeometry:Ff,CylinderGeometry:yl,DodecahedronGeometry:Bf,EdgesGeometry:eT,ExtrudeGeometry:Uf,IcosahedronGeometry:Hf,LatheGeometry:hu,OctahedronGeometry:fu,PlaneGeometry:cu,PolyhedronGeometry:io,RingGeometry:Wf,ShapeGeometry:Vf,SphereGeometry:du,TetrahedronGeometry:Gf,TorusGeometry:Kf,TorusKnotGeometry:jf,TubeGeometry:Yf,WireframeGeometry:rT});class sT extends ci{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ze(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class oT extends Ss{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qw extends ci{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aT extends qw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return In(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ze(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class lT extends ci{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ze(16777215),this.specular=new Ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cT extends ci{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ze(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class uT extends ci{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hT extends ci{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fT extends ci{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dT extends Oi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Lr(n,e,t){return Jw(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ka(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Jw(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function pT(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function lx(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const l=t[s]*e;for(let h=0;h!==e;++h)r[a++]=n[l+h]}return r}function Zw(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function jN(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let h=0;h<s.tracks.length;++h){const f=s.tracks[h],c=f.getValueSize(),o=[],u=[];for(let d=0;d<f.times.length;++d){const p=f.times[d]*r;if(!(p<t||p>=i)){o.push(f.times[d]);for(let m=0;m<c;++m)u.push(f.values[d*c+m])}}o.length!==0&&(f.times=Ka(o,f.times.constructor),f.values=Ka(u,f.values.constructor),a.push(f))}s.tracks=a;let l=1/0;for(let h=0;h<s.tracks.length;++h)l>s.tracks[h].times[0]&&(l=s.tracks[h].times[0]);for(let h=0;h<s.tracks.length;++h)s.tracks[h].shift(-1*l);return s.resetDuration(),s}function YN(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const l=t.tracks[a],h=l.ValueTypeName;if(h==="bool"||h==="string")continue;const f=n.tracks.find(function(x){return x.name===l.name&&x.ValueTypeName===h});if(f===void 0)continue;let c=0;const o=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=o/3);let u=0;const d=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);const p=l.times.length-1;let m;if(s<=l.times[0]){const x=c,w=o-c;m=Lr(l.values,x,w)}else if(s>=l.times[p]){const x=p*o+c,w=x+o-c;m=Lr(l.values,x,w)}else{const x=l.createInterpolant(),w=c,A=o-c;x.evaluate(s),m=Lr(x.resultBuffer,w,A)}h==="quaternion"&&new bi().fromArray(m).normalize().conjugate().toArray(m);const v=f.times.length;for(let x=0;x<v;++x){const w=x*d+u;if(h==="quaternion")bi.multiplyQuaternionsFlat(f.values,w,m,0,f.values,w);else{const A=d-u*2;for(let M=0;M<A;++M)f.values[w+M]-=m[M]}}}return n.blendMode=kw,n}var XN=Object.freeze({__proto__:null,arraySlice:Lr,convertArray:Ka,isTypedArray:Jw,getKeyframeOrder:pT,sortedArray:lx,flattenJSON:Zw,subclip:jN,makeClipAdditive:YN});class Xf{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(i=2,s=l);for(let h=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const l=i+a>>>1;e<t[l]?a=l:i=l+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mT extends Xf{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wa,endingEnd:Wa}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,l=r[s],h=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case Va:s=e,l=2*t-i;break;case of:s=r.length-2,l=t+r[s]-r[s+1];break;default:s=e,l=i}if(h===void 0)switch(this.getSettings_().endingEnd){case Va:a=e,h=2*i-t;break;case of:a=1,h=i+r[1]-r[0];break;default:a=e-1,h=t}const f=(i-t)*.5,c=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(h-i),this._offsetPrev=s*c,this._offsetNext=a*c}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,h=e*l,f=h-l,c=this._offsetPrev,o=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(i-t)/(r-t),m=p*p,v=m*p,x=-u*v+2*u*m-u*p,w=(1+u)*v+(-1.5-2*u)*m+(-.5+u)*p+1,A=(-1-d)*v+(1.5+d)*m+.5*p,M=d*v-d*m;for(let C=0;C!==l;++C)s[C]=x*a[c+C]+w*a[f+C]+A*a[h+C]+M*a[o+C];return s}}class eS extends Xf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,h=e*l,f=h-l,c=(i-t)/(r-t),o=1-c;for(let u=0;u!==l;++u)s[u]=a[f+u]*o+a[h+u]*c;return s}}class gT extends Xf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class os{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ka(t,this.TimeBufferType),this.values=Ka(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ka(e.times,Array),values:Ka(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new gT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new eS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mT(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rf:t=this.InterpolantFactoryMethodDiscrete;break;case sf:t=this.InterpolantFactoryMethodLinear;break;case dm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rf;case this.InterpolantFactoryMethodLinear:return sf;case this.InterpolantFactoryMethodSmooth:return dm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=Lr(i,s,a),this.values=Lr(this.values,s*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const h=i[l];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,h),e=!1;break}if(a!==null&&a>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,h,a),e=!1;break}a=h}if(r!==void 0&&Jw(r))for(let l=0,h=r.length;l!==h;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=Lr(this.times),t=Lr(this.values),i=this.getValueSize(),r=this.getInterpolation()===dm,s=e.length-1;let a=1;for(let l=1;l<s;++l){let h=!1;const f=e[l],c=e[l+1];if(f!==c&&(l!==1||f!==e[0]))if(r)h=!0;else{const o=l*i,u=o-i,d=o+i;for(let p=0;p!==i;++p){const m=t[o+p];if(m!==t[u+p]||m!==t[d+p]){h=!0;break}}}if(h){if(l!==a){e[a]=e[l];const o=l*i,u=a*i;for(let d=0;d!==i;++d)t[u+d]=t[o+d]}++a}}if(s>0){e[a]=e[s];for(let l=s*i,h=a*i,f=0;f!==i;++f)t[h+f]=t[l+f];++a}return a!==e.length?(this.times=Lr(e,0,a),this.values=Lr(t,0,a*i)):(this.times=e,this.values=t),this}clone(){const e=Lr(this.times,0),t=Lr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}os.prototype.TimeBufferType=Float32Array;os.prototype.ValueBufferType=Float32Array;os.prototype.DefaultInterpolation=sf;class xl extends os{}xl.prototype.ValueTypeName="bool";xl.prototype.ValueBufferType=Array;xl.prototype.DefaultInterpolation=rf;xl.prototype.InterpolantFactoryMethodLinear=void 0;xl.prototype.InterpolantFactoryMethodSmooth=void 0;class tS extends os{}tS.prototype.ValueTypeName="color";class pf extends os{}pf.prototype.ValueTypeName="number";class vT extends Xf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,h=(i-t)/(r-t);let f=e*l;for(let c=f+l;f!==c;f+=4)bi.slerpFlat(s,0,a,f-l,a,f,h);return s}}class pu extends os{InterpolantFactoryMethodLinear(e){return new vT(this.times,this.values,this.getValueSize(),e)}}pu.prototype.ValueTypeName="quaternion";pu.prototype.DefaultInterpolation=sf;pu.prototype.InterpolantFactoryMethodSmooth=void 0;class wl extends os{}wl.prototype.ValueTypeName="string";wl.prototype.ValueBufferType=Array;wl.prototype.DefaultInterpolation=rf;wl.prototype.InterpolantFactoryMethodLinear=void 0;wl.prototype.InterpolantFactoryMethodSmooth=void 0;class mf extends os{}mf.prototype.ValueTypeName="vector";class gf{constructor(e,t=-1,i,r=Hg){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ur(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,l=i.length;a!==l;++a)t.push($N(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(os.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let l=0;l<s;l++){let h=[],f=[];h.push((l+s-1)%s,l,(l+1)%s),f.push(0,1,0);const c=pT(h);h=lx(h,1,c),f=lx(f,1,c),!r&&h[0]===0&&(h.push(s),f.push(f[0])),a.push(new pf(".morphTargetInfluences["+t[l].name+"]",h,f).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,h=e.length;l<h;l++){const f=e[l],c=f.name.match(s);if(c&&c.length>1){const o=c[1];let u=r[o];u||(r[o]=u=[]),u.push(f)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(o,u,d,p,m){if(d.length!==0){const v=[],x=[];Zw(d,v,x,p),v.length!==0&&m.push(new o(u,v,x))}},r=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let h=e.length||-1;const f=e.hierarchy||[];for(let o=0;o<f.length;o++){const u=f[o].keys;if(!(!u||u.length===0))if(u[0].morphTargets){const d={};let p;for(p=0;p<u.length;p++)if(u[p].morphTargets)for(let m=0;m<u[p].morphTargets.length;m++)d[u[p].morphTargets[m]]=-1;for(const m in d){const v=[],x=[];for(let w=0;w!==u[p].morphTargets.length;++w){const A=u[p];v.push(A.time),x.push(A.morphTarget===m?1:0)}r.push(new pf(".morphTargetInfluence["+m+"]",v,x))}h=d.length*a}else{const d=".bones["+t[o].name+"]";i(mf,d+".position",u,"pos",r),i(pu,d+".quaternion",u,"rot",r),i(mf,d+".scale",u,"scl",r)}}return r.length===0?null:new this(s,h,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function QN(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return pf;case"vector":case"vector2":case"vector3":case"vector4":return mf;case"color":return tS;case"quaternion":return pu;case"bool":case"boolean":return xl;case"string":return wl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function $N(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QN(n.type);if(n.times===void 0){const t=[],i=[];Zw(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const hl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class nS{constructor(e,t,i){const r=this;let s=!1,a=0,l=0,h;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(c){l++,s===!1&&r.onStart!==void 0&&r.onStart(c,a,l),s=!0},this.itemEnd=function(c){a++,r.onProgress!==void 0&&r.onProgress(c,a,l),a===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return h?h(c):c},this.setURLModifier=function(c){return h=c,this},this.addHandler=function(c,o){return f.push(c,o),this},this.removeHandler=function(c){const o=f.indexOf(c);return o!==-1&&f.splice(o,2),this},this.getHandler=function(c){for(let o=0,u=f.length;o<u;o+=2){const d=f[o],p=f[o+1];if(d.global&&(d.lastIndex=0),d.test(c))return p}return null}}}const yT=new nS;class pr{constructor(e){this.manager=e!==void 0?e:yT,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Os={};class qN extends Error{constructor(e,t){super(e),this.response=t}}class to extends pr{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=hl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Os[e]!==void 0){Os[e].push({onLoad:t,onProgress:i,onError:r});return}Os[e]=[],Os[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,h=this.responseType;fetch(a).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const c=Os[e],o=f.body.getReader(),u=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),d=u?parseInt(u):0,p=d!==0;let m=0;const v=new ReadableStream({start(x){w();function w(){o.read().then(({done:A,value:M})=>{if(A)x.close();else{m+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:d});for(let E=0,R=c.length;E<R;E++){const b=c[E];b.onProgress&&b.onProgress(C)}x.enqueue(M),w()}})}}});return new Response(v)}else throw new qN(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(h){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(c=>new DOMParser().parseFromString(c,l));case"json":return f.json();default:if(l===void 0)return f.text();{const o=/charset="?([^;"\s]*)"?/i.exec(l),u=o&&o[1]?o[1].toLowerCase():void 0,d=new TextDecoder(u);return f.arrayBuffer().then(p=>d.decode(p))}}}).then(f=>{hl.add(e,f);const c=Os[e];delete Os[e];for(let o=0,u=c.length;o<u;o++){const d=c[o];d.onLoad&&d.onLoad(f)}}).catch(f=>{const c=Os[e];if(c===void 0)throw this.manager.itemError(e),f;delete Os[e];for(let o=0,u=c.length;o<u;o++){const d=c[o];d.onError&&d.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class JN extends pr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new to(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=gf.parse(e[i]);t.push(r)}return t}}class ZN extends pr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],l=new Gw,h=new to(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(s.withCredentials);let f=0;function c(o){h.load(e[o],function(u){const d=s.parse(u,!0);a[o]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},f+=1,f===6&&(d.mipmapCount===1&&(l.minFilter=kn),l.image=a,l.format=d.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let o=0,u=e.length;o<u;++o)c(o);else h.load(e,function(o){const u=s.parse(o,!0);if(u.isCubemap){const d=u.mipmaps.length/u.mipmapCount;for(let p=0;p<d;p++){a[p]={mipmaps:[]};for(let m=0;m<u.mipmapCount;m++)a[p].mipmaps.push(u.mipmaps[p*u.mipmapCount+m]),a[p].format=u.format,a[p].width=u.width,a[p].height=u.height}l.image=a}else l.image.width=u.width,l.image.height=u.height,l.mipmaps=u.mipmaps;u.mipmapCount===1&&(l.minFilter=kn),l.format=u.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}class vf extends pr{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=hl.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=cf("img");function h(){c(),hl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(o){c(),r&&r(o),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){l.removeEventListener("load",h,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",h,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class eF extends pr{constructor(e){super(e)}load(e,t,i,r){const s=new Df,a=new vf(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function h(f){a.load(e[f],function(c){s.images[f]=c,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)h(f);return s}}class tF extends pr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Bc,l=new to(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(h){const f=s.parse(h);!f||(f.image!==void 0?a.image=f.image:f.data!==void 0&&(a.image.width=f.width,a.image.height=f.height,a.image.data=f.data),a.wrapS=f.wrapS!==void 0?f.wrapS:_i,a.wrapT=f.wrapT!==void 0?f.wrapT:_i,a.magFilter=f.magFilter!==void 0?f.magFilter:kn,a.minFilter=f.minFilter!==void 0?f.minFilter:kn,a.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(a.encoding=f.encoding),f.flipY!==void 0&&(a.flipY=f.flipY),f.format!==void 0&&(a.format=f.format),f.type!==void 0&&(a.type=f.type),f.mipmaps!==void 0&&(a.mipmaps=f.mipmaps,a.minFilter=Xo),f.mipmapCount===1&&(a.minFilter=kn),f.generateMipmaps!==void 0&&(a.generateMipmaps=f.generateMipmaps),a.needsUpdate=!0,t&&t(a,f))},i,r),a}}class xT extends pr{constructor(e){super(e)}load(e,t,i,r){const s=new Cn,a=new vf(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class na extends Ht{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ze(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class wT extends na{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ht.DefaultUp),this.updateMatrix(),this.groundColor=new Ze(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const f1=new _t,gA=new ee,vA=new ee;class iS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ke(512,512),this.map=null,this.mapPass=null,this.matrix=new _t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vg,this._frameExtents=new ke(1,1),this._viewportCount=1,this._viewports=[new Gt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;gA.setFromMatrixPosition(e.matrixWorld),t.position.copy(gA),vA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vA),t.updateMatrixWorld(),f1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(f1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class nF extends iS{constructor(){super(new hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=lf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ST extends na{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ht.DefaultUp),this.updateMatrix(),this.target=new Ht,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new nF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yA=new _t,oh=new ee,d1=new ee;class iF extends iS{constructor(){super(new hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ke(4,2),this._viewportCount=6,this._viewports=[new Gt(2,1,1,1),new Gt(0,1,1,1),new Gt(3,1,1,1),new Gt(1,1,1,1),new Gt(3,0,1,1),new Gt(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),oh.setFromMatrixPosition(e.matrixWorld),i.position.copy(oh),d1.copy(i.position),d1.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(d1),i.updateMatrixWorld(),r.makeTranslation(-oh.x,-oh.y,-oh.z),yA.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yA)}}class _T extends na{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new iF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class rF extends iS{constructor(){super(new Wo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bT extends na{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ht.DefaultUp),this.updateMatrix(),this.target=new Ht,this.shadow=new rF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AT extends na{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class CT extends na{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class MT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Jg extends na{constructor(e=new MT,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Zg extends pr{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new to(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Zg.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ze().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Ze().setHex(a.value);break;case"v2":r.uniforms[s].value=new ke().fromArray(a.value);break;case"v3":r.uniforms[s].value=new ee().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Gt().fromArray(a.value);break;case"m3":r.uniforms[s].value=new ki().fromArray(a.value);break;case"m4":r.uniforms[s].value=new _t().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ke().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ke().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:sT,SpriteMaterial:Hw,RawShaderMaterial:oT,ShaderMaterial:Ss,PointsMaterial:Vw,MeshPhysicalMaterial:aT,MeshStandardMaterial:qw,MeshPhongMaterial:lT,MeshToonMaterial:cT,MeshNormalMaterial:uT,MeshLambertMaterial:hT,MeshDepthMaterial:Fw,MeshDistanceMaterial:Bw,MeshBasicMaterial:ea,MeshMatcapMaterial:fT,LineDashedMaterial:dT,LineBasicMaterial:Oi,Material:ci};return new t[e]}}class cx{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class ET extends Tt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class TT extends pr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new to(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(d,p){if(t[p]!==void 0)return t[p];const v=d.interleavedBuffers[p],x=s(d,v.buffer),w=Cc(v.type,x),A=new Yg(w,v.stride);return A.uuid=v.uuid,t[p]=A,A}function s(d,p){if(i[p]!==void 0)return i[p];const v=d.arrayBuffers[p],x=new Uint32Array(v).buffer;return i[p]=x,x}const a=e.isInstancedBufferGeometry?new ET:new Tt,l=e.data.index;if(l!==void 0){const d=Cc(l.type,l.array);a.setIndex(new Jt(d,1))}const h=e.data.attributes;for(const d in h){const p=h[d];let m;if(p.isInterleavedBufferAttribute){const v=r(e.data,p.data);m=new cl(v,p.itemSize,p.offset,p.normalized)}else{const v=Cc(p.type,p.array),x=p.isInstancedBufferAttribute?$c:Jt;m=new x(v,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),p.updateRange!==void 0&&(m.updateRange.offset=p.updateRange.offset,m.updateRange.count=p.updateRange.count),a.setAttribute(d,m)}const f=e.data.morphAttributes;if(f)for(const d in f){const p=f[d],m=[];for(let v=0,x=p.length;v<x;v++){const w=p[v];let A;if(w.isInterleavedBufferAttribute){const M=r(e.data,w.data);A=new cl(M,w.itemSize,w.offset,w.normalized)}else{const M=Cc(w.type,w.array);A=new Jt(M,w.itemSize,w.normalized)}w.name!==void 0&&(A.name=w.name),m.push(A)}a.morphAttributes[d]=m}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const o=e.data.groups||e.data.drawcalls||e.data.offsets;if(o!==void 0)for(let d=0,p=o.length;d!==p;++d){const m=o[d];a.addGroup(m.start,m.count,m.materialIndex)}const u=e.data.boundingSphere;if(u!==void 0){const d=new ee;u.center!==void 0&&d.fromArray(u.center),a.boundingSphere=new vl(d,u.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class sF extends pr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?cx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new to(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){let f=null;try{f=JSON.parse(h)}catch(o){r!==void 0&&r(o),console.error("THREE:ObjectLoader: Can't parse "+e+".",o.message);return}const c=f.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?cx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new to(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),l=JSON.parse(a),h=l.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,a),h=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,s,h,l,i),c=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,c),t!==void 0){let o=!1;for(const u in a)if(a[u].data instanceof HTMLImageElement){o=!0;break}o===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),h=this.parseObject(e.object,r,l,a,t),f=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,f),h}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new nl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=new Xg().fromJSON(e[s],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new TT;for(let s=0,a=e.length;s<a;s++){let l;const h=e[s];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(h);break;default:h.type in mA?l=mA[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}l.uuid=h.uuid,h.name!==void 0&&(l.name=h.name),l.isBufferGeometry===!0&&h.userData!==void 0&&(l.userData=h.userData),i[h.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Zg;s.setTextures(t);for(let a=0,l=e.length;a<l;a++){const h=e[a];i[h.uuid]===void 0&&(i[h.uuid]=s.parse(h)),r[h.uuid]=i[h.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=gf.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(h){return i.manager.itemStart(h),s.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function l(h){if(typeof h=="string"){const f=h,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return a(c)}else return h.data?{data:Cc(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new nS(t);s=new vf(h),s.setCrossOrigin(this.crossOrigin);for(let f=0,c=e.length;f<c;f++){const o=e[f],u=o.url;if(Array.isArray(u)){const d=[];for(let p=0,m=u.length;p<m;p++){const v=u[p],x=l(v);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new Bc(x.data,x.width,x.height)))}r[o.uuid]=new Ga(d)}else{const d=l(o.url);r[o.uuid]=new Ga(d)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const l=a,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(h)}else return a.data?{data:Cc(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new vf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const h=e[a],f=h.url;if(Array.isArray(f)){const c=[];for(let o=0,u=f.length;o<u;o++){const d=f[o],p=await s(d);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new Bc(p.data,p.width,p.height)))}i[h.uuid]=new Ga(c)}else{const c=await s(h.url);i[h.uuid]=new Ga(c)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const h=t[l.image],f=h.data;let c;Array.isArray(f)?(c=new Df,f.length===6&&(c.needsUpdate=!0)):(f&&f.data?c=new Bc:c=new Cn,f&&(c.needsUpdate=!0)),c.source=h,c.uuid=l.uuid,l.name!==void 0&&(c.name=l.name),l.mapping!==void 0&&(c.mapping=i(l.mapping,oF)),l.offset!==void 0&&c.offset.fromArray(l.offset),l.repeat!==void 0&&c.repeat.fromArray(l.repeat),l.center!==void 0&&c.center.fromArray(l.center),l.rotation!==void 0&&(c.rotation=l.rotation),l.wrap!==void 0&&(c.wrapS=i(l.wrap[0],xA),c.wrapT=i(l.wrap[1],xA)),l.format!==void 0&&(c.format=l.format),l.type!==void 0&&(c.type=l.type),l.encoding!==void 0&&(c.encoding=l.encoding),l.minFilter!==void 0&&(c.minFilter=i(l.minFilter,wA)),l.magFilter!==void 0&&(c.magFilter=i(l.magFilter,wA)),l.anisotropy!==void 0&&(c.anisotropy=l.anisotropy),l.flipY!==void 0&&(c.flipY=l.flipY),l.generateMipmaps!==void 0&&(c.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(c.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(c.userData=l.userData),r[l.uuid]=c}return r}parseObject(e,t,i,r,s){let a;function l(u){return t[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",u),t[u]}function h(u){if(u!==void 0){if(Array.isArray(u)){const d=[];for(let p=0,m=u.length;p<m;p++){const v=u[p];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),d.push(i[v])}return d}return i[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",u),i[u]}}function f(u){return r[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",u),r[u]}let c,o;switch(e.type){case"Scene":a=new Zm,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Ze(e.background):a.background=f(e.background)),e.environment!==void 0&&(a.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new jg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Kg(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":a=new hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Wo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new AT(e.color,e.intensity);break;case"DirectionalLight":a=new bT(e.color,e.intensity);break;case"PointLight":a=new _T(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new CT(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new ST(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new wT(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Jg().fromJSON(e);break;case"SkinnedMesh":c=l(e.geometry),o=h(e.material),a=new KE(c,o),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=l(e.geometry),o=h(e.material),a=new oi(c,o);break;case"InstancedMesh":c=l(e.geometry),o=h(e.material);const u=e.count,d=e.instanceMatrix,p=e.instanceColor;a=new jE(c,o,u),a.instanceMatrix=new $c(new Float32Array(d.array),16),p!==void 0&&(a.instanceColor=new $c(new Float32Array(p.array),p.itemSize));break;case"LOD":a=new GE;break;case"Line":a=new Qo(l(e.geometry),h(e.material));break;case"LineLoop":a=new YE(l(e.geometry),h(e.material));break;case"LineSegments":a=new bs(l(e.geometry),h(e.material));break;case"PointCloud":case"Points":a=new XE(l(e.geometry),h(e.material));break;case"Sprite":a=new VE(h(e.material));break;case"Group":a=new Ec;break;case"Bone":a=new Ww;break;default:a=new Ht}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const u=e.children;for(let d=0;d<u.length;d++)a.add(this.parseObject(u[d],t,i,r,s))}if(e.animations!==void 0){const u=e.animations;for(let d=0;d<u.length;d++){const p=u[d];a.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const u=e.levels;for(let d=0;d<u.length;d++){const p=u[d],m=a.getObjectByProperty("uuid",p.object);m!==void 0&&a.addLevel(m,p.distance,p.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const oF={UVMapping:Ug,CubeReflectionMapping:jo,CubeRefractionMapping:Yo,EquirectangularReflectionMapping:Zh,EquirectangularRefractionMapping:ef,CubeUVReflectionMapping:au},xA={RepeatWrapping:tf,ClampToEdgeWrapping:_i,MirroredRepeatWrapping:nf},wA={NearestFilter:Rn,NearestMipmapNearestFilter:Qm,NearestMipmapLinearFilter:Eh,LinearFilter:kn,LinearMipmapNearestFilter:Rw,LinearMipmapLinearFilter:Xo};class aF extends pr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=hl.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){hl.add(e,h),t&&t(h),s.manager.itemEnd(e)}).catch(function(h){r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Op;class rS{static getContext(){return Op===void 0&&(Op=new(window.AudioContext||window.webkitAudioContext)),Op}static setContext(e){Op=e}}class lF extends pr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new to(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const h=l.slice(0);rS.getContext().decodeAudioData(h,function(c){t(c)})}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}}class cF extends Jg{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ze().set(e),s=new Ze().set(t),a=new ee(r.r,r.g,r.b),l=new ee(s.r,s.g,s.b),h=Math.sqrt(Math.PI),f=h*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(h),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(f)}}class uF extends Jg{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Ze().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const SA=new _t,_A=new _t,_a=new _t;class hF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_a.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Za*t.fov*.5)/t.zoom;let l,h;_A.elements[12]=-r,SA.elements[12]=r,l=-a*t.aspect+s,h=a*t.aspect+s,_a.elements[0]=2*t.near/(h-l),_a.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(_a),l=-a*t.aspect-s,h=a*t.aspect-s,_a.elements[0]=2*t.near/(h-l),_a.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(_a)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_A),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(SA)}}class sS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=bA();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function bA(){return(typeof performance>"u"?Date:performance).now()}const ba=new ee,AA=new bi,fF=new ee,Aa=new ee;class dF extends Ht{constructor(){super(),this.type="AudioListener",this.context=rS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new sS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ba,AA,fF),Aa.set(0,0,-1).applyQuaternion(AA),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ba.x,r),t.positionY.linearRampToValueAtTime(ba.y,r),t.positionZ.linearRampToValueAtTime(ba.z,r),t.forwardX.linearRampToValueAtTime(Aa.x,r),t.forwardY.linearRampToValueAtTime(Aa.y,r),t.forwardZ.linearRampToValueAtTime(Aa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ba.x,ba.y,ba.z),t.setOrientation(Aa.x,Aa.y,Aa.z,i.x,i.y,i.z)}}class LT extends Ht{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ca=new ee,CA=new bi,pF=new ee,Ma=new ee;class mF extends LT{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ca,CA,pF),Ma.set(0,0,1).applyQuaternion(CA);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ca.x,i),t.positionY.linearRampToValueAtTime(Ca.y,i),t.positionZ.linearRampToValueAtTime(Ca.z,i),t.orientationX.linearRampToValueAtTime(Ma.x,i),t.orientationY.linearRampToValueAtTime(Ma.y,i),t.orientationZ.linearRampToValueAtTime(Ma.z,i)}else t.setPosition(Ca.x,Ca.y,Ca.z),t.setOrientation(Ma.x,Ma.y,Ma.z)}}class gF{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class RT{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)i[s+l]=i[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(i,s,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const h=t*this._origIndex;this._mixBufferRegion(i,r,h,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let h=t,f=t+t;h!==f;++h)if(i[h]!==i[h+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){bi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;bi.multiplyQuaternionsFlat(e,a,e,t,e,i),bi.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let l=0;l!==s;++l){const h=t+l;e[h]=e[h]*a+e[i+l]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]+e[i+a]*r}}}const oS="\\[\\]\\.:\\/",vF=new RegExp("["+oS+"]","g"),aS="[^"+oS+"]",yF="[^"+oS.replace("\\.","")+"]",xF=/((?:WC+[\/:])*)/.source.replace("WC",aS),wF=/(WCOD+)?/.source.replace("WCOD",yF),SF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",aS),_F=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",aS),bF=new RegExp("^"+xF+wF+SF+_F+"$"),AF=["material","materials","bones","map"];class CF{constructor(e,t,i){const r=i||Ot.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ot{constructor(e,t,i){this.path=t,this.parsedPath=i||Ot.parseTrackName(t),this.node=Ot.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ot.Composite(e,t,i):new Ot(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(vF,"")}static parseTrackName(e){const t=bF.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);AF.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===t||l.uuid===t)return l;const h=i(l.children);if(h)return h}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Ot.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===f){f=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const a=e[r];if(a===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(h=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ot.Composite=CF;Ot.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ot.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ot.prototype.GetterByBindingType=[Ot.prototype._getValue_direct,Ot.prototype._getValue_array,Ot.prototype._getValue_arrayElement,Ot.prototype._getValue_toArray];Ot.prototype.SetterByBindingTypeAndVersioning=[[Ot.prototype._setValue_direct,Ot.prototype._setValue_direct_setNeedsUpdate,Ot.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_array,Ot.prototype._setValue_array_setNeedsUpdate,Ot.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_arrayElement,Ot.prototype._setValue_arrayElement_setNeedsUpdate,Ot.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_fromArray,Ot.prototype._setValue_fromArray_setNeedsUpdate,Ot.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class MF{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ur(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let l,h=e.length,f=this.nCachedObjects_;for(let c=0,o=arguments.length;c!==o;++c){const u=arguments[c],d=u.uuid;let p=t[d];if(p===void 0){p=h++,t[d]=p,e.push(u);for(let m=0,v=a;m!==v;++m)s[m].push(new Ot(u,i[m],r[m]))}else if(p<f){l=e[p];const m=--f,v=e[m];t[v.uuid]=p,e[p]=v,t[d]=m,e[m]=u;for(let x=0,w=a;x!==w;++x){const A=s[x],M=A[m];let C=A[p];A[p]=M,C===void 0&&(C=new Ot(u,i[x],r[x])),A[m]=C}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const h=arguments[a],f=h.uuid,c=t[f];if(c!==void 0&&c>=s){const o=s++,u=e[o];t[u.uuid]=c,e[c]=u,t[f]=o,e[o]=h;for(let d=0,p=r;d!==p;++d){const m=i[d],v=m[o],x=m[c];m[c]=v,m[o]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let l=0,h=arguments.length;l!==h;++l){const f=arguments[l],c=f.uuid,o=t[c];if(o!==void 0)if(delete t[c],o<s){const u=--s,d=e[u],p=--a,m=e[p];t[d.uuid]=o,e[o]=d,t[m.uuid]=u,e[u]=m,e.pop();for(let v=0,x=r;v!==x;++v){const w=i[v],A=w[u],M=w[p];w[o]=A,w[u]=M,w.pop()}}else{const u=--a,d=e[u];u>0&&(t[d.uuid]=o),e[o]=d,e.pop();for(let p=0,m=r;p!==m;++p){const v=i[p];v[o]=v[u],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,l=this._parsedPaths,h=this._objects,f=h.length,c=this.nCachedObjects_,o=new Array(f);r=s.length,i[e]=r,a.push(e),l.push(t),s.push(o);for(let u=c,d=h.length;u!==d;++u){const p=h[u];o[u]=new Ot(p,e,t)}return o}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length-1,h=a[l],f=e[l];t[f]=i,a[i]=h,a.pop(),s[i]=s[l],s.pop(),r[i]=r[l],r.pop()}}}class EF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,l=new Array(a),h={endingStart:Wa,endingEnd:Wa};for(let f=0;f!==a;++f){const c=s[f].createInterpolant(null);l[f]=c,c.settings=h}this._interpolantSettings=h,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xE,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,a=s/r,l=r/s;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const h=l.parameterPositions,f=l.sampleValues;return h[0]=s,h[1]=s+i,f[0]=e/a,f[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const h=(e-s)*i;h<0||i===0?t=0:(this._startTime=null,t=i*h)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const h=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case kw:for(let c=0,o=h.length;c!==o;++c)h[c].evaluate(a),f[c].accumulateAdditive(l);break;case Hg:default:for(let c=0,o=h.length;c!==o;++c)h[c].evaluate(a),f[c].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===wE;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===yE){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,s+=Math.abs(l);const h=this.repetitions-s;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const f=e<0;this._setEndings(f,!f,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Va,r.endingEnd=Va):(e?r.endingStart=this.zeroSlopeAtStart?Va:Wa:r.endingStart=of,t?r.endingEnd=this.zeroSlopeAtEnd?Va:Wa:r.endingEnd=of)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,h=a.sampleValues;return l[0]=s,h[0]=t,l[1]=s+e,h[1]=i,this}}const TF=new Float32Array(1);class LF extends _s{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,l=e._interpolants,h=i.uuid,f=this._bindingsByRootAndName;let c=f[h];c===void 0&&(c={},f[h]=c);for(let o=0;o!==s;++o){const u=r[o],d=u.name;let p=c[d];if(p!==void 0)++p.referenceCount,a[o]=p;else{if(p=a[o],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,h,d));continue}const m=t&&t._propertyBindings[o].binding.parsedPath;p=new RT(Ot.create(i,d,m),u.ValueTypeName,u.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,h,d),a[o]=p}l[o].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],h=l.knownActions,f=h[h.length-1],c=e._byClipCacheIndex;f._byClipCacheIndex=c,h[c]=f,h.pop(),e._byClipCacheIndex=null;const o=l.actionByRoot,u=(e._localRoot||this._root).uuid;delete o[u],h.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,l=a[r],h=t[t.length-1],f=e._cacheIndex;h._cacheIndex=f,t[f]=h,t.pop(),delete l[s],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new eS(new Float32Array(2),new Float32Array(2),1,TF),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?gf.findByName(r,e):e;const l=a!==null?a.uuid:e,h=this._actionsByClip[l];let f=null;if(i===void 0&&(a!==null?i=a.blendMode:i=Hg),h!==void 0){const o=h.actionByRoot[s];if(o!==void 0&&o.blendMode===i)return o;f=h.knownActions[0],a===null&&(a=f._clip)}if(a===null)return null;const c=new EF(this,a,t,i);return this._bindAction(c,f),this._addInactiveAction(c,l,s),c}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?gf.findByName(i,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,a);const l=this._bindings,h=this._nActiveBindings;for(let f=0;f!==h;++f)l[f].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let l=0,h=a.length;l!==h;++l){const f=a[l];this._deactivateAction(f);const c=f._cacheIndex,o=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,o._cacheIndex=c,t[c]=o,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const l=i[a].actionByRoot,h=l[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class lS{constructor(e){this.value=e}clone(){return new lS(this.value.clone===void 0?this.value:this.value.clone())}}let RF=0;class PF extends _s{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:RF++}),this.name="",this.usage=af,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class kF extends Yg{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class IF{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class PT{constructor(e,t,i=0,r=1/0){this.ray=new If(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new tl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return ux(e,this,i,t),i.sort(MA),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)ux(e[r],this,i,t);return i.sort(MA),i}}function MA(n,e){return n.distance-e.distance}function ux(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,a=r.length;s<a;s++)ux(r[s],e,t,!0)}}class hx{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(In(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zF{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const EA=new ke;class DF{constructor(e=new ke(1/0,1/0),t=new ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=EA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return EA.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const TA=new ee,Np=new ee;class OF{constructor(e=new ee,t=new ee){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){TA.subVectors(e,this.start),Np.subVectors(this.end,this.start);const i=Np.dot(Np);let s=Np.dot(TA)/i;return t&&(s=In(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const LA=new ee;class NF extends Ht{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Tt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,h=32;a<h;a++,l++){const f=a/h*Math.PI*2,c=l/h*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new nt(r,3));const s=new Oi({fog:!1,toneMapped:!1});this.cone=new bs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),LA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(LA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wo=new ee,Fp=new _t,p1=new _t;class FF extends bs{constructor(e){const t=kT(e),i=new Tt,r=[],s=[],a=new Ze(0,0,1),l=new Ze(0,1,0);for(let f=0;f<t.length;f++){const c=t[f];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}i.setAttribute("position",new nt(r,3)),i.setAttribute("color",new nt(s,3));const h=new Oi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");p1.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(Fp.multiplyMatrices(p1,l.matrixWorld),wo.setFromMatrixPosition(Fp),r.setXYZ(a,wo.x,wo.y,wo.z),Fp.multiplyMatrices(p1,l.parent.matrixWorld),wo.setFromMatrixPosition(Fp),r.setXYZ(a+1,wo.x,wo.y,wo.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function kT(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,kT(n.children[t]));return e}class BF extends oi{constructor(e,t,i){const r=new du(t,4,2),s=new ea({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const UF=new ee,RA=new Ze,PA=new Ze;class HF extends Ht{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new fu(t);r.rotateY(Math.PI*.5),this.material=new ea({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Jt(a,3)),this.add(new oi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");RA.copy(this.light.color),PA.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?RA:PA;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(UF.setFromMatrixPosition(this.light.matrixWorld).negate())}}class WF extends bs{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ze(i),r=new Ze(r);const s=t/2,a=e/t,l=e/2,h=[],f=[];for(let u=0,d=0,p=-l;u<=t;u++,p+=a){h.push(-l,0,p,l,0,p),h.push(p,0,-l,p,0,l);const m=u===s?i:r;m.toArray(f,d),d+=3,m.toArray(f,d),d+=3,m.toArray(f,d),d+=3,m.toArray(f,d),d+=3}const c=new Tt;c.setAttribute("position",new nt(h,3)),c.setAttribute("color",new nt(f,3));const o=new Oi({vertexColors:!0,toneMapped:!1});super(c,o),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class VF extends bs{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Ze(s),a=new Ze(a);const l=[],h=[];if(t>1)for(let o=0;o<t;o++){const u=o/t*(Math.PI*2),d=Math.sin(u)*e,p=Math.cos(u)*e;l.push(0,0,0),l.push(d,0,p);const m=o&1?s:a;h.push(m.r,m.g,m.b),h.push(m.r,m.g,m.b)}for(let o=0;o<i;o++){const u=o&1?s:a,d=e-e/i*o;for(let p=0;p<r;p++){let m=p/r*(Math.PI*2),v=Math.sin(m)*d,x=Math.cos(m)*d;l.push(v,0,x),h.push(u.r,u.g,u.b),m=(p+1)/r*(Math.PI*2),v=Math.sin(m)*d,x=Math.cos(m)*d,l.push(v,0,x),h.push(u.r,u.g,u.b)}}const f=new Tt;f.setAttribute("position",new nt(l,3)),f.setAttribute("color",new nt(h,3));const c=new Oi({vertexColors:!0,toneMapped:!1});super(f,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kA=new ee,Bp=new ee,IA=new ee;class GF extends Ht{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Tt;r.setAttribute("position",new nt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Oi({fog:!1,toneMapped:!1});this.lightPlane=new Qo(r,s),this.add(this.lightPlane),r=new Tt,r.setAttribute("position",new nt([0,0,0,0,0,1],3)),this.targetLine=new Qo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kA.setFromMatrixPosition(this.light.matrixWorld),Bp.setFromMatrixPosition(this.light.target.matrixWorld),IA.subVectors(Bp,kA),this.lightPlane.lookAt(Bp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Bp),this.targetLine.scale.z=IA.length()}}const Up=new ee,_n=new zf;class KF extends bs{constructor(e){const t=new Tt,i=new Oi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(p,m){h(p),h(m)}function h(p){r.push(0,0,0),s.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(r.length/3-1)}t.setAttribute("position",new nt(r,3)),t.setAttribute("color",new nt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const f=new Ze(16755200),c=new Ze(16711680),o=new Ze(43775),u=new Ze(16777215),d=new Ze(3355443);this.setColors(f,c,o,u,d)}setColors(e,t,i,r,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;_n.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ln("c",t,e,_n,0,0,-1),Ln("t",t,e,_n,0,0,1),Ln("n1",t,e,_n,-i,-r,-1),Ln("n2",t,e,_n,i,-r,-1),Ln("n3",t,e,_n,-i,r,-1),Ln("n4",t,e,_n,i,r,-1),Ln("f1",t,e,_n,-i,-r,1),Ln("f2",t,e,_n,i,-r,1),Ln("f3",t,e,_n,-i,r,1),Ln("f4",t,e,_n,i,r,1),Ln("u1",t,e,_n,i*.7,r*1.1,-1),Ln("u2",t,e,_n,-i*.7,r*1.1,-1),Ln("u3",t,e,_n,0,r*2,-1),Ln("cf1",t,e,_n,-i,0,1),Ln("cf2",t,e,_n,i,0,1),Ln("cf3",t,e,_n,0,-r,1),Ln("cf4",t,e,_n,0,r,1),Ln("cn1",t,e,_n,-i,0,-1),Ln("cn2",t,e,_n,i,0,-1),Ln("cn3",t,e,_n,0,-r,-1),Ln("cn4",t,e,_n,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ln(n,e,t,i,r,s,a){Up.set(r,s,a).unproject(i);const l=e[n];if(l!==void 0){const h=t.getAttribute("position");for(let f=0,c=l.length;f<c;f++)h.setXYZ(l[f],Up.x,Up.y,Up.z)}}const Hp=new gl;class jF extends bs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Tt;s.setIndex(new Jt(i,1)),s.setAttribute("position",new Jt(r,3)),super(s,new Oi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Hp.setFromObject(this.object),Hp.isEmpty())return;const t=Hp.min,i=Hp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class YF extends bs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Tt;s.setIndex(new Jt(i,1)),s.setAttribute("position",new nt(r,3)),super(s,new Oi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class XF extends Qo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Tt;a.setAttribute("position",new nt(s,3)),a.computeBoundingSphere(),super(a,new Oi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new Tt;h.setAttribute("position",new nt(l,3)),h.computeBoundingSphere(),this.add(new oi(h,new ea({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const zA=new ee;let Wp,m1;class QF extends Ht{constructor(e=new ee(0,0,1),t=new ee(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",Wp===void 0&&(Wp=new Tt,Wp.setAttribute("position",new nt([0,0,0,0,1,0],3)),m1=new yl(0,.5,1,5,1),m1.translate(0,-.5,0)),this.position.copy(t),this.line=new Qo(Wp,new Oi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new oi(m1,new ea({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{zA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(zA,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $F extends bs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Tt;r.setAttribute("position",new nt(t,3)),r.setAttribute("color",new nt(i,3));const s=new Oi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ze,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class qF{constructor(){this.type="ShapePath",this.color=new Ze,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new uf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const w=[];for(let A=0,M=x.length;A<M;A++){const C=x[A],E=new nl;E.curves=C.curves,w.push(E)}return w}function i(x,w){const A=w.length;let M=!1;for(let C=A-1,E=0;E<A;C=E++){let R=w[C],b=w[E],_=b.x-R.x,S=b.y-R.y;if(Math.abs(S)>Number.EPSILON){if(S<0&&(R=w[E],_=-_,b=w[C],S=-S),x.y<R.y||x.y>b.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const T=S*(x.x-R.x)-_*(x.y-R.y);if(T===0)return!0;if(T<0)continue;M=!M}}else{if(x.y!==R.y)continue;if(b.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=b.x)return!0}}return M}const r=ws.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,h;const f=[];if(s.length===1)return l=s[0],h=new nl,h.curves=l.curves,f.push(h),f;let c=!r(s[0].getPoints());c=e?!c:c;const o=[],u=[];let d=[],p=0,m;u[p]=void 0,d[p]=[];for(let x=0,w=s.length;x<w;x++)l=s[x],m=l.getPoints(),a=r(m),a=e?!a:a,a?(!c&&u[p]&&p++,u[p]={s:new nl,p:m},u[p].s.curves=l.curves,c&&p++,d[p]=[]):d[p].push({h:l,p:m[0]});if(!u[0])return t(s);if(u.length>1){let x=!1,w=0;for(let A=0,M=u.length;A<M;A++)o[A]=[];for(let A=0,M=u.length;A<M;A++){const C=d[A];for(let E=0;E<C.length;E++){const R=C[E];let b=!0;for(let _=0;_<u.length;_++)i(R.p,u[_].p)&&(A!==_&&w++,b?(b=!1,o[_].push(R)):x=!0);b&&o[A].push(R)}}w>0&&x===!1&&(d=o)}let v;for(let x=0,w=u.length;x<w;x++){h=u[x].s,f.push(h),v=d[x];for(let A=0,M=v.length;A<M;A++)h.holes.push(v[A].h)}return f}}const Ws=JF();function JF(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let h=0;h<256;++h){const f=h-127;f<-27?(i[h]=0,i[h|256]=32768,r[h]=24,r[h|256]=24):f<-14?(i[h]=1024>>-f-14,i[h|256]=1024>>-f-14|32768,r[h]=-f-1,r[h|256]=-f-1):f<=15?(i[h]=f+15<<10,i[h|256]=f+15<<10|32768,r[h]=13,r[h|256]=13):f<128?(i[h]=31744,i[h|256]=64512,r[h]=24,r[h|256]=24):(i[h]=31744,i[h|256]=64512,r[h]=13,r[h|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let h=1;h<1024;++h){let f=h<<13,c=0;for(;(f&8388608)===0;)f<<=1,c-=8388608;f&=-8388609,c+=947912704,s[h]=f|c}for(let h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)a[h]=h<<23;a[31]=1199570944,a[32]=2147483648;for(let h=33;h<63;++h)a[h]=2147483648+(h-32<<23);a[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(l[h]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:l}}function ZF(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=In(n,-65504,65504),Ws.floatView[0]=n;const e=Ws.uint32View[0],t=e>>23&511;return Ws.baseTable[t]+((e&8388607)>>Ws.shiftTable[t])}function eB(n){const e=n>>10;return Ws.uint32View[0]=Ws.mantissaTable[Ws.offsetTable[e]+(n&1023)]+Ws.exponentTable[e],Ws.floatView[0]}var tB=Object.freeze({__proto__:null,toHalfFloat:ZF,fromHalfFloat:eB});function nB(){console.error("THREE.ImmediateRenderObject has been removed.")}class iB extends Nr{constructor(e,t,i){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,i),this.samples=4}}class rB extends kf{constructor(e,t,i,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,i,r)}}class sB extends Wg{constructor(e,t,i,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,i,r)}}class oB extends ta{constructor(e,t,i,r,s,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,a)}}class aB extends Of{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class lB extends Nf{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class cB extends Ff{constructor(e,t,i,r,s,a,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,a,l)}}class uB extends yl{constructor(e,t,i,r,s,a,l,h){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,a,l,h)}}class hB extends Bf{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class fB extends Uf{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class dB extends Hf{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class pB extends hu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class mB extends fu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class gB extends cu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class vB extends io{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class yB extends Wf{constructor(e,t,i,r,s,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,a)}}class xB extends Vf{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class wB extends du{constructor(e,t,i,r,s,a,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,a,l)}}class SB extends Gf{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class _B extends Kf{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class bB extends jf{constructor(e,t,i,r,s,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,a)}}class AB extends Yf{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Fg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Fg);var CB=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Lw,AddEquation:za,AddOperation:JM,AdditiveAnimationBlendMode:kw,AdditiveBlending:Ry,AlphaFormat:lE,AlwaysDepth:KM,AlwaysStencilFunc:AE,AmbientLight:AT,AmbientLightProbe:uF,AnimationClip:gf,AnimationLoader:JN,AnimationMixer:LF,AnimationObjectGroup:MF,AnimationUtils:XN,ArcCurve:QE,ArrayCamera:BE,ArrowHelper:QF,Audio:LT,AudioAnalyser:gF,AudioContext:rS,AudioListener:dF,AudioLoader:lF,AxesHelper:$F,BackSide:cr,BasicDepthPacking:SE,BasicShadowMap:PM,Bone:Ww,BooleanKeyframeTrack:xl,Box2:DF,Box3:gl,Box3Helper:YF,BoxBufferGeometry:oB,BoxGeometry:ta,BoxHelper:jF,BufferAttribute:Jt,BufferGeometry:Tt,BufferGeometryLoader:TT,ByteType:iE,Cache:hl,Camera:zf,CameraHelper:KF,CanvasTexture:yN,CapsuleBufferGeometry:aB,CapsuleGeometry:Of,CatmullRomCurve3:$E,CineonToneMapping:tE,CircleBufferGeometry:lB,CircleGeometry:Nf,ClampToEdgeWrapping:_i,Clock:sS,Color:Ze,ColorKeyframeTrack:tS,ColorManagement:wi,CompressedArrayTexture:vN,CompressedTexture:Gw,CompressedTextureLoader:ZN,ConeBufferGeometry:cB,ConeGeometry:Ff,CubeCamera:PE,CubeReflectionMapping:jo,CubeRefractionMapping:Yo,CubeTexture:Df,CubeTextureLoader:eF,CubeUVReflectionMapping:au,CubicBezierCurve:jw,CubicBezierCurve3:qE,CubicInterpolant:mT,CullFaceBack:Ly,CullFaceFront:RM,CullFaceFrontBack:Sk,CullFaceNone:LM,Curve:ss,CurvePath:ZE,CustomBlending:kM,CustomToneMapping:nE,CylinderBufferGeometry:uB,CylinderGeometry:yl,Cylindrical:zF,Data3DTexture:Wg,DataArrayTexture:kf,DataTexture:Bc,DataTexture2DArray:rB,DataTexture3D:sB,DataTextureLoader:tF,DataUtils:tB,DecrementStencilOp:Ik,DecrementWrapStencilOp:Dk,DefaultLoadingManager:yT,DepthFormat:Ho,DepthStencilFormat:ll,DepthTexture:UE,DirectionalLight:bT,DirectionalLightHelper:GF,DiscreteInterpolant:gT,DodecahedronBufferGeometry:hB,DodecahedronGeometry:Bf,DoubleSide:Rf,DstAlphaFactor:BM,DstColorFactor:HM,DynamicCopyUsage:$k,DynamicDrawUsage:Gk,DynamicReadUsage:Yk,EdgesGeometry:eT,EllipseCurve:Qg,EqualDepth:YM,EqualStencilFunc:Bk,EquirectangularReflectionMapping:Zh,EquirectangularRefractionMapping:ef,Euler:lu,EventDispatcher:_s,ExtrudeBufferGeometry:fB,ExtrudeGeometry:Uf,FileLoader:to,Float16BufferAttribute:RI,Float32BufferAttribute:nt,Float64BufferAttribute:PI,FloatType:Ks,Fog:jg,FogExp2:Kg,FramebufferTexture:gN,FrontSide:Ko,Frustum:Vg,GLBufferAttribute:IF,GLSL1:CE,GLSL3:$m,GreaterDepth:QM,GreaterEqualDepth:XM,GreaterEqualStencilFunc:Vk,GreaterStencilFunc:Hk,GridHelper:WF,Group:Ec,HalfFloatType:Yc,HemisphereLight:wT,HemisphereLightHelper:HF,HemisphereLightProbe:cF,IcosahedronBufferGeometry:dB,IcosahedronGeometry:Hf,ImageBitmapLoader:aF,ImageLoader:vf,ImageUtils:zw,ImmediateRenderObject:nB,IncrementStencilOp:kk,IncrementWrapStencilOp:zk,InstancedBufferAttribute:$c,InstancedBufferGeometry:ET,InstancedInterleavedBuffer:kF,InstancedMesh:jE,Int16BufferAttribute:TI,Int32BufferAttribute:LI,Int8BufferAttribute:CI,IntType:sE,InterleavedBuffer:Yg,InterleavedBufferAttribute:cl,Interpolant:Xf,InterpolateDiscrete:rf,InterpolateLinear:sf,InterpolateSmooth:dm,InvertStencilOp:Ok,KeepStencilOp:pm,KeyframeTrack:os,LOD:GE,LatheBufferGeometry:pB,LatheGeometry:hu,Layers:tl,LessDepth:jM,LessEqualDepth:Xm,LessEqualStencilFunc:Uk,LessStencilFunc:Fk,Light:na,LightProbe:Jg,Line:Qo,Line3:OF,LineBasicMaterial:Oi,LineCurve:$g,LineCurve3:JE,LineDashedMaterial:dT,LineLoop:YE,LineSegments:bs,LinearEncoding:eo,LinearFilter:kn,LinearInterpolant:eS,LinearMipMapLinearFilter:Ck,LinearMipMapNearestFilter:Ak,LinearMipmapLinearFilter:Xo,LinearMipmapNearestFilter:Rw,LinearSRGBColorSpace:Xc,LinearToneMapping:ZM,Loader:pr,LoaderUtils:cx,LoadingManager:nS,LoopOnce:yE,LoopPingPong:wE,LoopRepeat:xE,LuminanceAlphaFormat:hE,LuminanceFormat:uE,MOUSE:Ra,Material:ci,MaterialLoader:Zg,MathUtils:hI,Matrix3:ki,Matrix4:_t,MaxEquation:zy,Mesh:oi,MeshBasicMaterial:ea,MeshDepthMaterial:Fw,MeshDistanceMaterial:Bw,MeshLambertMaterial:hT,MeshMatcapMaterial:fT,MeshNormalMaterial:uT,MeshPhongMaterial:lT,MeshPhysicalMaterial:aT,MeshStandardMaterial:qw,MeshToonMaterial:cT,MinEquation:Iy,MirroredRepeatWrapping:nf,MixOperation:qM,MultiplyBlending:ky,MultiplyOperation:Pf,NearestFilter:Rn,NearestMipMapLinearFilter:bk,NearestMipMapNearestFilter:_k,NearestMipmapLinearFilter:Eh,NearestMipmapNearestFilter:Qm,NeverDepth:GM,NeverStencilFunc:Nk,NoBlending:Xs,NoColorSpace:Lk,NoToneMapping:is,NormalAnimationBlendMode:Hg,NormalBlending:qa,NotEqualDepth:$M,NotEqualStencilFunc:Wk,NumberKeyframeTrack:pf,Object3D:Ht,ObjectLoader:sF,ObjectSpaceNormalMap:bE,OctahedronBufferGeometry:mB,OctahedronGeometry:fu,OneFactor:OM,OneMinusDstAlphaFactor:UM,OneMinusDstColorFactor:WM,OneMinusSrcAlphaFactor:Tw,OneMinusSrcColorFactor:FM,OrthographicCamera:Wo,PCFShadowMap:Bg,PCFSoftShadowMap:Mh,PMREMGenerator:ix,Path:uf,PerspectiveCamera:hn,Plane:Co,PlaneBufferGeometry:gB,PlaneGeometry:cu,PlaneHelper:XF,PointLight:_T,PointLightHelper:BF,Points:XE,PointsMaterial:Vw,PolarGridHelper:VF,PolyhedronBufferGeometry:vB,PolyhedronGeometry:io,PositionalAudio:mF,PropertyBinding:Ot,PropertyMixer:RT,QuadraticBezierCurve:Yw,QuadraticBezierCurve3:Xw,Quaternion:bi,QuaternionKeyframeTrack:pu,QuaternionLinearInterpolant:vT,REVISION:Fg,RGBADepthPacking:_E,RGBAFormat:ji,RGBAIntegerFormat:gE,RGBA_ASTC_10x10_Format:Jy,RGBA_ASTC_10x5_Format:Qy,RGBA_ASTC_10x6_Format:$y,RGBA_ASTC_10x8_Format:qy,RGBA_ASTC_12x10_Format:Zy,RGBA_ASTC_12x12_Format:ex,RGBA_ASTC_4x4_Format:Hy,RGBA_ASTC_5x4_Format:Wy,RGBA_ASTC_5x5_Format:Vy,RGBA_ASTC_6x5_Format:Gy,RGBA_ASTC_6x6_Format:Ky,RGBA_ASTC_8x5_Format:jy,RGBA_ASTC_8x6_Format:Yy,RGBA_ASTC_8x8_Format:Xy,RGBA_BPTC_Format:tx,RGBA_ETC2_EAC_Format:Uy,RGBA_PVRTC_2BPPV1_Format:Fy,RGBA_PVRTC_4BPPV1_Format:Ny,RGBA_S3TC_DXT1_Format:um,RGBA_S3TC_DXT3_Format:hm,RGBA_S3TC_DXT5_Format:fm,RGBFormat:cE,RGB_ETC1_Format:vE,RGB_ETC2_Format:By,RGB_PVRTC_2BPPV1_Format:Oy,RGB_PVRTC_4BPPV1_Format:Dy,RGB_S3TC_DXT1_Format:cm,RGFormat:pE,RGIntegerFormat:mE,RawShaderMaterial:oT,Ray:If,Raycaster:PT,RectAreaLight:CT,RedFormat:fE,RedIntegerFormat:dE,ReinhardToneMapping:eE,RepeatWrapping:tf,ReplaceStencilOp:Pk,ReverseSubtractEquation:zM,RingBufferGeometry:yB,RingGeometry:Wf,SRGBColorSpace:qr,Scene:Zm,ShaderChunk:Et,ShaderLib:Zr,ShaderMaterial:Ss,ShadowMaterial:sT,Shape:nl,ShapeBufferGeometry:xB,ShapeGeometry:Vf,ShapePath:qF,ShapeUtils:ws,ShortType:rE,Skeleton:Xg,SkeletonHelper:FF,SkinnedMesh:KE,Source:Ga,Sphere:vl,SphereBufferGeometry:wB,SphereGeometry:du,Spherical:hx,SphericalHarmonics3:MT,SplineCurve:Qw,SpotLight:ST,SpotLightHelper:NF,Sprite:VE,SpriteMaterial:Hw,SrcAlphaFactor:Ew,SrcAlphaSaturateFactor:VM,SrcColorFactor:NM,StaticCopyUsage:Qk,StaticDrawUsage:af,StaticReadUsage:jk,StereoCamera:hF,StreamCopyUsage:qk,StreamDrawUsage:Kk,StreamReadUsage:Xk,StringKeyframeTrack:wl,SubtractEquation:IM,SubtractiveBlending:Py,TOUCH:Pa,TangentSpaceNormalMap:Zo,TetrahedronBufferGeometry:SB,TetrahedronGeometry:Gf,Texture:Cn,TextureLoader:xT,TorusBufferGeometry:_B,TorusGeometry:Kf,TorusKnotBufferGeometry:bB,TorusKnotGeometry:jf,Triangle:kr,TriangleFanDrawMode:Tk,TriangleStripDrawMode:Ek,TrianglesDrawMode:Mk,TubeBufferGeometry:AB,TubeGeometry:Yf,TwoPassDoubleSide:ph,UVMapping:Ug,Uint16BufferAttribute:Dw,Uint32BufferAttribute:Ow,Uint8BufferAttribute:MI,Uint8ClampedBufferAttribute:EI,Uniform:lS,UniformsGroup:PF,UniformsLib:Xe,UniformsUtils:RE,UnsignedByteType:Zs,UnsignedInt248Type:Ja,UnsignedIntType:ko,UnsignedShort4444Type:oE,UnsignedShort5551Type:aE,UnsignedShortType:Pw,VSMShadowMap:Ha,Vector2:ke,Vector3:ee,Vector4:Gt,VectorKeyframeTrack:mf,VideoTexture:mN,WebGL1Renderer:HE,WebGL3DRenderTarget:mI,WebGLArrayRenderTarget:pI,WebGLCubeRenderTarget:kE,WebGLMultipleRenderTargets:gI,WebGLMultisampleRenderTarget:iB,WebGLRenderTarget:Nr,WebGLRenderer:Uw,WebGLUtils:FE,WireframeGeometry:rT,WrapAroundEnding:of,ZeroCurvatureEnding:Wa,ZeroFactor:DM,ZeroSlopeEnding:Va,ZeroStencilOp:Rk,_SRGBAFormat:qm,sRGBEncoding:Xt},Symbol.toStringTag,{value:"Module"}));const cS="data:image/png;base64";function uS(n){for(var e=[],t=/uniform\s(\w+)\s(.*);(.*)?(\/\/.*)?/gm,i;i=t.exec(n);){let r=i[2].split("["),s=r[0],a=r.length>1?parseInt(r[1]):null;e.push({type:i[1],name:s,length:a,meta:MB(i[3]||"")})}return e}function MB(n){let e={};if(n&&n.trim()){let i=n.trim().replace("//","").split(",");i.length>0&&i.forEach(r=>{let s=r.split(":");if(s.length==2){let a=s[1].trim();a=isNaN(a)?a:Number(a),a=a==="true"?!0:a==="false"?!1:a,e[s[0].trim()]=a}})}return e}function IT(n){const e=/\/\/(description|prompt|geometry|orbitcontrols|mesh-position|mesh-scale|shader-wireframe|shader-wireframe-linewidth|geometry-args|camera-position|camera-fov|camera-near|camera-far|mesh-rotation|antialias):(.+?)\n/gi,t={};let i;for(;(i=e.exec(n))!==null;){let r=i[1].toLowerCase(),s=i[2];try{t[r]=JSON.parse(s)}catch{t[r]=s.trim()}}return t}function qc(n){return n===cS}function EB(n){return typeof n=="string"&&n.startsWith(cS)&&!qc(n)}let TB=async n=>new Promise((e,t)=>{let i=new Image;i.onload=async()=>{e(i)},i.src=n}),lc=n=>{const e=(t,i=0,r=Math.pow(10,i))=>Math.round(r*t)/r;return n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?e(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?e(parseInt(n.substring(6,8),16)/255,2):1}},zT=(n,e=1024)=>Math.ceil(Math.max(n*e/16,1));async function DT(n,e=1024,t=2){let i=lc(n.color||"#FF0000"),r={};r={u_color:[i.r/255,i.g/255,i.b/255],u_size:zT(n.size,e),u_distribution:n.amount,u_randomize:n.randomOpacity,u_random_rotation:n.randomRotation,u_use_image:n.shape==="image",u_gain:n.gain,u_octaves:n.octaves,u_lacunarity:n.lacunarity,u_offset:n.offset,u_multiplier:n.multiplier,u_rotation:n.rotation/360,u_multicolor:n.multicolor,u_phase:n.phase,u_count:n.count,u_interpolate:n.interpolate,u_smoothness:n.smoothness,u_distance:n.distance,u_width:n.width,u_jitter:n.jitter,u_factor:n.factor,u_strength:n.strength,u_aa_passes:t,u_random_seed:Math.random(),u_vignette:n.vignette};for(var s in r)r[s]===void 0&&delete r[s];if(n.image&&!qc(n.image)){let a=await TB(n.image);r.u_image=n.image,r.u_image_resolution=[a.width,a.height]}else n.image&&qc(n.image)&&(r.u_image=null,r.u_image_resolution=[0,0]);return r}async function OT(n,e){const t=uS(n),i={};for(var r in e){let s=e[r];if(s!=null&&s.constructor)if(s.constructor.name==="String"){let a=t.find(l=>l.name===r);if(a?.type==="vec3"){let l=lc(s);i[r]=[l.r/255,l.g/255,l.b/255]}else if(a?.type==="vec4"){let l=lc(s);i[r]=[l.r/255,l.g/255,l.b/255,l.a]}else if(/^#[0-9a-f]{2,6}$/i.test(s)){let l=lc(s);i[r]=[l.r/255,l.g/255,l.b/255]}else if(/^#[0-9a-f]{2,8}$/i.test(s)){let l=lc(s);i[r]=[l.r/255,l.g/255,l.b/255,l.a]}else if(s.startsWith(cS)&&!qc(s)){let l=s;i[r]=l}else qc(s)&&(i[r]=null)}else if(Array.isArray(s)){let a=[];s.forEach(l=>{let h=lc(l);a.push([h.r/255,h.g/255,h.b/255,h.a])}),i[r]=a}else isNaN(s)||(i[r]=s)}return i}async function NT(n){let e={},t=[];function i(r){return Array.isArray(r)?r.map(s=>Array.isArray(s)?s.length==3?new ee(...s):new Gt(...s):s):r}return Object.keys(n).forEach(r=>{let s=n[r];if(EB(s))t.push(new Promise((a,l)=>{new xT().load(s,h=>{let f=h.source.data;e[r]={value:h},e[`${r}_resolution`]={value:[f.width,f.height]},a()})}));else if(qc(s))e[r]=null;else{let a=i(s);e[r]={value:a}}}),await Promise.all(t),e}var Jc={},hS={},yf={exports:{}};(function(n,e){(function(){var t="ace",i=function(){return this}();!i&&typeof window<"u"&&(i=window);var r=function(c,o,u){if(typeof c!="string"){r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(u=o),r.modules[c]||(r.payloads[c]=u,r.modules[c]=null)};r.modules={},r.payloads={};var s=function(c,o,u){if(typeof o=="string"){var d=h(c,o);if(d!=null)return u&&u(),d}else if(Object.prototype.toString.call(o)==="[object Array]"){for(var p=[],m=0,v=o.length;m<v;++m){var x=h(c,o[m]);if(x==null&&a.original)return;p.push(x)}return u&&u.apply(null,p)||!0}},a=function(c,o){var u=s("",c,o);return u==null&&a.original?a.original.apply(this,arguments):u},l=function(c,o){if(o.indexOf("!")!==-1){var u=o.split("!");return l(c,u[0])+"!"+l(c,u[1])}if(o.charAt(0)=="."){var d=c.split("/").slice(0,-1).join("/");for(o=d+"/"+o;o.indexOf(".")!==-1&&p!=o;){var p=o;o=o.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return o},h=function(c,o){o=l(c,o);var u=r.modules[o];if(!u){if(u=r.payloads[o],typeof u=="function"){var d={},p={id:o,uri:"",exports:d,packaged:!0},m=function(x,w){return s(o,x,w)},v=u(m,d,p);d=v||p.exports,r.modules[o]=d,delete r.payloads[o]}u=r.modules[o]=d||u}return u};function f(c){var o=i;c&&(i[c]||(i[c]={}),o=i[c]),(!o.define||!o.define.packaged)&&(r.original=o.define,o.define=r,o.define.packaged=!0),(!o.require||!o.require.packaged)&&(a.original=o.require,o.require=a,o.require.packaged=!0)}f(t)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(t,i,r){function s(a,l,h){Object.defineProperty(a,l,{value:h,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||s(String.prototype,"startsWith",function(a,l){return l=l||0,this.lastIndexOf(a,l)===l}),String.prototype.endsWith||s(String.prototype,"endsWith",function(a,l){var h=this;(l===void 0||l>h.length)&&(l=h.length),l-=a.length;var f=h.indexOf(a,l);return f!==-1&&f===l}),String.prototype.repeat||s(String.prototype,"repeat",function(a){for(var l="",h=this;a>0;)a&1&&(l+=h),(a>>=1)&&(h+=h);return l}),String.prototype.includes||s(String.prototype,"includes",function(a,l){return this.indexOf(a,l)!=-1}),Object.assign||(Object.assign=function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),h=1;h<arguments.length;h++){var f=arguments[h];f!=null&&Object.keys(f).forEach(function(c){l[c]=f[c]})}return l}),Object.values||(Object.values=function(a){return Object.keys(a).map(function(l){return a[l]})}),Array.prototype.find||s(Array.prototype,"find",function(a){for(var l=this.length,h=arguments[1],f=0;f<l;f++){var c=this[f];if(a.call(h,c,f,this))return c}}),Array.prototype.findIndex||s(Array.prototype,"findIndex",function(a){for(var l=this.length,h=arguments[1],f=0;f<l;f++){var c=this[f];if(a.call(h,c,f,this))return f}}),Array.prototype.includes||s(Array.prototype,"includes",function(a,l){return this.indexOf(a,l)!=-1}),Array.prototype.fill||s(Array.prototype,"fill",function(a){for(var l=this,h=l.length>>>0,f=arguments[1],c=f>>0,o=c<0?Math.max(h+c,0):Math.min(c,h),u=arguments[2],d=u===void 0?h:u>>0,p=d<0?Math.max(h+d,0):Math.min(d,h);o<p;)l[o]=a,o++;return l}),Array.of||s(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(t,i,r){t("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(t,i,r){i.last=function(l){return l[l.length-1]},i.stringReverse=function(l){return l.split("").reverse().join("")},i.stringRepeat=function(l,h){for(var f="";h>0;)h&1&&(f+=l),(h>>=1)&&(l+=l);return f};var s=/^\s\s*/,a=/\s\s*$/;i.stringTrimLeft=function(l){return l.replace(s,"")},i.stringTrimRight=function(l){return l.replace(a,"")},i.copyObject=function(l){var h={};for(var f in l)h[f]=l[f];return h},i.copyArray=function(l){for(var h=[],f=0,c=l.length;f<c;f++)l[f]&&typeof l[f]=="object"?h[f]=this.copyObject(l[f]):h[f]=l[f];return h},i.deepCopy=function l(h){if(typeof h!="object"||!h)return h;var f;if(Array.isArray(h)){f=[];for(var c=0;c<h.length;c++)f[c]=l(h[c]);return f}if(Object.prototype.toString.call(h)!=="[object Object]")return h;f={};for(var c in h)f[c]=l(h[c]);return f},i.arrayToMap=function(l){for(var h={},f=0;f<l.length;f++)h[l[f]]=1;return h},i.createMap=function(l){var h=Object.create(null);for(var f in l)h[f]=l[f];return h},i.arrayRemove=function(l,h){for(var f=0;f<=l.length;f++)h===l[f]&&l.splice(f,1)},i.escapeRegExp=function(l){return l.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},i.escapeHTML=function(l){return(""+l).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},i.getMatchOffsets=function(l,h){var f=[];return l.replace(h,function(c){f.push({offset:arguments[arguments.length-2],length:c.length})}),f},i.deferredCall=function(l){var h=null,f=function(){h=null,l()},c=function(o){return c.cancel(),h=setTimeout(f,o||0),c};return c.schedule=c,c.call=function(){return this.cancel(),l(),c},c.cancel=function(){return clearTimeout(h),h=null,c},c.isPending=function(){return h},c},i.delayedCall=function(l,h){var f=null,c=function(){f=null,l()},o=function(u){f==null&&(f=setTimeout(c,u||h))};return o.delay=function(u){f&&clearTimeout(f),f=setTimeout(c,u||h)},o.schedule=o,o.call=function(){this.cancel(),l()},o.cancel=function(){f&&clearTimeout(f),f=null},o.isPending=function(){return f},o}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,i,r){i.inherits=function(s,a){s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(s,a){for(var l in a)s[l]=a[l];return s},i.implement=function(s,a){i.mixin(s,a)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,i,r){i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS};var s=typeof navigator=="object"?navigator:{},a=(/mac|win|linux/i.exec(s.platform)||["other"])[0].toLowerCase(),l=s.userAgent||"",h=s.appName||"";i.isWin=a=="win",i.isMac=a=="mac",i.isLinux=a=="linux",i.isIE=h=="Microsoft Internet Explorer"||h.indexOf("MSAppHost")>=0?parseFloat((l.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((l.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),i.isOldIE=i.isIE&&i.isIE<9,i.isGecko=i.isMozilla=l.match(/ Gecko\/\d+/),i.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",i.isWebKit=parseFloat(l.split("WebKit/")[1])||void 0,i.isChrome=parseFloat(l.split(" Chrome/")[1])||void 0,i.isEdge=parseFloat(l.split(" Edge/")[1])||void 0,i.isAIR=l.indexOf("AdobeAIR")>=0,i.isAndroid=l.indexOf("Android")>=0,i.isChromeOS=l.indexOf(" CrOS ")>=0,i.isIOS=/iPad|iPhone|iPod/.test(l)&&!window.MSStream,i.isIOS&&(i.isMac=!0),i.isMobile=i.isIOS||i.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,i,r){var s=t("./useragent"),a="http://www.w3.org/1999/xhtml";i.buildDom=function u(d,p,m){if(typeof d=="string"&&d){var v=document.createTextNode(d);return p&&p.appendChild(v),v}if(!Array.isArray(d))return d&&d.appendChild&&p&&p.appendChild(d),d;if(typeof d[0]!="string"||!d[0]){for(var x=[],w=0;w<d.length;w++){var A=u(d[w],p,m);A&&x.push(A)}return x}var M=document.createElement(d[0]),C=d[1],E=1;C&&typeof C=="object"&&!Array.isArray(C)&&(E=2);for(var w=E;w<d.length;w++)u(d[w],M,m);return E==2&&Object.keys(C).forEach(function(R){var b=C[R];R==="class"?M.className=Array.isArray(b)?b.join(" "):b:typeof b=="function"||R=="value"||R[0]=="$"?M[R]=b:R==="ref"?m&&(m[b]=M):R==="style"?typeof b=="string"&&(M.style.cssText=b):b!=null&&M.setAttribute(R,b)}),p&&p.appendChild(M),M},i.getDocumentHead=function(u){return u||(u=document),u.head||u.getElementsByTagName("head")[0]||u.documentElement},i.createElement=function(u,d){return document.createElementNS?document.createElementNS(d||a,u):document.createElement(u)},i.removeChildren=function(u){u.innerHTML=""},i.createTextNode=function(u,d){var p=d?d.ownerDocument:document;return p.createTextNode(u)},i.createFragment=function(u){var d=u?u.ownerDocument:document;return d.createDocumentFragment()},i.hasCssClass=function(u,d){var p=(u.className+"").split(/\s+/g);return p.indexOf(d)!==-1},i.addCssClass=function(u,d){i.hasCssClass(u,d)||(u.className+=" "+d)},i.removeCssClass=function(u,d){for(var p=u.className.split(/\s+/g);;){var m=p.indexOf(d);if(m==-1)break;p.splice(m,1)}u.className=p.join(" ")},i.toggleCssClass=function(u,d){for(var p=u.className.split(/\s+/g),m=!0;;){var v=p.indexOf(d);if(v==-1)break;m=!1,p.splice(v,1)}return m&&p.push(d),u.className=p.join(" "),m},i.setCssClass=function(u,d,p){p?i.addCssClass(u,d):i.removeCssClass(u,d)},i.hasCssString=function(u,d){var p=0,m;if(d=d||document,m=d.querySelectorAll("style")){for(;p<m.length;)if(m[p++].id===u)return!0}},i.removeElementById=function(u,d){d=d||document,d.getElementById(u)&&d.getElementById(u).remove()};var l,h=[];i.useStrictCSP=function(u){l=u,u==!1?f():h||(h=[])};function f(){var u=h;h=null,u&&u.forEach(function(d){c(d[0],d[1])})}function c(u,d,p){if(!(typeof document>"u")){if(h){if(p)f();else if(p===!1)return h.push([u,d])}if(!l){var m=p;!p||!p.getRootNode?m=document:(m=p.getRootNode(),(!m||m==p)&&(m=document));var v=m.ownerDocument||m;if(d&&i.hasCssString(d,m))return null;d&&(u+=`
/*# sourceURL=ace/css/`+d+" */");var x=i.createElement("style");x.appendChild(v.createTextNode(u)),d&&(x.id=d),m==v&&(m=i.getDocumentHead(v)),m.insertBefore(x,m.firstChild)}}}if(i.importCssString=c,i.importCssStylsheet=function(u,d){i.buildDom(["link",{rel:"stylesheet",href:u}],i.getDocumentHead(d))},i.scrollbarWidth=function(u){var d=i.createElement("ace_inner");d.style.width="100%",d.style.minWidth="0px",d.style.height="200px",d.style.display="block";var p=i.createElement("ace_outer"),m=p.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",p.appendChild(d);var v=u&&u.documentElement||document&&document.documentElement;if(!v)return 0;v.appendChild(p);var x=d.offsetWidth;m.overflow="scroll";var w=d.offsetWidth;return x===w&&(w=p.clientWidth),v.removeChild(p),x-w},i.computedStyle=function(u,d){return window.getComputedStyle(u,"")||{}},i.setStyle=function(u,d,p){u[d]!==p&&(u[d]=p)},i.HAS_CSS_ANIMATION=!1,i.HAS_CSS_TRANSFORMS=!1,i.HI_DPI=s.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,s.isChromeOS&&(i.HI_DPI=!1),typeof document<"u"){var o=document.createElement("div");i.HI_DPI&&o.style.transform!==void 0&&(i.HAS_CSS_TRANSFORMS=!0),!s.isEdge&&typeof o.style.animationName<"u"&&(i.HAS_CSS_ANIMATION=!0),o=null}i.HAS_CSS_TRANSFORMS?i.translate=function(u,d,p){u.style.transform="translate("+Math.round(d)+"px, "+Math.round(p)+"px)"}:i.translate=function(u,d,p){u.style.top=Math.round(p)+"px",u.style.left=Math.round(d)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,i,r){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var s=t("./dom");i.get=function(a,l){var h=new XMLHttpRequest;h.open("GET",a,!0),h.onreadystatechange=function(){h.readyState===4&&l(h.responseText)},h.send(null)},i.loadScript=function(a,l){var h=s.getDocumentHead(),f=document.createElement("script");f.src=a,h.appendChild(f),f.onload=f.onreadystatechange=function(c,o){(o||!f.readyState||f.readyState=="loaded"||f.readyState=="complete")&&(f=f.onload=f.onreadystatechange=null,o||l())}},i.qualifyURL=function(a){var l=document.createElement("a");return l.href=a,l.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,i,r){var s={},a=function(){this.propagationStopped=!0},l=function(){this.defaultPrevented=!0};s._emit=s._dispatchEvent=function(h,f){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[h]||[],o=this._defaultHandlers[h];if(!(!c.length&&!o)){(typeof f!="object"||!f)&&(f={}),f.type||(f.type=h),f.stopPropagation||(f.stopPropagation=a),f.preventDefault||(f.preventDefault=l),c=c.slice();for(var u=0;u<c.length&&(c[u](f,this),!f.propagationStopped);u++);if(o&&!f.defaultPrevented)return o(f,this)}},s._signal=function(h,f){var c=(this._eventRegistry||{})[h];if(!!c){c=c.slice();for(var o=0;o<c.length;o++)c[o](f,this)}},s.once=function(h,f){var c=this;if(this.on(h,function o(){c.off(h,o),f.apply(null,arguments)}),!f)return new Promise(function(o){f=o})},s.setDefaultHandler=function(h,f){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[h]){var o=c[h],u=c._disabled_[h];u||(c._disabled_[h]=u=[]),u.push(o);var d=u.indexOf(f);d!=-1&&u.splice(d,1)}c[h]=f},s.removeDefaultHandler=function(h,f){var c=this._defaultHandlers;if(!!c){var o=c._disabled_[h];if(c[h]==f)o&&this.setDefaultHandler(h,o.pop());else if(o){var u=o.indexOf(f);u!=-1&&o.splice(u,1)}}},s.on=s.addEventListener=function(h,f,c){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[h];return o||(o=this._eventRegistry[h]=[]),o.indexOf(f)==-1&&o[c?"unshift":"push"](f),f},s.off=s.removeListener=s.removeEventListener=function(h,f){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[h];if(!!c){var o=c.indexOf(f);o!==-1&&c.splice(o,1)}},s.removeAllListeners=function(h){h||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[h]=void 0),this._defaultHandlers&&(this._defaultHandlers[h]=void 0)},i.EventEmitter=s}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var s=t("./oop"),a=t("./event_emitter").EventEmitter,l={setOptions:function(o){Object.keys(o).forEach(function(u){this.setOption(u,o[u])},this)},getOptions:function(o){var u={};if(o)Array.isArray(o)||(u=o,o=Object.keys(u));else{var d=this.$options;o=Object.keys(d).filter(function(p){return!d[p].hidden})}return o.forEach(function(p){u[p]=this.getOption(p)},this),u},setOption:function(o,u){if(this["$"+o]!==u){var d=this.$options[o];if(!d)return h('misspelled option "'+o+'"');if(d.forwardTo)return this[d.forwardTo]&&this[d.forwardTo].setOption(o,u);d.handlesSet||(this["$"+o]=u),d&&d.set&&d.set.call(this,u)}},getOption:function(o){var u=this.$options[o];return u?u.forwardTo?this[u.forwardTo]&&this[u.forwardTo].getOption(o):u&&u.get?u.get.call(this):this["$"+o]:h('misspelled option "'+o+'"')}};function h(o){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function f(o,u){var d=new Error(o);d.data=u,typeof console=="object"&&console.error&&console.error(d),setTimeout(function(){throw d})}var c=function(){this.$defaultOptions={}};(function(){s.implement(this,a),this.defineOptions=function(o,u,d){return o.$options||(this.$defaultOptions[u]=o.$options={}),Object.keys(d).forEach(function(p){var m=d[p];typeof m=="string"&&(m={forwardTo:m}),m.name||(m.name=p),o.$options[m.name]=m,"initialValue"in m&&(o["$"+m.name]=m.initialValue)}),s.implement(o,l),this},this.resetOptions=function(o){Object.keys(o.$options).forEach(function(u){var d=o.$options[u];"value"in d&&o.setOption(u,d.value)})},this.setDefaultValue=function(o,u,d){if(!o){for(o in this.$defaultOptions)if(this.$defaultOptions[o][u])break;if(!this.$defaultOptions[o][u])return!1}var p=this.$defaultOptions[o]||(this.$defaultOptions[o]={});p[u]&&(p.forwardTo?this.setDefaultValue(p.forwardTo,u,d):p[u].value=d)},this.setDefaultValues=function(o,u){Object.keys(u).forEach(function(d){this.setDefaultValue(o,d,u[d])},this)},this.warn=h,this.reportError=f}).call(c.prototype),i.AppConfig=c}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(t,i,r){r.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(t,i,r){i.isDark=!1,i.cssClass="ace-tm",i.cssText=t("./textmate.css"),i.$id="ace/theme/textmate";var s=t("../lib/dom");s.importCssString(i.cssText,i.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(t,i,r){var s=t("./lib/lang");t("./lib/oop");var a=t("./lib/net"),l=t("./lib/dom"),h=t("./lib/app_config").AppConfig;r.exports=i=new h;var f={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};i.get=function(u){if(!f.hasOwnProperty(u))throw new Error("Unknown config key: "+u);return f[u]},i.set=function(u,d){if(f.hasOwnProperty(u))f[u]=d;else if(this.setDefaultValue("",u,d)==!1)throw new Error("Unknown config key: "+u);u=="useStrictCSP"&&l.useStrictCSP(d)},i.all=function(){return s.copyObject(f)},i.$modes={},i.moduleUrl=function(u,d){if(f.$moduleUrls[u])return f.$moduleUrls[u];var p=u.split("/");d=d||p[p.length-2]||"";var m=d=="snippets"?"/":"-",v=p[p.length-1];if(d=="worker"&&m=="-"){var x=new RegExp("^"+d+"[\\-_]|[\\-_]"+d+"$","g");v=v.replace(x,"")}(!v||v==d)&&p.length>1&&(v=p[p.length-2]);var w=f[d+"Path"];return w==null?w=f.basePath:m=="/"&&(d=m=""),w&&w.slice(-1)!="/"&&(w+="/"),w+d+m+v+this.get("suffix")},i.setModuleUrl=function(u,d){return f.$moduleUrls[u]=d};var c=function(u,d){return u=="ace/theme/textmate"?d(null,t("./theme/textmate")):console.error("loader is not configured")};i.setLoader=function(u){c=u},i.$loading={},i.loadModule=function(u,d){var p,m;Array.isArray(u)&&(m=u[0],u=u[1]);try{p=t(u)}catch{}if(p&&!i.$loading[u])return d&&d(p);if(i.$loading[u]||(i.$loading[u]=[]),i.$loading[u].push(d),!(i.$loading[u].length>1)){var v=function(){c(u,function(x,w){i._emit("load.module",{name:u,module:w});var A=i.$loading[u];i.$loading[u]=null,A.forEach(function(M){M&&M(w)})})};if(!i.get("packaged"))return v();a.loadScript(i.moduleUrl(u,m),v),o()}};var o=function(){!f.basePath&&!f.workerPath&&!f.modePath&&!f.themePath&&!Object.keys(f.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),o=function(){})};i.version="1.14.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(t,i,r){t("./lib/fixoldbrowsers");var s=t("./config");s.setLoader(function(f,c){t([f],function(o){c(null,o)})});var a=function(){return this||typeof window<"u"&&window}();r.exports=function(f){s.init=l,f.require=t},l(!0);function l(f){if(!(!a||!a.document)){s.set("packaged",f||t.packaged||r.packaged||a.define&&(void 0).packaged);for(var c={},o="",u=document.currentScript||document._currentScript,d=u&&u.ownerDocument||document,p=d.getElementsByTagName("script"),m=0;m<p.length;m++){var v=p[m],x=v.src||v.getAttribute("src");if(!!x){for(var w=v.attributes,A=0,M=w.length;A<M;A++){var C=w[A];C.name.indexOf("data-ace-")===0&&(c[h(C.name.replace(/^data-ace-/,""))]=C.value)}var E=x.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);E&&(o=E[1])}}o&&(c.base=c.base||o,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var R in c)typeof c[R]<"u"&&s.set(R,c[R])}}function h(f){return f.replace(/-(.)/g,function(c,o){return o.toUpperCase()})}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,i,r){/*! @license
==========================================================================
SproutCore -- JavaScript Application Framework
copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

For more information about SproutCore, visit http://www.sproutcore.com


==========================================================================
@license */var s=t("./oop"),a=function(){var l={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};l.PRINTABLE_KEYS[173]="-";var h,f;for(f in l.FUNCTION_KEYS)h=l.FUNCTION_KEYS[f].toLowerCase(),l[h]=parseInt(f,10);for(f in l.PRINTABLE_KEYS)h=l.PRINTABLE_KEYS[f].toLowerCase(),l[h]=parseInt(f,10);return s.mixin(l,l.MODIFIER_KEYS),s.mixin(l,l.PRINTABLE_KEYS),s.mixin(l,l.FUNCTION_KEYS),l.enter=l.return,l.escape=l.esc,l.del=l.delete,function(){for(var c=["cmd","ctrl","alt","shift"],o=Math.pow(2,c.length);o--;)l.KEY_MODS[o]=c.filter(function(u){return o&l.KEY_MODS[u]}).join("-")+"-"}(),l.KEY_MODS[0]="",l.KEY_MODS[-1]="input-",l}();s.mixin(i,a),i.keyCodeToString=function(l){var h=a[l];return typeof h!="string"&&(h=String.fromCharCode(l)),h.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,i,r){var s=t("./keys"),a=t("./useragent"),l=null,h=0,f;function c(){f=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){f={passive:!1}}})}catch{}}function o(){return f==null&&c(),f}function u(A,M,C){this.elem=A,this.type=M,this.callback=C}u.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d=i.addListener=function(A,M,C,E){A.addEventListener(M,C,o()),E&&E.$toDestroy.push(new u(A,M,C))},p=i.removeListener=function(A,M,C){A.removeEventListener(M,C,o())};i.stopEvent=function(A){return i.stopPropagation(A),i.preventDefault(A),!1},i.stopPropagation=function(A){A.stopPropagation&&A.stopPropagation()},i.preventDefault=function(A){A.preventDefault&&A.preventDefault()},i.getButton=function(A){return A.type=="dblclick"?0:A.type=="contextmenu"||a.isMac&&A.ctrlKey&&!A.altKey&&!A.shiftKey?2:A.button},i.capture=function(A,M,C){var E=A&&A.ownerDocument||document;function R(b){M&&M(b),C&&C(b),p(E,"mousemove",M),p(E,"mouseup",R),p(E,"dragstart",R)}return d(E,"mousemove",M),d(E,"mouseup",R),d(E,"dragstart",R),R},i.addMouseWheelListener=function(A,M,C){d(A,"wheel",function(E){var R=.15,b=E.deltaX||0,_=E.deltaY||0;switch(E.deltaMode){case E.DOM_DELTA_PIXEL:E.wheelX=b*R,E.wheelY=_*R;break;case E.DOM_DELTA_LINE:var S=15;E.wheelX=b*S,E.wheelY=_*S;break;case E.DOM_DELTA_PAGE:var T=150;E.wheelX=b*T,E.wheelY=_*T;break}M(E)},C)},i.addMultiMouseDownListener=function(A,M,C,E,R){var b=0,_,S,T,P={2:"dblclick",3:"tripleclick",4:"quadclick"};function I(z){if(i.getButton(z)!==0?b=0:z.detail>1?(b++,b>4&&(b=1)):b=1,a.isIE){var O=Math.abs(z.clientX-_)>5||Math.abs(z.clientY-S)>5;(!T||O)&&(b=1),T&&clearTimeout(T),T=setTimeout(function(){T=null},M[b-1]||600),b==1&&(_=z.clientX,S=z.clientY)}if(z._clicks=b,C[E]("mousedown",z),b>4)b=0;else if(b>1)return C[E](P[b],z)}Array.isArray(A)||(A=[A]),A.forEach(function(z){d(z,"mousedown",I,R)})};var m=function(A){return 0|(A.ctrlKey?1:0)|(A.altKey?2:0)|(A.shiftKey?4:0)|(A.metaKey?8:0)};i.getModifierString=function(A){return s.KEY_MODS[m(A)]};function v(A,M,C){var E=m(M);if(!a.isMac&&l){if(M.getModifierState&&(M.getModifierState("OS")||M.getModifierState("Win"))&&(E|=8),l.altGr)if((3&E)!=3)l.altGr=0;else return;if(C===18||C===17){var R="location"in M?M.location:M.keyLocation;if(C===17&&R===1)l[C]==1&&(h=M.timeStamp);else if(C===18&&E===3&&R===2){var b=M.timeStamp-h;b<50&&(l.altGr=!0)}}}if(C in s.MODIFIER_KEYS&&(C=-1),!E&&C===13){var R="location"in M?M.location:M.keyLocation;if(R===3&&(A(M,E,-C),M.defaultPrevented))return}if(a.isChromeOS&&E&8){if(A(M,E,C),M.defaultPrevented)return;E&=-9}return!E&&!(C in s.FUNCTION_KEYS)&&!(C in s.PRINTABLE_KEYS)?!1:A(M,E,C)}i.addCommandKeyListener=function(A,M,C){if(a.isOldGecko||a.isOpera&&!("KeyboardEvent"in window)){var E=null;d(A,"keydown",function(b){E=b.keyCode},C),d(A,"keypress",function(b){return v(M,b,E)},C)}else{var R=null;d(A,"keydown",function(b){l[b.keyCode]=(l[b.keyCode]||0)+1;var _=v(M,b,b.keyCode);return R=b.defaultPrevented,_},C),d(A,"keypress",function(b){R&&(b.ctrlKey||b.altKey||b.shiftKey||b.metaKey)&&(i.stopEvent(b),R=null)},C),d(A,"keyup",function(b){l[b.keyCode]=null},C),l||(x(),d(window,"focus",x))}};function x(){l=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!a.isOldIE){var w=1;i.nextTick=function(A,M){M=M||window;var C="zero-timeout-message-"+w++,E=function(R){R.data==C&&(i.stopPropagation(R),p(M,"message",E),A())};d(M,"message",E),M.postMessage(C,"*")}}i.$idleBlocked=!1,i.onIdle=function(A,M){return setTimeout(function C(){i.$idleBlocked?setTimeout(C,100):A()},M)},i.$idleBlockId=null,i.blockIdle=function(A){i.$idleBlockId&&clearTimeout(i.$idleBlockId),i.$idleBlocked=!0,i.$idleBlockId=setTimeout(function(){i.$idleBlocked=!1},A||100)},i.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),i.nextFrame?i.nextFrame=i.nextFrame.bind(window):i.nextFrame=function(A){setTimeout(A,17)}}),ace.define("ace/range",["require","exports","module"],function(t,i,r){var s=function(l,h){return l.row-h.row||l.column-h.column},a=function(l,h,f,c){this.start={row:l,column:h},this.end={row:f,column:c}};(function(){this.isEqual=function(l){return this.start.row===l.start.row&&this.end.row===l.end.row&&this.start.column===l.start.column&&this.end.column===l.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(l,h){return this.compare(l,h)==0},this.compareRange=function(l){var h,f=l.end,c=l.start;return h=this.compare(f.row,f.column),h==1?(h=this.compare(c.row,c.column),h==1?2:h==0?1:0):h==-1?-2:(h=this.compare(c.row,c.column),h==-1?-1:h==1?42:0)},this.comparePoint=function(l){return this.compare(l.row,l.column)},this.containsRange=function(l){return this.comparePoint(l.start)==0&&this.comparePoint(l.end)==0},this.intersects=function(l){var h=this.compareRange(l);return h==-1||h==0||h==1},this.isEnd=function(l,h){return this.end.row==l&&this.end.column==h},this.isStart=function(l,h){return this.start.row==l&&this.start.column==h},this.setStart=function(l,h){typeof l=="object"?(this.start.column=l.column,this.start.row=l.row):(this.start.row=l,this.start.column=h)},this.setEnd=function(l,h){typeof l=="object"?(this.end.column=l.column,this.end.row=l.row):(this.end.row=l,this.end.column=h)},this.inside=function(l,h){return this.compare(l,h)==0?!(this.isEnd(l,h)||this.isStart(l,h)):!1},this.insideStart=function(l,h){return this.compare(l,h)==0?!this.isEnd(l,h):!1},this.insideEnd=function(l,h){return this.compare(l,h)==0?!this.isStart(l,h):!1},this.compare=function(l,h){return!this.isMultiLine()&&l===this.start.row?h<this.start.column?-1:h>this.end.column?1:0:l<this.start.row?-1:l>this.end.row?1:this.start.row===l?h>=this.start.column?0:-1:this.end.row===l?h<=this.end.column?0:1:0},this.compareStart=function(l,h){return this.start.row==l&&this.start.column==h?-1:this.compare(l,h)},this.compareEnd=function(l,h){return this.end.row==l&&this.end.column==h?1:this.compare(l,h)},this.compareInside=function(l,h){return this.end.row==l&&this.end.column==h?1:this.start.row==l&&this.start.column==h?-1:this.compare(l,h)},this.clipRows=function(l,h){if(this.end.row>h)var f={row:h+1,column:0};else if(this.end.row<l)var f={row:l,column:0};if(this.start.row>h)var c={row:h+1,column:0};else if(this.start.row<l)var c={row:l,column:0};return a.fromPoints(c||this.start,f||this.end)},this.extend=function(l,h){var f=this.compare(l,h);if(f==0)return this;if(f==-1)var c={row:l,column:h};else var o={row:l,column:h};return a.fromPoints(c||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return a.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new a(this.start.row,0,this.end.row,0)},this.toScreenRange=function(l){var h=l.documentToScreenPosition(this.start),f=l.documentToScreenPosition(this.end);return new a(h.row,h.column,f.row,f.column)},this.moveBy=function(l,h){this.start.row+=l,this.start.column+=h,this.end.row+=l,this.end.column+=h}}).call(a.prototype),a.fromPoints=function(l,h){return new a(l.row,l.column,h.row,h.column)},a.comparePoints=s,a.comparePoints=function(l,h){return l.row-h.row||l.column-h.column},i.Range=a}),ace.define("ace/clipboard",["require","exports","module"],function(t,i,r){var s;r.exports={lineMode:!1,pasteCancelled:function(){return s&&s>Date.now()-50?!0:s=!1},cancel:function(){s=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,i,r){var s=t("../lib/event"),a=t("../lib/useragent"),l=t("../lib/dom"),h=t("../lib/lang"),f=t("../clipboard"),c=a.isChrome<18,o=a.isIE,u=a.isChrome>63,d=400,p=t("../lib/keys"),m=p.KEY_MODS,v=a.isIOS,x=v?/\s/:/\n/,w=a.isMobile,A=function(M,C){var E=l.createElement("textarea");E.className="ace_text-input",E.setAttribute("wrap","off"),E.setAttribute("autocorrect","off"),E.setAttribute("autocapitalize","off"),E.setAttribute("spellcheck",!1),E.style.opacity="0",M.insertBefore(E,M.firstChild);var R=!1,b=!1,_=!1,S=!1,T="";w||(E.style.fontSize="1px");var P=!1,I=!1,z="",O=0,D=0,B=0;try{var F=document.activeElement===E}catch{}this.setAriaOptions=function(ge){ge.activeDescendant?(E.setAttribute("aria-haspopup","true"),E.setAttribute("aria-autocomplete","list"),E.setAttribute("aria-activedescendant",ge.activeDescendant)):(E.setAttribute("aria-haspopup","false"),E.setAttribute("aria-autocomplete","both"),E.removeAttribute("aria-activedescendant")),ge.role&&E.setAttribute("role",ge.role)},this.setAriaOptions({role:"textbox"}),s.addListener(E,"blur",function(ge){I||(C.onBlur(ge),F=!1)},C),s.addListener(E,"focus",function(ge){if(!I){if(F=!0,a.isEdge)try{if(!document.hasFocus())return}catch{}C.onFocus(ge),a.isEdge?setTimeout(U):U()}},C),this.$focusScroll=!1,this.focus=function(){if(T||u||this.$focusScroll=="browser")return E.focus({preventScroll:!0});var ge=E.style.top;E.style.position="fixed",E.style.top="0px";try{var V=E.getBoundingClientRect().top!=0}catch{return}var G=[];if(V)for(var ne=E.parentElement;ne&&ne.nodeType==1;)G.push(ne),ne.setAttribute("ace_nocontext",!0),!ne.parentElement&&ne.getRootNode?ne=ne.getRootNode().host:ne=ne.parentElement;E.focus({preventScroll:!0}),V&&G.forEach(function(de){de.removeAttribute("ace_nocontext")}),setTimeout(function(){E.style.position="",E.style.top=="0px"&&(E.style.top=ge)},0)},this.blur=function(){E.blur()},this.isFocused=function(){return F},C.on("beforeEndOperation",function(){var ge=C.curOp,V=ge&&ge.command&&ge.command.name;if(V!="insertstring"){var G=V&&(ge.docChanged||ge.selectionChanged);_&&G&&(z=E.value="",xe()),U()}});var U=v?function(ge){if(!(!F||R&&!ge||S)){ge||(ge="");var V=`
 ab`+ge+`cde fg
`;V!=E.value&&(E.value=z=V);var G=4,ne=4+(ge.length||(C.selection.isEmpty()?0:1));(O!=G||D!=ne)&&E.setSelectionRange(G,ne),O=G,D=ne}}:function(){if(!(_||S)&&!(!F&&!K)){_=!0;var ge=0,V=0,G="";if(C.session){var ne=C.selection,de=ne.getRange(),ce=ne.cursor.row;if(ge=de.start.column,V=de.end.column,G=C.session.getLine(ce),de.start.row!=ce){var Me=C.session.getLine(ce-1);ge=de.start.row<ce-1?0:ge,V+=Me.length+1,G=Me+`
`+G}else if(de.end.row!=ce){var Be=C.session.getLine(ce+1);V=de.end.row>ce+1?Be.length:V,V+=G.length+1,G=G+`
`+Be}else w&&ce>0&&(G=`
`+G,V+=1,ge+=1);G.length>d&&(ge<d&&V<d?G=G.slice(0,d):(G=`
`,ge==V?ge=V=0:(ge=0,V=1)))}var Ie=G+`

`;if(Ie!=z&&(E.value=z=Ie,O=D=Ie.length),K&&(O=E.selectionStart,D=E.selectionEnd),D!=V||O!=ge||E.selectionEnd!=D)try{E.setSelectionRange(ge,V),O=ge,D=V}catch{}_=!1}};this.resetSelection=U,F&&C.onFocus();var H=function(ge){return ge.selectionStart===0&&ge.selectionEnd>=z.length&&ge.value===z&&z&&ge.selectionEnd!==D},j=function(ge){_||(R?R=!1:H(E)?(C.selectAll(),U()):w&&E.selectionStart!=O&&U())},Y=null;this.setInputHandler=function(ge){Y=ge},this.getInputHandler=function(){return Y};var K=!1,X=function(ge,V){if(K&&(K=!1),b)return U(),ge&&C.onPaste(ge),b=!1,"";for(var G=E.selectionStart,ne=E.selectionEnd,de=O,ce=z.length-D,Me=ge,Be=ge.length-G,Ie=ge.length-ne,ue=0;de>0&&z[ue]==ge[ue];)ue++,de--;for(Me=Me.slice(ue),ue=1;ce>0&&z.length-ue>O-1&&z[z.length-ue]==ge[ge.length-ue];)ue++,ce--;Be-=ue-1,Ie-=ue-1;var Ke=Me.length-ue+1;if(Ke<0&&(de=-Ke,Ke=0),Me=Me.slice(0,Ke),!V&&!Me&&!Be&&!de&&!ce&&!Ie)return"";S=!0;var re=!1;return a.isAndroid&&Me==". "&&(Me="  ",re=!0),Me&&!de&&!ce&&!Be&&!Ie||P?C.onTextInput(Me):C.onTextInput(Me,{extendLeft:de,extendRight:ce,restoreStart:Be,restoreEnd:Ie}),S=!1,z=ge,O=G,D=ne,B=Ie,re?`
`:Me},$=function(ge){if(_)return fe();if(ge&&ge.inputType){if(ge.inputType=="historyUndo")return C.execCommand("undo");if(ge.inputType=="historyRedo")return C.execCommand("redo")}var V=E.value,G=X(V,!0);(V.length>d+100||x.test(G)||w&&O<1&&O==D)&&U()},q=function(ge,V,G){var ne=ge.clipboardData||window.clipboardData;if(!(!ne||c)){var de=o||G?"Text":"text/plain";try{return V?ne.setData(de,V)!==!1:ne.getData(de)}catch(ce){if(!G)return q(ce,V,!0)}}},pe=function(ge,V){var G=C.getCopyText();if(!G)return s.preventDefault(ge);q(ge,G)?(v&&(U(G),R=G,setTimeout(function(){R=!1},10)),V?C.onCut():C.onCopy(),s.preventDefault(ge)):(R=!0,E.value=G,E.select(),setTimeout(function(){R=!1,U(),V?C.onCut():C.onCopy()}))},he=function(ge){pe(ge,!0)},Ae=function(ge){pe(ge,!1)},me=function(ge){var V=q(ge);f.pasteCancelled()||(typeof V=="string"?(V&&C.onPaste(V,ge),a.isIE&&setTimeout(U),s.preventDefault(ge)):(E.value="",b=!0))};s.addCommandKeyListener(E,C.onCommandKey.bind(C),C),s.addListener(E,"select",j,C),s.addListener(E,"input",$,C),s.addListener(E,"cut",he,C),s.addListener(E,"copy",Ae,C),s.addListener(E,"paste",me,C),(!("oncut"in E)||!("oncopy"in E)||!("onpaste"in E))&&s.addListener(M,"keydown",function(ge){if(!(a.isMac&&!ge.metaKey||!ge.ctrlKey))switch(ge.keyCode){case 67:Ae(ge);break;case 86:me(ge);break;case 88:he(ge);break}},C);var De=function(ge){if(!(_||!C.onCompositionStart||C.$readOnly)&&(_={},!P)){ge.data&&(_.useTextareaForIME=!1),setTimeout(fe,0),C._signal("compositionStart"),C.on("mousedown",Le);var V=C.getSelectionRange();V.end.row=V.start.row,V.end.column=V.start.column,_.markerRange=V,_.selectionStart=O,C.onCompositionStart(_),_.useTextareaForIME?(z=E.value="",O=0,D=0):(E.msGetInputContext&&(_.context=E.msGetInputContext()),E.getInputContext&&(_.context=E.getInputContext()))}},fe=function(){if(!(!_||!C.onCompositionUpdate||C.$readOnly)){if(P)return Le();if(_.useTextareaForIME)C.onCompositionUpdate(E.value);else{var ge=E.value;X(ge),_.markerRange&&(_.context&&(_.markerRange.start.column=_.selectionStart=_.context.compositionStartOffset),_.markerRange.end.column=_.markerRange.start.column+D-_.selectionStart+B)}}},xe=function(ge){!C.onCompositionEnd||C.$readOnly||(_=!1,C.onCompositionEnd(),C.off("mousedown",Le),ge&&$())};function Le(){I=!0,E.blur(),E.focus(),I=!1}var Re=h.delayedCall(fe,50).schedule.bind(null,null);function Ee(ge){ge.keyCode==27&&E.value.length<E.selectionStart&&(_||(z=E.value),O=D=-1,U()),Re()}s.addListener(E,"compositionstart",De,C),s.addListener(E,"compositionupdate",fe,C),s.addListener(E,"keyup",Ee,C),s.addListener(E,"keydown",Re,C),s.addListener(E,"compositionend",xe,C),this.getElement=function(){return E},this.setCommandMode=function(ge){P=ge,E.readOnly=!1},this.setReadOnly=function(ge){P||(E.readOnly=ge)},this.setCopyWithEmptySelection=function(ge){},this.onContextMenu=function(ge){K=!0,U(),C._emit("nativecontextmenu",{target:C,domEvent:ge}),this.moveToMouse(ge,!0)},this.moveToMouse=function(ge,V){T||(T=E.style.cssText),E.style.cssText=(V?"z-index:100000;":"")+(a.isIE?"opacity:0.1;":"")+"text-indent: -"+(O+D)*C.renderer.characterWidth*.5+"px;";var G=C.container.getBoundingClientRect(),ne=l.computedStyle(C.container),de=G.top+(parseInt(ne.borderTopWidth)||0),ce=G.left+(parseInt(G.borderLeftWidth)||0),Me=G.bottom-de-E.clientHeight-2,Be=function(Ie){l.translate(E,Ie.clientX-ce-2,Math.min(Ie.clientY-de-2,Me))};Be(ge),ge.type=="mousedown"&&(C.renderer.$isMousePressed=!0,clearTimeout(Ge),a.isWin&&s.capture(C.container,Be,Ue))},this.onContextMenuClose=Ue;var Ge;function Ue(){clearTimeout(Ge),Ge=setTimeout(function(){T&&(E.style.cssText=T,T=""),C.renderer.$isMousePressed=!1,C.renderer.$keepTextAreaAtCursor&&C.renderer.$moveTextAreaToCursor()},0)}var je=function(ge){C.textInput.onContextMenu(ge),Ue()};s.addListener(E,"mouseup",je,C),s.addListener(E,"mousedown",function(ge){ge.preventDefault(),Ue()},C),s.addListener(C.renderer.scroller,"contextmenu",je,C),s.addListener(E,"contextmenu",je,C),v&&ot(M,C,E);function ot(ge,V,G){var ne=null,de=!1;G.addEventListener("keydown",function(Me){ne&&clearTimeout(ne),de=!0},!0),G.addEventListener("keyup",function(Me){ne=setTimeout(function(){de=!1},100)},!0);var ce=function(Me){if(document.activeElement===G&&!(de||_||V.$mouseHandler.isMousePressed)&&!R){var Be=G.selectionStart,Ie=G.selectionEnd,ue=null,Ke=0;if(Be==0?ue=p.up:Be==1?ue=p.home:Ie>D&&z[Ie]==`
`?ue=p.end:Be<O&&z[Be-1]==" "?(ue=p.left,Ke=m.option):Be<O||Be==O&&D!=O&&Be==Ie?ue=p.left:Ie>D&&z.slice(0,Ie).split(`
`).length>2?ue=p.down:Ie>D&&z[Ie-1]==" "?(ue=p.right,Ke=m.option):(Ie>D||Ie==D&&D!=O&&Be==Ie)&&(ue=p.right),Be!==Ie&&(Ke|=m.shift),ue){var re=V.onCommandKey({},Ke,ue);if(!re&&V.commands){ue=p.keyCodeToString(ue);var we=V.commands.findKeyCommand(Ke,ue);we&&V.execCommand(we)}O=Be,D=Ie,U("")}}};document.addEventListener("selectionchange",ce),V.on("destroy",function(){document.removeEventListener("selectionchange",ce)})}this.destroy=function(){E.parentElement&&E.parentElement.removeChild(E)}};i.TextInput=A,i.$setUserAgentForTests=function(M,C){w=M,v=C}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,i,r){var s=t("../lib/useragent"),a=0,l=550;function h(o){o.$clickSelection=null;var u=o.editor;u.setDefaultHandler("mousedown",this.onMouseDown.bind(o)),u.setDefaultHandler("dblclick",this.onDoubleClick.bind(o)),u.setDefaultHandler("tripleclick",this.onTripleClick.bind(o)),u.setDefaultHandler("quadclick",this.onQuadClick.bind(o)),u.setDefaultHandler("mousewheel",this.onMouseWheel.bind(o));var d=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];d.forEach(function(p){o[p]=this[p]},this),o.selectByLines=this.extendSelectionBy.bind(o,"getLineRange"),o.selectByWords=this.extendSelectionBy.bind(o,"getWordRange")}(function(){this.onMouseDown=function(o){var u=o.inSelection(),d=o.getDocumentPosition();this.mousedownEvent=o;var p=this.editor,m=o.getButton();if(m!==0){var v=p.getSelectionRange(),x=v.isEmpty();(x||m==1)&&p.selection.moveToPosition(d),m==2&&(p.textInput.onContextMenu(o.domEvent),s.isMozilla||o.preventDefault());return}if(this.mousedownEvent.time=Date.now(),u&&!p.isFocused()&&(p.focus(),this.$focusTimeout&&!this.$clickSelection&&!p.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(o);return}return this.captureMouse(o),this.startSelect(d,o.domEvent._clicks>1),o.preventDefault()},this.startSelect=function(o,u){o=o||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var d=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?d.selection.selectToPosition(o):u||d.selection.moveToPosition(o),u||this.select(),d.renderer.scroller.setCapture&&d.renderer.scroller.setCapture(),d.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var o,u=this.editor,d=u.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var p=this.$clickSelection.comparePoint(d);if(p==-1)o=this.$clickSelection.end;else if(p==1)o=this.$clickSelection.start;else{var m=c(this.$clickSelection,d);d=m.cursor,o=m.anchor}u.selection.setSelectionAnchor(o.row,o.column)}u.selection.selectToPosition(d),u.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(o){var u,d=this.editor,p=d.renderer.screenToTextCoordinates(this.x,this.y),m=d.selection[o](p.row,p.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(m.start),x=this.$clickSelection.comparePoint(m.end);if(v==-1&&x<=0)u=this.$clickSelection.end,(m.end.row!=p.row||m.end.column!=p.column)&&(p=m.start);else if(x==1&&v>=0)u=this.$clickSelection.start,(m.start.row!=p.row||m.start.column!=p.column)&&(p=m.end);else if(v==-1&&x==1)p=m.end,u=m.start;else{var w=c(this.$clickSelection,p);p=w.cursor,u=w.anchor}d.selection.setSelectionAnchor(u.row,u.column)}d.selection.selectToPosition(p),d.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var o=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),u=Date.now();(o>a||u-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(o){var u=o.getDocumentPosition(),d=this.editor,p=d.session,m=p.getBracketRange(u);m?(m.isEmpty()&&(m.start.column--,m.end.column++),this.setState("select")):(m=d.selection.getWordRange(u.row,u.column),this.setState("selectByWords")),this.$clickSelection=m,this.select()},this.onTripleClick=function(o){var u=o.getDocumentPosition(),d=this.editor;this.setState("selectByLines");var p=d.getSelectionRange();p.isMultiLine()&&p.contains(u.row,u.column)?(this.$clickSelection=d.selection.getLineRange(p.start.row),this.$clickSelection.end=d.selection.getLineRange(p.end.row).end):this.$clickSelection=d.selection.getLineRange(u.row),this.select()},this.onQuadClick=function(o){var u=this.editor;u.selectAll(),this.$clickSelection=u.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(o){if(!o.getAccelKey()){o.getShiftKey()&&o.wheelY&&!o.wheelX&&(o.wheelX=o.wheelY,o.wheelY=0);var u=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var d=this.$lastScroll,p=o.domEvent.timeStamp,m=p-d.t,v=m?o.wheelX/m:d.vx,x=m?o.wheelY/m:d.vy;m<l&&(v=(v+d.vx)/2,x=(x+d.vy)/2);var w=Math.abs(v/x),A=!1;if(w>=1&&u.renderer.isScrollableBy(o.wheelX*o.speed,0)&&(A=!0),w<=1&&u.renderer.isScrollableBy(0,o.wheelY*o.speed)&&(A=!0),A)d.allowed=p;else if(p-d.allowed<l){var M=Math.abs(v)<=1.5*Math.abs(d.vx)&&Math.abs(x)<=1.5*Math.abs(d.vy);M?(A=!0,d.allowed=p):d.allowed=0}if(d.t=p,d.vx=v,d.vy=x,A)return u.renderer.scrollBy(o.wheelX*o.speed,o.wheelY*o.speed),o.stop()}}}).call(h.prototype),i.DefaultHandlers=h;function f(o,u,d,p){return Math.sqrt(Math.pow(d-o,2)+Math.pow(p-u,2))}function c(o,u){if(o.start.row==o.end.row)var d=2*u.column-o.start.column-o.end.column;else if(o.start.row==o.end.row-1&&!o.start.column&&!o.end.column)var d=u.column-4;else var d=2*u.row-o.start.row-o.end.row;return d<0?{cursor:o.start,anchor:o.end}:{cursor:o.end,anchor:o.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,i,r){t("./lib/oop");var s=t("./lib/dom"),a="ace_tooltip";function l(h){this.isOpen=!1,this.$element=null,this.$parentNode=h}(function(){this.$init=function(){return this.$element=s.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(h){this.getElement().textContent=h},this.setHtml=function(h){this.getElement().innerHTML=h},this.setPosition=function(h,f){this.getElement().style.left=h+"px",this.getElement().style.top=f+"px"},this.setClassName=function(h){s.addCssClass(this.getElement(),h)},this.show=function(h,f,c){h!=null&&this.setText(h),f!=null&&c!=null&&this.setPosition(f,c),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(l.prototype),i.Tooltip=l}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,i,r){var s=t("../lib/dom"),a=t("../lib/oop"),l=t("../lib/event"),h=t("../tooltip").Tooltip;function f(o){var u=o.editor,d=u.renderer.$gutterLayer,p=new c(u.container);o.editor.setDefaultHandler("guttermousedown",function(C){if(!(!u.isFocused()||C.getButton()!=0)){var E=d.getRegion(C);if(E!="foldWidgets"){var R=C.getDocumentPosition().row,b=u.session.selection;if(C.getShiftKey())b.selectTo(R,0);else{if(C.domEvent.detail==2)return u.selectAll(),C.preventDefault();o.$clickSelection=u.selection.getLineRange(R)}return o.setState("selectByLines"),o.captureMouse(C),C.preventDefault()}}});var m,v,x;function w(){var C=v.getDocumentPosition().row,E=d.$annotations[C];if(!E)return A();var R=u.session.getLength();if(C==R){var b=u.renderer.pixelToScreenCoordinates(0,v.y).row,_=v.$pos;if(b>u.session.documentToScreenRow(_.row,_.column))return A()}if(x!=E){x=E.text.join("<br/>"),p.setHtml(x);var S=E.className;if(S&&p.setClassName(S.trim()),p.show(),u._signal("showGutterTooltip",p),u.on("mousewheel",A),o.$tooltipFollowsMouse)M(v);else{var T=v.domEvent.target,P=T.getBoundingClientRect(),I=p.getElement().style;I.left=P.right+"px",I.top=P.bottom+"px"}}}function A(){m&&(m=clearTimeout(m)),x&&(p.hide(),x=null,u._signal("hideGutterTooltip",p),u.off("mousewheel",A))}function M(C){p.setPosition(C.x,C.y)}o.editor.setDefaultHandler("guttermousemove",function(C){var E=C.domEvent.target||C.domEvent.srcElement;if(s.hasCssClass(E,"ace_fold-widget"))return A();x&&o.$tooltipFollowsMouse&&M(C),v=C,!m&&(m=setTimeout(function(){m=null,v&&!o.isMousePressed?w():A()},50))}),l.addListener(u.renderer.$gutter,"mouseout",function(C){v=null,!(!x||m)&&(m=setTimeout(function(){m=null,A()},50))},u),u.on("changeSession",A)}function c(o){h.call(this,o)}a.inherits(c,h),function(){this.setPosition=function(o,u){var d=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight,m=this.getWidth(),v=this.getHeight();o+=15,u+=15,o+m>d&&(o-=o+m-d),u+v>p&&(u-=20+v),h.prototype.setPosition.call(this,o,u)}}.call(c.prototype),i.GutterHandler=f}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,i,r){var s=t("../lib/event"),a=t("../lib/useragent"),l=i.MouseEvent=function(h,f){this.domEvent=h,this.editor=f,this.x=this.clientX=h.clientX,this.y=this.clientY=h.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){s.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){s.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var h=this.editor,f=h.getSelectionRange();if(f.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=f.contains(c.row,c.column)}return this.$inSelection},this.getButton=function(){return s.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=a.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(l.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,i,r){var s=t("../lib/dom"),a=t("../lib/event"),l=t("../lib/useragent"),h=200,f=200,c=5;function o(d){var p=d.editor,m=s.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="\xA0";var v=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];v.forEach(function(K){d[K]=this[K]},this),p.on("mousedown",this.onMouseDown.bind(d));var x=p.container,w,A,M,C,E,R,b=0,_,S,T,P,I;this.onDragStart=function(K){if(this.cancelDrag||!x.draggable){var X=this;return setTimeout(function(){X.startSelect(),X.captureMouse(K)},0),K.preventDefault()}E=p.getSelectionRange();var $=K.dataTransfer;$.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(m),$.setDragImage&&$.setDragImage(m,0,0),setTimeout(function(){p.container.removeChild(m)}),$.clearData(),$.setData("Text",p.session.getTextRange()),S=!0,this.setState("drag")},this.onDragEnd=function(K){if(x.draggable=!1,S=!1,this.setState(null),!p.getReadOnly()){var X=K.dataTransfer.dropEffect;!_&&X=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(K){if(!(p.getReadOnly()||!j(K.dataTransfer)))return A=K.clientX,M=K.clientY,w||B(),b++,K.dataTransfer.dropEffect=_=Y(K),a.preventDefault(K)},this.onDragOver=function(K){if(!(p.getReadOnly()||!j(K.dataTransfer)))return A=K.clientX,M=K.clientY,w||(B(),b++),U!==null&&(U=null),K.dataTransfer.dropEffect=_=Y(K),a.preventDefault(K)},this.onDragLeave=function(K){if(b--,b<=0&&w)return F(),_=null,a.preventDefault(K)},this.onDrop=function(K){if(!!R){var X=K.dataTransfer;if(S)switch(_){case"move":E.contains(R.row,R.column)?E={start:R,end:R}:E=p.moveText(E,R);break;case"copy":E=p.moveText(E,R,!0);break}else{var $=X.getData("Text");E={start:R,end:p.session.insert(R,$)},p.focus(),_=null}return F(),a.preventDefault(K)}},a.addListener(x,"dragstart",this.onDragStart.bind(d),p),a.addListener(x,"dragend",this.onDragEnd.bind(d),p),a.addListener(x,"dragenter",this.onDragEnter.bind(d),p),a.addListener(x,"dragover",this.onDragOver.bind(d),p),a.addListener(x,"dragleave",this.onDragLeave.bind(d),p),a.addListener(x,"drop",this.onDrop.bind(d),p);function z(K,X){var $=Date.now(),q=!X||K.row!=X.row,pe=!X||K.column!=X.column;if(!P||q||pe)p.moveCursorToPosition(K),P=$,I={x:A,y:M};else{var he=u(I.x,I.y,A,M);he>c?P=null:$-P>=f&&(p.renderer.scrollCursorIntoView(),P=null)}}function O(K,X){var $=Date.now(),q=p.renderer.layerConfig.lineHeight,pe=p.renderer.layerConfig.characterWidth,he=p.renderer.scroller.getBoundingClientRect(),Ae={x:{left:A-he.left,right:he.right-A},y:{top:M-he.top,bottom:he.bottom-M}},me=Math.min(Ae.x.left,Ae.x.right),De=Math.min(Ae.y.top,Ae.y.bottom),fe={row:K.row,column:K.column};me/pe<=2&&(fe.column+=Ae.x.left<Ae.x.right?-3:2),De/q<=1&&(fe.row+=Ae.y.top<Ae.y.bottom?-1:1);var xe=K.row!=fe.row,Le=K.column!=fe.column,Re=!X||K.row!=X.row;xe||Le&&!Re?T?$-T>=h&&p.renderer.scrollCursorIntoView(fe):T=$:T=null}function D(){var K=R;R=p.renderer.screenToTextCoordinates(A,M),z(R,K),O(R,K)}function B(){E=p.selection.toOrientedRange(),w=p.session.addMarker(E,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),D(),C=setInterval(D,20),b=0,a.addListener(document,"mousemove",H)}function F(){clearInterval(C),p.session.removeMarker(w),w=null,p.selection.fromOrientedRange(E),p.isFocused()&&!S&&p.$resetCursorStyle(),E=null,R=null,b=0,T=null,P=null,a.removeListener(document,"mousemove",H)}var U=null;function H(){U==null&&(U=setTimeout(function(){U!=null&&w&&F()},20))}function j(K){var X=K.types;return!X||Array.prototype.some.call(X,function($){return $=="text/plain"||$=="Text"})}function Y(K){var X=["copy","copymove","all","uninitialized"],$=["move","copymove","linkmove","all","uninitialized"],q=l.isMac?K.altKey:K.ctrlKey,pe="uninitialized";try{pe=K.dataTransfer.effectAllowed.toLowerCase()}catch{}var he="none";return q&&X.indexOf(pe)>=0?he="copy":$.indexOf(pe)>=0?he="move":X.indexOf(pe)>=0&&(he="copy"),he}}(function(){this.dragWait=function(){var d=Date.now()-this.mousedownEvent.time;d>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var d=this.editor.container;d.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(d){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var d=this.editor,p=d.container;p.draggable=!0,d.renderer.$cursorLayer.setBlinking(!1),d.setStyle("ace_dragging");var m=l.isWin?"default":"move";d.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(d){var p=this.editor.container;if(l.isIE&&this.state=="dragReady"){var m=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&p.dragDrop()}if(this.state==="dragWait"){var m=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(d){if(!!this.$dragEnabled){this.mousedownEvent=d;var p=this.editor,m=d.inSelection(),v=d.getButton(),x=d.domEvent.detail||1;if(x===1&&v===0&&m){if(d.editor.inMultiSelectMode&&(d.getAccelKey()||d.getShiftKey()))return;this.mousedownEvent.time=Date.now();var w=d.domEvent.target||d.domEvent.srcElement;if("unselectable"in w&&(w.unselectable="on"),p.getDragDelay()){if(l.isWebKit){this.cancelDrag=!0;var A=p.container;A.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(d,this.onMouseDrag.bind(this)),d.defaultPrevented=!0}}}}).call(o.prototype);function u(d,p,m,v){return Math.sqrt(Math.pow(m-d,2)+Math.pow(v-p,2))}i.DragdropHandler=o}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,i,r){var s=t("./mouse_event").MouseEvent,a=t("../lib/event"),l=t("../lib/dom");i.addTouchListeners=function(h,f){var c="scroll",o,u,d,p,m,v,x=0,w,A=0,M=0,C=0,E,R;function b(){var z=window.navigator&&window.navigator.clipboard,O=!1,D=function(){var F=f.getCopyText(),U=f.session.getUndoManager().hasUndo();R.replaceChild(l.buildDom(O?["span",!F&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],F&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],F&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],z&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],U&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),R.firstChild)},B=function(F){var U=F.target.getAttribute("action");if(U=="more"||!O)return O=!O,D();U=="paste"?z.readText().then(function(H){f.execCommand(U,H)}):U&&((U=="cut"||U=="copy")&&(z?z.writeText(f.getCopyText()):document.execCommand("copy")),f.execCommand(U)),R.firstChild.style.display="none",O=!1,U!="openCommandPallete"&&f.focus()};R=l.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(F){c="menu",F.stopPropagation(),F.preventDefault(),f.textInput.focus()},ontouchend:function(F){F.stopPropagation(),F.preventDefault(),B(F)},onclick:B},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],f.container)}function _(){R||b();var z=f.selection.cursor,O=f.renderer.textToScreenCoordinates(z.row,z.column),D=f.renderer.textToScreenCoordinates(0,0).pageX,B=f.renderer.scrollLeft,F=f.container.getBoundingClientRect();R.style.top=O.pageY-F.top-3+"px",O.pageX-F.left<F.width-70?(R.style.left="",R.style.right="10px"):(R.style.right="",R.style.left=D+B-F.left+"px"),R.style.display="",R.firstChild.style.display="none",f.on("input",S)}function S(z){R&&(R.style.display="none"),f.off("input",S)}function T(){m=null,clearTimeout(m);var z=f.selection.getRange(),O=z.contains(w.row,w.column);(z.isEmpty()||!O)&&(f.selection.moveToPosition(w),f.selection.selectWord()),c="wait",_()}function P(){m=null,clearTimeout(m),f.selection.moveToPosition(w);var z=A>=2?f.selection.getLineRange(w.row):f.session.getBracketRange(w);z&&!z.isEmpty()?f.selection.setRange(z):f.selection.selectWord(),c="wait"}a.addListener(h,"contextmenu",function(z){if(!!E){var O=f.textInput.getElement();O.focus()}},f),a.addListener(h,"touchstart",function(z){var O=z.touches;if(m||O.length>1){clearTimeout(m),m=null,d=-1,c="zoom";return}E=f.$mouseHandler.isMousePressed=!0;var D=f.renderer.layerConfig.lineHeight,B=f.renderer.layerConfig.lineHeight,F=z.timeStamp;p=F;var U=O[0],H=U.clientX,j=U.clientY;Math.abs(o-H)+Math.abs(u-j)>D&&(d=-1),o=z.clientX=H,u=z.clientY=j,M=C=0;var Y=new s(z,f);if(w=Y.getDocumentPosition(),F-d<500&&O.length==1&&!x)A++,z.preventDefault(),z.button=0,P();else{A=0;var K=f.selection.cursor,X=f.selection.isEmpty()?K:f.selection.anchor,$=f.renderer.$cursorLayer.getPixelPosition(K,!0),q=f.renderer.$cursorLayer.getPixelPosition(X,!0),pe=f.renderer.scroller.getBoundingClientRect(),he=f.renderer.layerConfig.offset,Ae=f.renderer.scrollLeft,me=function(xe,Le){return xe=xe/B,Le=Le/D-.75,xe*xe+Le*Le};if(z.clientX<pe.left){c="zoom";return}var De=me(z.clientX-pe.left-$.left+Ae,z.clientY-pe.top-$.top+he),fe=me(z.clientX-pe.left-q.left+Ae,z.clientY-pe.top-q.top+he);De<3.5&&fe<3.5&&(c=De>fe?"cursor":"anchor"),fe<3.5?c="anchor":De<3.5?c="cursor":c="scroll",m=setTimeout(T,450)}d=F},f),a.addListener(h,"touchend",function(z){E=f.$mouseHandler.isMousePressed=!1,v&&clearInterval(v),c=="zoom"?(c="",x=0):m?(f.selection.moveToPosition(w),x=0,_()):c=="scroll"?(I(),S()):_(),clearTimeout(m),m=null},f),a.addListener(h,"touchmove",function(z){m&&(clearTimeout(m),m=null);var O=z.touches;if(!(O.length>1||c=="zoom")){var D=O[0],B=o-D.clientX,F=u-D.clientY;if(c=="wait")if(B*B+F*F>4)c="cursor";else return z.preventDefault();o=D.clientX,u=D.clientY,z.clientX=D.clientX,z.clientY=D.clientY;var U=z.timeStamp,H=U-p;if(p=U,c=="scroll"){var j=new s(z,f);j.speed=1,j.wheelX=B,j.wheelY=F,10*Math.abs(B)<Math.abs(F)&&(B=0),10*Math.abs(F)<Math.abs(B)&&(F=0),H!=0&&(M=B/H,C=F/H),f._emit("mousewheel",j),j.propagationStopped||(M=C=0)}else{var Y=new s(z,f),K=Y.getDocumentPosition();c=="cursor"?f.selection.moveCursorToPosition(K):c=="anchor"&&f.selection.setSelectionAnchor(K.row,K.column),f.renderer.scrollCursorIntoView(K),z.preventDefault()}}},f);function I(){x+=60,v=setInterval(function(){x--<=0&&(clearInterval(v),v=null),Math.abs(M)<.01&&(M=0),Math.abs(C)<.01&&(C=0),x<20&&(M=.9*M),x<20&&(C=.9*C);var z=f.session.getScrollTop();f.renderer.scrollBy(10*M,10*C),z==f.session.getScrollTop()&&(x=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,i,r){var s=t("../lib/event"),a=t("../lib/useragent"),l=t("./default_handlers").DefaultHandlers,h=t("./default_gutter_handler").GutterHandler,f=t("./mouse_event").MouseEvent,c=t("./dragdrop_handler").DragdropHandler,o=t("./touch_handler").addTouchListeners,u=t("../config"),d=function(p){var m=this;this.editor=p,new l(this),new h(this),new c(this);var v=function(A){var M=!document.hasFocus||!document.hasFocus()||!p.isFocused()&&document.activeElement==(p.textInput&&p.textInput.getElement());M&&window.focus(),p.focus(),setTimeout(function(){p.isFocused()||p.focus()})},x=p.renderer.getMouseEventTarget();s.addListener(x,"click",this.onMouseEvent.bind(this,"click"),p),s.addListener(x,"mousemove",this.onMouseMove.bind(this,"mousemove"),p),s.addMultiMouseDownListener([x,p.renderer.scrollBarV&&p.renderer.scrollBarV.inner,p.renderer.scrollBarH&&p.renderer.scrollBarH.inner,p.textInput&&p.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",p),s.addMouseWheelListener(p.container,this.onMouseWheel.bind(this,"mousewheel"),p),o(p.container,p);var w=p.renderer.$gutter;s.addListener(w,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),p),s.addListener(w,"click",this.onMouseEvent.bind(this,"gutterclick"),p),s.addListener(w,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),p),s.addListener(w,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),p),s.addListener(x,"mousedown",v,p),s.addListener(w,"mousedown",v,p),a.isIE&&p.renderer.scrollBarV&&(s.addListener(p.renderer.scrollBarV.element,"mousedown",v,p),s.addListener(p.renderer.scrollBarH.element,"mousedown",v,p)),p.on("mousemove",function(A){if(!(m.state||m.$dragDelay||!m.$dragEnabled)){var M=p.renderer.screenToTextCoordinates(A.x,A.y),C=p.session.selection.getRange(),E=p.renderer;!C.isEmpty()&&C.insideStart(M.row,M.column)?E.setCursorStyle("default"):E.setCursorStyle("")}},p)};(function(){this.onMouseEvent=function(p,m){!this.editor.session||this.editor._emit(p,new f(m,this.editor))},this.onMouseMove=function(p,m){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(p,new f(m,this.editor))},this.onMouseWheel=function(p,m){var v=new f(m,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=m.wheelX,v.wheelY=m.wheelY,this.editor._emit(p,v)},this.setState=function(p){this.state=p},this.captureMouse=function(p,m){this.x=p.x,this.y=p.y,this.isMousePressed=!0;var v=this.editor,x=this.editor.renderer;x.$isMousePressed=!0;var w=this,A=function(b){if(!!b){if(a.isWebKit&&!b.which&&w.releaseMouse)return w.releaseMouse();w.x=b.clientX,w.y=b.clientY,m&&m(b),w.mouseEvent=new f(b,w.editor),w.$mouseMoved=!0}},M=function(b){v.off("beforeEndOperation",E),clearInterval(R),v.session&&C(),w[w.state+"End"]&&w[w.state+"End"](b),w.state="",w.isMousePressed=x.$isMousePressed=!1,x.$keepTextAreaAtCursor&&x.$moveTextAreaToCursor(),w.$onCaptureMouseMove=w.releaseMouse=null,b&&w.onMouseEvent("mouseup",b),v.endOperation()},C=function(){w[w.state]&&w[w.state](),w.$mouseMoved=!1};if(a.isOldIE&&p.domEvent.type=="dblclick")return setTimeout(function(){M(p)});var E=function(b){!w.releaseMouse||v.curOp.command.name&&v.curOp.selectionChanged&&(w[w.state+"End"]&&w[w.state+"End"](),w.state="",w.releaseMouse())};v.on("beforeEndOperation",E),v.startOperation({command:{name:"mouse"}}),w.$onCaptureMouseMove=A,w.releaseMouse=s.capture(this.editor.container,A,M);var R=setInterval(C,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var p=function(m){m&&m.domEvent&&m.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",p),m&&m.domEvent&&s.stopEvent(m.domEvent))}.bind(this);setTimeout(p,10),this.editor.on("nativecontextmenu",p)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(d.prototype),u.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:a.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),i.MouseHandler=d}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,i,r){var s=t("../lib/dom");function a(l){l.on("click",function(h){var f=h.getDocumentPosition(),c=l.session,o=c.getFoldAt(f.row,f.column,1);o&&(h.getAccelKey()?c.removeFold(o):c.expandFold(o),h.stop());var u=h.domEvent&&h.domEvent.target;u&&s.hasCssClass(u,"ace_inline_button")&&s.hasCssClass(u,"ace_toggle_wrap")&&(c.setOption("wrap",!c.getUseWrapMode()),l.renderer.scrollCursorIntoView())}),l.on("gutterclick",function(h){var f=l.renderer.$gutterLayer.getRegion(h);if(f=="foldWidgets"){var c=h.getDocumentPosition().row,o=l.session;o.foldWidgets&&o.foldWidgets[c]&&l.session.onFoldWidgetClick(c,h),l.isFocused()||l.focus(),h.stop()}}),l.on("gutterdblclick",function(h){var f=l.renderer.$gutterLayer.getRegion(h);if(f=="foldWidgets"){var c=h.getDocumentPosition().row,o=l.session,u=o.getParentFoldRangeData(c,!0),d=u.range||u.firstRange;if(d){c=d.start.row;var p=o.getFoldAt(c,o.getLine(c).length,1);p?o.removeFold(p):(o.addFold("...",d),l.renderer.scrollCursorIntoView({row:d.start.row,column:0}))}h.stop()}})}i.FoldHandler=a}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,i,r){var s=t("../lib/keys"),a=t("../lib/event"),l=function(h){this.$editor=h,this.$data={editor:h},this.$handlers=[],this.setDefaultHandler(h.commands)};(function(){this.setDefaultHandler=function(h){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=h,this.addKeyboardHandler(h,0)},this.setKeyboardHandler=function(h){var f=this.$handlers;if(f[f.length-1]!=h){for(;f[f.length-1]&&f[f.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(f[f.length-1]);this.addKeyboardHandler(h,1)}},this.addKeyboardHandler=function(h,f){if(!!h){typeof h=="function"&&!h.handleKeyboard&&(h.handleKeyboard=h);var c=this.$handlers.indexOf(h);c!=-1&&this.$handlers.splice(c,1),f==null?this.$handlers.push(h):this.$handlers.splice(f,0,h),c==-1&&h.attach&&h.attach(this.$editor)}},this.removeKeyboardHandler=function(h){var f=this.$handlers.indexOf(h);return f==-1?!1:(this.$handlers.splice(f,1),h.detach&&h.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var h=this.$data,f=h.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(f,h)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(h,f,c,o){for(var u,d=!1,p=this.$editor.commands,m=this.$handlers.length;m--&&(u=this.$handlers[m].handleKeyboard(this.$data,h,f,c,o),!(!(!u||!u.command)&&(u.command=="null"?d=!0:d=p.exec(u.command,this.$editor,u.args,o),d&&o&&h!=-1&&u.passEvent!=!0&&u.command.passEvent!=!0&&a.stopEvent(o),d))););return!d&&h==-1&&(u={command:"insertstring"},d=p.exec("insertstring",this.$editor,f)),d&&this.$editor._signal&&this.$editor._signal("keyboardActivity",u),d},this.onCommandKey=function(h,f,c){var o=s.keyCodeToString(c);return this.$callKeyboardHandlers(f,o,c,h)},this.onTextInput=function(h){return this.$callKeyboardHandlers(-1,h)}}).call(l.prototype),i.KeyBinding=l}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,i,r){var s=0,a=0,l=!1,h=!1,f=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],o=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,d=1,p=0,m=1,v=2,x=3,w=4,A=5,M=6,C=7,E=8,R=9,b=10,_=11,S=12,T=13,P=14,I=15,z=16,O=17,D=18,B=[D,D,D,D,D,D,D,D,D,M,A,M,E,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,M,E,w,w,_,_,_,w,w,w,w,w,b,R,b,R,R,v,v,v,v,v,v,v,v,v,v,R,w,w,w,w,w,w,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,w,w,w,w,w,w,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,w,w,w,w,D,D,D,D,D,D,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,R,w,_,_,_,_,w,w,w,w,p,w,w,D,w,w,_,_,v,v,w,p,w,w,w,v,p,w,w,w,w,w],F=[E,E,E,E,E,E,E,E,E,E,E,D,D,D,p,m,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,E,A,T,P,I,z,O,R,_,_,_,_,_,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,R,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,E];function U(K,X,$,q){var pe=s?o:c,he=null,Ae=null,me=null,De=0,fe=null,xe=null,Le=-1,Re=null,Ee=null,Ge=[];if(!q)for(Re=0,q=[];Re<$;Re++)q[Re]=Y(K[Re]);for(a=s,l=!1,h=!1,f=!1,Ee=0;Ee<$;Ee++){if(he=De,Ge[Ee]=Ae=j(K,q,Ge,Ee),De=pe[he][Ae],fe=De&240,De&=15,X[Ee]=me=pe[De][5],fe>0)if(fe==16){for(Re=Le;Re<Ee;Re++)X[Re]=1;Le=-1}else Le=-1;if(xe=pe[De][6],xe)Le==-1&&(Le=Ee);else if(Le>-1){for(Re=Le;Re<Ee;Re++)X[Re]=me;Le=-1}q[Ee]==A&&(X[Ee]=0),a|=me}if(f){for(Re=0;Re<$;Re++)if(q[Re]==M){X[Re]=s;for(var Ue=Re-1;Ue>=0&&q[Ue]==E;Ue--)X[Ue]=s}}}function H(K,X,$){if(!(a<K)){if(K==1&&s==d&&!h){$.reverse();return}for(var q=$.length,pe=0,he,Ae,me,De;pe<q;){if(X[pe]>=K){for(he=pe+1;he<q&&X[he]>=K;)he++;for(Ae=pe,me=he-1;Ae<me;Ae++,me--)De=$[Ae],$[Ae]=$[me],$[me]=De;pe=he}pe++}}}function j(K,X,$,q){var pe=X[q],he,Ae,me,De;switch(pe){case p:case m:l=!1;case w:case x:return pe;case v:return l?x:v;case C:return l=!0,m;case E:return w;case R:return q<1||q+1>=X.length||(he=$[q-1])!=v&&he!=x||(Ae=X[q+1])!=v&&Ae!=x?w:(l&&(Ae=x),Ae==he?Ae:w);case b:return he=q>0?$[q-1]:A,he==v&&q+1<X.length&&X[q+1]==v?v:w;case _:if(q>0&&$[q-1]==v)return v;if(l)return w;for(De=q+1,me=X.length;De<me&&X[De]==_;)De++;return De<me&&X[De]==v?v:w;case S:for(me=X.length,De=q+1;De<me&&X[De]==S;)De++;if(De<me){var fe=K[q],xe=fe>=1425&&fe<=2303||fe==64286;if(he=X[De],xe&&(he==m||he==C))return m}return q<1||(he=X[q-1])==A?w:$[q-1];case A:return l=!1,h=!0,s;case M:return f=!0,w;case T:case P:case z:case O:case I:l=!1;case D:return w}}function Y(K){var X=K.charCodeAt(0),$=X>>8;return $==0?X>191?p:B[X]:$==5?/[\u0591-\u05f4]/.test(K)?m:p:$==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(K)?S:/[\u0660-\u0669\u066b-\u066c]/.test(K)?x:X==1642?_:/[\u06f0-\u06f9]/.test(K)?v:C:$==32&&X<=8287?F[X&255]:$==254&&X>=65136?C:w}i.L=p,i.R=m,i.EN=v,i.ON_R=3,i.AN=4,i.R_H=5,i.B=6,i.RLE=7,i.DOT="\xB7",i.doBidiReorder=function(K,X,$){if(K.length<2)return{};var q=K.split(""),pe=new Array(q.length),he=new Array(q.length),Ae=[];s=$?d:u,U(q,Ae,q.length,X);for(var me=0;me<pe.length;pe[me]=me,me++);H(2,Ae,pe),H(1,Ae,pe);for(var me=0;me<pe.length-1;me++)X[me]===x?Ae[me]=i.AN:Ae[me]===m&&(X[me]>C&&X[me]<T||X[me]===w||X[me]===D)?Ae[me]=i.ON_R:me>0&&q[me-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(q[me])&&(Ae[me-1]=Ae[me]=i.R_H,me++);q[q.length-1]===i.DOT&&(Ae[q.length-1]=i.B),q[0]==="\u202B"&&(Ae[0]=i.RLE);for(var me=0;me<pe.length;me++)he[me]=Ae[pe[me]];return{logicalFromVisual:pe,bidiLevels:he}},i.hasBidiCharacters=function(K,X){for(var $=!1,q=0;q<K.length;q++)X[q]=Y(K.charAt(q)),!$&&(X[q]==m||X[q]==C||X[q]==x)&&($=!0);return $},i.getVisualFromLogicalIdx=function(K,X){for(var $=0;$<X.logicalFromVisual.length;$++)if(X.logicalFromVisual[$]==K)return $;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,i,r){var s=t("./lib/bidiutil"),a=t("./lib/lang"),l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,h=function(f){this.session=f,this.bidiMap={},this.currentRow=null,this.bidiUtil=s,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=l.test(f.getValue())};(function(){this.isBidiRow=function(f,c,o){return this.seenBidi?(f!==this.currentRow&&(this.currentRow=f,this.updateRowLine(c,o),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(f){this.seenBidi?this.currentRow=null:f.action=="insert"&&l.test(f.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var f=0,c=this.session.$screenRowCache;if(c.length){var o=this.session.$getRowCacheIndex(c,this.currentRow);o>=0&&(f=this.session.$docRowCache[o])}return f},this.getSplitIndex=function(){var f=0,c=this.session.$screenRowCache;if(c.length)for(var o,u=this.session.$getRowCacheIndex(c,this.currentRow);this.currentRow-f>0&&(o=this.session.$getRowCacheIndex(c,this.currentRow-f-1),o===u);)u=o,f++;else f=this.currentRow;return f},this.updateRowLine=function(f,c){f===void 0&&(f=this.getDocumentRow());var o=f===this.session.getLength()-1,u=o?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(f),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var d=this.session.$wrapData[f];d&&(c===void 0&&(c=this.getSplitIndex()),c>0&&d.length?(this.wrapIndent=d.indent,this.wrapOffset=this.wrapIndent*this.charWidths[s.L],this.line=c<d.length?this.line.substring(d[c-1],d[c]):this.line.substring(d[d.length-1])):this.line=this.line.substring(0,d[c]),c==d.length&&(this.line+=this.showInvisibles?u:s.DOT))}else this.line+=this.showInvisibles?u:s.DOT;var p=this.session,m=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(x,w){return x==="	"||p.isFullWidth(x.charCodeAt(0))?(v=x==="	"?p.getScreenTabSize(w+m):2,m+=v-1,a.stringRepeat(s.DOT,v)):x}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==s.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var f=[];s.hasBidiCharacters(this.line,f)||this.isRtlDir?this.bidiMap=s.doBidiReorder(this.line,f,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(f){if(this.characterWidth!==f.$characterSize.width){this.fontMetrics=f;var c=this.characterWidth=f.$characterSize.width,o=f.$measureCharWidth("\u05D4");this.charWidths[s.L]=this.charWidths[s.EN]=this.charWidths[s.ON_R]=c,this.charWidths[s.R]=this.charWidths[s.AN]=o,this.charWidths[s.R_H]=o*.45,this.charWidths[s.B]=this.charWidths[s.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(f){this.showInvisibles=f,this.currentRow=null},this.setEolChar=function(f){this.EOL=f},this.setContentWidth=function(f){this.contentWidth=f},this.isRtlLine=function(f){return this.$isRtl?!0:f!=null?this.session.getLine(f).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(f,c){for(var o=f.getCursorPosition(),u=f.selection.getSelectionAnchor().row;u<=o.row;u++)!c&&f.session.getLine(u).charAt(0)===f.session.$bidiHandler.RLE?f.session.doc.removeInLine(u,0,1):c&&f.session.getLine(u).charAt(0)!==f.session.$bidiHandler.RLE&&f.session.doc.insert({column:0,row:u},f.session.$bidiHandler.RLE)},this.getPosLeft=function(f){f-=this.wrapIndent;var c=this.line.charAt(0)===this.RLE?1:0,o=f>c?this.session.getOverwrite()?f:f-1:c,u=s.getVisualFromLogicalIdx(o,this.bidiMap),d=this.bidiMap.bidiLevels,p=0;!this.session.getOverwrite()&&f<=c&&d[u]%2!==0&&u++;for(var m=0;m<u;m++)p+=this.charWidths[d[m]];return!this.session.getOverwrite()&&f>c&&d[u]%2===0&&(p+=this.charWidths[d[u]]),this.wrapIndent&&(p+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(p+=this.rtlLineOffset),p},this.getSelections=function(f,c){var o=this.bidiMap,u=o.bidiLevels,d,p=[],m=0,v=Math.min(f,c)-this.wrapIndent,x=Math.max(f,c)-this.wrapIndent,w=!1,A=!1,M=0;this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var C,E=0;E<u.length;E++)C=o.logicalFromVisual[E],d=u[E],w=C>=v&&C<x,w&&!A?M=m:!w&&A&&p.push({left:M,width:m-M}),m+=this.charWidths[d],A=w;if(w&&E===u.length&&p.push({left:M,width:m-M}),this.isRtlDir)for(var R=0;R<p.length;R++)p[R].left+=this.rtlLineOffset;return p},this.offsetToCol=function(o){this.isRtlDir&&(o-=this.rtlLineOffset);var c=0,o=Math.max(o,0),u=0,d=0,p=this.bidiMap.bidiLevels,m=this.charWidths[p[d]];for(this.wrapIndent&&(o-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);o>u+m/2;){if(u+=m,d===p.length-1){m=0;break}m=this.charWidths[p[++d]]}return d>0&&p[d-1]%2!==0&&p[d]%2===0?(o<u&&d--,c=this.bidiMap.logicalFromVisual[d]):d>0&&p[d-1]%2===0&&p[d]%2!==0?c=1+(o>u?this.bidiMap.logicalFromVisual[d]:this.bidiMap.logicalFromVisual[d-1]):this.isRtlDir&&d===p.length-1&&m===0&&p[d-1]%2===0||!this.isRtlDir&&d===0&&p[d]%2!==0?c=1+this.bidiMap.logicalFromVisual[d]:(d>0&&p[d-1]%2!==0&&m!==0&&d--,c=this.bidiMap.logicalFromVisual[d]),c===0&&this.isRtlDir&&c++,c+this.wrapIndent}}).call(h.prototype),i.BidiHandler=h}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/lang"),l=t("./lib/event_emitter").EventEmitter,h=t("./range").Range,f=function(c){this.session=c,this.doc=c.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var o=this;this.cursor.on("change",function(u){o.$cursorChanged=!0,o.$silent||o._emit("changeCursor"),!o.$isEmpty&&!o.$silent&&o._emit("changeSelection"),!o.$keepDesiredColumnOnChange&&u.old.column!=u.value.column&&(o.$desiredColumn=null)}),this.anchor.on("change",function(){o.$anchorChanged=!0,!o.$isEmpty&&!o.$silent&&o._emit("changeSelection")})};(function(){s.implement(this,l),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(c,o){this.$isEmpty=!1,this.anchor.setPosition(c,o)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var c=this.anchor,o=this.lead;return c.row>o.row||c.row==o.row&&c.column>o.column},this.getRange=function(){var c=this.anchor,o=this.lead;return this.$isEmpty?h.fromPoints(o,o):this.isBackwards()?h.fromPoints(o,c):h.fromPoints(c,o)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(c,o){var u=o?c.end:c.start,d=o?c.start:c.end;this.$setSelection(u.row,u.column,d.row,d.column)},this.$setSelection=function(c,o,u,d){if(!this.$silent){var p=this.$isEmpty,m=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(c,o),this.cursor.setPosition(u,d),this.$isEmpty=!h.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||p!=this.$isEmpty||m)&&this._emit("changeSelection")}},this.$moveSelection=function(c){var o=this.lead;this.$isEmpty&&this.setSelectionAnchor(o.row,o.column),c.call(this)},this.selectTo=function(c,o){this.$moveSelection(function(){this.moveCursorTo(c,o)})},this.selectToPosition=function(c){this.$moveSelection(function(){this.moveCursorToPosition(c)})},this.moveTo=function(c,o){this.clearSelection(),this.moveCursorTo(c,o)},this.moveToPosition=function(c){this.clearSelection(),this.moveCursorToPosition(c)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(c,o){if(typeof o>"u"){var u=c||this.lead;c=u.row,o=u.column}return this.session.getWordRange(c,o)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var c=this.getCursor(),o=this.session.getAWordRange(c.row,c.column);this.setSelectionRange(o)},this.getLineRange=function(c,o){var u=typeof c=="number"?c:this.lead.row,d,p=this.session.getFoldLine(u);return p?(u=p.start.row,d=p.end.row):d=u,o===!0?new h(u,0,d,this.session.getLine(d).length):new h(u,0,d+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(c,o,u){var d=c.column,p=c.column+o;return u<0&&(d=c.column-o,p=c.column),this.session.isTabStop(c)&&this.doc.getLine(c.row).slice(d,p).split(" ").length-1==o},this.moveCursorLeft=function(){var c=this.lead.getPosition(),o;if(o=this.session.getFoldAt(c.row,c.column,-1))this.moveCursorTo(o.start.row,o.start.column);else if(c.column===0)c.row>0&&this.moveCursorTo(c.row-1,this.doc.getLine(c.row-1).length);else{var u=this.session.getTabSize();this.wouldMoveIntoSoftTab(c,u,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-u):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var c=this.lead.getPosition(),o;if(o=this.session.getFoldAt(c.row,c.column,1))this.moveCursorTo(o.end.row,o.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var u=this.session.getTabSize(),c=this.lead;this.wouldMoveIntoSoftTab(c,u,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,u):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var c=this.lead.row,o=this.lead.column,u=this.session.documentToScreenRow(c,o),d=this.session.screenToDocumentPosition(u,0),p=this.session.getDisplayLine(c,null,d.row,d.column),m=p.match(/^\s*/);m[0].length!=o&&!this.session.$useEmacsStyleLineStart&&(d.column+=m[0].length),this.moveCursorToPosition(d)},this.moveCursorLineEnd=function(){var c=this.lead,o=this.session.getDocumentLastRowColumnPosition(c.row,c.column);if(this.lead.column==o.column){var u=this.session.getLine(o.row);if(o.column==u.length){var d=u.search(/\s+$/);d>0&&(o.column=d)}}this.moveCursorTo(o.row,o.column)},this.moveCursorFileEnd=function(){var c=this.doc.getLength()-1,o=this.doc.getLine(c).length;this.moveCursorTo(c,o)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var c=this.lead.row,o=this.lead.column,u=this.doc.getLine(c),d=u.substring(o);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var p=this.session.getFoldAt(c,o,1);if(p){this.moveCursorTo(p.end.row,p.end.column);return}if(this.session.nonTokenRe.exec(d)&&(o+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,d=u.substring(o)),o>=u.length){this.moveCursorTo(c,u.length),this.moveCursorRight(),c<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(d)&&(o+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,o)},this.moveCursorLongWordLeft=function(){var c=this.lead.row,o=this.lead.column,u;if(u=this.session.getFoldAt(c,o,-1)){this.moveCursorTo(u.start.row,u.start.column);return}var d=this.session.getFoldStringAt(c,o,-1);d==null&&(d=this.doc.getLine(c).substring(0,o));var p=a.stringReverse(d);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(p)&&(o-=this.session.nonTokenRe.lastIndex,p=p.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),o<=0){this.moveCursorTo(c,0),this.moveCursorLeft(),c>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(p)&&(o-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,o)},this.$shortWordEndIndex=function(c){var o=0,u,d=/\s/,p=this.session.tokenRe;if(p.lastIndex=0,this.session.tokenRe.exec(c))o=this.session.tokenRe.lastIndex;else{for(;(u=c[o])&&d.test(u);)o++;if(o<1){for(p.lastIndex=0;(u=c[o])&&!p.test(u);)if(p.lastIndex=0,o++,d.test(u))if(o>2){o--;break}else{for(;(u=c[o])&&d.test(u);)o++;if(o>2)break}}}return p.lastIndex=0,o},this.moveCursorShortWordRight=function(){var c=this.lead.row,o=this.lead.column,u=this.doc.getLine(c),d=u.substring(o),p=this.session.getFoldAt(c,o,1);if(p)return this.moveCursorTo(p.end.row,p.end.column);if(o==u.length){var m=this.doc.getLength();do c++,d=this.doc.getLine(c);while(c<m&&/^\s*$/.test(d));/^\s+/.test(d)||(d=""),o=0}var v=this.$shortWordEndIndex(d);this.moveCursorTo(c,o+v)},this.moveCursorShortWordLeft=function(){var c=this.lead.row,o=this.lead.column,u;if(u=this.session.getFoldAt(c,o,-1))return this.moveCursorTo(u.start.row,u.start.column);var d=this.session.getLine(c).substring(0,o);if(o===0){do c--,d=this.doc.getLine(c);while(c>0&&/^\s*$/.test(d));o=d.length,/\s+$/.test(d)||(d="")}var p=a.stringReverse(d),m=this.$shortWordEndIndex(p);return this.moveCursorTo(c,o-m)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(c,o){var u=this.session.documentToScreenPosition(this.lead.row,this.lead.column),d;if(o===0&&(c!==0&&(this.session.$bidiHandler.isBidiRow(u.row,this.lead.row)?(d=this.session.$bidiHandler.getPosLeft(u.column),u.column=Math.round(d/this.session.$bidiHandler.charWidths[0])):d=u.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?u.column=this.$desiredColumn:this.$desiredColumn=u.column),c!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var p=this.session.lineWidgets[this.lead.row];c<0?c-=p.rowsAbove||0:c>0&&(c+=p.rowCount-(p.rowsAbove||0))}var m=this.session.screenToDocumentPosition(u.row+c,u.column,d);c!==0&&o===0&&m.row===this.lead.row&&(m.column,this.lead.column),this.moveCursorTo(m.row,m.column+o,o===0)},this.moveCursorToPosition=function(c){this.moveCursorTo(c.row,c.column)},this.moveCursorTo=function(c,o,u){var d=this.session.getFoldAt(c,o,1);d&&(c=d.start.row,o=d.start.column),this.$keepDesiredColumnOnChange=!0;var p=this.session.getLine(c);/[\uDC00-\uDFFF]/.test(p.charAt(o))&&p.charAt(o-1)&&(this.lead.row==c&&this.lead.column==o+1?o=o-1:o=o+1),this.lead.setPosition(c,o),this.$keepDesiredColumnOnChange=!1,u||(this.$desiredColumn=null)},this.moveCursorToScreen=function(c,o,u){var d=this.session.screenToDocumentPosition(c,o);this.moveCursorTo(d.row,d.column,u)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(c){this.setSelectionRange(c,c.cursor==c.start),this.$desiredColumn=c.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(c){var o=this.getRange();return c?(c.start.column=o.start.column,c.start.row=o.start.row,c.end.column=o.end.column,c.end.row=o.end.row):c=o,c.cursor=this.isBackwards()?c.start:c.end,c.desiredColumn=this.$desiredColumn,c},this.getRangeOfMovements=function(c){var o=this.getCursor();try{c(this);var u=this.getCursor();return h.fromPoints(o,u)}catch{return h.fromPoints(o,o)}finally{this.moveCursorToPosition(o)}},this.toJSON=function(){if(this.rangeCount)var c=this.ranges.map(function(o){var u=o.clone();return u.isBackwards=o.cursor==o.start,u});else{var c=this.getRange();c.isBackwards=this.isBackwards()}return c},this.fromJSON=function(c){if(c.start==null)if(this.rangeList&&c.length>1){this.toSingleRange(c[0]);for(var o=c.length;o--;){var u=h.fromPoints(c[o].start,c[o].end);c[o].isBackwards&&(u.cursor=u.start),this.addRange(u,!0)}return}else c=c[0];this.rangeList&&this.toSingleRange(c),this.setSelectionRange(c,c.isBackwards)},this.isEqual=function(c){if((c.length||this.rangeCount)&&c.length!=this.rangeCount)return!1;if(!c.length||!this.ranges)return this.getRange().isEqual(c);for(var o=this.ranges.length;o--;)if(!this.ranges[o].isEqual(c[o]))return!1;return!0}}).call(f.prototype),i.Selection=f}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,i,r){var s=t("./config"),a=2e3,l=function(h){this.states=h,this.regExps={},this.matchMappings={};for(var f in this.states){for(var c=this.states[f],o=[],u=0,d=this.matchMappings[f]={defaultToken:"text"},p="g",m=[],v=0;v<c.length;v++){var x=c[v];if(x.defaultToken&&(d.defaultToken=x.defaultToken),x.caseInsensitive&&p.indexOf("i")===-1&&(p+="i"),x.unicode&&p.indexOf("u")===-1&&(p+="u"),x.regex!=null){x.regex instanceof RegExp&&(x.regex=x.regex.toString().slice(1,-1));var w=x.regex,A=new RegExp("(?:("+w+")|(.))").exec("a").length-2;Array.isArray(x.token)?x.token.length==1||A==1?x.token=x.token[0]:A-1!=x.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:x,groupCount:A-1}),x.token=x.token[0]):(x.tokenArray=x.token,x.token=null,x.onMatch=this.$arrayTokens):typeof x.token=="function"&&!x.onMatch&&(A>1?x.onMatch=this.$applyToken:x.onMatch=x.token),A>1&&(/\\\d/.test(x.regex)?w=x.regex.replace(/\\([0-9]+)/g,function(M,C){return"\\"+(parseInt(C,10)+u+1)}):(A=1,w=this.removeCapturingGroups(x.regex)),!x.splitRegex&&typeof x.token!="string"&&m.push(x)),d[u]=v,u+=A,o.push(w),x.onMatch||(x.onMatch=null)}}o.length||(d[0]=0,o.push("$")),m.forEach(function(M){M.splitRegex=this.createSplitterRegexp(M.regex,p)},this),this.regExps[f]=new RegExp("("+o.join(")|(")+")|($)",p)}};(function(){this.$setMaxTokenCount=function(h){a=h|0},this.$applyToken=function(h){var f=this.splitRegex.exec(h).slice(1),c=this.token.apply(this,f);if(typeof c=="string")return[{type:c,value:h}];for(var o=[],u=0,d=c.length;u<d;u++)f[u]&&(o[o.length]={type:c[u],value:f[u]});return o},this.$arrayTokens=function(h){if(!h)return[];var f=this.splitRegex.exec(h);if(!f)return"text";for(var c=[],o=this.tokenArray,u=0,d=o.length;u<d;u++)f[u+1]&&(c[c.length]={type:o[u],value:f[u+1]});return c},this.removeCapturingGroups=function(h){var f=h.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(c,o){return o?"(?:":c});return f},this.createSplitterRegexp=function(h,f){if(h.indexOf("(?=")!=-1){var c=0,o=!1,u={};h.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(d,p,m,v,x,w){return o?o=x!="]":x?o=!0:v?(c==u.stack&&(u.end=w+1,u.stack=-1),c--):m&&(c++,m.length!=1&&(u.stack=c,u.start=w)),d}),u.end!=null&&/^\)*$/.test(h.substr(u.end))&&(h=h.substring(0,u.start)+h.substr(u.end))}return h.charAt(0)!="^"&&(h="^"+h),h.charAt(h.length-1)!="$"&&(h+="$"),new RegExp(h,(f||"").replace("g",""))},this.getLineTokens=function(h,f){if(f&&typeof f!="string"){var c=f.slice(0);f=c[0],f==="#tmp"&&(c.shift(),f=c.shift())}else var c=[];var o=f||"start",u=this.states[o];u||(o="start",u=this.states[o]);var d=this.matchMappings[o],p=this.regExps[o];p.lastIndex=0;for(var m,v=[],x=0,w=0,A={type:null,value:""};m=p.exec(h);){var M=d.defaultToken,C=null,E=m[0],R=p.lastIndex;if(R-E.length>x){var b=h.substring(x,R-E.length);A.type==M?A.value+=b:(A.type&&v.push(A),A={type:M,value:b})}for(var _=0;_<m.length-2;_++)if(m[_+1]!==void 0){C=u[d[_]],C.onMatch?M=C.onMatch(E,o,c,h):M=C.token,C.next&&(typeof C.next=="string"?o=C.next:o=C.next(o,c),u=this.states[o],u||(this.reportError("state doesn't exist",o),o="start",u=this.states[o]),d=this.matchMappings[o],x=R,p=this.regExps[o],p.lastIndex=R),C.consumeLineEnd&&(x=R);break}if(E){if(typeof M=="string")(!C||C.merge!==!1)&&A.type===M?A.value+=E:(A.type&&v.push(A),A={type:M,value:E});else if(M){A.type&&v.push(A),A={type:null,value:""};for(var _=0;_<M.length;_++)v.push(M[_])}}if(x==h.length)break;if(x=R,w++>a){for(w>2*h.length&&this.reportError("infinite loop with in ace tokenizer",{startState:f,line:h});x<h.length;)A.type&&v.push(A),A={value:h.substring(x,x+=500),type:"overflow"};o="start",c=[];break}}return A.type&&v.push(A),c.length>1&&c[0]!==o&&c.unshift("#tmp",o),{tokens:v,state:c.length?c:o}},this.reportError=s.reportError}).call(l.prototype),i.Tokenizer=l}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,i,r){var s=t("../lib/lang"),a=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(f,c){if(!c){for(var o in f)this.$rules[o]=f[o];return}for(var o in f){for(var u=f[o],d=0;d<u.length;d++){var p=u[d];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(c)!==0&&(p.next=c+p.next),p.nextState&&p.nextState.indexOf(c)!==0&&(p.nextState=c+p.nextState))}this.$rules[c+o]=u}},this.getRules=function(){return this.$rules},this.embedRules=function(f,c,o,u,d){var p=typeof f=="function"?new f().getRules():f;if(u)for(var m=0;m<u.length;m++)u[m]=c+u[m];else{u=[];for(var v in p)u.push(c+v)}if(this.addRules(p,c),o)for(var x=Array.prototype[d?"push":"unshift"],m=0;m<u.length;m++)x.apply(this.$rules[u[m]],s.deepCopy(o));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var l=function(f,c){return(f!="start"||c.length)&&c.unshift(this.nextState,f),this.nextState},h=function(f,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var f=0,c=this.$rules;function o(u){var d=c[u];d.processed=!0;for(var p=0;p<d.length;p++){var m=d[p],v=null;Array.isArray(m)&&(v=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var x=m.next||m.push;if(x&&Array.isArray(x)){var w=m.stateName;w||(w=m.token,typeof w!="string"&&(w=w[0]||""),c[w]&&(w+=f++)),c[w]=x,m.next=w,o(w)}else x=="pop"&&(m.next=h);if(m.push&&(m.nextState=m.next||m.push,m.next=l,delete m.push),m.rules)for(var A in m.rules)c[A]?c[A].push&&c[A].push.apply(c[A],m.rules[A]):c[A]=m.rules[A];var M=typeof m=="string"?m:m.include;if(M&&(Array.isArray(M)?v=M.map(function(E){return c[E]}):v=c[M]),v){var C=[p,1].concat(v);m.noEscape&&(C=C.filter(function(E){return!E.next})),d.splice.apply(d,C),p--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(o,this)},this.createKeywordMapper=function(f,c,o,u){var d=Object.create(null);return this.$keywordList=[],Object.keys(f).forEach(function(p){for(var m=f[p],v=m.split(u||"|"),x=v.length;x--;){var w=v[x];this.$keywordList.push(w),o&&(w=w.toLowerCase()),d[w]=p}},this),f=null,o?function(p){return d[p.toLowerCase()]||c}:function(p){return d[p]||c}},this.getKeywords=function(){return this.$keywords}}).call(a.prototype),i.TextHighlightRules=a}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,i,r){var s=function(){this.$behaviours={}};(function(){this.add=function(a,l,h){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][l]=h},this.addBehaviours=function(a){for(var l in a)for(var h in a[l])this.add(l,h,a[l][h])},this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]},this.inherit=function(a,l){if(typeof a=="function")var h=new a().getBehaviours(l);else var h=a.getBehaviours(l);this.addBehaviours(h)},this.getBehaviours=function(a){if(a){for(var l={},h=0;h<a.length;h++)this.$behaviours[a[h]]&&(l[a[h]]=this.$behaviours[a[h]]);return l}else return this.$behaviours}}).call(s.prototype),i.Behaviour=s}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,i,r){var s=t("./range").Range,a=function(l,h,f){this.$session=l,this.$row=h,this.$rowTokens=l.getTokens(h);var c=l.getTokenAt(h,f);this.$tokenIndex=c?c.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var l;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,l||(l=this.$session.getLength()),this.$row>=l)return this.$row=l-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var l=this.$rowTokens,h=this.$tokenIndex,f=l[h].start;if(f!==void 0)return f;for(f=0;h>0;)h-=1,f+=l[h].value.length;return f},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var l=this.$rowTokens[this.$tokenIndex],h=this.getCurrentTokenColumn();return new s(this.$row,h,this.$row,h+l.value.length)}}).call(a.prototype),i.TokenIterator=a}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,i,r){var s=t("../../lib/oop"),a=t("../behaviour").Behaviour,l=t("../../token_iterator").TokenIterator,h=t("../../lib/lang"),f=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],o,u={},d={'"':'"',"'":"'"},p=function(x){var w=-1;if(x.multiSelect&&(w=x.selection.index,u.rangeCount!=x.multiSelect.rangeCount&&(u={rangeCount:x.multiSelect.rangeCount})),u[w])return o=u[w];o=u[w]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(x,w,A,M){var C=x.end.row-x.start.row;return{text:A+w+M,selection:[0,x.start.column+1,C,x.end.column+(C?0:1)]}},v=function(x){this.add("braces","insertion",function(w,A,M,C,E){var R=M.getCursorPosition(),b=C.doc.getLine(R.row);if(E=="{"){p(M);var _=M.getSelectionRange(),S=C.doc.getTextRange(_);if(S!==""&&S!=="{"&&M.getWrapBehavioursEnabled())return m(_,S,"{","}");if(v.isSaneInsertion(M,C))return/[\]\}\)]/.test(b[R.column])||M.inMultiSelectMode||x&&x.braces?(v.recordAutoInsert(M,C,"}"),{text:"{}",selection:[1,1]}):(v.recordMaybeInsert(M,C,"{"),{text:"{",selection:[1,1]})}else if(E=="}"){p(M);var T=b.substring(R.column,R.column+1);if(T=="}"){var P=C.$findOpeningBracket("}",{column:R.column+1,row:R.row});if(P!==null&&v.isAutoInsertedClosing(R,b,E))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(E==`
`||E==`\r
`){p(M);var I="";v.isMaybeInsertedClosing(R,b)&&(I=h.stringRepeat("}",o.maybeInsertedBrackets),v.clearMaybeInsertedClosing());var T=b.substring(R.column,R.column+1);if(T==="}"){var z=C.findMatchingBracket({row:R.row,column:R.column+1},"}");if(!z)return null;var O=this.$getIndent(C.getLine(z.row))}else if(I)var O=this.$getIndent(b);else{v.clearMaybeInsertedClosing();return}var D=O+C.getTabString();return{text:`
`+D+`
`+O+I,selection:[1,D.length,1,D.length]}}else v.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(w,A,M,C,E){var R=C.doc.getTextRange(E);if(!E.isMultiLine()&&R=="{"){p(M);var b=C.doc.getLine(E.start.row),_=b.substring(E.end.column,E.end.column+1);if(_=="}")return E.end.column++,E;o.maybeInsertedBrackets--}}),this.add("parens","insertion",function(w,A,M,C,E){if(E=="("){p(M);var R=M.getSelectionRange(),b=C.doc.getTextRange(R);if(b!==""&&M.getWrapBehavioursEnabled())return m(R,b,"(",")");if(v.isSaneInsertion(M,C))return v.recordAutoInsert(M,C,")"),{text:"()",selection:[1,1]}}else if(E==")"){p(M);var _=M.getCursorPosition(),S=C.doc.getLine(_.row),T=S.substring(_.column,_.column+1);if(T==")"){var P=C.$findOpeningBracket(")",{column:_.column+1,row:_.row});if(P!==null&&v.isAutoInsertedClosing(_,S,E))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(w,A,M,C,E){var R=C.doc.getTextRange(E);if(!E.isMultiLine()&&R=="("){p(M);var b=C.doc.getLine(E.start.row),_=b.substring(E.start.column+1,E.start.column+2);if(_==")")return E.end.column++,E}}),this.add("brackets","insertion",function(w,A,M,C,E){if(E=="["){p(M);var R=M.getSelectionRange(),b=C.doc.getTextRange(R);if(b!==""&&M.getWrapBehavioursEnabled())return m(R,b,"[","]");if(v.isSaneInsertion(M,C))return v.recordAutoInsert(M,C,"]"),{text:"[]",selection:[1,1]}}else if(E=="]"){p(M);var _=M.getCursorPosition(),S=C.doc.getLine(_.row),T=S.substring(_.column,_.column+1);if(T=="]"){var P=C.$findOpeningBracket("]",{column:_.column+1,row:_.row});if(P!==null&&v.isAutoInsertedClosing(_,S,E))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(w,A,M,C,E){var R=C.doc.getTextRange(E);if(!E.isMultiLine()&&R=="["){p(M);var b=C.doc.getLine(E.start.row),_=b.substring(E.start.column+1,E.start.column+2);if(_=="]")return E.end.column++,E}}),this.add("string_dquotes","insertion",function(w,A,M,C,E){var R=C.$mode.$quotes||d;if(E.length==1&&R[E]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(E)!=-1)return;p(M);var b=E,_=M.getSelectionRange(),S=C.doc.getTextRange(_);if(S!==""&&(S.length!=1||!R[S])&&M.getWrapBehavioursEnabled())return m(_,S,b,b);if(!S){var T=M.getCursorPosition(),P=C.doc.getLine(T.row),I=P.substring(T.column-1,T.column),z=P.substring(T.column,T.column+1),O=C.getTokenAt(T.row,T.column),D=C.getTokenAt(T.row,T.column+1);if(I=="\\"&&O&&/escape/.test(O.type))return null;var B=O&&/string|escape/.test(O.type),F=!D||/string|escape/.test(D.type),U;if(z==b)U=B!==F,U&&/string\.end/.test(D.type)&&(U=!1);else{if(B&&!F||B&&F)return null;var H=C.$mode.tokenRe;H.lastIndex=0;var j=H.test(I);H.lastIndex=0;var Y=H.test(I);if(j||Y||z&&!/[\s;,.})\]\\]/.test(z))return null;var K=P[T.column-2];if(I==b&&(K==b||H.test(K)))return null;U=!0}return{text:U?b+b:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(w,A,M,C,E){var R=C.$mode.$quotes||d,b=C.doc.getTextRange(E);if(!E.isMultiLine()&&R.hasOwnProperty(b)){p(M);var _=C.doc.getLine(E.start.row),S=_.substring(E.start.column+1,E.start.column+2);if(S==b)return E.end.column++,E}})};v.isSaneInsertion=function(x,w){var A=x.getCursorPosition(),M=new l(w,A.row,A.column);if(!this.$matchTokenType(M.getCurrentToken()||"text",f)){if(/[)}\]]/.test(x.session.getLine(A.row)[A.column]))return!0;var C=new l(w,A.row,A.column+1);if(!this.$matchTokenType(C.getCurrentToken()||"text",f))return!1}return M.stepForward(),M.getCurrentTokenRow()!==A.row||this.$matchTokenType(M.getCurrentToken()||"text",c)},v.$matchTokenType=function(x,w){return w.indexOf(x.type||x)>-1},v.recordAutoInsert=function(x,w,A){var M=x.getCursorPosition(),C=w.doc.getLine(M.row);this.isAutoInsertedClosing(M,C,o.autoInsertedLineEnd[0])||(o.autoInsertedBrackets=0),o.autoInsertedRow=M.row,o.autoInsertedLineEnd=A+C.substr(M.column),o.autoInsertedBrackets++},v.recordMaybeInsert=function(x,w,A){var M=x.getCursorPosition(),C=w.doc.getLine(M.row);this.isMaybeInsertedClosing(M,C)||(o.maybeInsertedBrackets=0),o.maybeInsertedRow=M.row,o.maybeInsertedLineStart=C.substr(0,M.column)+A,o.maybeInsertedLineEnd=C.substr(M.column),o.maybeInsertedBrackets++},v.isAutoInsertedClosing=function(x,w,A){return o.autoInsertedBrackets>0&&x.row===o.autoInsertedRow&&A===o.autoInsertedLineEnd[0]&&w.substr(x.column)===o.autoInsertedLineEnd},v.isMaybeInsertedClosing=function(x,w){return o.maybeInsertedBrackets>0&&x.row===o.maybeInsertedRow&&w.substr(x.column)===o.maybeInsertedLineEnd&&w.substr(0,x.column)==o.maybeInsertedLineStart},v.popAutoInsertedClosing=function(){o.autoInsertedLineEnd=o.autoInsertedLineEnd.substr(1),o.autoInsertedBrackets--},v.clearMaybeInsertedClosing=function(){o&&(o.maybeInsertedBrackets=0,o.maybeInsertedRow=-1)},s.inherits(v,a),i.CstyleBehaviour=v}),ace.define("ace/unicode",["require","exports","module"],function(t,i,r){for(var s=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],a=0,l=[],h=0;h<s.length;h+=2)l.push(a+=s[h]),s[h+1]&&l.push(45,a+=s[h+1]);i.wordChars=String.fromCharCode.apply(null,l)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,i,r){var s=t("../config"),a=t("../tokenizer").Tokenizer,l=t("./text_highlight_rules").TextHighlightRules,h=t("./behaviour/cstyle").CstyleBehaviour,f=t("../unicode"),c=t("../lib/lang"),o=t("../token_iterator").TokenIterator,u=t("../range").Range,d=function(){this.HighlightRules=l};(function(){this.$defaultBehaviour=new h,this.tokenRe=new RegExp("^["+f.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+f.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new a(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,m,v,x){var w=m.doc,A=!0,M=!0,C=1/0,E=m.getTabSize(),R=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var S=this.lineCommentStart.map(c.escapeRegExp).join("|"),b=this.lineCommentStart[0];else var S=c.escapeRegExp(this.lineCommentStart),b=this.lineCommentStart;S=new RegExp("^(\\s*)(?:"+S+") ?"),R=m.getUseSoftTabs();var I=function(Y,K){var X=Y.match(S);if(!!X){var $=X[1].length,q=X[0].length;!D(Y,$,q)&&X[0][q-1]==" "&&q--,w.removeInLine(K,$,q)}},O=b+" ",P=function(Y,K){(!A||/\S/.test(Y))&&(D(Y,C,C)?w.insertInLine({row:K,column:C},O):w.insertInLine({row:K,column:C},b))},z=function(Y,K){return S.test(Y)},D=function(Y,K,X){for(var $=0;K--&&Y.charAt(K)==" ";)$++;if($%E!=0)return!1;for(var $=0;Y.charAt(X++)==" ";)$++;return E>2?$%E!=E-1:$%E==0}}else{if(!this.blockComment)return!1;var b=this.blockComment.start,_=this.blockComment.end,S=new RegExp("^(\\s*)(?:"+c.escapeRegExp(b)+")"),T=new RegExp("(?:"+c.escapeRegExp(_)+")\\s*$"),P=function(U,H){z(U,H)||(!A||/\S/.test(U))&&(w.insertInLine({row:H,column:U.length},_),w.insertInLine({row:H,column:C},b))},I=function(U,H){var j;(j=U.match(T))&&w.removeInLine(H,U.length-j[0].length,U.length),(j=U.match(S))&&w.removeInLine(H,j[1].length,j[0].length)},z=function(U,H){if(S.test(U))return!0;for(var j=m.getTokens(H),Y=0;Y<j.length;Y++)if(j[Y].type==="comment")return!0}}function B(U){for(var H=v;H<=x;H++)U(w.getLine(H),H)}var F=1/0;B(function(U,H){var j=U.search(/\S/);j!==-1?(j<C&&(C=j),M&&!z(U,H)&&(M=!1)):F>U.length&&(F=U.length)}),C==1/0&&(C=F,A=!1,M=!1),R&&C%E!=0&&(C=Math.floor(C/E)*E),B(M?I:P)},this.toggleBlockComment=function(p,m,v,x){var w=this.blockComment;if(!!w){!w.start&&w[0]&&(w=w[0]);var A=new o(m,x.row,x.column),M=A.getCurrentToken();m.selection;var C=m.selection.toOrientedRange(),E,R;if(M&&/comment/.test(M.type)){for(var b,_;M&&/comment/.test(M.type);){var S=M.value.indexOf(w.start);if(S!=-1){var T=A.getCurrentTokenRow(),P=A.getCurrentTokenColumn()+S;b=new u(T,P,T,P+w.start.length);break}M=A.stepBackward()}for(var A=new o(m,x.row,x.column),M=A.getCurrentToken();M&&/comment/.test(M.type);){var S=M.value.indexOf(w.end);if(S!=-1){var T=A.getCurrentTokenRow(),P=A.getCurrentTokenColumn()+S;_=new u(T,P,T,P+w.end.length);break}M=A.stepForward()}_&&m.remove(_),b&&(m.remove(b),E=b.start.row,R=-w.start.length)}else R=w.start.length,E=v.start.row,m.insert(v.end,w.end),m.insert(v.start,w.start);C.start.row==E&&(C.start.column+=R),C.end.row==E&&(C.end.column+=R),m.selection.fromOrientedRange(C)}},this.getNextLineIndent=function(p,m,v){return this.$getIndent(m)},this.checkOutdent=function(p,m,v){return!1},this.autoOutdent=function(p,m,v){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var m in p)if(p[m]){var v=p[m],x=v.prototype.$id,w=s.$modes[x];w||(s.$modes[x]=w=new v),s.$modes[m]||(s.$modes[m]=w),this.$embeds.push(m),this.$modes[m]=w}for(var A=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],m=0;m<A.length;m++)(function(C){var E=A[m],R=C[E];C[A[m]]=function(){return this.$delegator(E,arguments,R)}})(this)},this.$delegator=function(p,m,v){var x=m[0]||"start";if(typeof x!="string"){if(Array.isArray(x[2])){var w=x[2][x[2].length-1],A=this.$modes[w];if(A)return A[p].apply(A,[x[1]].concat([].slice.call(m,1)))}x=x[0]||"start"}for(var M=0;M<this.$embeds.length;M++)if(!!this.$modes[this.$embeds[M]]){var C=x.split(this.$embeds[M]);if(!C[0]&&C[1]){m[0]=C[1];var A=this.$modes[this.$embeds[M]];return A[p].apply(A,m)}}var E=v.apply(this,m);return v?E:void 0},this.transformAction=function(p,m,v,x,w){if(this.$behaviour){var A=this.$behaviour.getBehaviours();for(var M in A)if(A[M][m]){var C=A[M][m].apply(this,arguments);if(C)return C}}},this.getKeywords=function(p){if(!this.completionKeywords){var m=this.$tokenizer.rules,v=[];for(var x in m)for(var w=m[x],A=0,M=w.length;A<M;A++)if(typeof w[A].token=="string")/keyword|support|storage/.test(w[A].token)&&v.push(w[A].regex);else if(typeof w[A].token=="object"){for(var C=0,E=w[A].token.length;C<E;C++)if(/keyword|support|storage/.test(w[A].token[C])){var x=w[A].regex.match(/\(.+?\)/g)[C];v.push(x.substr(1,x.length-2))}}this.completionKeywords=v}return p?v.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,m,v,x){var w=this.$keywordList||this.$createKeywordList();return w.map(function(A){return{name:A,value:A,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(d.prototype),i.Mode=d}),ace.define("ace/apply_delta",["require","exports","module"],function(t,i,r){i.applyDelta=function(s,a,l){var h=a.start.row,f=a.start.column,c=s[h]||"";switch(a.action){case"insert":var o=a.lines;if(o.length===1)s[h]=c.substring(0,f)+a.lines[0]+c.substring(f);else{var u=[h,1].concat(a.lines);s.splice.apply(s,u),s[h]=c.substring(0,f)+s[h],s[h+a.lines.length-1]+=c.substring(f)}break;case"remove":var d=a.end.column,p=a.end.row;h===p?s[h]=c.substring(0,f)+c.substring(d):s.splice(h,p-h+1,c.substring(0,f)+s[p].substring(d));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/event_emitter").EventEmitter,l=i.Anchor=function(h,f,c){this.$onChange=this.onChange.bind(this),this.attach(h),typeof c>"u"?this.setPosition(f.row,f.column):this.setPosition(f,c)};(function(){s.implement(this,a),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(c){if(!(c.start.row==c.end.row&&c.start.row!=this.row)&&!(c.start.row>this.row)){var o=f(c,{row:this.row,column:this.column},this.$insertRight);this.setPosition(o.row,o.column,!0)}};function h(c,o,u){var d=u?c.column<=o.column:c.column<o.column;return c.row<o.row||c.row==o.row&&d}function f(c,o,u){var d=c.action=="insert",p=(d?1:-1)*(c.end.row-c.start.row),m=(d?1:-1)*(c.end.column-c.start.column),v=c.start,x=d?v:c.end;return h(o,v,u)?{row:o.row,column:o.column}:h(x,o,!u)?{row:o.row+p,column:o.column+(o.row==x.row?m:0)}:{row:v.row,column:v.column}}this.setPosition=function(c,o,u){var d;if(u?d={row:c,column:o}:d=this.$clipPositionToDocument(c,o),!(this.row==d.row&&this.column==d.column)){var p={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._signal("change",{old:p,value:d})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(c){this.document=c||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(c,o){var u={};return c>=this.document.getLength()?(u.row=Math.max(0,this.document.getLength()-1),u.column=this.document.getLine(u.row).length):c<0?(u.row=0,u.column=0):(u.row=c,u.column=Math.min(this.document.getLine(u.row).length,Math.max(0,o))),o<0&&(u.column=0),u}}).call(l.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,i,r){var s=t("./lib/oop"),a=t("./apply_delta").applyDelta,l=t("./lib/event_emitter").EventEmitter,h=t("./range").Range,f=t("./anchor").Anchor,c=function(o){this.$lines=[""],o.length===0?this.$lines=[""]:Array.isArray(o)?this.insertMergedLines({row:0,column:0},o):this.insert({row:0,column:0},o)};(function(){s.implement(this,l),this.setValue=function(o){var u=this.getLength()-1;this.remove(new h(0,0,u,this.getLine(u).length)),this.insert({row:0,column:0},o||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(o,u){return new f(this,o,u)},"aaa".split(/a/).length===0?this.$split=function(o){return o.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(o){return o.split(/\r\n|\r|\n/)},this.$detectNewLine=function(o){var u=o.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=u?u[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(o){this.$newLineMode!==o&&(this.$newLineMode=o,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(o){return o==`\r
`||o=="\r"||o==`
`},this.getLine=function(o){return this.$lines[o]||""},this.getLines=function(o,u){return this.$lines.slice(o,u+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(o){return this.getLinesForRange(o).join(this.getNewLineCharacter())},this.getLinesForRange=function(o){var u;if(o.start.row===o.end.row)u=[this.getLine(o.start.row).substring(o.start.column,o.end.column)];else{u=this.getLines(o.start.row,o.end.row),u[0]=(u[0]||"").substring(o.start.column);var d=u.length-1;o.end.row-o.start.row==d&&(u[d]=u[d].substring(0,o.end.column))}return u},this.insertLines=function(o,u){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(o,u)},this.removeLines=function(o,u){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(o,u)},this.insertNewLine=function(o){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(o,["",""])},this.insert=function(o,u){return this.getLength()<=1&&this.$detectNewLine(u),this.insertMergedLines(o,this.$split(u))},this.insertInLine=function(o,u){var d=this.clippedPos(o.row,o.column),p=this.pos(o.row,o.column+u.length);return this.applyDelta({start:d,end:p,action:"insert",lines:[u]},!0),this.clonePos(p)},this.clippedPos=function(o,u){var d=this.getLength();o===void 0?o=d:o<0?o=0:o>=d&&(o=d-1,u=void 0);var p=this.getLine(o);return u==null&&(u=p.length),u=Math.min(Math.max(u,0),p.length),{row:o,column:u}},this.clonePos=function(o){return{row:o.row,column:o.column}},this.pos=function(o,u){return{row:o,column:u}},this.$clipPosition=function(o){var u=this.getLength();return o.row>=u?(o.row=Math.max(0,u-1),o.column=this.getLine(u-1).length):(o.row=Math.max(0,o.row),o.column=Math.min(Math.max(o.column,0),this.getLine(o.row).length)),o},this.insertFullLines=function(o,u){o=Math.min(Math.max(o,0),this.getLength());var d=0;o<this.getLength()?(u=u.concat([""]),d=0):(u=[""].concat(u),o--,d=this.$lines[o].length),this.insertMergedLines({row:o,column:d},u)},this.insertMergedLines=function(o,u){var d=this.clippedPos(o.row,o.column),p={row:d.row+u.length-1,column:(u.length==1?d.column:0)+u[u.length-1].length};return this.applyDelta({start:d,end:p,action:"insert",lines:u}),this.clonePos(p)},this.remove=function(o){var u=this.clippedPos(o.start.row,o.start.column),d=this.clippedPos(o.end.row,o.end.column);return this.applyDelta({start:u,end:d,action:"remove",lines:this.getLinesForRange({start:u,end:d})}),this.clonePos(u)},this.removeInLine=function(o,u,d){var p=this.clippedPos(o,u),m=this.clippedPos(o,d);return this.applyDelta({start:p,end:m,action:"remove",lines:this.getLinesForRange({start:p,end:m})},!0),this.clonePos(p)},this.removeFullLines=function(o,u){o=Math.min(Math.max(0,o),this.getLength()-1),u=Math.min(Math.max(0,u),this.getLength()-1);var d=u==this.getLength()-1&&o>0,p=u<this.getLength()-1,m=d?o-1:o,v=d?this.getLine(m).length:0,x=p?u+1:u,w=p?0:this.getLine(x).length,A=new h(m,v,x,w),M=this.$lines.slice(o,u+1);return this.applyDelta({start:A.start,end:A.end,action:"remove",lines:this.getLinesForRange(A)}),M},this.removeNewLine=function(o){o<this.getLength()-1&&o>=0&&this.applyDelta({start:this.pos(o,this.getLine(o).length),end:this.pos(o+1,0),action:"remove",lines:["",""]})},this.replace=function(o,u){if(o instanceof h||(o=h.fromPoints(o.start,o.end)),u.length===0&&o.isEmpty())return o.start;if(u==this.getTextRange(o))return o.end;this.remove(o);var d;return u?d=this.insert(o.start,u):d=o.start,d},this.applyDeltas=function(o){for(var u=0;u<o.length;u++)this.applyDelta(o[u])},this.revertDeltas=function(o){for(var u=o.length-1;u>=0;u--)this.revertDelta(o[u])},this.applyDelta=function(o,u){var d=o.action=="insert";(d?o.lines.length<=1&&!o.lines[0]:!h.comparePoints(o.start,o.end))||(d&&o.lines.length>2e4?this.$splitAndapplyLargeDelta(o,2e4):(a(this.$lines,o,u),this._signal("change",o)))},this.$safeApplyDelta=function(o){var u=this.$lines.length;(o.action=="remove"&&o.start.row<u&&o.end.row<u||o.action=="insert"&&o.start.row<=u)&&this.applyDelta(o)},this.$splitAndapplyLargeDelta=function(o,u){for(var d=o.lines,p=d.length-u+1,m=o.start.row,v=o.start.column,x=0,w=0;x<p;x=w){w+=u-1;var A=d.slice(x,w);A.push(""),this.applyDelta({start:this.pos(m+x,v),end:this.pos(m+w,v=0),action:o.action,lines:A},!0)}o.lines=d.slice(x),o.start.row=m+x,o.start.column=v,this.applyDelta(o,!0)},this.revertDelta=function(o){this.$safeApplyDelta({start:this.clonePos(o.start),end:this.clonePos(o.end),action:o.action=="insert"?"remove":"insert",lines:o.lines.slice()})},this.indexToPosition=function(o,u){for(var d=this.$lines||this.getAllLines(),p=this.getNewLineCharacter().length,m=u||0,v=d.length;m<v;m++)if(o-=d[m].length+p,o<0)return{row:m,column:o+d[m].length+p};return{row:v-1,column:o+d[v-1].length+p}},this.positionToIndex=function(o,u){for(var d=this.$lines||this.getAllLines(),p=this.getNewLineCharacter().length,m=0,v=Math.min(o.row,d.length),x=u||0;x<v;++x)m+=d[x].length+p;return m+o.column}}).call(c.prototype),i.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/event_emitter").EventEmitter,l=function(h,f){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=h;var c=this;this.$worker=function(){if(!!c.running){for(var o=new Date,u=c.currentLine,d=-1,p=c.doc,m=u;c.lines[u];)u++;var v=p.getLength(),x=0;for(c.running=!1;u<v;){c.$tokenizeRow(u),d=u;do u++;while(c.lines[u]);if(x++,x%5===0&&new Date-o>20){c.running=setTimeout(c.$worker,20);break}}c.currentLine=u,d==-1&&(d=u),m<=d&&c.fireUpdateEvent(m,d)}}};(function(){s.implement(this,a),this.setTokenizer=function(h){this.tokenizer=h,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(h){this.doc=h,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(h,f){var c={first:h,last:f};this._signal("update",{data:c})},this.start=function(h){this.currentLine=Math.min(h||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(h){var f=h.start.row,c=h.end.row-f;if(c===0)this.lines[f]=null;else if(h.action=="remove")this.lines.splice(f,c+1,null),this.states.splice(f,c+1,null);else{var o=Array(c+1);o.unshift(f,1),this.lines.splice.apply(this.lines,o),this.states.splice.apply(this.states,o)}this.currentLine=Math.min(f,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(h){return this.lines[h]||this.$tokenizeRow(h)},this.getState=function(h){return this.currentLine==h&&this.$tokenizeRow(h),this.states[h]||"start"},this.$tokenizeRow=function(h){var f=this.doc.getLine(h),c=this.states[h-1],o=this.tokenizer.getLineTokens(f,c,h);return this.states[h]+""!=o.state+""?(this.states[h]=o.state,this.lines[h+1]=null,this.currentLine>h+1&&(this.currentLine=h+1)):this.currentLine==h&&(this.currentLine=h+1),this.lines[h]=o.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(l.prototype),i.BackgroundTokenizer=l}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,i,r){var s=t("./lib/lang");t("./lib/oop");var a=t("./range").Range,l=function(h,f,c){this.setRegexp(h),this.clazz=f,this.type=c||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},this.update=function(h,f,c,o){if(!!this.regExp)for(var u=o.firstRow,d=o.lastRow,p={},m=u;m<=d;m++){var v=this.cache[m];v==null&&(v=s.getMatchOffsets(c.getLine(m),this.regExp),v.length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(M){return new a(m,M.offset,m,M.offset+M.length)}),this.cache[m]=v.length?v:"");for(var x=v.length;x--;){var w=v[x].toScreenRange(c),A=w.toString();p[A]||(p[A]=!0,f.drawSingleLineMarker(h,w,this.clazz,o))}}}}).call(l.prototype),i.SearchHighlight=l}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,i,r){var s=t("../range").Range;function a(l,h){this.foldData=l,Array.isArray(h)?this.folds=h:h=this.folds=[h];var f=h[h.length-1];this.range=new s(h[0].start.row,h[0].start.column,f.end.row,f.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(c){c.setFoldLine(this)},this)}(function(){this.shiftRow=function(l){this.start.row+=l,this.end.row+=l,this.folds.forEach(function(h){h.start.row+=l,h.end.row+=l})},this.addFold=function(l){if(l.sameRow){if(l.start.row<this.startRow||l.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(l),this.folds.sort(function(h,f){return-h.range.compareEnd(f.start.row,f.start.column)}),this.range.compareEnd(l.start.row,l.start.column)>0?(this.end.row=l.end.row,this.end.column=l.end.column):this.range.compareStart(l.end.row,l.end.column)<0&&(this.start.row=l.start.row,this.start.column=l.start.column)}else if(l.start.row==this.end.row)this.folds.push(l),this.end.row=l.end.row,this.end.column=l.end.column;else if(l.end.row==this.start.row)this.folds.unshift(l),this.start.row=l.start.row,this.start.column=l.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");l.foldLine=this},this.containsRow=function(l){return l>=this.start.row&&l<=this.end.row},this.walk=function(l,h,f){var c=0,o=this.folds,u,d,p,m=!0;h==null&&(h=this.end.row,f=this.end.column);for(var v=0;v<o.length;v++){if(u=o[v],d=u.range.compareStart(h,f),d==-1){l(null,h,f,c,m);return}if(p=l(null,u.start.row,u.start.column,c,m),p=!p&&l(u.placeholder,u.start.row,u.start.column,c),p||d===0)return;m=!u.sameRow,c=u.end.column}l(null,h,f,c,m)},this.getNextFoldTo=function(l,h){for(var f,c,o=0;o<this.folds.length;o++){if(f=this.folds[o],c=f.range.compareEnd(l,h),c==-1)return{fold:f,kind:"after"};if(c===0)return{fold:f,kind:"inside"}}return null},this.addRemoveChars=function(l,h,f){var c=this.getNextFoldTo(l,h),o,u;if(c){if(o=c.fold,c.kind=="inside"&&o.start.column!=h&&o.start.row!=l)window.console&&window.console.log(l,h,o);else if(o.start.row==l){u=this.folds;var d=u.indexOf(o);for(d===0&&(this.start.column+=f),d;d<u.length;d++){if(o=u[d],o.start.column+=f,!o.sameRow)return;o.end.column+=f}this.end.column+=f}}},this.split=function(l,h){var f=this.getNextFoldTo(l,h);if(!f||f.kind=="inside")return null;var c=f.fold,o=this.folds,u=this.foldData,d=o.indexOf(c),p=o[d-1];this.end.row=p.end.row,this.end.column=p.end.column,o=o.splice(d,o.length-d);var m=new a(u,o);return u.splice(u.indexOf(this)+1,0,m),m},this.merge=function(l){for(var h=l.folds,f=0;f<h.length;f++)this.addFold(h[f]);var c=this.foldData;c.splice(c.indexOf(l),1)},this.toString=function(){var l=[this.range.toString()+": ["];return this.folds.forEach(function(h){l.push("  "+h.toString())}),l.push("]"),l.join(`
`)},this.idxToPosition=function(l){for(var h=0,f=0;f<this.folds.length;f++){var c=this.folds[f];if(l-=c.start.column-h,l<0)return{row:c.start.row,column:c.start.column+l};if(l-=c.placeholder.length,l<0)return c.start;h=c.end.column}return{row:this.end.row,column:this.end.column+l}}}).call(a.prototype),i.FoldLine=a}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,i,r){var s=t("./range").Range,a=s.comparePoints,l=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=a,this.pointIndex=function(h,f,c){for(var o=this.ranges,u=c||0;u<o.length;u++){var d=o[u],p=a(h,d.end);if(!(p>0)){var m=a(h,d.start);return p===0?f&&m!==0?-u-2:u:m>0||m===0&&!f?u:-u-1}}return-u-1},this.add=function(h){var f=!h.isEmpty(),c=this.pointIndex(h.start,f);c<0&&(c=-c-1);var o=this.pointIndex(h.end,f,c);return o<0?o=-o-1:o++,this.ranges.splice(c,o-c,h)},this.addList=function(h){for(var f=[],c=h.length;c--;)f.push.apply(f,this.add(h[c]));return f},this.substractPoint=function(h){var f=this.pointIndex(h);if(f>=0)return this.ranges.splice(f,1)},this.merge=function(){var h=[],f=this.ranges;f=f.sort(function(p,m){return a(p.start,m.start)});for(var c=f[0],o,u=1;u<f.length;u++){o=c,c=f[u];var d=a(o.end,c.start);d<0||d==0&&!o.isEmpty()&&!c.isEmpty()||(a(o.end,c.end)<0&&(o.end.row=c.end.row,o.end.column=c.end.column),f.splice(u,1),h.push(c),c=o,u--)}return this.ranges=f,h},this.contains=function(h,f){return this.pointIndex({row:h,column:f})>=0},this.containsPoint=function(h){return this.pointIndex(h)>=0},this.rangeAtPoint=function(h){var f=this.pointIndex(h);if(f>=0)return this.ranges[f]},this.clipRows=function(h,f){var c=this.ranges;if(c[0].start.row>f||c[c.length-1].start.row<h)return[];var o=this.pointIndex({row:h,column:0});o<0&&(o=-o-1);var u=this.pointIndex({row:f,column:0},o);u<0&&(u=-u-1);for(var d=[],p=o;p<u;p++)d.push(c[p]);return d},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(h){this.session&&this.detach(),this.session=h,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(h){for(var f=h.start,c=h.end,o=f.row,u=c.row,d=this.ranges,p=0,m=d.length;p<m;p++){var v=d[p];if(v.end.row>=o)break}if(h.action=="insert")for(var x=u-o,w=-f.column+c.column;p<m;p++){var v=d[p];if(v.start.row>o)break;if(v.start.row==o&&v.start.column>=f.column&&(v.start.column==f.column&&this.$bias<=0||(v.start.column+=w,v.start.row+=x)),v.end.row==o&&v.end.column>=f.column){if(v.end.column==f.column&&this.$bias<0)continue;v.end.column==f.column&&w>0&&p<m-1&&v.end.column>v.start.column&&v.end.column==d[p+1].start.column&&(v.end.column-=w),v.end.column+=w,v.end.row+=x}}else for(var x=o-u,w=f.column-c.column;p<m;p++){var v=d[p];if(v.start.row>u)break;v.end.row<u&&(o<v.end.row||o==v.end.row&&f.column<v.end.column)?(v.end.row=o,v.end.column=f.column):v.end.row==u?v.end.column<=c.column?(x||v.end.column>f.column)&&(v.end.column=f.column,v.end.row=f.row):(v.end.column+=w,v.end.row+=x):v.end.row>u&&(v.end.row+=x),v.start.row<u&&(o<v.start.row||o==v.start.row&&f.column<v.start.column)?(v.start.row=o,v.start.column=f.column):v.start.row==u?v.start.column<=c.column?(x||v.start.column>f.column)&&(v.start.column=f.column,v.start.row=f.row):(v.start.column+=w,v.start.row+=x):v.start.row>u&&(v.start.row+=x)}if(x!=0&&p<m)for(;p<m;p++){var v=d[p];v.start.row+=x,v.end.row+=x}}}).call(l.prototype),i.RangeList=l}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(t,i,r){var s=t("../range_list").RangeList,a=t("../lib/oop"),l=i.Fold=function(u,d){this.foldLine=null,this.placeholder=d,this.range=u,this.start=u.start,this.end=u.end,this.sameRow=u.start.row==u.end.row,this.subFolds=this.ranges=[]};a.inherits(l,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(u){this.foldLine=u,this.subFolds.forEach(function(d){d.setFoldLine(u)})},this.clone=function(){var u=this.range.clone(),d=new l(u,this.placeholder);return this.subFolds.forEach(function(p){d.subFolds.push(p.clone())}),d.collapseChildren=this.collapseChildren,d},this.addSubFold=function(u){if(!this.range.isEqual(u)){f(u,this.start);for(var x=u.start.row,w=u.start.column,d=0,p=-1;d<this.subFolds.length&&(p=this.subFolds[d].range.compare(x,w),p==1);d++);var m=this.subFolds[d],v=0;if(p==0){if(m.range.containsRange(u))return m.addSubFold(u);v=1}for(var x=u.range.end.row,w=u.range.end.column,A=d,p=-1;A<this.subFolds.length&&(p=this.subFolds[A].range.compare(x,w),p==1);A++);p==0&&A++;for(var M=this.subFolds.splice(d,A-d,u),C=p==0?M.length-1:M.length,E=v;E<C;E++)u.addSubFold(M[E]);return u.setFoldLine(this.foldLine),u}},this.restoreRange=function(u){return o(u,this.start)}}.call(l.prototype);function h(u,d){u.row-=d.row,u.row==0&&(u.column-=d.column)}function f(u,d){h(u.start,d),h(u.end,d)}function c(u,d){u.row==0&&(u.column+=d.column),u.row+=d.row}function o(u,d){c(u.start,d),c(u.end,d)}}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,i,r){var s=t("../range").Range,a=t("./fold_line").FoldLine,l=t("./fold").Fold,h=t("../token_iterator").TokenIterator;function f(){this.getFoldAt=function(c,o,u){var d=this.getFoldLine(c);if(!d)return null;for(var p=d.folds,m=0;m<p.length;m++){var v=p[m].range;if(v.contains(c,o)){if(u==1&&v.isEnd(c,o)&&!v.isEmpty())continue;if(u==-1&&v.isStart(c,o)&&!v.isEmpty())continue;return p[m]}}},this.getFoldsInRange=function(c){var o=c.start,u=c.end,d=this.$foldData,p=[];o.column+=1,u.column-=1;for(var m=0;m<d.length;m++){var v=d[m].range.compareRange(c);if(v!=2){if(v==-2)break;for(var x=d[m].folds,w=0;w<x.length;w++){var A=x[w];if(v=A.range.compareRange(c),v==-2)break;if(v==2)continue;if(v==42)break;p.push(A)}}}return o.column-=1,u.column+=1,p},this.getFoldsInRangeList=function(c){if(Array.isArray(c)){var o=[];c.forEach(function(u){o=o.concat(this.getFoldsInRange(u))},this)}else var o=this.getFoldsInRange(c);return o},this.getAllFolds=function(){for(var c=[],o=this.$foldData,u=0;u<o.length;u++)for(var d=0;d<o[u].folds.length;d++)c.push(o[u].folds[d]);return c},this.getFoldStringAt=function(c,o,u,d){if(d=d||this.getFoldLine(c),!d)return null;for(var p={end:{column:0}},m,v,x=0;x<d.folds.length;x++){v=d.folds[x];var w=v.range.compareEnd(c,o);if(w==-1){m=this.getLine(v.start.row).substring(p.end.column,v.start.column);break}else if(w===0)return null;p=v}return m||(m=this.getLine(v.start.row).substring(p.end.column)),u==-1?m.substring(0,o-p.end.column):u==1?m.substring(o-p.end.column):m},this.getFoldLine=function(c,o){var u=this.$foldData,d=0;for(o&&(d=u.indexOf(o)),d==-1&&(d=0),d;d<u.length;d++){var p=u[d];if(p.start.row<=c&&p.end.row>=c)return p;if(p.end.row>c)return null}return null},this.getNextFoldLine=function(c,o){var u=this.$foldData,d=0;for(o&&(d=u.indexOf(o)),d==-1&&(d=0),d;d<u.length;d++){var p=u[d];if(p.end.row>=c)return p}return null},this.getFoldedRowCount=function(c,o){for(var u=this.$foldData,d=o-c+1,p=0;p<u.length;p++){var m=u[p],v=m.end.row,x=m.start.row;if(v>=o){x<o&&(x>=c?d-=o-x:d=0);break}else v>=c&&(x>=c?d-=v-x:d-=v-c+1)}return d},this.$addFoldLine=function(c){return this.$foldData.push(c),this.$foldData.sort(function(o,u){return o.start.row-u.start.row}),c},this.addFold=function(c,o){var u=this.$foldData,d=!1,p;c instanceof l?p=c:(p=new l(o,c),p.collapseChildren=o.collapseChildren),this.$clipRangeToDocument(p.range);var m=p.start.row,v=p.start.column,x=p.end.row,w=p.end.column,A=this.getFoldAt(m,v,1),M=this.getFoldAt(x,w,-1);if(A&&M==A)return A.addSubFold(p);A&&!A.range.isStart(m,v)&&this.removeFold(A),M&&!M.range.isEnd(x,w)&&this.removeFold(M);var C=this.getFoldsInRange(p.range);C.length>0&&(this.removeFolds(C),p.collapseChildren||C.forEach(function(_){p.addSubFold(_)}));for(var E=0;E<u.length;E++){var R=u[E];if(x==R.start.row){R.addFold(p),d=!0;break}else if(m==R.end.row){if(R.addFold(p),d=!0,!p.sameRow){var b=u[E+1];if(b&&b.start.row==x){R.merge(b);break}}break}else if(x<=R.start.row)break}return d||(R=this.$addFoldLine(new a(this.$foldData,p))),this.$useWrapMode?this.$updateWrapData(R.start.row,R.start.row):this.$updateRowLengthCache(R.start.row,R.start.row),this.$modified=!0,this._signal("changeFold",{data:p,action:"add"}),p},this.addFolds=function(c){c.forEach(function(o){this.addFold(o)},this)},this.removeFold=function(c){var o=c.foldLine,u=o.start.row,d=o.end.row,p=this.$foldData,m=o.folds;if(m.length==1)p.splice(p.indexOf(o),1);else if(o.range.isEnd(c.end.row,c.end.column))m.pop(),o.end.row=m[m.length-1].end.row,o.end.column=m[m.length-1].end.column;else if(o.range.isStart(c.start.row,c.start.column))m.shift(),o.start.row=m[0].start.row,o.start.column=m[0].start.column;else if(c.sameRow)m.splice(m.indexOf(c),1);else{var v=o.split(c.start.row,c.start.column);m=v.folds,m.shift(),v.start.row=m[0].start.row,v.start.column=m[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(u,d):this.$updateRowLengthCache(u,d)),this.$modified=!0,this._signal("changeFold",{data:c,action:"remove"})},this.removeFolds=function(c){for(var o=[],u=0;u<c.length;u++)o.push(c[u]);o.forEach(function(d){this.removeFold(d)},this),this.$modified=!0},this.expandFold=function(c){this.removeFold(c),c.subFolds.forEach(function(o){c.restoreRange(o),this.addFold(o)},this),c.collapseChildren>0&&this.foldAll(c.start.row+1,c.end.row,c.collapseChildren-1),c.subFolds=[]},this.expandFolds=function(c){c.forEach(function(o){this.expandFold(o)},this)},this.unfold=function(c,o){var u,d;if(c==null)u=new s(0,0,this.getLength(),0),o==null&&(o=!0);else if(typeof c=="number")u=new s(c,0,c,this.getLine(c).length);else if("row"in c)u=s.fromPoints(c,c);else{if(Array.isArray(c))return d=[],c.forEach(function(m){d=d.concat(this.unfold(m))},this),d;u=c}d=this.getFoldsInRangeList(u);for(var p=d;d.length==1&&s.comparePoints(d[0].start,u.start)<0&&s.comparePoints(d[0].end,u.end)>0;)this.expandFolds(d),d=this.getFoldsInRangeList(u);if(o!=!1?this.removeFolds(d):this.expandFolds(d),p.length)return p},this.isRowFolded=function(c,o){return!!this.getFoldLine(c,o)},this.getRowFoldEnd=function(c,o){var u=this.getFoldLine(c,o);return u?u.end.row:c},this.getRowFoldStart=function(c,o){var u=this.getFoldLine(c,o);return u?u.start.row:c},this.getFoldDisplayLine=function(c,o,u,d,p){d==null&&(d=c.start.row),p==null&&(p=0),o==null&&(o=c.end.row),u==null&&(u=this.getLine(o).length);var m=this.doc,v="";return c.walk(function(x,w,A,M){if(!(w<d)){if(w==d){if(A<p)return;M=Math.max(p,M)}x!=null?v+=x:v+=m.getLine(w).substring(M,A)}},o,u),v},this.getDisplayLine=function(c,o,u,d){var p=this.getFoldLine(c);if(p)return this.getFoldDisplayLine(p,c,o,u,d);var m;return m=this.doc.getLine(c),m.substring(d||0,o||m.length)},this.$cloneFoldData=function(){var c=[];return c=this.$foldData.map(function(o){var u=o.folds.map(function(d){return d.clone()});return new a(c,u)}),c},this.toggleFold=function(c){var o=this.selection,u=o.getRange(),d,p;if(u.isEmpty()){var m=u.start;if(d=this.getFoldAt(m.row,m.column),d){this.expandFold(d);return}else(p=this.findMatchingBracket(m))?u.comparePoint(p)==1?u.end=p:(u.start=p,u.start.column++,u.end.column--):(p=this.findMatchingBracket({row:m.row,column:m.column+1}))?(u.comparePoint(p)==1?u.end=p:u.start=p,u.start.column++):u=this.getCommentFoldRange(m.row,m.column)||u}else{var v=this.getFoldsInRange(u);if(c&&v.length){this.expandFolds(v);return}else v.length==1&&(d=v[0])}if(d||(d=this.getFoldAt(u.start.row,u.start.column)),d&&d.range.toString()==u.toString()){this.expandFold(d);return}var x="...";if(!u.isMultiLine()){if(x=this.getTextRange(u),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,u)},this.getCommentFoldRange=function(c,o,u){var d=new h(this,c,o),p=d.getCurrentToken(),m=p&&p.type;if(p&&/^comment|string/.test(m)){m=m.match(/comment|string/)[0],m=="comment"&&(m+="|doc-start");var v=new RegExp(m),x=new s;if(u!=1){do p=d.stepBackward();while(p&&v.test(p.type)&&!/^comment.end/.test(p.type));p=d.stepForward()}if(x.start.row=d.getCurrentTokenRow(),x.start.column=d.getCurrentTokenColumn()+(/^comment.start/.test(p.type)?p.value.length:2),d=new h(this,c,o),u!=-1){var w=-1;do if(p=d.stepForward(),w==-1){var A=this.getState(d.$row);v.test(A)||(w=d.$row)}else if(d.$row>w)break;while(p&&v.test(p.type)&&!/^comment.start/.test(p.type));p=d.stepBackward()}else p=d.getCurrentToken();return x.end.row=d.getCurrentTokenRow(),x.end.column=d.getCurrentTokenColumn(),/^comment.end/.test(p.type)||(x.end.column+=p.value.length-2),x}},this.foldAll=function(c,o,u,d){u==null&&(u=1e5);var p=this.foldWidgets;if(!!p){o=o||this.getLength(),c=c||0;for(var m=c;m<o;m++)if(p[m]==null&&(p[m]=this.getFoldWidget(m)),p[m]=="start"&&!(d&&!d(m))){var v=this.getFoldWidgetRange(m);v&&v.isMultiLine()&&v.end.row<=o&&v.start.row>=c&&(m=v.end.row,v.collapseChildren=u,this.addFold("...",v))}}},this.foldToLevel=function(c){for(this.foldAll();c-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var c=this;this.foldAll(null,null,null,function(o){for(var u=c.getTokens(o),d=0;d<u.length;d++){var p=u[d];if(!(p.type=="text"&&/^\s+$/.test(p.value)))return!!/comment/.test(p.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(c){if(!this.$foldStyles[c])throw new Error("invalid fold style: "+c+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=c){this.$foldStyle=c,c=="manual"&&this.unfold();var o=this.$foldMode;this.$setFolding(null),this.$setFolding(o)}},this.$setFolding=function(c){if(this.$foldMode!=c){if(this.$foldMode=c,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!c||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=c.getFoldWidget.bind(c,this,this.$foldStyle),this.getFoldWidgetRange=c.getFoldWidgetRange.bind(c,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(c,o){var u=this.foldWidgets;if(!u||o&&u[c])return{};for(var d=c-1,p;d>=0;){var m=u[d];if(m==null&&(m=u[d]=this.getFoldWidget(d)),m=="start"){var v=this.getFoldWidgetRange(d);if(p||(p=v),v&&v.end.row>=c)break}d--}return{range:d!==-1&&v,firstRange:p}},this.onFoldWidgetClick=function(c,o){o=o.domEvent;var u={children:o.shiftKey,all:o.ctrlKey||o.metaKey,siblings:o.altKey},d=this.$toggleFoldWidget(c,u);if(!d){var p=o.target||o.srcElement;p&&/ace_fold-widget/.test(p.className)&&(p.className+=" ace_invalid")}},this.$toggleFoldWidget=function(c,o){if(!!this.getFoldWidget){var u=this.getFoldWidget(c),d=this.getLine(c),p=u==="end"?-1:1,m=this.getFoldAt(c,p===-1?0:d.length,p);if(m)return o.children||o.all?this.removeFold(m):this.expandFold(m),m;var v=this.getFoldWidgetRange(c,!0);if(v&&!v.isMultiLine()&&(m=this.getFoldAt(v.start.row,v.start.column,1),m&&v.isEqual(m.range)))return this.removeFold(m),m;if(o.siblings){var x=this.getParentFoldRangeData(c);if(x.range)var w=x.range.start.row+1,A=x.range.end.row;this.foldAll(w,A,o.all?1e4:0)}else o.children?(A=v?v.end.row:this.getLength(),this.foldAll(c+1,A,o.all?1e4:0)):v&&(o.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(c){var o=this.selection.getCursor().row;o=this.getRowFoldStart(o);var u=this.$toggleFoldWidget(o,{});if(!u){var d=this.getParentFoldRangeData(o,!0);if(u=d.range||d.firstRange,u){o=u.start.row;var p=this.getFoldAt(o,this.getLine(o).length,1);p?this.removeFold(p):this.addFold("...",u)}}},this.updateFoldWidgets=function(c){var o=c.start.row,u=c.end.row-o;if(u===0)this.foldWidgets[o]=null;else if(c.action=="remove")this.foldWidgets.splice(o,u+1,null);else{var d=Array(u+1);d.unshift(o,1),this.foldWidgets.splice.apply(this.foldWidgets,d)}},this.tokenizerUpdateFoldWidgets=function(c){var o=c.data;o.first!=o.last&&this.foldWidgets.length>o.first&&this.foldWidgets.splice(o.first,this.foldWidgets.length)}}i.Folding=f}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,i,r){var s=t("../token_iterator").TokenIterator,a=t("../range").Range;function l(){this.findMatchingBracket=function(h,f){if(h.column==0)return null;var c=f||this.getLine(h.row).charAt(h.column-1);if(c=="")return null;var o=c.match(/([\(\[\{])|([\)\]\}])/);return o?o[1]?this.$findClosingBracket(o[1],h):this.$findOpeningBracket(o[2],h):null},this.getBracketRange=function(h){var f=this.getLine(h.row),c=!0,o,u=f.charAt(h.column-1),d=u&&u.match(/([\(\[\{])|([\)\]\}])/);if(d||(u=f.charAt(h.column),h={row:h.row,column:h.column+1},d=u&&u.match(/([\(\[\{])|([\)\]\}])/),c=!1),!d)return null;if(d[1]){var p=this.$findClosingBracket(d[1],h);if(!p)return null;o=a.fromPoints(h,p),c||(o.end.column++,o.start.column--),o.cursor=o.end}else{var p=this.$findOpeningBracket(d[2],h);if(!p)return null;o=a.fromPoints(p,h),c||(o.start.column++,o.end.column--),o.cursor=o.start}return o},this.getMatchingBracketRanges=function(h,f){var c=this.getLine(h.row),o=/([\(\[\{])|([\)\]\}])/,u=!f&&c.charAt(h.column-1),d=u&&u.match(o);if(d||(u=(f===void 0||f)&&c.charAt(h.column),h={row:h.row,column:h.column+1},d=u&&u.match(o)),!d)return null;var p=new a(h.row,h.column-1,h.row,h.column),m=d[1]?this.$findClosingBracket(d[1],h):this.$findOpeningBracket(d[2],h);if(!m)return[p];var v=new a(m.row,m.column,m.row,m.column+1);return[p,v]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(h,f,c){var o=this.$brackets[h],u=1,d=new s(this,f.row,f.column),p=d.getCurrentToken();if(p||(p=d.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var m=f.column-d.getCurrentTokenColumn()-2,v=p.value;;){for(;m>=0;){var x=v.charAt(m);if(x==o){if(u-=1,u==0)return{row:d.getCurrentTokenRow(),column:m+d.getCurrentTokenColumn()}}else x==h&&(u+=1);m-=1}do p=d.stepBackward();while(p&&!c.test(p.type));if(p==null)break;v=p.value,m=v.length-1}return null}},this.$findClosingBracket=function(h,f,c){var o=this.$brackets[h],u=1,d=new s(this,f.row,f.column),p=d.getCurrentToken();if(p||(p=d.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var m=f.column-d.getCurrentTokenColumn();;){for(var v=p.value,x=v.length;m<x;){var w=v.charAt(m);if(w==o){if(u-=1,u==0)return{row:d.getCurrentTokenRow(),column:m+d.getCurrentTokenColumn()}}else w==h&&(u+=1);m+=1}do p=d.stepForward();while(p&&!c.test(p.type));if(p==null)break;m=0}return null}},this.getMatchingTags=function(h){var f=new s(this,h.row,h.column),c=this.$findTagName(f);if(!!c){var o=f.stepBackward();return o.value==="<"?this.$findClosingTag(f,c):this.$findOpeningTag(f,c)}},this.$findTagName=function(h){var f=h.getCurrentToken(),c=!1,o=!1;if(f&&f.type.indexOf("tag-name")===-1)do o?f=h.stepBackward():f=h.stepForward(),f&&(f.value==="/>"?o=!0:f.type.indexOf("tag-name")!==-1&&(c=!0));while(f&&!c);return f},this.$findClosingTag=function(h,f){var c,o=f.value,u=f.value,d=0,p=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);f=h.stepForward();var m=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+f.value.length),v=!1;do if(c=f,f=h.stepForward(),f){if(f.value===">"&&!v){var x=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);v=!0}if(f.type.indexOf("tag-name")!==-1){if(o=f.value,u===o){if(c.value==="<")d++;else if(c.value==="</"&&(d--,d<0)){h.stepBackward();var w=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2);f=h.stepForward();var A=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+f.value.length);if(f=h.stepForward(),f&&f.value===">")var M=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);else return}}}else if(u===o&&f.value==="/>"&&(d--,d<0))var w=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2),A=w,M=A,x=new a(m.end.row,m.end.column,m.end.row,m.end.column+1)}while(f&&d>=0);if(p&&x&&w&&M&&m&&A)return{openTag:new a(p.start.row,p.start.column,x.end.row,x.end.column),closeTag:new a(w.start.row,w.start.column,M.end.row,M.end.column),openTagName:m,closeTagName:A}},this.$findOpeningTag=function(h,f){var c=h.getCurrentToken(),o=f.value,u=0,d=h.getCurrentTokenRow(),p=h.getCurrentTokenColumn(),m=p+2,v=new a(d,p,d,m);h.stepForward();var x=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+f.value.length);if(f=h.stepForward(),!(!f||f.value!==">")){var w=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);h.stepBackward(),h.stepBackward();do if(f=c,d=h.getCurrentTokenRow(),p=h.getCurrentTokenColumn(),m=p+f.value.length,c=h.stepBackward(),f){if(f.type.indexOf("tag-name")!==-1){if(o===f.value)if(c.value==="<"){if(u++,u>0){var A=new a(d,p,d,m),M=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);do f=h.stepForward();while(f&&f.value!==">");var C=new a(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1)}}else c.value==="</"&&u--}else if(f.value==="/>"){for(var E=0,R=c;R;){if(R.type.indexOf("tag-name")!==-1&&R.value===o){u--;break}else if(R.value==="<")break;R=h.stepBackward(),E++}for(var b=0;b<E;b++)h.stepForward()}}while(c&&u<=0);if(M&&C&&v&&w&&A&&x)return{openTag:new a(M.start.row,M.start.column,C.end.row,C.end.column),closeTag:new a(v.start.row,v.start.column,w.end.row,w.end.column),openTagName:A,closeTagName:x}}}}i.BracketMatch=l}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/lang"),l=t("./bidihandler").BidiHandler,h=t("./config"),f=t("./lib/event_emitter").EventEmitter,c=t("./selection").Selection,o=t("./mode/text").Mode,u=t("./range").Range,d=t("./document").Document,p=t("./background_tokenizer").BackgroundTokenizer,m=t("./search_highlight").SearchHighlight,v=function(x,w){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++v.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new p(new o().getTokenizer(),this);var A=this;this.bgTokenizer.on("update",function(M){A._signal("tokenizerUpdate",M)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof x!="object"||!x.getLine)&&(x=new d(x)),this.setDocument(x),this.selection=new c(this),this.$bidiHandler=new l(this),h.resetOptions(this),this.setMode(w),h._signal("session",this),this.destroyed=!1};v.$uid=0,function(){s.implement(this,f),this.setDocument=function(S){this.doc&&this.doc.off("change",this.$onChange),this.doc=S,S.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(S){if(!S){this.$docRowCache=[],this.$screenRowCache=[];return}var T=this.$docRowCache.length,P=this.$getRowCacheIndex(this.$docRowCache,S)+1;T>P&&(this.$docRowCache.splice(P,T),this.$screenRowCache.splice(P,T))},this.$getRowCacheIndex=function(S,T){for(var P=0,I=S.length-1;P<=I;){var z=P+I>>1,O=S[z];if(T>O)P=z+1;else if(T<O)I=z-1;else return z}return P-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(S){var T=S.data;this.$resetRowCache(T.start.row)},this.onChange=function(S){this.$modified=!0,this.$bidiHandler.onChange(S),this.$resetRowCache(S.start.row);var T=this.$updateInternalDataOnChange(S);!this.$fromUndo&&this.$undoManager&&(T&&T.length&&(this.$undoManager.add({action:"removeFolds",folds:T},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(S,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(S),this._signal("change",S)},this.setValue=function(S){this.doc.setValue(S),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(S){return this.bgTokenizer.getState(S)},this.getTokens=function(S){return this.bgTokenizer.getTokens(S)},this.getTokenAt=function(S,T){var P=this.bgTokenizer.getTokens(S),I,z=0;if(T==null){var O=P.length-1;z=this.getLine(S).length}else for(var O=0;O<P.length&&(z+=P[O].value.length,!(z>=T));O++);return I=P[O],I?(I.index=O,I.start=z-I.value.length,I):null},this.setUndoManager=function(S){if(this.$undoManager=S,this.$informUndoManager&&this.$informUndoManager.cancel(),S){var T=this;S.addSession(this),this.$syncInformUndoManager=function(){T.$informUndoManager.cancel(),T.mergeUndoDeltas=!1},this.$informUndoManager=a.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?a.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(S){this.setOption("useSoftTabs",S)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(S){this.setOption("tabSize",S)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(S){return this.$useSoftTabs&&S.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(S){this.setOption("navigateWithinSoftTabs",S)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(S){this.setOption("overwrite",S)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(S,T){this.$decorations[S]||(this.$decorations[S]=""),this.$decorations[S]+=" "+T,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(S,T){this.$decorations[S]=(this.$decorations[S]||"").replace(" "+T,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(S){this.$breakpoints=[];for(var T=0;T<S.length;T++)this.$breakpoints[S[T]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(S,T){T===void 0&&(T="ace_breakpoint"),T?this.$breakpoints[S]=T:delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(S){delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},this.addMarker=function(S,T,P,I){var z=this.$markerId++,O={range:S,type:P||"line",renderer:typeof P=="function"?P:null,clazz:T,inFront:!!I,id:z};return I?(this.$frontMarkers[z]=O,this._signal("changeFrontMarker")):(this.$backMarkers[z]=O,this._signal("changeBackMarker")),z},this.addDynamicMarker=function(S,T){if(!!S.update){var P=this.$markerId++;return S.id=P,S.inFront=!!T,T?(this.$frontMarkers[P]=S,this._signal("changeFrontMarker")):(this.$backMarkers[P]=S,this._signal("changeBackMarker")),S}},this.removeMarker=function(S){var T=this.$frontMarkers[S]||this.$backMarkers[S];if(!!T){var P=T.inFront?this.$frontMarkers:this.$backMarkers;delete P[S],this._signal(T.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(S){return S?this.$frontMarkers:this.$backMarkers},this.highlight=function(S){if(!this.$searchHighlight){var T=new m(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(T)}this.$searchHighlight.setRegexp(S)},this.highlightLines=function(S,T,P,I){typeof T!="number"&&(P=T,T=S),P||(P="ace_step");var z=new u(S,0,T,1/0);return z.id=this.addMarker(z,P,"fullLine",I),z},this.setAnnotations=function(S){this.$annotations=S,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(S){var T=S.match(/^.*?(\r?\n)/m);T?this.$autoNewLine=T[1]:this.$autoNewLine=`
`},this.getWordRange=function(S,T){var P=this.getLine(S),I=!1;if(T>0&&(I=!!P.charAt(T-1).match(this.tokenRe)),I||(I=!!P.charAt(T).match(this.tokenRe)),I)var z=this.tokenRe;else if(/^\s+$/.test(P.slice(T-1,T+1)))var z=/\s/;else var z=this.nonTokenRe;var O=T;if(O>0){do O--;while(O>=0&&P.charAt(O).match(z));O++}for(var D=T;D<P.length&&P.charAt(D).match(z);)D++;return new u(S,O,S,D)},this.getAWordRange=function(S,T){for(var P=this.getWordRange(S,T),I=this.getLine(P.end.row);I.charAt(P.end.column).match(/[ \t]/);)P.end.column+=1;return P},this.setNewLineMode=function(S){this.doc.setNewLineMode(S)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(S){this.setOption("useWorker",S)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(S){var T=S.data;this.bgTokenizer.start(T.first),this._signal("tokenizerUpdate",S)},this.$modes=h.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(S,T){if(S&&typeof S=="object"){if(S.getTokenizer)return this.$onChangeMode(S);var P=S,I=P.path}else I=S||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new o),this.$modes[I]&&!P){this.$onChangeMode(this.$modes[I]),T&&T();return}this.$modeId=I,h.loadModule(["mode",I],function(z){if(this.$modeId!==I)return T&&T();this.$modes[I]&&!P?this.$onChangeMode(this.$modes[I]):z&&z.Mode&&(z=new z.Mode(P),P||(this.$modes[I]=z,z.$id=I),this.$onChangeMode(z)),T&&T()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(S,T){if(T||(this.$modeId=S.$id),this.$mode!==S){var P=this.$mode;this.$mode=S,this.$stopWorker(),this.$useWorker&&this.$startWorker();var I=S.getTokenizer();if(I.on!==void 0){var z=this.onReloadTokenizer.bind(this);I.on("update",z)}this.bgTokenizer.setTokenizer(I),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=S.tokenRe,this.nonTokenRe=S.nonTokenRe,T||(S.attachToSession&&S.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(S.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:P,mode:S}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(S){h.warn("Could not load worker",S),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(S){this.$scrollTop===S||isNaN(S)||(this.$scrollTop=S,this._signal("changeScrollTop",S))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(S){this.$scrollLeft===S||isNaN(S)||(this.$scrollLeft=S,this._signal("changeScrollLeft",S))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var S=0;return this.lineWidgets.forEach(function(T){T&&T.screenWidth>S&&(S=T.screenWidth)}),this.lineWidgetWidth=S},this.$computeWidth=function(S){if(this.$modified||S){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var T=this.doc.getAllLines(),P=this.$rowLengthCache,I=0,z=0,O=this.$foldData[z],D=O?O.start.row:1/0,B=T.length,F=0;F<B;F++){if(F>D){if(F=O.end.row+1,F>=B)break;O=this.$foldData[z++],D=O?O.start.row:1/0}P[F]==null&&(P[F]=this.$getStringScreenWidth(T[F])[0]),P[F]>I&&(I=P[F])}this.screenWidth=I}},this.getLine=function(S){return this.doc.getLine(S)},this.getLines=function(S,T){return this.doc.getLines(S,T)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(S){return this.doc.getTextRange(S||this.selection.getRange())},this.insert=function(S,T){return this.doc.insert(S,T)},this.remove=function(S){return this.doc.remove(S)},this.removeFullLines=function(S,T){return this.doc.removeFullLines(S,T)},this.undoChanges=function(S,T){if(!!S.length){this.$fromUndo=!0;for(var P=S.length-1;P!=-1;P--){var I=S[P];I.action=="insert"||I.action=="remove"?this.doc.revertDelta(I):I.folds&&this.addFolds(I.folds)}!T&&this.$undoSelect&&(S.selectionBefore?this.selection.fromJSON(S.selectionBefore):this.selection.setRange(this.$getUndoSelection(S,!0))),this.$fromUndo=!1}},this.redoChanges=function(S,T){if(!!S.length){this.$fromUndo=!0;for(var P=0;P<S.length;P++){var I=S[P];(I.action=="insert"||I.action=="remove")&&this.doc.$safeApplyDelta(I)}!T&&this.$undoSelect&&(S.selectionAfter?this.selection.fromJSON(S.selectionAfter):this.selection.setRange(this.$getUndoSelection(S,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(S){this.$undoSelect=S},this.$getUndoSelection=function(S,T){function P(B){return T?B.action!=="insert":B.action==="insert"}for(var I,z,O=0;O<S.length;O++){var D=S[O];if(!!D.start){if(!I){P(D)?I=u.fromPoints(D.start,D.end):I=u.fromPoints(D.start,D.start);continue}P(D)?(z=D.start,I.compare(z.row,z.column)==-1&&I.setStart(z),z=D.end,I.compare(z.row,z.column)==1&&I.setEnd(z)):(z=D.start,I.compare(z.row,z.column)==-1&&(I=u.fromPoints(D.start,D.start)))}}return I},this.replace=function(S,T){return this.doc.replace(S,T)},this.moveText=function(S,T,P){var I=this.getTextRange(S),z=this.getFoldsInRange(S),O=u.fromPoints(T,T);if(!P){this.remove(S);var D=S.start.row-S.end.row,B=D?-S.end.column:S.start.column-S.end.column;B&&(O.start.row==S.end.row&&O.start.column>S.end.column&&(O.start.column+=B),O.end.row==S.end.row&&O.end.column>S.end.column&&(O.end.column+=B)),D&&O.start.row>=S.end.row&&(O.start.row+=D,O.end.row+=D)}if(O.end=this.insert(O.start,I),z.length){var F=S.start,U=O.start,D=U.row-F.row,B=U.column-F.column;this.addFolds(z.map(function(Y){return Y=Y.clone(),Y.start.row==F.row&&(Y.start.column+=B),Y.end.row==F.row&&(Y.end.column+=B),Y.start.row+=D,Y.end.row+=D,Y}))}return O},this.indentRows=function(S,T,P){P=P.replace(/\t/g,this.getTabString());for(var I=S;I<=T;I++)this.doc.insertInLine({row:I,column:0},P)},this.outdentRows=function(S){for(var T=S.collapseRows(),P=new u(0,0,0,0),I=this.getTabSize(),z=T.start.row;z<=T.end.row;++z){var O=this.getLine(z);P.start.row=z,P.end.row=z;for(var D=0;D<I&&O.charAt(D)==" ";++D);D<I&&O.charAt(D)=="	"?(P.start.column=D,P.end.column=D+1):(P.start.column=0,P.end.column=D),this.remove(P)}},this.$moveLines=function(S,T,P){if(S=this.getRowFoldStart(S),T=this.getRowFoldEnd(T),P<0){var I=this.getRowFoldStart(S+P);if(I<0)return 0;var z=I-S}else if(P>0){var I=this.getRowFoldEnd(T+P);if(I>this.doc.getLength()-1)return 0;var z=I-T}else{S=this.$clipRowToDocument(S),T=this.$clipRowToDocument(T);var z=T-S+1}var O=new u(S,0,T,Number.MAX_VALUE),D=this.getFoldsInRange(O).map(function(F){return F=F.clone(),F.start.row+=z,F.end.row+=z,F}),B=P==0?this.doc.getLines(S,T):this.doc.removeFullLines(S,T);return this.doc.insertFullLines(S+z,B),D.length&&this.addFolds(D),z},this.moveLinesUp=function(S,T){return this.$moveLines(S,T,-1)},this.moveLinesDown=function(S,T){return this.$moveLines(S,T,1)},this.duplicateLines=function(S,T){return this.$moveLines(S,T,0)},this.$clipRowToDocument=function(S){return Math.max(0,Math.min(S,this.doc.getLength()-1))},this.$clipColumnToRow=function(S,T){return T<0?0:Math.min(this.doc.getLine(S).length,T)},this.$clipPositionToDocument=function(S,T){if(T=Math.max(0,T),S<0)S=0,T=0;else{var P=this.doc.getLength();S>=P?(S=P-1,T=this.doc.getLine(P-1).length):T=Math.min(this.doc.getLine(S).length,T)}return{row:S,column:T}},this.$clipRangeToDocument=function(S){S.start.row<0?(S.start.row=0,S.start.column=0):S.start.column=this.$clipColumnToRow(S.start.row,S.start.column);var T=this.doc.getLength()-1;return S.end.row>T?(S.end.row=T,S.end.column=this.doc.getLine(T).length):S.end.column=this.$clipColumnToRow(S.end.row,S.end.column),S},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(S){if(S!=this.$useWrapMode){if(this.$useWrapMode=S,this.$modified=!0,this.$resetRowCache(0),S){var T=this.getLength();this.$wrapData=Array(T),this.$updateWrapData(0,T-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(S,T){(this.$wrapLimitRange.min!==S||this.$wrapLimitRange.max!==T)&&(this.$wrapLimitRange={min:S,max:T},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(S,T){var P=this.$wrapLimitRange;P.max<0&&(P={min:T,max:T});var I=this.$constrainWrapLimit(S,P.min,P.max);return I!=this.$wrapLimit&&I>1?(this.$wrapLimit=I,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(S,T,P){return T&&(S=Math.max(T,S)),P&&(S=Math.min(P,S)),S},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(S){this.setWrapLimitRange(S,S)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(S){var T=this.$useWrapMode,P=S.action,I=S.start,z=S.end,O=I.row,D=z.row,B=D-O,F=null;if(this.$updating=!0,B!=0)if(P==="remove"){this[T?"$wrapData":"$rowLengthCache"].splice(O,B);var U=this.$foldData;F=this.getFoldsInRange(S),this.removeFolds(F);var H=this.getFoldLine(z.row),j=0;if(H){H.addRemoveChars(z.row,z.column,I.column-z.column),H.shiftRow(-B);var Y=this.getFoldLine(O);Y&&Y!==H&&(Y.merge(H),H=Y),j=U.indexOf(H)+1}for(j;j<U.length;j++){var H=U[j];H.start.row>=z.row&&H.shiftRow(-B)}D=O}else{var K=Array(B);K.unshift(O,0);var X=T?this.$wrapData:this.$rowLengthCache;X.splice.apply(X,K);var U=this.$foldData,H=this.getFoldLine(O),j=0;if(H){var $=H.range.compareInside(I.row,I.column);$==0?(H=H.split(I.row,I.column),H&&(H.shiftRow(B),H.addRemoveChars(D,0,z.column-I.column))):$==-1&&(H.addRemoveChars(O,0,z.column-I.column),H.shiftRow(B)),j=U.indexOf(H)+1}for(j;j<U.length;j++){var H=U[j];H.start.row>=O&&H.shiftRow(B)}}else{B=Math.abs(S.start.column-S.end.column),P==="remove"&&(F=this.getFoldsInRange(S),this.removeFolds(F),B=-B);var H=this.getFoldLine(O);H&&H.addRemoveChars(O,I.column,B)}return T&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,T?this.$updateWrapData(O,D):this.$updateRowLengthCache(O,D),F},this.$updateRowLengthCache=function(S,T,P){this.$rowLengthCache[S]=null,this.$rowLengthCache[T]=null},this.$updateWrapData=function(S,T){var P=this.doc.getAllLines(),I=this.getTabSize(),z=this.$wrapData,O=this.$wrapLimit,D,B,F=S;for(T=Math.min(T,P.length-1);F<=T;)B=this.getFoldLine(F,B),B?(D=[],B.walk(function(U,H,j,Y){var K;if(U!=null){K=this.$getDisplayTokens(U,D.length),K[0]=A;for(var X=1;X<K.length;X++)K[X]=M}else K=this.$getDisplayTokens(P[H].substring(Y,j),D.length);D=D.concat(K)}.bind(this),B.end.row,P[B.end.row].length+1),z[B.start.row]=this.$computeWrapSplits(D,O,I),F=B.end.row+1):(D=this.$getDisplayTokens(P[F]),z[F]=this.$computeWrapSplits(D,O,I),F++)};var x=1,w=2,A=3,M=4,C=9,E=10,R=11,b=12;this.$computeWrapSplits=function(S,T,P){if(S.length==0)return[];var I=[],z=S.length,O=0,D=0,B=this.$wrapAsCode,F=this.$indentedSoftWrap,U=T<=Math.max(2*P,8)||F===!1?0:Math.floor(T/2);function H(){var $=0;if(U===0)return $;if(F)for(var q=0;q<S.length;q++){var pe=S[q];if(pe==E)$+=1;else if(pe==R)$+=P;else{if(pe==b)continue;break}}return B&&F!==!1&&($+=P),Math.min($,U)}function j($){for(var q=$-O,pe=O;pe<$;pe++){var he=S[pe];(he===12||he===2)&&(q-=1)}I.length||(Y=H(),I.indent=Y),D+=q,I.push(D),O=$}for(var Y=0;z-O>T-Y;){var K=O+T-Y;if(S[K-1]>=E&&S[K]>=E){j(K);continue}if(S[K]==A||S[K]==M){for(K;K!=O-1&&S[K]!=A;K--);if(K>O){j(K);continue}for(K=O+T,K;K<S.length&&S[K]==M;K++);if(K==S.length)break;j(K);continue}for(var X=Math.max(K-(T-(T>>2)),O-1);K>X&&S[K]<A;)K--;if(B){for(;K>X&&S[K]<A;)K--;for(;K>X&&S[K]==C;)K--}else for(;K>X&&S[K]<E;)K--;if(K>X){j(++K);continue}K=O+T,S[K]==w&&K--,j(K-Y)}return I},this.$getDisplayTokens=function(S,T){var P=[],I;T=T||0;for(var z=0;z<S.length;z++){var O=S.charCodeAt(z);if(O==9){I=this.getScreenTabSize(P.length+T),P.push(R);for(var D=1;D<I;D++)P.push(b)}else O==32?P.push(E):O>39&&O<48||O>57&&O<64?P.push(C):O>=4352&&_(O)?P.push(x,w):P.push(x)}return P},this.$getStringScreenWidth=function(S,T,P){if(T==0)return[0,0];T==null&&(T=1/0),P=P||0;var I,z;for(z=0;z<S.length&&(I=S.charCodeAt(z),I==9?P+=this.getScreenTabSize(P):I>=4352&&_(I)?P+=2:P+=1,!(P>T));z++);return[P,z]},this.lineWidgets=null,this.getRowLength=function(S){var T=1;return this.lineWidgets&&(T+=this.lineWidgets[S]&&this.lineWidgets[S].rowCount||0),!this.$useWrapMode||!this.$wrapData[S]?T:this.$wrapData[S].length+T},this.getRowLineCount=function(S){return!this.$useWrapMode||!this.$wrapData[S]?1:this.$wrapData[S].length+1},this.getRowWrapIndent=function(S){if(this.$useWrapMode){var T=this.screenToDocumentPosition(S,Number.MAX_VALUE),P=this.$wrapData[T.row];return P.length&&P[0]<T.column?P.indent:0}else return 0},this.getScreenLastRowColumn=function(S){var T=this.screenToDocumentPosition(S,Number.MAX_VALUE);return this.documentToScreenColumn(T.row,T.column)},this.getDocumentLastRowColumn=function(S,T){var P=this.documentToScreenRow(S,T);return this.getScreenLastRowColumn(P)},this.getDocumentLastRowColumnPosition=function(S,T){var P=this.documentToScreenRow(S,T);return this.screenToDocumentPosition(P,Number.MAX_VALUE/10)},this.getRowSplitData=function(S){if(this.$useWrapMode)return this.$wrapData[S]},this.getScreenTabSize=function(S){return this.$tabSize-(S%this.$tabSize|0)},this.screenToDocumentRow=function(S,T){return this.screenToDocumentPosition(S,T).row},this.screenToDocumentColumn=function(S,T){return this.screenToDocumentPosition(S,T).column},this.screenToDocumentPosition=function(S,T,P){if(S<0)return{row:0,column:0};var I,z=0,O=0,D,B=0,F=0,U=this.$screenRowCache,H=this.$getRowCacheIndex(U,S),j=U.length;if(j&&H>=0)var B=U[H],z=this.$docRowCache[H],Y=S>U[j-1];else var Y=!j;for(var K=this.getLength()-1,X=this.getNextFoldLine(z),$=X?X.start.row:1/0;B<=S&&(F=this.getRowLength(z),!(B+F>S||z>=K));)B+=F,z++,z>$&&(z=X.end.row+1,X=this.getNextFoldLine(z,X),$=X?X.start.row:1/0),Y&&(this.$docRowCache.push(z),this.$screenRowCache.push(B));if(X&&X.start.row<=z)I=this.getFoldDisplayLine(X),z=X.start.row;else{if(B+F<=S||z>K)return{row:K,column:this.getLine(K).length};I=this.getLine(z),X=null}var q=0,pe=Math.floor(S-B);if(this.$useWrapMode){var he=this.$wrapData[z];he&&(D=he[pe],pe>0&&he.length&&(q=he.indent,O=he[pe-1]||he[he.length-1],I=I.substring(O)))}return P!==void 0&&this.$bidiHandler.isBidiRow(B+pe,z,pe)&&(T=this.$bidiHandler.offsetToCol(P)),O+=this.$getStringScreenWidth(I,T-q)[1],this.$useWrapMode&&O>=D&&(O=D-1),X?X.idxToPosition(O):{row:z,column:O}},this.documentToScreenPosition=function(S,T){if(typeof T>"u")var P=this.$clipPositionToDocument(S.row,S.column);else P=this.$clipPositionToDocument(S,T);S=P.row,T=P.column;var I=0,z=null,O=null;O=this.getFoldAt(S,T,1),O&&(S=O.start.row,T=O.start.column);var D,B=0,F=this.$docRowCache,U=this.$getRowCacheIndex(F,S),H=F.length;if(H&&U>=0)var B=F[U],I=this.$screenRowCache[U],j=S>F[H-1];else var j=!H;for(var Y=this.getNextFoldLine(B),K=Y?Y.start.row:1/0;B<S;){if(B>=K){if(D=Y.end.row+1,D>S)break;Y=this.getNextFoldLine(D,Y),K=Y?Y.start.row:1/0}else D=B+1;I+=this.getRowLength(B),B=D,j&&(this.$docRowCache.push(B),this.$screenRowCache.push(I))}var X="";Y&&B>=K?(X=this.getFoldDisplayLine(Y,S,T),z=Y.start.row):(X=this.getLine(S).substring(0,T),z=S);var $=0;if(this.$useWrapMode){var q=this.$wrapData[z];if(q){for(var pe=0;X.length>=q[pe];)I++,pe++;X=X.substring(q[pe-1]||0,X.length),$=pe>0?q.indent:0}}return this.lineWidgets&&this.lineWidgets[B]&&this.lineWidgets[B].rowsAbove&&(I+=this.lineWidgets[B].rowsAbove),{row:I,column:$+this.$getStringScreenWidth(X)[0]}},this.documentToScreenColumn=function(S,T){return this.documentToScreenPosition(S,T).column},this.documentToScreenRow=function(S,T){return this.documentToScreenPosition(S,T).row},this.getScreenLength=function(){var S=0,T=null;if(this.$useWrapMode)for(var z=this.$wrapData.length,O=0,I=0,T=this.$foldData[I++],D=T?T.start.row:1/0;O<z;){var B=this.$wrapData[O];S+=B?B.length+1:1,O++,O>D&&(O=T.end.row+1,T=this.$foldData[I++],D=T?T.start.row:1/0)}else{S=this.getLength();for(var P=this.$foldData,I=0;I<P.length;I++)T=P[I],S-=T.end.row-T.start.row}return this.lineWidgets&&(S+=this.$getWidgetScreenLength()),S},this.$setFontMetrics=function(S){!this.$enableVarChar||(this.$getStringScreenWidth=function(T,P,I){if(P===0)return[0,0];P||(P=1/0),I=I||0;var z,O;for(O=0;O<T.length&&(z=T.charAt(O),z==="	"?I+=this.getScreenTabSize(I):I+=S.getCharacterWidth(z),!(I>P));O++);return[I,O]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=_;function _(S){return S<4352?!1:S>=4352&&S<=4447||S>=4515&&S<=4519||S>=4602&&S<=4607||S>=9001&&S<=9002||S>=11904&&S<=11929||S>=11931&&S<=12019||S>=12032&&S<=12245||S>=12272&&S<=12283||S>=12288&&S<=12350||S>=12353&&S<=12438||S>=12441&&S<=12543||S>=12549&&S<=12589||S>=12593&&S<=12686||S>=12688&&S<=12730||S>=12736&&S<=12771||S>=12784&&S<=12830||S>=12832&&S<=12871||S>=12880&&S<=13054||S>=13056&&S<=19903||S>=19968&&S<=42124||S>=42128&&S<=42182||S>=43360&&S<=43388||S>=44032&&S<=55203||S>=55216&&S<=55238||S>=55243&&S<=55291||S>=63744&&S<=64255||S>=65040&&S<=65049||S>=65072&&S<=65106||S>=65108&&S<=65126||S>=65128&&S<=65131||S>=65281&&S<=65376||S>=65504&&S<=65510}}.call(v.prototype),t("./edit_session/folding").Folding.call(v.prototype),t("./edit_session/bracket_match").BracketMatch.call(v.prototype),h.defineOptions(v.prototype,"session",{wrap:{set:function(x){if(!x||x=="off"?x=!1:x=="free"?x=!0:x=="printMargin"?x=-1:typeof x=="string"&&(x=parseInt(x,10)||!1),this.$wrap!=x)if(this.$wrap=x,!x)this.setUseWrapMode(!1);else{var w=typeof x=="number"?x:null;this.setWrapLimitRange(w,w),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(x){x=x=="auto"?this.$mode.type!="text":x!="text",x!=this.$wrapAsCode&&(this.$wrapAsCode=x,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(x){this.$useWorker=x,this.$stopWorker(),x&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(x){x=parseInt(x),x>0&&this.$tabSize!==x&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=x,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(x){this.setFoldStyle(x)},handlesSet:!0},overwrite:{set:function(x){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(x){this.doc.setNewLineMode(x)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(x){this.setMode(x)},get:function(){return this.$modeId},handlesSet:!0}}),i.EditSession=v}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,i,r){var s=t("./lib/lang"),a=t("./lib/oop"),l=t("./range").Range,h=function(){this.$options={}};(function(){this.set=function(c){return a.mixin(this.$options,c),this},this.getOptions=function(){return s.copyObject(this.$options)},this.setOptions=function(c){this.$options=c},this.find=function(c){var o=this.$options,u=this.$matchIterator(c,o);if(!u)return!1;var d=null;return u.forEach(function(p,m,v,x){return d=new l(p,m,v,x),m==x&&o.start&&o.start.start&&o.skipCurrent!=!1&&d.isEqual(o.start)?(d=null,!1):!0}),d},this.findAll=function(c){var o=this.$options;if(!o.needle)return[];this.$assembleRegExp(o);var u=o.range,d=u?c.getLines(u.start.row,u.end.row):c.doc.getAllLines(),p=[],m=o.re;if(o.$isMultiLine){var v=m.length,x=d.length-v,w;e:for(var A=m.offset||0;A<=x;A++){for(var M=0;M<v;M++)if(d[A+M].search(m[M])==-1)continue e;var C=d[A],E=d[A+v-1],R=C.length-C.match(m[0])[0].length,b=E.match(m[v-1])[0].length;w&&w.end.row===A&&w.end.column>R||(p.push(w=new l(A,R,A+v-1,b)),v>2&&(A=A+v-2))}}else for(var _=0;_<d.length;_++)for(var S=s.getMatchOffsets(d[_],m),M=0;M<S.length;M++){var T=S[M];p.push(new l(_,T.offset,_,T.offset+T.length))}if(u){for(var P=u.start.column,I=u.end.column,_=0,M=p.length-1;_<M&&p[_].start.column<P&&p[_].start.row==0;)_++;for(var z=u.end.row-u.start.row;_<M&&p[M].end.column>I&&p[M].end.row==z;)M--;for(p=p.slice(_,M+1),_=0,M=p.length;_<M;_++)p[_].start.row+=u.start.row,p[_].end.row+=u.start.row}return p},this.replace=function(c,o){var u=this.$options,d=this.$assembleRegExp(u);if(u.$isMultiLine)return o;if(!!d){var p=d.exec(c);if(!p||p[0].length!=c.length)return null;if(o=c.replace(d,o),u.preserveCase){o=o.split("");for(var m=Math.min(c.length,c.length);m--;){var v=c[m];v&&v.toLowerCase()!=v?o[m]=o[m].toUpperCase():o[m]=o[m].toLowerCase()}o=o.join("")}return o}},this.$assembleRegExp=function(c,o){if(c.needle instanceof RegExp)return c.re=c.needle;var u=c.needle;if(!c.needle)return c.re=!1;c.regExp||(u=s.escapeRegExp(u)),c.wholeWord&&(u=f(u,c));var d=c.caseSensitive?"gm":"gmi";if(c.$isMultiLine=!o&&/[\n\r]/.test(u),c.$isMultiLine)return c.re=this.$assembleMultilineRegExp(u,d);try{var p=new RegExp(u,d)}catch{p=!1}return c.re=p},this.$assembleMultilineRegExp=function(c,o){for(var u=c.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),d=[],p=0;p<u.length;p++)try{d.push(new RegExp(u[p],o))}catch{return!1}return d},this.$matchIterator=function(c,o){var u=this.$assembleRegExp(o);if(!u)return!1;var d=o.backwards==!0,p=o.skipCurrent!=!1,m=o.range,v=o.start;v||(v=m?m[d?"end":"start"]:c.selection.getRange()),v.start&&(v=v[p!=d?"end":"start"]);var x=m?m.start.row:0,w=m?m.end.row:c.getLength()-1;if(d)var A=function(E){var R=v.row;if(!C(R,v.column,E)){for(R--;R>=x;R--)if(C(R,Number.MAX_VALUE,E))return;if(o.wrap!=!1){for(R=w,x=v.row;R>=x;R--)if(C(R,Number.MAX_VALUE,E))return}}};else var A=function(R){var b=v.row;if(!C(b,v.column,R)){for(b=b+1;b<=w;b++)if(C(b,0,R))return;if(o.wrap!=!1){for(b=x,w=v.row;b<=w;b++)if(C(b,0,R))return}}};if(o.$isMultiLine)var M=u.length,C=function(E,R,b){var _=d?E-M+1:E;if(!(_<0||_+M>c.getLength())){var S=c.getLine(_),T=S.search(u[0]);if(!(!d&&T<R||T===-1)){for(var P=1;P<M;P++)if(S=c.getLine(_+P),S.search(u[P])==-1)return;var I=S.match(u[M-1])[0].length;if(!(d&&I>R)&&b(_,T,_+M-1,I))return!0}}};else if(d)var C=function(R,b,_){var S=c.getLine(R),T=[],P,I=0;for(u.lastIndex=0;P=u.exec(S);){var z=P[0].length;if(I=P.index,!z){if(I>=S.length)break;u.lastIndex=I+=1}if(P.index+z>b)break;T.push(P.index,z)}for(var O=T.length-1;O>=0;O-=2){var D=T[O-1],z=T[O];if(_(R,D,R,D+z))return!0}};else var C=function(R,b,_){var S=c.getLine(R),T,P;for(u.lastIndex=b;P=u.exec(S);){var I=P[0].length;if(T=P.index,_(R,T,R,T+I))return!0;if(!I&&(u.lastIndex=T+=1,T>=S.length))return!1}};return{forEach:A}}}).call(h.prototype);function f(c,o){function u(d){return/\w/.test(d)||o.regExp?"\\b":""}return u(c[0])+c+u(c[c.length-1])}i.Search=h}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,i,r){var s=t("../lib/keys"),a=t("../lib/useragent"),l=s.KEY_MODS;function h(c,o){this.platform=o||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(c),this.$singleCommand=!0}function f(c,o){h.call(this,c,o),this.$singleCommand=!1}f.prototype=h.prototype,function(){this.addCommand=function(o){this.commands[o.name]&&this.removeCommand(o),this.commands[o.name]=o,o.bindKey&&this._buildKeyHash(o)},this.removeCommand=function(o,u){var d=o&&(typeof o=="string"?o:o.name);o=this.commands[d],u||delete this.commands[d];var p=this.commandKeyBinding;for(var m in p){var v=p[m];if(v==o)delete p[m];else if(Array.isArray(v)){var x=v.indexOf(o);x!=-1&&(v.splice(x,1),v.length==1&&(p[m]=v[0]))}}},this.bindKey=function(o,u,d){if(typeof o=="object"&&o&&(d==null&&(d=o.position),o=o[this.platform]),!!o){if(typeof u=="function")return this.addCommand({exec:u,bindKey:o,name:u.name||o});o.split("|").forEach(function(p){var m="";if(p.indexOf(" ")!=-1){var v=p.split(/\s+/);p=v.pop(),v.forEach(function(A){var M=this.parseKeys(A),C=l[M.hashId]+M.key;m+=(m?" ":"")+C,this._addCommandToBinding(m,"chainKeys")},this),m+=" "}var x=this.parseKeys(p),w=l[x.hashId]+x.key;this._addCommandToBinding(m+w,u,d)},this)}};function c(o){return typeof o=="object"&&o.bindKey&&o.bindKey.position||(o.isDefault?-100:0)}this._addCommandToBinding=function(o,u,d){var p=this.commandKeyBinding,m;if(!u)delete p[o];else if(!p[o]||this.$singleCommand)p[o]=u;else{Array.isArray(p[o])?(m=p[o].indexOf(u))!=-1&&p[o].splice(m,1):p[o]=[p[o]],typeof d!="number"&&(d=c(u));var v=p[o];for(m=0;m<v.length;m++){var x=v[m],w=c(x);if(w>d)break}v.splice(m,0,u)}},this.addCommands=function(o){o&&Object.keys(o).forEach(function(u){var d=o[u];if(!!d){if(typeof d=="string")return this.bindKey(d,u);typeof d=="function"&&(d={exec:d}),typeof d=="object"&&(d.name||(d.name=u),this.addCommand(d))}},this)},this.removeCommands=function(o){Object.keys(o).forEach(function(u){this.removeCommand(o[u])},this)},this.bindKeys=function(o){Object.keys(o).forEach(function(u){this.bindKey(u,o[u])},this)},this._buildKeyHash=function(o){this.bindKey(o.bindKey,o)},this.parseKeys=function(o){var u=o.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(w){return w}),d=u.pop(),p=s[d];if(s.FUNCTION_KEYS[p])d=s.FUNCTION_KEYS[p].toLowerCase();else if(u.length){if(u.length==1&&u[0]=="shift")return{key:d.toUpperCase(),hashId:-1}}else return{key:d,hashId:-1};for(var m=0,v=u.length;v--;){var x=s.KEY_MODS[u[v]];if(x==null)return typeof console<"u"&&console.error("invalid modifier "+u[v]+" in "+o),!1;m|=x}return{key:d,hashId:m}},this.findKeyCommand=function(u,d){var p=l[u]+d;return this.commandKeyBinding[p]},this.handleKeyboard=function(o,u,d,p){if(!(p<0)){var m=l[u]+d,v=this.commandKeyBinding[m];return o.$keyChain&&(o.$keyChain+=" "+m,v=this.commandKeyBinding[o.$keyChain]||v),v&&(v=="chainKeys"||v[v.length-1]=="chainKeys")?(o.$keyChain=o.$keyChain||m,{command:"null"}):(o.$keyChain&&((!u||u==4)&&d.length==1?o.$keyChain=o.$keyChain.slice(0,-m.length-1):(u==-1||p>0)&&(o.$keyChain="")),{command:v})}},this.getStatusText=function(o,u){return u.$keyChain||""}}.call(h.prototype),i.HashHandler=h,i.MultiHashHandler=f}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,i,r){var s=t("../lib/oop"),a=t("../keyboard/hash_handler").MultiHashHandler,l=t("../lib/event_emitter").EventEmitter,h=function(f,c){a.call(this,c,f),this.byName=this.commands,this.setDefaultHandler("exec",function(o){return o.args?o.command.exec(o.editor,o.args,o.event,!1):o.command.exec(o.editor,{},o.event,!0)})};s.inherits(h,a),function(){s.implement(this,l),this.exec=function(f,c,o){if(Array.isArray(f)){for(var u=f.length;u--;)if(this.exec(f[u],c,o))return!0;return!1}if(typeof f=="string"&&(f=this.commands[f]),!f||c&&c.$readOnly&&!f.readOnly||this.$checkCommandState!=!1&&f.isAvailable&&!f.isAvailable(c))return!1;var d={editor:c,command:f,args:o};return d.returnValue=this._emit("exec",d),this._signal("afterExec",d),d.returnValue!==!1},this.toggleRecording=function(f){if(!this.$inReplay)return f&&f._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(c){this.macro.push([c.command,c.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(f){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(f);try{this.$inReplay=!0,this.macro.forEach(function(c){typeof c=="string"?this.exec(c,f):this.exec(c[0],f,c[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(f){return f.map(function(c){return typeof c[0]!="string"&&(c[0]=c[0].name),c[1]||(c=c[0]),c})}}.call(h.prototype),i.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,i,r){var s=t("../lib/lang"),a=t("../config"),l=t("../range").Range;function h(c,o){return{win:c,mac:o}}i.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:h("Ctrl-,","Command-,"),exec:function(c){a.loadModule("ace/ext/settings_menu",function(o){o.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:h("Alt-E","F4"),exec:function(c){a.loadModule("./ext/error_marker",function(o){o.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:h("Alt-Shift-E","Shift-F4"),exec:function(c){a.loadModule("./ext/error_marker",function(o){o.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:h("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:h(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:h("Ctrl-L","Command-L"),exec:function(c,o){typeof o=="number"&&!isNaN(o)&&c.gotoLine(o),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:h("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:h("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:h("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:h("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:h("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:h("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:h("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:h("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:h("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:h("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:h("Ctrl-F","Command-F"),exec:function(c){a.loadModule("ace/ext/searchbox",function(o){o.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:h("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:h("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:h("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:h("Up","Up|Ctrl-P"),exec:function(c,o){c.navigateUp(o.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:h("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:h("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:h("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:h("Down","Down|Ctrl-N"),exec:function(c,o){c.navigateDown(o.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:h("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:h("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:h("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:h("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:h("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:h("Left","Left|Ctrl-B"),exec:function(c,o){c.navigateLeft(o.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:h("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:h("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:h("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:h("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:h("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:h("Right","Right|Ctrl-F"),exec:function(c,o){c.navigateRight(o.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:h(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:h("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:h(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:h("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:h("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:h("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:h("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:h("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:h("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:h("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:h(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var o=c.$copyWithEmptySelection&&c.selection.isEmpty(),u=o?c.selection.getLineRange():c.selection.getRange();c._emit("cut",u),u.isEmpty()||c.session.remove(u),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,o){c.$handlePaste(o)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:h("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:h("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:h("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:h("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:h("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:h("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:h("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:h("Ctrl-H","Command-Option-F"),exec:function(c){a.loadModule("ace/ext/searchbox",function(o){o.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:h("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:h("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:h("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:h("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:h("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:h("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:h("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:h("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:h("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:h("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:h("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:h("Ctrl-Shift-Backspace",null),exec:function(c){var o=c.selection.getRange();o.start.column=0,c.session.remove(o)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:h("Ctrl-Shift-Delete",null),exec:function(c){var o=c.selection.getRange();o.end.column=Number.MAX_VALUE,c.session.remove(o)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:h("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:h("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:h("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:h("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:h("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:h("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,o){c.insert(o)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,o){c.insert(s.stringRepeat(o.text||"",o.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:h(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:h("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:h("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:h("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:h(null,null),exec:function(c){c.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:h("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var o=c.selection.getRange();o.start.column=o.end.column=0,o.end.row++,c.selection.setRange(o,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:h("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:h(null,null),exec:function(c){for(var o=c.selection.isBackwards(),u=o?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),d=o?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),p=c.session.doc.getLine(u.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),v=m.replace(/\n\s*/," ").length,x=c.session.doc.getLine(u.row),w=u.row+1;w<=d.row+1;w++){var A=s.stringTrimLeft(s.stringTrimRight(c.session.doc.getLine(w)));A.length!==0&&(A=" "+A),x+=A}d.row+1<c.session.doc.getLength()-1&&(x+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new l(u.row,0,d.row+2,0),x),v>0?(c.selection.moveCursorTo(u.row,u.column),c.selection.selectTo(u.row,u.column+v)):(p=c.session.doc.getLine(u.row).length>p?p+1:p,c.selection.moveCursorTo(u.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:h(null,null),exec:function(c){var o=c.session.doc.getLength()-1,u=c.session.doc.getLine(o).length,d=c.selection.rangeList.ranges,p=[];d.length<1&&(d=[c.selection.getRange()]);for(var m=0;m<d.length;m++)m==d.length-1&&(d[m].end.row===o&&d[m].end.column===u||p.push(new l(d[m].end.row,d[m].end.column,o,u))),m===0?d[m].start.row===0&&d[m].start.column===0||p.push(new l(0,0,d[m].start.row,d[m].start.column)):p.push(new l(d[m-1].end.row,d[m-1].end.column,d[m].start.row,d[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<p.length;m++)c.selection.addRange(p[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var o=c.getCursorPosition();c.selection.moveTo(o.row-1,Number.MAX_VALUE),c.insert(`
`),o.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:h("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:h(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var f=1;f<9;f++)i.commands.push({name:"foldToLevel"+f,description:"Fold To Level "+f,level:f,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(t,i,r){var s=this&&this.__values||function(_){var S=typeof Symbol=="function"&&Symbol.iterator,T=S&&_[S],P=0;if(T)return T.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&P>=_.length&&(_=void 0),{value:_&&_[P++],done:!_}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},a=t("./lib/oop"),l=t("./lib/dom"),h=t("./lib/lang"),f=t("./lib/useragent"),c=t("./keyboard/textinput").TextInput,o=t("./mouse/mouse_handler").MouseHandler,u=t("./mouse/fold_handler").FoldHandler,d=t("./keyboard/keybinding").KeyBinding,p=t("./edit_session").EditSession,m=t("./search").Search,v=t("./range").Range,x=t("./lib/event_emitter").EventEmitter,w=t("./commands/command_manager").CommandManager,A=t("./commands/default_commands").commands,M=t("./config"),C=t("./token_iterator").TokenIterator,E=t("./clipboard"),R=function(_,S,T){this.$toDestroy=[];var P=_.getContainerElement();this.container=P,this.renderer=_,this.id="editor"+ ++R.$uid,this.commands=new w(f.isMac?"mac":"win",A),typeof document=="object"&&(this.textInput=new c(_.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new o(this),new u(this)),this.keyBinding=new d(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(I,z){z._$emitInputEvent.schedule(31)}),this.setSession(S||T&&T.session||new p("")),M.resetOptions(this),T&&this.setOptions(T),M._signal("editor",this)};R.$uid=0,function(){a.implement(this,x),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=h.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(_){if(this.curOp){if(!_||this.curOp.command)return;this.prevOp=this.curOp}_||(this.previousCommand=null,_={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:_.command||{},args:_.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(_){if(this.curOp&&this.session){if(_&&_.returnValue===!1||!this.session)return this.curOp=null;if(_==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var S=this.curOp.command,T=S&&S.scrollIntoView;if(T){switch(T){case"center-animate":T="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var P=this.selection.getRange(),I=this.renderer.layerConfig;(P.start.row>=I.lastRow||P.end.row<=I.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}T=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var z=this.selection.toJSON();this.curOp.selectionAfter=z,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(z),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(_){if(!!this.$mergeUndoDeltas){var S=this.prevOp,T=this.$mergeableCommands,P=S.command&&_.command.name==S.command.name;if(_.command.name=="insertstring"){var I=_.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),P=P&&this.mergeNextCommand&&(!/\s/.test(I)||/\s/.test(S.args)),this.mergeNextCommand=!0}else P=P&&T.indexOf(_.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(P=!1),P?this.session.mergeUndoDeltas=!0:T.indexOf(_.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(_,S){if(_&&typeof _=="string"&&_!="ace"){this.$keybindingId=_;var T=this;M.loadModule(["keybinding",_],function(P){T.$keybindingId==_&&T.keyBinding.setKeyboardHandler(P&&P.handler),S&&S()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(_),S&&S()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(_){if(this.session!=_){this.curOp&&this.endOperation(),this.curOp={};var S=this.session;if(S){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var T=this.session.getSelection();T.off("changeCursor",this.$onCursorChange),T.off("changeSelection",this.$onSelectionChange)}this.session=_,_?(this.$onDocumentChange=this.onDocumentChange.bind(this),_.on("change",this.$onDocumentChange),this.renderer.setSession(_),this.$onChangeMode=this.onChangeMode.bind(this),_.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),_.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),_.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),_.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),_.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),_.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=_.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(_)),this._signal("changeSession",{session:_,oldSession:S}),this.curOp=null,S&&S._signal("changeEditor",{oldEditor:this}),_&&_._signal("changeEditor",{editor:this}),_&&!_.destroyed&&_.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(_,S){return this.session.doc.setValue(_),S?S==1?this.navigateFileEnd():S==-1&&this.navigateFileStart():this.selectAll(),_},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(_){this.renderer.onResize(_)},this.setTheme=function(_,S){this.renderer.setTheme(_,S)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(_){this.renderer.setStyle(_)},this.unsetStyle=function(_){this.renderer.unsetStyle(_)},this.getFontSize=function(){return this.getOption("fontSize")||l.computedStyle(this.container).fontSize},this.setFontSize=function(_){this.setOption("fontSize",_)},this.$highlightBrackets=function(){if(!this.$highlightPending){var _=this;this.$highlightPending=!0,setTimeout(function(){_.$highlightPending=!1;var S=_.session;if(!(!S||S.destroyed)){S.$bracketHighlight&&(S.$bracketHighlight.markerIds.forEach(function(U){S.removeMarker(U)}),S.$bracketHighlight=null);var T=_.getCursorPosition(),P=_.getKeyboardHandler(),I=P&&P.$getDirectionForHighlight&&P.$getDirectionForHighlight(_),z=S.getMatchingBracketRanges(T,I);if(!z){var O=new C(S,T.row,T.column),D=O.getCurrentToken();if(D&&/\b(?:tag-open|tag-name)/.test(D.type)){var B=S.getMatchingTags(T);B&&(z=[B.openTagName,B.closeTagName])}}if(!z&&S.$mode.getMatching&&(z=S.$mode.getMatching(_.session)),!z){_.getHighlightIndentGuides()&&_.renderer.$textLayer.$highlightIndentGuide();return}var F="ace_bracket";Array.isArray(z)?z.length==1&&(F="ace_error_bracket"):z=[z],z.length==2&&(v.comparePoints(z[0].end,z[1].start)==0?z=[v.fromPoints(z[0].start,z[1].end)]:v.comparePoints(z[0].start,z[1].end)==0&&(z=[v.fromPoints(z[1].start,z[0].end)])),S.$bracketHighlight={ranges:z,markerIds:z.map(function(U){return S.addMarker(U,F,"text")})},_.getHighlightIndentGuides()&&_.renderer.$textLayer.$highlightIndentGuide()}},50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(_){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",_))},this.onBlur=function(_){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",_))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(_){var S=this.session.$useWrapMode,T=_.start.row==_.end.row?_.end.row:1/0;this.renderer.updateLines(_.start.row,T,S),this._signal("change",_),this.$cursorChange()},this.onTokenizerUpdate=function(_){var S=_.data;this.renderer.updateLines(S.first,S.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var _=this.getSession(),S;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(S=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(S=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(S=!1)),_.$highlightLineMarker&&!S)_.removeMarker(_.$highlightLineMarker.id),_.$highlightLineMarker=null;else if(!_.$highlightLineMarker&&S){var T=new v(S.row,S.column,S.row,1/0);T.id=_.addMarker(T,"ace_active-line","screenLine"),_.$highlightLineMarker=T}else S&&(_.$highlightLineMarker.start.row=S.row,_.$highlightLineMarker.end.row=S.row,_.$highlightLineMarker.start.column=S.column,_._signal("changeBackMarker"))},this.onSelectionChange=function(_){var S=this.session;if(S.$selectionMarker&&S.removeMarker(S.$selectionMarker),S.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var T=this.selection.getRange(),P=this.getSelectionStyle();S.$selectionMarker=S.addMarker(T,"ace_selection",P)}var I=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(I),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var _=this.session,S=this.getSelectionRange();if(!(S.isEmpty()||S.isMultiLine())){var T=S.start.column,P=S.end.column,I=_.getLine(S.start.row),z=I.substring(T,P);if(!(z.length>5e3||!/[\w\d]/.test(z))){var O=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:z}),D=I.substring(T-1,P+1);if(!!O.test(D))return O}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(_){this.renderer.updateText(),this._emit("changeMode",_)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var _=this.getSelectedText(),S=this.session.doc.getNewLineCharacter(),T=!1;if(!_&&this.$copyWithEmptySelection){T=!0;for(var P=this.selection.getAllRanges(),I=0;I<P.length;I++){var z=P[I];I&&P[I-1].start.row==z.start.row||(_+=this.session.getLine(z.start.row)+S)}}var O={text:_};return this._signal("copy",O),E.lineMode=T?O.text:!1,O.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(_,S){var T={text:_,event:S};this.commands.exec("paste",this,T)},this.$handlePaste=function(_){typeof _=="string"&&(_={text:_}),this._signal("paste",_);var S=_.text,T=S===E.lineMode,P=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)T?P.insert({row:this.selection.lead.row,column:0},S):this.insert(S);else if(T)this.selection.rangeList.ranges.forEach(function(F){P.insert({row:F.start.row,column:0},S)});else{var I=S.split(/\r\n|\r|\n/),z=this.selection.rangeList.ranges,O=I.length==2&&(!I[0]||!I[1]);if(I.length!=z.length||O)return this.commands.exec("insertstring",this,S);for(var D=z.length;D--;){var B=z[D];B.isEmpty()||P.remove(B),P.insert(B.start,I[D])}}},this.execCommand=function(_,S){return this.commands.exec(_,this,S)},this.insert=function(_,S){var T=this.session,P=T.getMode(),I=this.getCursorPosition();if(this.getBehavioursEnabled()&&!S){var z=P.transformAction(T.getState(I.row),"insertion",this,T,_);z&&(_!==z.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),_=z.text)}if(_=="	"&&(_=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&_.indexOf(`
`)==-1){var O=new v.fromPoints(I,I);O.end.column+=_.length,this.session.remove(O)}}else{var O=this.getSelectionRange();I=this.session.remove(O),this.clearSelection()}if(_==`
`||_==`\r
`){var U=T.getLine(I.row);if(I.column>U.search(/\S|$/)){var D=U.substr(I.column).search(/\S|$/);T.doc.removeInLine(I.row,I.column,I.column+D)}}this.clearSelection();var B=I.column,F=T.getState(I.row),U=T.getLine(I.row),H=P.checkOutdent(F,U,_);if(T.insert(I,_),z&&z.selection&&(z.selection.length==2?this.selection.setSelectionRange(new v(I.row,B+z.selection[0],I.row,B+z.selection[1])):this.selection.setSelectionRange(new v(I.row+z.selection[0],z.selection[1],I.row+z.selection[2],z.selection[3]))),this.$enableAutoIndent){if(T.getDocument().isNewLine(_)){var j=P.getNextLineIndent(F,U.slice(0,I.column),T.getTabString());T.insert({row:I.row+1,column:0},j)}H&&P.autoOutdent(F,T,I.row)}},this.autoIndent=function(){var _=this.session,S=_.getMode(),T,P;if(this.selection.isEmpty())T=0,P=_.doc.getLength()-1;else{var I=this.getSelectionRange();T=I.start.row,P=I.end.row}for(var z="",O="",D="",B,F,U,H=_.getTabString(),j=T;j<=P;j++)j>0&&(z=_.getState(j-1),O=_.getLine(j-1),D=S.getNextLineIndent(z,O,H)),B=_.getLine(j),F=S.$getIndent(B),D!==F&&(F.length>0&&(U=new v(j,0,j,F.length),_.remove(U)),D.length>0&&_.insert({row:j,column:0},D)),S.autoOutdent(z,_,j)},this.onTextInput=function(_,S){if(!S)return this.keyBinding.onTextInput(_);this.startOperation({command:{name:"insertstring"}});var T=this.applyComposition.bind(this,_,S);this.selection.rangeCount?this.forEachSelection(T):T(),this.endOperation()},this.applyComposition=function(_,S){if(S.extendLeft||S.extendRight){var T=this.selection.getRange();T.start.column-=S.extendLeft,T.end.column+=S.extendRight,T.start.column<0&&(T.start.row--,T.start.column+=this.session.getLine(T.start.row).length+1),this.selection.setRange(T),!_&&!T.isEmpty()&&this.remove()}if((_||!this.selection.isEmpty())&&this.insert(_,!0),S.restoreStart||S.restoreEnd){var T=this.selection.getRange();T.start.column-=S.restoreStart,T.end.column-=S.restoreEnd,this.selection.setRange(T)}},this.onCommandKey=function(_,S,T){return this.keyBinding.onCommandKey(_,S,T)},this.setOverwrite=function(_){this.session.setOverwrite(_)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(_){this.setOption("scrollSpeed",_)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(_){this.setOption("dragDelay",_)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(_){this.setOption("selectionStyle",_)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(_){this.setOption("highlightActiveLine",_)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(_){this.setOption("highlightGutterLine",_)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(_){this.setOption("highlightSelectedWord",_)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(_){this.renderer.setAnimatedScroll(_)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(_){this.renderer.setShowInvisibles(_)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(_){this.renderer.setDisplayIndentGuides(_)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(_){this.renderer.setHighlightIndentGuides(_)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(_){this.renderer.setShowPrintMargin(_)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(_){this.renderer.setPrintMarginColumn(_)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(_){this.setOption("readOnly",_)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(_){this.setOption("behavioursEnabled",_)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(_){this.setOption("wrapBehavioursEnabled",_)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(_){this.setOption("showFoldWidgets",_)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(_){this.setOption("fadeFoldWidgets",_)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(_){this.selection.isEmpty()&&(_=="left"?this.selection.selectLeft():this.selection.selectRight());var S=this.getSelectionRange();if(this.getBehavioursEnabled()){var T=this.session,P=T.getState(S.start.row),I=T.getMode().transformAction(P,"deletion",this,T,S);if(S.end.column===0){var z=T.getTextRange(S);if(z[z.length-1]==`
`){var O=T.getLine(S.end.row);/^\s+$/.test(O)&&(S.end.column=O.length)}}I&&(S=I)}this.session.remove(S),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var _=this.getSelectionRange();_.start.column==_.end.column&&_.start.row==_.end.row&&(_.end.column=0,_.end.row++),this.session.remove(_),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var _=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(_)},this.transposeLetters=function(){if(!!this.selection.isEmpty()){var _=this.getCursorPosition(),S=_.column;if(S!==0){var T=this.session.getLine(_.row),P,I;S<T.length?(P=T.charAt(S)+T.charAt(S-1),I=new v(_.row,S-1,_.row,S+1)):(P=T.charAt(S-1)+T.charAt(S-2),I=new v(_.row,S-2,_.row,S)),this.session.replace(I,P),this.session.selection.moveToPosition(I.end)}}},this.toLowerCase=function(){var _=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var S=this.getSelectionRange(),T=this.session.getTextRange(S);this.session.replace(S,T.toLowerCase()),this.selection.setSelectionRange(_)},this.toUpperCase=function(){var _=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var S=this.getSelectionRange(),T=this.session.getTextRange(S);this.session.replace(S,T.toUpperCase()),this.selection.setSelectionRange(_)},this.indent=function(){var _=this.session,S=this.getSelectionRange();if(S.start.row<S.end.row){var T=this.$getSelectedRows();_.indentRows(T.first,T.last,"	");return}else if(S.start.column<S.end.column){var P=_.getTextRange(S);if(!/^\s+$/.test(P)){var T=this.$getSelectedRows();_.indentRows(T.first,T.last,"	");return}}var I=_.getLine(S.start.row),z=S.start,O=_.getTabSize(),D=_.documentToScreenColumn(z.row,z.column);if(this.session.getUseSoftTabs())var B=O-D%O,F=h.stringRepeat(" ",B);else{for(var B=D%O;I[S.start.column-1]==" "&&B;)S.start.column--,B--;this.selection.setSelectionRange(S),F="	"}return this.insert(F)},this.blockIndent=function(){var _=this.$getSelectedRows();this.session.indentRows(_.first,_.last,"	")},this.blockOutdent=function(){var _=this.session.getSelection();this.session.outdentRows(_.getRange())},this.sortLines=function(){for(var _=this.$getSelectedRows(),S=this.session,T=[],P=_.first;P<=_.last;P++)T.push(S.getLine(P));T.sort(function(O,D){return O.toLowerCase()<D.toLowerCase()?-1:O.toLowerCase()>D.toLowerCase()?1:0});for(var I=new v(0,0,0,0),P=_.first;P<=_.last;P++){var z=S.getLine(P);I.start.row=P,I.end.row=P,I.end.column=z.length,S.replace(I,T[P-_.first])}},this.toggleCommentLines=function(){var _=this.session.getState(this.getCursorPosition().row),S=this.$getSelectedRows();this.session.getMode().toggleCommentLines(_,this.session,S.first,S.last)},this.toggleBlockComment=function(){var _=this.getCursorPosition(),S=this.session.getState(_.row),T=this.getSelectionRange();this.session.getMode().toggleBlockComment(S,this.session,T,_)},this.getNumberAt=function(_,S){var T=/[\-]?[0-9]+(?:\.[0-9]+)?/g;T.lastIndex=0;for(var P=this.session.getLine(_);T.lastIndex<S;){var I=T.exec(P);if(I.index<=S&&I.index+I[0].length>=S){var z={value:I[0],start:I.index,end:I.index+I[0].length};return z}}return null},this.modifyNumber=function(_){var S=this.selection.getCursor().row,T=this.selection.getCursor().column,P=new v(S,T-1,S,T),I=this.session.getTextRange(P);if(!isNaN(parseFloat(I))&&isFinite(I)){var z=this.getNumberAt(S,T);if(z){var O=z.value.indexOf(".")>=0?z.start+z.value.indexOf(".")+1:z.end,D=z.start+z.value.length-O,B=parseFloat(z.value);B*=Math.pow(10,D),O!==z.end&&T<O?_*=Math.pow(10,z.end-T-1):_*=Math.pow(10,z.end-T),B+=_,B/=Math.pow(10,D);var F=B.toFixed(D),U=new v(S,z.start,S,z.end);this.session.replace(U,F),this.moveCursorTo(S,Math.max(z.start+1,T+F.length-z.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var _=this.selection.getCursor().row,S=this.selection.getCursor().column;this.selection.selectWord();var T=this.getSelectedText(),P=this.selection.getWordRange().start.column,I=T.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),z=S-P-1;z<0&&(z=0);var O=0,D=0,B=this;T.match(/[A-Za-z0-9_]+/)&&I.forEach(function(q,pe){D=O+q.length,z>=O&&z<=D&&(T=q,B.selection.clearSelection(),B.moveCursorTo(_,O+P),B.selection.selectTo(_,D+P)),O=D});for(var F=this.$toggleWordPairs,U,H=0;H<F.length;H++)for(var j=F[H],Y=0;Y<=1;Y++){var K=+!Y,X=T.match(new RegExp("^\\s?_?("+h.escapeRegExp(j[Y])+")\\s?$","i"));if(X){var $=T.match(new RegExp("([_]|^|\\s)("+h.escapeRegExp(X[1])+")($|\\s)","g"));$&&(U=T.replace(new RegExp(h.escapeRegExp(j[Y]),"i"),function(q){var pe=j[K];return q.toUpperCase()==q?pe=pe.toUpperCase():q.charAt(0).toUpperCase()==q.charAt(0)&&(pe=pe.substr(0,0)+j[K].charAt(0).toUpperCase()+pe.substr(1)),pe}),this.insert(U),U="")}}},this.findLinkAt=function(_,S){var T,P,I=this.session.getLine(_),z=I.split(/((?:https?|ftp):\/\/[\S]+)/),O=S;O<0&&(O=0);var D=0,B=0,F;try{for(var U=s(z),H=U.next();!H.done;H=U.next()){var j=H.value;if(B=D+j.length,O>=D&&O<=B&&j.match(/((?:https?|ftp):\/\/[\S]+)/)){F=j.replace(/[\s:.,'";}\]]+$/,"");break}D=B}}catch(Y){T={error:Y}}finally{try{H&&!H.done&&(P=U.return)&&P.call(U)}finally{if(T)throw T.error}}return F},this.openLink=function(){var _=this.selection.getCursor(),S=this.findLinkAt(_.row,_.column);return S&&window.open(S,"_blank"),S!=null},this.removeLines=function(){var _=this.$getSelectedRows();this.session.removeFullLines(_.first,_.last),this.clearSelection()},this.duplicateSelection=function(){var _=this.selection,S=this.session,T=_.getRange(),P=_.isBackwards();if(T.isEmpty()){var I=T.start.row;S.duplicateLines(I,I)}else{var z=P?T.start:T.end,O=S.insert(z,S.getTextRange(T),!1);T.start=z,T.end=O,_.setSelectionRange(T,P)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(_,S,T){return this.session.moveText(_,S,T)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(_,S){var T,P,I=this.selection;if(!I.inMultiSelectMode||this.inVirtualSelectionMode){var z=I.toOrientedRange();T=this.$getSelectedRows(z),P=this.session.$moveLines(T.first,T.last,S?0:_),S&&_==-1&&(P=0),z.moveBy(P,0),I.fromOrientedRange(z)}else{var O=I.rangeList.ranges;I.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var D=0,B=0,F=O.length,U=0;U<F;U++){var H=U;O[U].moveBy(D,0),T=this.$getSelectedRows(O[U]);for(var j=T.first,Y=T.last;++U<F;){B&&O[U].moveBy(B,0);var K=this.$getSelectedRows(O[U]);if(S&&K.first!=Y)break;if(!S&&K.first>Y+1)break;Y=K.last}for(U--,D=this.session.$moveLines(j,Y,S?0:_),S&&_==-1&&(H=U+1);H<=U;)O[H].moveBy(D,0),H++;S||(D=0),B+=D}I.fromOrientedRange(I.ranges[0]),I.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(_){return _=(_||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(_.start.row),last:this.session.getRowFoldEnd(_.end.row)}},this.onCompositionStart=function(_){this.renderer.showComposition(_)},this.onCompositionUpdate=function(_){this.renderer.setCompositionText(_)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(_){return _>=this.getFirstVisibleRow()&&_<=this.getLastVisibleRow()},this.isRowFullyVisible=function(_){return _>=this.renderer.getFirstFullyVisibleRow()&&_<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(_,S){var T=this.renderer,P=this.renderer.layerConfig,I=_*Math.floor(P.height/P.lineHeight);S===!0?this.selection.$moveSelection(function(){this.moveCursorBy(I,0)}):S===!1&&(this.selection.moveCursorBy(I,0),this.selection.clearSelection());var z=T.scrollTop;T.scrollBy(0,I*P.lineHeight),S!=null&&T.scrollCursorIntoView(null,.5),T.animateScrolling(z)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(_){this.renderer.scrollToRow(_)},this.scrollToLine=function(_,S,T,P){this.renderer.scrollToLine(_,S,T,P)},this.centerSelection=function(){var _=this.getSelectionRange(),S={row:Math.floor(_.start.row+(_.end.row-_.start.row)/2),column:Math.floor(_.start.column+(_.end.column-_.start.column)/2)};this.renderer.alignCursor(S,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(_,S){this.selection.moveCursorTo(_,S)},this.moveCursorToPosition=function(_){this.selection.moveCursorToPosition(_)},this.jumpToMatching=function(_,S){var T=this.getCursorPosition(),P=new C(this.session,T.row,T.column),I=P.getCurrentToken(),z=0;I&&I.type.indexOf("tag-name")!==-1&&(I=P.stepBackward());var O=I||P.stepForward();if(!!O){var D,B=!1,F={},U=T.column-O.start,H,j={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(O.value.match(/[{}()\[\]]/g)){for(;U<O.value.length&&!B;U++)if(!!j[O.value[U]])switch(H=j[O.value[U]]+"."+O.type.replace("rparen","lparen"),isNaN(F[H])&&(F[H]=0),O.value[U]){case"(":case"[":case"{":F[H]++;break;case")":case"]":case"}":F[H]--,F[H]===-1&&(D="bracket",B=!0);break}}else O.type.indexOf("tag-name")!==-1&&(isNaN(F[O.value])&&(F[O.value]=0),I.value==="<"&&z>1?F[O.value]++:I.value==="</"&&F[O.value]--,F[O.value]===-1&&(D="tag",B=!0));B||(I=O,z++,O=P.stepForward(),U=0)}while(O&&!B);if(!!D){var Y,K;if(D==="bracket")Y=this.session.getBracketRange(T),Y||(Y=new v(P.getCurrentTokenRow(),P.getCurrentTokenColumn()+U-1,P.getCurrentTokenRow(),P.getCurrentTokenColumn()+U-1),K=Y.start,(S||K.row===T.row&&Math.abs(K.column-T.column)<2)&&(Y=this.session.getBracketRange(K)));else if(D==="tag"){if(!O||O.type.indexOf("tag-name")===-1)return;if(Y=new v(P.getCurrentTokenRow(),P.getCurrentTokenColumn()-2,P.getCurrentTokenRow(),P.getCurrentTokenColumn()-2),Y.compare(T.row,T.column)===0){var X=this.session.getMatchingTags(T);X&&(X.openTag.contains(T.row,T.column)?(Y=X.closeTag,K=Y.start):(Y=X.openTag,X.closeTag.start.row===T.row&&X.closeTag.start.column===T.column?K=Y.end:K=Y.start))}K=K||Y.start}K=Y&&Y.cursor||K,K&&(_?Y&&S?this.selection.setRange(Y):Y&&Y.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(K.row,K.column):this.selection.moveTo(K.row,K.column))}}},this.gotoLine=function(_,S,T){this.selection.clearSelection(),this.session.unfold({row:_-1,column:S||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(_-1,S||0),this.isRowFullyVisible(_-1)||this.scrollToLine(_-1,!0,T)},this.navigateTo=function(_,S){this.selection.moveTo(_,S)},this.navigateUp=function(_){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var S=this.selection.anchor.getPosition();return this.moveCursorToPosition(S)}this.selection.clearSelection(),this.selection.moveCursorBy(-_||-1,0)},this.navigateDown=function(_){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var S=this.selection.anchor.getPosition();return this.moveCursorToPosition(S)}this.selection.clearSelection(),this.selection.moveCursorBy(_||1,0)},this.navigateLeft=function(_){if(this.selection.isEmpty())for(_=_||1;_--;)this.selection.moveCursorLeft();else{var S=this.getSelectionRange().start;this.moveCursorToPosition(S)}this.clearSelection()},this.navigateRight=function(_){if(this.selection.isEmpty())for(_=_||1;_--;)this.selection.moveCursorRight();else{var S=this.getSelectionRange().end;this.moveCursorToPosition(S)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(_,S){S&&this.$search.set(S);var T=this.$search.find(this.session),P=0;return T&&(this.$tryReplace(T,_)&&(P=1),this.selection.setSelectionRange(T),this.renderer.scrollSelectionIntoView(T.start,T.end)),P},this.replaceAll=function(_,S){S&&this.$search.set(S);var T=this.$search.findAll(this.session),P=0;if(!T.length)return P;var I=this.getSelectionRange();this.selection.moveTo(0,0);for(var z=T.length-1;z>=0;--z)this.$tryReplace(T[z],_)&&P++;return this.selection.setSelectionRange(I),P},this.$tryReplace=function(_,S){var T=this.session.getTextRange(_);return S=this.$search.replace(T,S),S!==null?(_.end=this.session.replace(_,S),_):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(_,S,T){S||(S={}),typeof _=="string"||_ instanceof RegExp?S.needle=_:typeof _=="object"&&a.mixin(S,_);var P=this.selection.getRange();S.needle==null&&(_=this.session.getTextRange(P)||this.$search.$options.needle,_||(P=this.session.getWordRange(P.start.row,P.start.column),_=this.session.getTextRange(P)),this.$search.set({needle:_})),this.$search.set(S),S.start||this.$search.set({start:P});var I=this.$search.find(this.session);if(S.preventScroll)return I;if(I)return this.revealRange(I,T),I;S.backwards?P.start=P.end:P.end=P.start,this.selection.setRange(P)},this.findNext=function(_,S){this.find({skipCurrent:!0,backwards:!1},_,S)},this.findPrevious=function(_,S){this.find(_,{skipCurrent:!0,backwards:!0},S)},this.revealRange=function(_,S){this.session.unfold(_),this.selection.setSelectionRange(_);var T=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(_.start,_.end,.5),S!==!1&&this.renderer.animateScrolling(T)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(_){_.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(_){if(!!_){var S,T=this,P=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var I=this.$scrollAnchor;I.style.cssText="position:absolute",this.container.insertBefore(I,this.container.firstChild);var z=this.on("changeSelection",function(){P=!0}),O=this.renderer.on("beforeRender",function(){P&&(S=T.renderer.container.getBoundingClientRect())}),D=this.renderer.on("afterRender",function(){if(P&&S&&(T.isFocused()||T.searchBox&&T.searchBox.isFocused())){var B=T.renderer,F=B.$cursorLayer.$pixelPos,U=B.layerConfig,H=F.top-U.offset;F.top>=0&&H+S.top<0?P=!0:F.top<U.height&&F.top+S.top+U.lineHeight>window.innerHeight?P=!1:P=null,P!=null&&(I.style.top=H+"px",I.style.left=F.left+"px",I.style.height=U.lineHeight+"px",I.scrollIntoView(P)),P=S=null}});this.setAutoScrollEditorIntoView=function(B){B||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",z),this.renderer.off("afterRender",D),this.renderer.off("beforeRender",O))}}},this.$resetCursorStyle=function(){var _=this.$cursorStyle||"ace",S=this.renderer.$cursorLayer;!S||(S.setSmoothBlinking(/smooth/.test(_)),S.isBlinking=!this.$readOnly&&_!="wide",l.setCssClass(S.element,"ace_slim-cursors",/slim/.test(_)))},this.prompt=function(_,S,T){var P=this;M.loadModule("./ext/prompt",function(I){I.prompt(P,_,S,T)})}}.call(R.prototype),M.defineOptions(R.prototype,"editor",{selectionStyle:{set:function(_){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:_})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(_){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(_){this.textInput.setReadOnly(_),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(_){this.textInput.setCopyWithEmptySelection(_)},initialValue:!1},cursorStyle:{set:function(_){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(_){this.setAutoScrollEditorIntoView(_)}},keyboardHandler:{set:function(_){this.setKeyboardHandler(_)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(_){this.session.setValue(_)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(_){this.setSession(_)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(_){this.renderer.$gutterLayer.setShowLineNumbers(_),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),_&&this.$relativeLineNumbers?b.attach(this):b.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(_){this.$showLineNumbers&&_?b.attach(this):b.detach(this)}},placeholder:{set:function(_){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var S=this.session&&(this.renderer.$composition||this.getValue());if(S&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),l.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!S&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),l.addCssClass(this.container,"ace_hasPlaceholder");var T=l.createElement("div");T.className="ace_placeholder",T.textContent=this.$placeholder||"",this.renderer.placeholderNode=T,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!S&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var b={getText:function(_,S){return(Math.abs(_.selection.lead.row-S)||S+1+(S<9?"\xB7":""))+""},getWidth:function(_,S,T){return Math.max(S.toString().length,(T.lastRow+1).toString().length,2)*T.characterWidth},update:function(_,S){S.renderer.$loop.schedule(S.renderer.CHANGE_GUTTER)},attach:function(_){_.renderer.$gutterLayer.$renderer=this,_.on("changeSelection",this.update),this.update(null,_)},detach:function(_){_.renderer.$gutterLayer.$renderer==this&&(_.renderer.$gutterLayer.$renderer=null),_.off("changeSelection",this.update),this.update(null,_)}};i.Editor=R}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,i,r){var s=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(C){this.$session=C},this.add=function(C,E,R){if(!this.$fromUndo&&C!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),E===!1||!this.lastDeltas){this.lastDeltas=[];var b=this.$undoStack.length;b>this.$undoDepth-1&&this.$undoStack.splice(0,b-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),C.id=this.$rev=++this.$maxRev}(C.action=="remove"||C.action=="insert")&&(this.$lastDelta=C),this.lastDeltas.push(C)}},this.addSelection=function(C,E){this.selections.push({value:C,rev:E||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(C,E){E==null&&(E=this.$rev+1);for(var R=this.$undoStack,b=R.length;b--;){var _=R[b][0];if(_.id<=C)break;_.id<E&&(_.ignore=!0)}this.lastDeltas=null},this.getSelection=function(C,E){for(var R=this.selections,b=R.length;b--;){var _=R[b];if(_.rev<C)return E&&(_=R[b+1]),_}},this.getRevision=function(){return this.$rev},this.getDeltas=function(C,E){E==null&&(E=this.$rev+1);for(var R=this.$undoStack,b=null,_=0,S=R.length;S--;){var T=R[S][0];if(T.id<E&&!b&&(b=S+1),T.id<=C){_=S+1;break}}return R.slice(_,b)},this.getChangedRanges=function(C,E){E==null&&(E=this.$rev+1)},this.getChangedLines=function(C,E){E==null&&(E=this.$rev+1)},this.undo=function(C,E){this.lastDeltas=null;var R=this.$undoStack;if(!!a(R,R.length)){C||(C=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var b=R.pop(),_=null;return b&&(_=C.undoChanges(b,E),this.$redoStack.push(b),this.$syncRev()),this.$fromUndo=!1,_}},this.redo=function(C,E){if(this.lastDeltas=null,C||(C=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var R=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);M(this.$redoStack,R),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(S){S[0].id=++this.$maxRev},this)}var b=this.$redoStack.pop(),_=null;return b&&(_=C.redoChanges(b,E),this.$undoStack.push(b),this.$syncRev()),this.$fromUndo=!1,_},this.$syncRev=function(){var C=this.$undoStack,E=C[C.length-1],R=E&&E[0].id||0;this.$redoStackBaseRev=R,this.$rev=R},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(C){C==null&&(C=this.$rev),this.mark=C},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(C){return C?o(C):o(this.$undoStack)+`
---
`+o(this.$redoStack)}}).call(s.prototype);function a(C,E){for(var R=E;R--;){var b=C[R];if(b&&!b[0].ignore){for(;R<E-1;){var _=p(C[R],C[R+1]);C[R]=_[0],C[R+1]=_[1],R++}return!0}}}var l=t("./range").Range,h=l.comparePoints;l.comparePoints;function f(C){return{row:C.row,column:C.column}}function c(C){return{start:f(C.start),end:f(C.end),action:C.action,lines:C.lines.slice()}}function o(C){if(C=C||this,Array.isArray(C))return C.map(o).join(`
`);var E="";return C.action?(E=C.action=="insert"?"+":"-",E+="["+C.lines+"]"):C.value&&(Array.isArray(C.value)?E=C.value.map(u).join(`
`):E=u(C.value)),C.start&&(E+=u(C)),(C.id||C.rev)&&(E+="	("+(C.id||C.rev)+")"),E}function u(C){return C.start.row+":"+C.start.column+"=>"+C.end.row+":"+C.end.column}function d(C,E){var R=C.action=="insert",b=E.action=="insert";if(R&&b)if(h(E.start,C.end)>=0)v(E,C,-1);else if(h(E.start,C.start)<=0)v(C,E,1);else return null;else if(R&&!b)if(h(E.start,C.end)>=0)v(E,C,-1);else if(h(E.end,C.start)<=0)v(C,E,-1);else return null;else if(!R&&b)if(h(E.start,C.start)>=0)v(E,C,1);else if(h(E.start,C.start)<=0)v(C,E,1);else return null;else if(!R&&!b)if(h(E.start,C.start)>=0)v(E,C,1);else if(h(E.end,C.start)<=0)v(C,E,-1);else return null;return[E,C]}function p(C,E){for(var R=C.length;R--;)for(var b=0;b<E.length;b++)if(!d(C[R],E[b])){for(;R<C.length;){for(;b--;)d(E[b],C[R]);b=E.length,R++}return[C,E]}return C.selectionBefore=E.selectionBefore=C.selectionAfter=E.selectionAfter=null,[E,C]}function m(C,E){var R=C.action=="insert",b=E.action=="insert";if(R&&b)h(C.start,E.start)<0?v(E,C,1):v(C,E,1);else if(R&&!b)h(C.start,E.end)>=0?v(C,E,-1):(h(C.start,E.start)<=0||v(C,l.fromPoints(E.start,C.start),-1),v(E,C,1));else if(!R&&b)h(E.start,C.end)>=0?v(E,C,-1):(h(E.start,C.start)<=0||v(E,l.fromPoints(C.start,E.start),-1),v(C,E,1));else if(!R&&!b)if(h(E.start,C.end)>=0)v(E,C,-1);else if(h(E.end,C.start)<=0)v(C,E,-1);else{var _,S;return h(C.start,E.start)<0&&(_=C,C=w(C,E.start)),h(C.end,E.end)>0&&(S=w(C,E.end)),x(E.end,C.start,C.end,-1),S&&!_&&(C.lines=S.lines,C.start=S.start,C.end=S.end,S=C),[E,_,S].filter(Boolean)}return[E,C]}function v(C,E,R){x(C.start,E.start,E.end,R),x(C.end,E.start,E.end,R)}function x(C,E,R,b){C.row==(b==1?E:R).row&&(C.column+=b*(R.column-E.column)),C.row+=b*(R.row-E.row)}function w(C,E){var R=C.lines,b=C.end;C.end=f(E);var _=C.end.row-C.start.row,S=R.splice(_,R.length),T=_?E.column:E.column-C.start.column;R.push(S[0].substring(0,T)),S[0]=S[0].substr(T);var P={start:f(E),end:b,lines:S,action:C.action};return P}function A(C,E){E=c(E);for(var R=C.length;R--;){for(var b=C[R],_=0;_<b.length;_++){var S=b[_],T=m(S,E);E=T[0],T.length!=2&&(T[2]?(b.splice(_+1,1,T[1],T[2]),_++):T[1]||(b.splice(_,1),_--))}b.length||C.splice(R,1)}return C}function M(C,E){for(var R=0;R<E.length;R++)for(var b=E[R],_=0;_<b.length;_++)A(C,b[_])}i.UndoManager=s}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,i,r){var s=t("../lib/dom"),a=function(l,h){this.element=l,this.canvasHeight=h||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(l){s.translate(this.element,0,-(l.firstRowScreen*l.lineHeight%this.canvasHeight)-l.offset*this.$offsetCoefficient)},this.pageChanged=function(l,h){return Math.floor(l.firstRowScreen*l.lineHeight/this.canvasHeight)!==Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)},this.computeLineTop=function(l,h,f){var c=h.firstRowScreen*h.lineHeight,o=Math.floor(c/this.canvasHeight),u=f.documentToScreenRow(l,0)*h.lineHeight;return u-o*this.canvasHeight},this.computeLineHeight=function(l,h,f){return h.lineHeight*f.getRowLineCount(l)},this.getLength=function(){return this.cells.length},this.get=function(l){return this.cells[l]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(l){if(Array.isArray(l)){this.cells.push.apply(this.cells,l);for(var h=s.createFragment(this.element),f=0;f<l.length;f++)h.appendChild(l[f].element);this.element.appendChild(h)}else this.cells.push(l),this.element.appendChild(l.element)},this.unshift=function(l){if(Array.isArray(l)){this.cells.unshift.apply(this.cells,l);for(var h=s.createFragment(this.element),f=0;f<l.length;f++)h.appendChild(l[f].element);this.element.firstChild?this.element.insertBefore(h,this.element.firstChild):this.element.appendChild(h)}else this.cells.unshift(l),this.element.insertAdjacentElement("afterbegin",l.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(l){!l||(l.element.remove(),this.cellCache.push(l))},this.createCell=function(l,h,f,c){var o=this.cellCache.pop();if(!o){var u=s.createElement("div");c&&c(u),this.element.appendChild(u),o={element:u,text:"",row:l}}return o.row=l,o}}).call(a.prototype),i.Lines=a}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(t,i,r){var s=t("../lib/dom"),a=t("../lib/oop"),l=t("../lib/lang"),h=t("../lib/event_emitter").EventEmitter,f=t("./lines").Lines,c=function(u){this.element=s.createElement("div"),this.element.className="ace_layer ace_gutter-layer",u.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new f(this.element),this.$lines.$offsetCoefficient=1};(function(){a.implement(this,h),this.setSession=function(u){this.session&&this.session.off("change",this.$updateAnnotations),this.session=u,u&&u.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(u,d){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(u,d)},this.removeGutterDecoration=function(u,d){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(u,d)},this.setAnnotations=function(u){this.$annotations=[];for(var d=0;d<u.length;d++){var p=u[d],m=p.row,v=this.$annotations[m];v||(v=this.$annotations[m]={text:[]});var x=p.text;x=x?l.escapeHTML(x):p.html||"",v.text.indexOf(x)===-1&&v.text.push(x);var w=p.type,A=p.className;A?v.className=A:w=="error"?v.className=" ace_error":w=="warning"&&v.className!=" ace_error"?v.className=" ace_warning":w=="info"&&!v.className&&(v.className=" ace_info")}},this.$updateAnnotations=function(u){if(!!this.$annotations.length){var d=u.start.row,p=u.end.row-d;if(p!==0)if(u.action=="remove")this.$annotations.splice(d,p+1,null);else{var m=new Array(p+1);m.unshift(d,1),this.$annotations.splice.apply(this.$annotations,m)}}},this.update=function(u){this.config=u;var d=this.session,p=u.firstRow,m=Math.min(u.lastRow+u.gutterOffset,d.getLength()-1);this.oldLastRow=m,this.config=u,this.$lines.moveContainer(u),this.$updateCursorRow();for(var v=d.getNextFoldLine(p),x=v?v.start.row:1/0,w=null,A=-1,M=p;;){if(M>x&&(M=v.end.row+1,v=d.getNextFoldLine(M,v),x=v?v.start.row:1/0),M>m){for(;this.$lines.getLength()>A+1;)this.$lines.pop();break}w=this.$lines.get(++A),w?w.row=M:(w=this.$lines.createCell(M,u,this.session,o),this.$lines.push(w)),this.$renderCell(w,u,v,M),M++}this._signal("afterRender"),this.$updateGutterWidth(u)},this.$updateGutterWidth=function(u){var d=this.session,p=d.gutterRenderer||this.$renderer,m=d.$firstLineNumber,v=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||d.$useWrapMode)&&(v=d.getLength()+m-1);var x=p?p.getWidth(d,v,u):v.toString().length*u.characterWidth,w=this.$padding||this.$computePadding();x+=w.left+w.right,x!==this.gutterWidth&&!isNaN(x)&&(this.gutterWidth=x,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",x))},this.$updateCursorRow=function(){if(!!this.$highlightGutterLine){var u=this.session.selection.getCursor();this.$cursorRow!==u.row&&(this.$cursorRow=u.row)}},this.updateLineHighlight=function(){if(!!this.$highlightGutterLine){var u=this.session.selection.cursor.row;if(this.$cursorRow=u,!(this.$cursorCell&&this.$cursorCell.row==u)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var d=this.$lines.cells;this.$cursorCell=null;for(var p=0;p<d.length;p++){var m=d[p];if(m.row>=this.$cursorRow){if(m.row>this.$cursorRow){var v=this.session.getFoldLine(this.$cursorRow);if(p>0&&v&&v.start.row==d[p-1].row)m=d[p-1];else break}m.element.className="ace_gutter-active-line "+m.element.className,this.$cursorCell=m;break}}}}},this.scrollLines=function(u){var d=this.config;if(this.config=u,this.$updateCursorRow(),this.$lines.pageChanged(d,u))return this.update(u);this.$lines.moveContainer(u);var p=Math.min(u.lastRow+u.gutterOffset,this.session.getLength()-1),m=this.oldLastRow;if(this.oldLastRow=p,!d||m<u.firstRow)return this.update(u);if(p<d.firstRow)return this.update(u);if(d.firstRow<u.firstRow)for(var v=this.session.getFoldedRowCount(d.firstRow,u.firstRow-1);v>0;v--)this.$lines.shift();if(m>p)for(var v=this.session.getFoldedRowCount(p+1,m);v>0;v--)this.$lines.pop();u.firstRow<d.firstRow&&this.$lines.unshift(this.$renderLines(u,u.firstRow,d.firstRow-1)),p>m&&this.$lines.push(this.$renderLines(u,m+1,p)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(u)},this.$renderLines=function(u,d,p){for(var m=[],v=d,x=this.session.getNextFoldLine(v),w=x?x.start.row:1/0;v>w&&(v=x.end.row+1,x=this.session.getNextFoldLine(v,x),w=x?x.start.row:1/0),!(v>p);){var A=this.$lines.createCell(v,u,this.session,o);this.$renderCell(A,u,x,v),m.push(A),v++}return m},this.$renderCell=function(u,d,p,m){var v=u.element,x=this.session,w=v.childNodes[0],A=v.childNodes[1],M=x.$firstLineNumber,C=x.$breakpoints,E=x.$decorations,R=x.gutterRenderer||this.$renderer,b=this.$showFoldWidgets&&x.foldWidgets,_=p?p.start.row:Number.MAX_VALUE,S="ace_gutter-cell ";if(this.$highlightGutterLine&&(m==this.$cursorRow||p&&m<this.$cursorRow&&m>=_&&this.$cursorRow<=p.end.row)&&(S+="ace_gutter-active-line ",this.$cursorCell!=u&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=u)),C[m]&&(S+=C[m]),E[m]&&(S+=E[m]),this.$annotations[m]&&(S+=this.$annotations[m].className),v.className!=S&&(v.className=S),b){var T=b[m];T==null&&(T=b[m]=x.getFoldWidget(m))}if(T){var S="ace_fold-widget ace_"+T;T=="start"&&m==_&&m<p.end.row?S+=" ace_closed":S+=" ace_open",A.className!=S&&(A.className=S);var P=d.lineHeight+"px";s.setStyle(A.style,"height",P),s.setStyle(A.style,"display","inline-block")}else A&&s.setStyle(A.style,"display","none");var I=(R?R.getText(x,m):m+M).toString();return I!==w.data&&(w.data=I),s.setStyle(u.element.style,"height",this.$lines.computeLineHeight(m,d,x)+"px"),s.setStyle(u.element.style,"top",this.$lines.computeLineTop(m,d,x)+"px"),u.text=I,u},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(u){this.$highlightGutterLine=u},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(u){this.$renderer=!u&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(u){u?s.addCssClass(this.element,"ace_folding-enabled"):s.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=u,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var u=s.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(u.borderLeftWidth)||0)+(parseInt(u.paddingLeft)||0)+1,this.$padding.right=(parseInt(u.borderRightWidth)||0)+(parseInt(u.paddingRight)||0),this.$padding},this.getRegion=function(u){var d=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();if(u.x<d.left+p.left)return"markers";if(this.$showFoldWidgets&&u.x>p.right-d.right)return"foldWidgets"}}).call(c.prototype);function o(u){var d=document.createTextNode("");u.appendChild(d);var p=s.createElement("span");return u.appendChild(p),u}i.Gutter=c}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,i,r){var s=t("../range").Range,a=t("../lib/dom"),l=function(h){this.element=a.createElement("div"),this.element.className="ace_layer ace_marker-layer",h.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(f){this.$padding=f},this.setSession=function(f){this.session=f},this.setMarkers=function(f){this.markers=f},this.elt=function(f,c){var o=this.i!=-1&&this.element.childNodes[this.i];o?this.i++:(o=document.createElement("div"),this.element.appendChild(o),this.i=-1),o.style.cssText=c,o.className=f},this.update=function(f){if(!!f){this.config=f,this.i=0;var c;for(var o in this.markers){var u=this.markers[o];if(!u.range){u.update(c,this,this.session,f);continue}var d=u.range.clipRows(f.firstRow,f.lastRow);if(!d.isEmpty())if(d=d.toScreenRange(this.session),u.renderer){var p=this.$getTop(d.start.row,f),m=this.$padding+d.start.column*f.characterWidth;u.renderer(c,d,m,p,f)}else u.type=="fullLine"?this.drawFullLineMarker(c,d,u.clazz,f):u.type=="screenLine"?this.drawScreenLineMarker(c,d,u.clazz,f):d.isMultiLine()?u.type=="text"?this.drawTextMarker(c,d,u.clazz,f):this.drawMultiLineMarker(c,d,u.clazz,f):this.drawSingleLineMarker(c,d,u.clazz+" ace_start ace_br15",f)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(f,c){return(f-c.firstRowScreen)*c.lineHeight};function h(f,c,o,u){return(f?1:0)|(c?2:0)|(o?4:0)|(u?8:0)}this.drawTextMarker=function(f,c,o,u,d){for(var p=this.session,m=c.start.row,v=c.end.row,x=m,w=0,A=0,M=p.getScreenLastRowColumn(x),C=new s(x,c.start.column,x,A);x<=v;x++)C.start.row=C.end.row=x,C.start.column=x==m?c.start.column:p.getRowWrapIndent(x),C.end.column=M,w=A,A=M,M=x+1<v?p.getScreenLastRowColumn(x+1):x==v?0:c.end.column,this.drawSingleLineMarker(f,C,o+(x==m?" ace_start":"")+" ace_br"+h(x==m||x==m+1&&c.start.column,w<A,A>M,x==v),u,x==v?0:1,d)},this.drawMultiLineMarker=function(f,c,o,u,d){var p=this.$padding,m=u.lineHeight,v=this.$getTop(c.start.row,u),x=p+c.start.column*u.characterWidth;if(d=d||"",this.session.$bidiHandler.isBidiRow(c.start.row)){var w=c.clone();w.end.row=w.start.row,w.end.column=this.session.getLine(w.start.row).length,this.drawBidiSingleLineMarker(f,w,o+" ace_br1 ace_start",u,null,d)}else this.elt(o+" ace_br1 ace_start","height:"+m+"px;right:0;top:"+v+"px;left:"+x+"px;"+(d||""));if(this.session.$bidiHandler.isBidiRow(c.end.row)){var w=c.clone();w.start.row=w.end.row,w.start.column=0,this.drawBidiSingleLineMarker(f,w,o+" ace_br12",u,null,d)}else{v=this.$getTop(c.end.row,u);var A=c.end.column*u.characterWidth;this.elt(o+" ace_br12","height:"+m+"px;width:"+A+"px;top:"+v+"px;left:"+p+"px;"+(d||""))}if(m=(c.end.row-c.start.row-1)*u.lineHeight,!(m<=0)){v=this.$getTop(c.start.row+1,u);var M=(c.start.column?1:0)|(c.end.column?0:8);this.elt(o+(M?" ace_br"+M:""),"height:"+m+"px;right:0;top:"+v+"px;left:"+p+"px;"+(d||""))}},this.drawSingleLineMarker=function(f,c,o,u,d,p){if(this.session.$bidiHandler.isBidiRow(c.start.row))return this.drawBidiSingleLineMarker(f,c,o,u,d,p);var m=u.lineHeight,v=(c.end.column+(d||0)-c.start.column)*u.characterWidth,x=this.$getTop(c.start.row,u),w=this.$padding+c.start.column*u.characterWidth;this.elt(o,"height:"+m+"px;width:"+v+"px;top:"+x+"px;left:"+w+"px;"+(p||""))},this.drawBidiSingleLineMarker=function(f,c,o,u,d,p){var m=u.lineHeight,v=this.$getTop(c.start.row,u),x=this.$padding,w=this.session.$bidiHandler.getSelections(c.start.column,c.end.column);w.forEach(function(A){this.elt(o,"height:"+m+"px;width:"+(A.width+(d||0))+"px;top:"+v+"px;left:"+(x+A.left)+"px;"+(p||""))},this)},this.drawFullLineMarker=function(f,c,o,u,d){var p=this.$getTop(c.start.row,u),m=u.lineHeight;c.start.row!=c.end.row&&(m+=this.$getTop(c.end.row,u)-p),this.elt(o,"height:"+m+"px;top:"+p+"px;left:0;right:0;"+(d||""))},this.drawScreenLineMarker=function(f,c,o,u,d){var p=this.$getTop(c.start.row,u),m=u.lineHeight;this.elt(o,"height:"+m+"px;top:"+p+"px;left:0;right:0;"+(d||""))}}).call(l.prototype),i.Marker=l}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(t,i,r){var s=t("../lib/oop"),a=t("../lib/dom"),l=t("../lib/lang"),h=t("./lines").Lines,f=t("../lib/event_emitter").EventEmitter,c=function(o){this.dom=a,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",o.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new h(this.element)};(function(){s.implement(this,f),this.EOF_CHAR="\xB6",this.EOL_CHAR_LF="\xAC",this.EOL_CHAR_CRLF="\xA4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xB7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var o=this.session.doc,u=o.getNewLineCharacter()==`
`&&o.getNewLineMode()!="windows",d=u?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=d)return this.EOL_CHAR=d,!0},this.setPadding=function(o){this.$padding=o,this.element.style.margin="0 "+o+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(o){this.$fontMetrics=o,this.$fontMetrics.on("changeCharacterSize",function(u){this._signal("changeCharacterSize",u)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(o){this.session=o,o&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(o){return this.showInvisibles==o?!1:(this.showInvisibles=o,typeof o=="string"?(this.showSpaces=/tab/i.test(o),this.showTabs=/space/i.test(o),this.showEOL=/eol/i.test(o)):this.showSpaces=this.showTabs=this.showEOL=o,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(o){return this.displayIndentGuides==o?!1:(this.displayIndentGuides=o,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(o){return this.$highlightIndentGuides===o?!1:(this.$highlightIndentGuides=o,o)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var o=this.session.getTabSize();this.tabSize=o;for(var u=this.$tabStrings=[0],d=1;d<o+1;d++)if(this.showTabs){var p=this.dom.createElement("span");p.className="ace_invisible ace_invisible_tab",p.textContent=l.stringRepeat(this.TAB_CHAR,d),u.push(p)}else u.push(this.dom.createTextNode(l.stringRepeat(" ",d),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var m="ace_indent-guide",v=this.showSpaces?" ace_invisible ace_invisible_space":"",x=this.showSpaces?l.stringRepeat(this.SPACE_CHAR,this.tabSize):l.stringRepeat(" ",this.tabSize),w=this.showTabs?" ace_invisible ace_invisible_tab":"",A=this.showTabs?l.stringRepeat(this.TAB_CHAR,this.tabSize):x,p=this.dom.createElement("span");p.className=m+v,p.textContent=x,this.$tabStrings[" "]=p;var p=this.dom.createElement("span");p.className=m+w,p.textContent=A,this.$tabStrings["	"]=p}},this.updateLines=function(o,u,d){if(this.config.lastRow!=o.lastRow||this.config.firstRow!=o.firstRow)return this.update(o);this.config=o;for(var p=Math.max(u,o.firstRow),m=Math.min(d,o.lastRow),v=this.element.childNodes,x=0,A=o.firstRow;A<p;A++){var M=this.session.getFoldLine(A);if(M)if(M.containsRow(p)){p=M.start.row;break}else A=M.end.row;x++}for(var w=!1,A=p,M=this.session.getNextFoldLine(A),C=M?M.start.row:1/0;A>C&&(A=M.end.row+1,M=this.session.getNextFoldLine(A,M),C=M?M.start.row:1/0),!(A>m);){var E=v[x++];if(E){this.dom.removeChildren(E),this.$renderLine(E,A,A==C?M:!1),w&&(E.style.top=this.$lines.computeLineTop(A,o,this.session)+"px");var R=o.lineHeight*this.session.getRowLength(A)+"px";E.style.height!=R&&(w=!0,E.style.height=R)}A++}if(w)for(;x<this.$lines.cells.length;){var b=this.$lines.cells[x++];b.element.style.top=this.$lines.computeLineTop(b.row,o,this.session)+"px"}},this.scrollLines=function(o){var u=this.config;if(this.config=o,this.$lines.pageChanged(u,o))return this.update(o);this.$lines.moveContainer(o);var d=o.lastRow,p=u?u.lastRow:-1;if(!u||p<o.firstRow)return this.update(o);if(d<u.firstRow)return this.update(o);if(!u||u.lastRow<o.firstRow)return this.update(o);if(o.lastRow<u.firstRow)return this.update(o);if(u.firstRow<o.firstRow)for(var m=this.session.getFoldedRowCount(u.firstRow,o.firstRow-1);m>0;m--)this.$lines.shift();if(u.lastRow>o.lastRow)for(var m=this.session.getFoldedRowCount(o.lastRow+1,u.lastRow);m>0;m--)this.$lines.pop();o.firstRow<u.firstRow&&this.$lines.unshift(this.$renderLinesFragment(o,o.firstRow,u.firstRow-1)),o.lastRow>u.lastRow&&this.$lines.push(this.$renderLinesFragment(o,u.lastRow+1,o.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(o,u,d){for(var p=[],m=u,v=this.session.getNextFoldLine(m),x=v?v.start.row:1/0;m>x&&(m=v.end.row+1,v=this.session.getNextFoldLine(m,v),x=v?v.start.row:1/0),!(m>d);){var w=this.$lines.createCell(m,o,this.session),A=w.element;this.dom.removeChildren(A),a.setStyle(A.style,"height",this.$lines.computeLineHeight(m,o,this.session)+"px"),a.setStyle(A.style,"top",this.$lines.computeLineTop(m,o,this.session)+"px"),this.$renderLine(A,m,m==x?v:!1),this.$useLineGroups()?A.className="ace_line_group":(A.className="ace_line",A.setAttribute("role","option")),p.push(w),m++}return p},this.update=function(o){this.$lines.moveContainer(o),this.config=o;for(var u=o.firstRow,d=o.lastRow,p=this.$lines;p.getLength();)p.pop();p.push(this.$renderLinesFragment(o,u,d))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(o,u,d,p){for(var m,v=0;v<p.length;v+=this.MAX_CHUNK_LENGTH){var x=p.substring(v,v+this.MAX_CHUNK_LENGTH),w={type:d.type,value:x};m=this.$renderToken(o,u+v,w,x)}return m},this.$renderToken=function(o,u,d,p){for(var m=this,v=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,x=this.dom.createFragment(this.element),w,A=0;w=v.exec(p);){var M=w[1],C=w[2],E=w[3],R=w[4],b=w[5];if(!(!m.showSpaces&&C)){var _=A!=w.index?p.slice(A,w.index):"";if(A=w.index+w[0].length,_&&x.appendChild(this.dom.createTextNode(_,this.element)),M){var S=m.session.getScreenTabSize(u+w.index);x.appendChild(m.$tabStrings[S].cloneNode(!0)),u+=S-1}else if(C)if(m.showSpaces){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space",T.textContent=l.stringRepeat(m.SPACE_CHAR,C.length),x.appendChild(T)}else x.appendChild(this.com.createTextNode(C,this.element));else if(E){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space ace_invalid",T.textContent=l.stringRepeat(m.SPACE_CHAR,E.length),x.appendChild(T)}else if(R){u+=1;var T=this.dom.createElement("span");T.style.width=m.config.characterWidth*2+"px",T.className=m.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",T.textContent=m.showSpaces?m.SPACE_CHAR:R,x.appendChild(T)}else if(b){u+=1;var T=this.dom.createElement("span");T.style.width=m.config.characterWidth*2+"px",T.className="ace_cjk",T.textContent=b,x.appendChild(T)}}}x.appendChild(this.dom.createTextNode(A?p.slice(A):p,this.element));var T=this.dom.createElement("span");if(!this.$textToken[d.type]){var P="ace_"+d.type.replace(/\./g," ace_");d.type=="fold"&&(T.style.width=d.value.length*this.config.characterWidth+"px"),T.className=P}return T.appendChild(x),o.appendChild(T),u+p.length},this.renderIndentGuide=function(o,u,d){var p=u.search(this.$indentGuideRe);if(p<=0||p>=d)return u;if(u[0]==" "){p-=p%this.tabSize;for(var m=p/this.tabSize,v=0;v<m;v++)o.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),u.substr(p)}else if(u[0]=="	"){for(var v=0;v<p;v++)o.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),u.substr(p)}return this.$highlightIndentGuide(),u},this.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var o=this.session.doc.$lines;if(!!o){var u=this.session.selection.getCursor(),d=/^\s*/.exec(this.session.doc.getLine(u.row))[0].length,p=Math.floor(d/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:p,start:u.row};var m=this.session.$bracketHighlight;if(m){for(var v=this.session.$bracketHighlight.ranges,x=0;x<v.length;x++)if(u.row!==v[x].start.row){this.$highlightIndentGuideMarker.end=v[x].start.row,u.row>v[x].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&o[u.row]!==""&&u.column===o[u.row].length){this.$highlightIndentGuideMarker.dir=1;for(var x=u.row+1;x<o.length;x++){var w=o[x],A=/^\s*/.exec(w)[0].length;if(w!==""&&(this.$highlightIndentGuideMarker.end=x,A<=d))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var o=this.$lines.cells,u=0;u<o.length;u++){var d=o[u],p=d.element.childNodes;if(p.length>0){for(var m=0;m<p.length;m++)if(p[m].classList&&p[m].classList.contains("ace_indent-guide-active")){p[m].classList.remove("ace_indent-guide-active");break}}}},this.$setIndentGuideActive=function(o,u){var d=this.session.doc.getLine(o.row);if(d!==""){var p=o.element.childNodes;if(p){var m=p[u-1];m&&m.classList&&m.classList.contains("ace_indent-guide")&&m.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(!!this.$lines){var o=this.$lines.cells;this.$clearActiveIndentGuide();var u=this.$highlightIndentGuideMarker.indentLevel;if(u!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var d=0;d<o.length;d++){var p=o[d];if(this.$highlightIndentGuideMarker.end&&p.row>=this.$highlightIndentGuideMarker.start+1){if(p.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(p,u)}}else for(var d=o.length-1;d>=0;d--){var p=o[d];if(this.$highlightIndentGuideMarker.end&&p.row<this.$highlightIndentGuideMarker.start){if(p.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(p,u)}}}},this.$createLineElement=function(o){var u=this.dom.createElement("div");return u.className="ace_line",u.style.height=this.config.lineHeight+"px",u},this.$renderWrappedLine=function(o,u,d){var p=0,m=0,v=d[0],x=0,w=this.$createLineElement();o.appendChild(w);for(var A=0;A<u.length;A++){var M=u[A],C=M.value;if(A==0&&this.displayIndentGuides){if(p=C.length,C=this.renderIndentGuide(w,C,v),!C)continue;p-=C.length}if(p+C.length<v)x=this.$renderTokenInChunks(w,x,M,C),p+=C.length;else{for(;p+C.length>=v;)x=this.$renderTokenInChunks(w,x,M,C.substring(0,v-p)),C=C.substring(v-p),p=v,w=this.$createLineElement(),o.appendChild(w),w.appendChild(this.dom.createTextNode(l.stringRepeat("\xA0",d.indent),this.element)),m++,x=0,v=d[m]||Number.MAX_VALUE;C.length!=0&&(p+=C.length,x=this.$renderTokenInChunks(w,x,M,C))}}d[d.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(w,x,null,"",!0)},this.$renderSimpleLine=function(o,u){for(var d=0,p=0;p<u.length;p++){var m=u[p],v=m.value;if(!(p==0&&this.displayIndentGuides&&(v=this.renderIndentGuide(o,v),!v))){if(d+v.length>this.MAX_LINE_LENGTH){this.$renderOverflowMessage(o,d,m,v);return}d=this.$renderTokenInChunks(o,d,m,v)}}},this.$renderOverflowMessage=function(o,u,d,p,m){d&&this.$renderTokenInChunks(o,u,d,p.slice(0,this.MAX_LINE_LENGTH-u));var v=this.dom.createElement("span");v.className="ace_inline_button ace_keyword ace_toggle_wrap",v.textContent=m?"<hide>":"<click to see more...>",o.appendChild(v)},this.$renderLine=function(o,u,d){if(!d&&d!=!1&&(d=this.session.getFoldLine(u)),d)var p=this.$getFoldLineTokens(u,d);else var p=this.session.getTokens(u);var m=o;if(p.length){var v=this.session.getRowSplitData(u);if(v&&v.length){this.$renderWrappedLine(o,p,v);var m=o.lastChild}else{var m=o;this.$useLineGroups()&&(m=this.$createLineElement(),o.appendChild(m)),this.$renderSimpleLine(m,p)}}else this.$useLineGroups()&&(m=this.$createLineElement(),o.appendChild(m));if(this.showEOL&&m){d&&(u=d.end.row);var x=this.dom.createElement("span");x.className="ace_invisible ace_invisible_eol",x.textContent=u==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,m.appendChild(x)}},this.$getFoldLineTokens=function(o,u){var d=this.session,p=[];function m(x,w,A){for(var M=0,C=0;C+x[M].value.length<w;)if(C+=x[M].value.length,M++,M==x.length)return;if(C!=w){var E=x[M].value.substring(w-C);E.length>A-w&&(E=E.substring(0,A-w)),p.push({type:x[M].type,value:E}),C=w+E.length,M+=1}for(;C<A&&M<x.length;){var E=x[M].value;E.length+C>A?p.push({type:x[M].type,value:E.substring(0,A-C)}):p.push(x[M]),C+=E.length,M+=1}}var v=d.getTokens(o);return u.walk(function(x,w,A,M,C){x!=null?p.push({type:"fold",value:x}):(C&&(v=d.getTokens(w)),v.length&&m(v,M,A))},u.end.row,this.session.getLine(u.end.row).length),p},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(c.prototype),i.Text=c}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,i,r){var s=t("../lib/dom"),a=function(l){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",l.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(l){for(var h=this.cursors,f=h.length;f--;)s.setStyle(h[f].style,"opacity",l?"":"0")},this.$startCssAnimation=function(){for(var l=this.cursors,h=l.length;h--;)l[h].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&s.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,s.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(l){this.$padding=l},this.setSession=function(l){this.session=l},this.setBlinking=function(l){l!=this.isBlinking&&(this.isBlinking=l,this.restartTimer())},this.setBlinkInterval=function(l){l!=this.blinkInterval&&(this.blinkInterval=l,this.restartTimer())},this.setSmoothBlinking=function(l){l!=this.smoothBlinking&&(this.smoothBlinking=l,s.setCssClass(this.element,"ace_smooth-blinking",l),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var l=s.createElement("div");return l.className="ace_cursor",this.element.appendChild(l),this.cursors.push(l),l},this.removeCursor=function(){if(this.cursors.length>1){var l=this.cursors.pop();return l.parentNode.removeChild(l),l}},this.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var l=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,s.removeCssClass(this.element,"ace_smooth-blinking")),l(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&s.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),s.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var h=function(){this.timeoutId=setTimeout(function(){l(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){l(!0),h()},this.blinkInterval),h()}},this.getPixelPosition=function(l,h){if(!this.config||!this.session)return{left:0,top:0};l||(l=this.session.selection.getCursor());var f=this.session.documentToScreenPosition(l),c=this.$padding+(this.session.$bidiHandler.isBidiRow(f.row,l.row)?this.session.$bidiHandler.getPosLeft(f.column):f.column*this.config.characterWidth),o=(f.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:c,top:o}},this.isCursorInView=function(l,h){return l.top>=0&&l.top<h.maxHeight},this.update=function(l){this.config=l;var h=this.session.$selectionMarkers,f=0,c=0;(h===void 0||h.length===0)&&(h=[{cursor:null}]);for(var f=0,o=h.length;f<o;f++){var u=this.getPixelPosition(h[f].cursor,!0);if(!((u.top>l.height+l.offset||u.top<0)&&f>1)){var d=this.cursors[c++]||this.addCursor(),p=d.style;this.drawCursor?this.drawCursor(d,u,l,h[f],this.session):this.isCursorInView(u,l)?(s.setStyle(p,"display","block"),s.translate(d,u.left,u.top),s.setStyle(p,"width",Math.round(l.characterWidth)+"px"),s.setStyle(p,"height",l.lineHeight+"px")):s.setStyle(p,"display","none")}}for(;this.cursors.length>c;)this.removeCursor();var m=this.session.getOverwrite();this.$setOverwrite(m),this.$pixelPos=u,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(l){l!=this.overwrite&&(this.overwrite=l,l?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(a.prototype),i.Cursor=a}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/dom"),l=t("./lib/event"),h=t("./lib/event_emitter").EventEmitter,f=32768,c=function(d){this.element=a.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=a.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),d.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addListener(this.element,"scroll",this.onScroll.bind(this)),l.addListener(this.element,"mousedown",l.preventDefault)};(function(){s.implement(this,h),this.setVisible=function(d){this.element.style.display=d?"":"none",this.isVisible=d,this.coeff=1}}).call(c.prototype);var o=function(d,p){c.call(this,d),this.scrollTop=0,this.scrollHeight=0,p.$scrollbarWidth=this.width=a.scrollbarWidth(d.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};s.inherits(o,c),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var d=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-d)/(this.coeff-d)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(d){this.element.style.height=d+"px"},this.setInnerHeight=this.setScrollHeight=function(d){this.scrollHeight=d,d>f?(this.coeff=f/d,d=f):this.coeff!=1&&(this.coeff=1),this.inner.style.height=d+"px"},this.setScrollTop=function(d){this.scrollTop!=d&&(this.skipEvent=!0,this.scrollTop=d,this.element.scrollTop=d*this.coeff)}}.call(o.prototype);var u=function(d,p){c.call(this,d),this.scrollLeft=0,this.height=p.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};s.inherits(u,c),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(d){this.element.style.width=d+"px"},this.setInnerWidth=function(d){this.inner.style.width=d+"px"},this.setScrollWidth=function(d){this.inner.style.width=d+"px"},this.setScrollLeft=function(d){this.scrollLeft!=d&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=d)}}.call(u.prototype),i.ScrollBar=o,i.ScrollBarV=o,i.ScrollBarH=u,i.VScrollBar=o,i.HScrollBar=u}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/dom"),l=t("./lib/event"),h=t("./lib/event_emitter").EventEmitter;a.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var f=function(u){this.element=a.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=a.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,u.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){s.implement(this,h),this.setVisible=function(u){this.element.style.display=u?"":"none",this.isVisible=u,this.coeff=1}}).call(f.prototype);var c=function(u,d){f.call(this,u),this.scrollTop=0,this.scrollHeight=0,this.parent=u,this.width=this.VScrollWidth,this.renderer=d,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};s.inherits(c,f),function(){this.classSuffix="-v",s.implement(this,h),this.onMouseDown=function(u,d){if(u==="mousedown"&&!(l.getButton(d)!==0||d.detail===2)){if(d.target===this.inner){var p=this,m=d.clientY,v=function(R){m=R.clientY},x=function(){clearInterval(C)},w=d.clientY,A=this.thumbTop,M=function(){if(m!==void 0){var R=p.scrollTopFromThumbTop(A+m-w);R!==p.scrollTop&&p._emit("scroll",{data:R})}};l.capture(this.inner,v,x);var C=setInterval(M,20);return l.preventDefault(d)}var E=d.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(E)}),l.preventDefault(d)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(u){var d=u*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return d=d>>0,d<0?d=0:d>this.pageHeight-this.viewHeight&&(d=this.pageHeight-this.viewHeight),d},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(u){this.height=Math.max(0,u),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(u,d){this.pageHeight===u&&!d||(this.pageHeight=u,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(u){this.scrollTop=u,u<0&&(u=0),this.thumbTop=u*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(c.prototype);var o=function(u,d){f.call(this,u),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=d};s.inherits(o,f),function(){this.classSuffix="-h",s.implement(this,h),this.onMouseDown=function(u,d){if(u==="mousedown"&&!(l.getButton(d)!==0||d.detail===2)){if(d.target===this.inner){var p=this,m=d.clientX,v=function(R){m=R.clientX},x=function(){clearInterval(C)},w=d.clientX,A=this.thumbLeft,M=function(){if(m!==void 0){var R=p.scrollLeftFromThumbLeft(A+m-w);R!==p.scrollLeft&&p._emit("scroll",{data:R})}};l.capture(this.inner,v,x);var C=setInterval(M,20);return l.preventDefault(d)}var E=d.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(E)}),l.preventDefault(d)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(u){var d=u*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return d=d>>0,d<0?d=0:d>this.pageWidth-this.viewWidth&&(d=this.pageWidth-this.viewWidth),d},this.setWidth=function(u){this.width=Math.max(0,u),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(u,d){this.pageWidth===u&&!d||(this.pageWidth=u,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(u){this.scrollLeft=u,u<0&&(u=0),this.thumbLeft=u*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(o.prototype),i.ScrollBar=c,i.ScrollBarV=c,i.ScrollBarH=o,i.VScrollBar=c,i.HScrollBar=o}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,i,r){var s=t("./lib/event"),a=function(l,h){this.onRender=l,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=h||window;var f=this;this._flush=function(c){f.pending=!1;var o=f.changes;if(o&&(s.blockIdle(100),f.changes=0,f.onRender(o)),f.changes){if(f.$recursionLimit--<0)return;f.schedule()}else f.$recursionLimit=2}};(function(){this.schedule=function(l){this.changes=this.changes|l,this.changes&&!this.pending&&(s.nextFrame(this._flush),this.pending=!0)},this.clear=function(l){var h=this.changes;return this.changes=0,h}}).call(a.prototype),i.RenderLoop=a}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,i,r){var s=t("../lib/oop"),a=t("../lib/dom"),l=t("../lib/lang"),h=t("../lib/event"),f=t("../lib/useragent"),c=t("../lib/event_emitter").EventEmitter,o=250,u=typeof ResizeObserver=="function",d=200,p=i.FontMetrics=function(m,v){this.charCount=v||o,this.el=a.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=a.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=a.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),m.appendChild(this.el),this.$measureNode.textContent=l.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){s.implement(this,c),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(m,v){m.width=m.height="auto",m.left=m.top="0px",m.visibility="hidden",m.position="absolute",m.whiteSpace="pre",f.isIE<8?m["font-family"]="inherit":m.font="inherit",m.overflow=v?"hidden":"visible"},this.checkForSizeChanges=function(m){if(m===void 0&&(m=this.$measureSizes()),m&&(this.$characterSize.width!==m.width||this.$characterSize.height!==m.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=m,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===m.width&&v.height===m.height,this._emit("changeCharacterSize",{data:m})}},this.$addObserver=function(){var m=this;this.$observer=new window.ResizeObserver(function(v){m.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var m=this;return this.$pollSizeChangesTimer=h.onIdle(function v(){m.checkForSizeChanges(),h.onIdle(v,500)},500)},this.setPolling=function(m){m?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(m){m=m||this.$measureNode;var v=m.getBoundingClientRect(),x={height:v.height,width:v.width/this.charCount};return x.width===0||x.height===0?null:x},this.$measureCharWidth=function(m){this.$main.textContent=l.stringRepeat(m,this.charCount);var v=this.$main.getBoundingClientRect();return v.width/this.charCount},this.getCharacterWidth=function(m){var v=this.charSizes[m];return v===void 0&&(v=this.charSizes[m]=this.$measureCharWidth(m)/this.$characterSize.width),v},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function m(v){return!v||!v.parentElement?1:(window.getComputedStyle(v).zoom||1)*m(v.parentElement)},this.$initTransformMeasureNodes=function(){var m=function(v,x){return["div",{style:"position: absolute;top:"+v+"px;left:"+x+"px;"}]};this.els=a.buildDom([m(0,0),m(d,0),m(0,d),m(d,d)],this.el)},this.transformCoordinates=function(m,v){if(m){var x=this.$getZoom(this.el);m=C(1/x,m)}function w(U,H,j){var Y=U[1]*H[0]-U[0]*H[1];return[(-H[1]*j[0]+H[0]*j[1])/Y,(+U[1]*j[0]-U[0]*j[1])/Y]}function A(U,H){return[U[0]-H[0],U[1]-H[1]]}function M(U,H){return[U[0]+H[0],U[1]+H[1]]}function C(U,H){return[U*H[0],U*H[1]]}this.els||this.$initTransformMeasureNodes();function E(U){var H=U.getBoundingClientRect();return[H.left,H.top]}var R=E(this.els[0]),b=E(this.els[1]),_=E(this.els[2]),S=E(this.els[3]),T=w(A(S,b),A(S,_),A(M(b,_),M(S,R))),P=C(1+T[0],A(b,R)),I=C(1+T[1],A(_,R));if(v){var z=v,O=T[0]*z[0]/d+T[1]*z[1]/d+1,D=M(C(z[0],P),C(z[1],I));return M(C(1/O/d,D),R)}var B=A(m,R),F=w(A(P,C(T[0],B)),A(I,C(T[1],B)),B);return C(d,F)}}).call(p.prototype)}),ace.define("ace/css/editor.css",["require","exports","module"],function(t,i,r){r.exports=`/*
styles = []
for (var i = 1; i < 16; i++) {
    styles.push(".ace_br" + i + "{" + (
        ["top-left", "top-right", "bottom-right", "bottom-left"]
    ).map(function(x, j) {
        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" 
    }).filter(Boolean).join(" ") + "}")
}
styles.join("\\n")
*/
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left {
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
}

.ace_gutter-cell {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell.ace_error {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-position: 2px center;
}

.ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
    will-change: transform;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #FFF;
    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_folding-enabled > .ace_gutter-cell {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var s=t("../lib/dom"),a=t("../lib/oop"),l=t("../lib/event_emitter").EventEmitter,h=function(f,c){this.canvas=s.createElement("canvas"),this.renderer=c,this.pixelRatio=1,this.maxHeight=c.layerConfig.maxHeight,this.lineHeight=c.layerConfig.lineHeight,this.canvasHeight=f.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=f.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top=0+"px",this.canvas.style.right=0+"px",this.canvas.style.zIndex=7+"px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},f.element.appendChild(this.canvas)};(function(){a.implement(this,l),this.$updateDecorators=function(f){var c=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(f){this.maxHeight=f.maxHeight,this.lineHeight=f.lineHeight,this.canvasHeight=f.height;var o=(f.lastRow+1)*this.lineHeight;o<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var u=this.canvas.getContext("2d");function d(S,T){return S.priority<T.priority?-1:S.priority>T.priority?1:0}var p=this.renderer.session.$annotations;if(u.clearRect(0,0,this.canvas.width,this.canvas.height),p){var m={info:1,warning:2,error:3};p.forEach(function(S){S.priority=m[S.type]||null}),p=p.sort(d);for(var v=this.renderer.session.$foldData,x=0;x<p.length;x++){var w=p[x].row,A=this.compensateFoldRows(w,v),M=Math.round((w-A)*this.lineHeight*this.heightRatio),C=Math.round((w-A)*this.lineHeight*this.heightRatio),E=Math.round(((w-A)*this.lineHeight+this.lineHeight)*this.heightRatio),R=E-C;if(R<this.minDecorationHeight){var b=(C+E)/2|0;b<this.halfMinDecorationHeight?b=this.halfMinDecorationHeight:b+this.halfMinDecorationHeight>this.canvasHeight&&(b=this.canvasHeight-this.halfMinDecorationHeight),C=Math.round(b-this.halfMinDecorationHeight),E=Math.round(b+this.halfMinDecorationHeight)}u.fillStyle=c[p[x].type]||null,u.fillRect(0,M,this.canvasWidth,E-C)}}var _=this.renderer.session.selection.getCursor();if(_){var A=this.compensateFoldRows(_.row,v),M=Math.round((_.row-A)*this.lineHeight*this.heightRatio);u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,M,this.canvasWidth,2)}},this.compensateFoldRows=function(f,c){var o=0;if(c&&c.length>0)for(var u=0;u<c.length;u++)f>c[u].start.row&&f<c[u].end.row?o+=f-c[u].start.row:f>=c[u].end.row&&(o+=c[u].end.row-c[u].start.row);return o}}).call(h.prototype),i.Decorator=h}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(t,i,r){var s=t("./lib/oop"),a=t("./lib/dom"),l=t("./config"),h=t("./layer/gutter").Gutter,f=t("./layer/marker").Marker,c=t("./layer/text").Text,o=t("./layer/cursor").Cursor,u=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,p=t("./scrollbar_custom").HScrollBar,m=t("./scrollbar_custom").VScrollBar,v=t("./renderloop").RenderLoop,x=t("./layer/font_metrics").FontMetrics,w=t("./lib/event_emitter").EventEmitter,A=t("./css/editor.css"),M=t("./layer/decorators").Decorator,C=t("./lib/useragent"),E=C.isIE;a.importCssString(A,"ace_editor.css",!1);var R=function(b,_){var S=this;this.container=b||a.createElement("div"),a.addCssClass(this.container,"ace_editor"),a.HI_DPI&&a.addCssClass(this.container,"ace_hidpi"),this.setTheme(_),l.get("useStrictCSP")==null&&l.set("useStrictCSP",!1),this.$gutter=a.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=a.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=a.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new f(this.content);var T=this.$textLayer=new c(this.content);this.canvas=T.element,this.$markerFront=new f(this.content),this.$cursorLayer=new o(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",function(P){S.$scrollAnimation||S.session.setScrollTop(P.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(P){S.$scrollAnimation||S.session.setScrollLeft(P.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new x(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(P){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",P)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!C.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),l.resetOptions(this),l._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,s.implement(this,w),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),a.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(b){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=b,b&&this.scrollMargin.top&&b.getScrollTop()<=0&&b.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(b),this.$markerBack.setSession(b),this.$markerFront.setSession(b),this.$gutterLayer.setSession(b),this.$textLayer.setSession(b),b&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(b,_,S){if(_===void 0&&(_=1/0),this.$changedLines?(this.$changedLines.firstRow>b&&(this.$changedLines.firstRow=b),this.$changedLines.lastRow<_&&(this.$changedLines.lastRow=_)):this.$changedLines={firstRow:b,lastRow:_},this.$changedLines.lastRow<this.layerConfig.firstRow)if(S)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(b){b?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(b,_,S,T){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=b?1:0;var P=this.container;T||(T=P.clientHeight||P.scrollHeight),S||(S=P.clientWidth||P.scrollWidth);var I=this.$updateCachedSize(b,_,S,T);if(!this.$size.scrollerHeight||!S&&!T)return this.resizing=0;b&&(this.$gutterLayer.$padding=null),b?this.$renderChanges(I|this.$changes,!0):this.$loop.schedule(I|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(b,_,S,T){T-=this.$extraHeight||0;var P=0,I=this.$size,z={width:I.width,height:I.height,scrollerHeight:I.scrollerHeight,scrollerWidth:I.scrollerWidth};if(T&&(b||I.height!=T)&&(I.height=T,P|=this.CHANGE_SIZE,I.scrollerHeight=I.height,this.$horizScroll&&(I.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(I.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",P=P|this.CHANGE_SCROLL),S&&(b||I.width!=S)){P|=this.CHANGE_SIZE,I.width=S,_==null&&(_=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=_,a.setStyle(this.scrollBarH.element.style,"left",_+"px"),a.setStyle(this.scroller.style,"left",_+this.margin.left+"px"),I.scrollerWidth=Math.max(0,S-_-this.scrollBarV.getWidth()-this.margin.h),a.setStyle(this.$gutter.style,"left",this.margin.left+"px");var O=this.scrollBarV.getWidth()+"px";a.setStyle(this.scrollBarH.element.style,"right",O),a.setStyle(this.scroller.style,"right",O),a.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(I.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||b)&&(P|=this.CHANGE_FULL)}return I.$dirty=!S||!T,P&&this._signal("resize",z),P},this.onGutterResize=function(b){var _=this.$showGutter?b:0;_!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,_,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var b=this.$size.scrollerWidth-this.$padding*2,_=Math.floor(b/this.characterWidth);return this.session.adjustWrapLimit(_,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(b){this.setOption("animatedScroll",b)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(b){this.setOption("showInvisibles",b),this.session.$bidiHandler.setShowInvisibles(b)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(b){this.setOption("displayIndentGuides",b)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(b){this.setOption("highlightIndentGuides",b)},this.setShowPrintMargin=function(b){this.setOption("showPrintMargin",b)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(b){this.setOption("printMarginColumn",b)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(b){return this.setOption("showGutter",b)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(b){this.setOption("fadeFoldWidgets",b)},this.setHighlightGutterLine=function(b){this.setOption("highlightGutterLine",b)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var b=a.createElement("div");b.className="ace_layer ace_print-margin-layer",this.$printMarginEl=a.createElement("div"),this.$printMarginEl.className="ace_print-margin",b.appendChild(this.$printMarginEl),this.content.insertBefore(b,this.content.firstChild)}var _=this.$printMarginEl.style;_.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",_.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var b=this.textarea.style,_=this.$composition;if(!this.$keepTextAreaAtCursor&&!_){a.translate(this.textarea,-100,0);return}var S=this.$cursorLayer.$pixelPos;if(!!S){_&&_.markerRange&&(S=this.$cursorLayer.getPixelPosition(_.markerRange.start,!0));var T=this.layerConfig,P=S.top,I=S.left;P-=T.offset;var z=_&&_.useTextareaForIME?this.lineHeight:E?0:1;if(P<0||P>T.height-z){a.translate(this.textarea,0,0);return}var O=1,D=this.$size.height-z;if(!_)P+=this.lineHeight;else if(_.useTextareaForIME){var B=this.textarea.value;O=this.characterWidth*this.session.$getStringScreenWidth(B)[0]}else P+=this.lineHeight+2;I-=this.scrollLeft,I>this.$size.scrollerWidth-O&&(I=this.$size.scrollerWidth-O),I+=this.gutterWidth+this.margin.left,a.setStyle(b,"height",z+"px"),a.setStyle(b,"width",O+"px"),a.translate(this.textarea,Math.min(I,this.$size.scrollerWidth-O),Math.min(P,D))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var b=this.layerConfig,_=b.lastRow,S=this.session.documentToScreenRow(_,0)*b.lineHeight;return S-this.session.getScrollTop()>b.height-b.lineHeight?_-1:_},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(b){this.$padding=b,this.$textLayer.setPadding(b),this.$cursorLayer.setPadding(b),this.$markerFront.setPadding(b),this.$markerBack.setPadding(b),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(b,_,S,T){var P=this.scrollMargin;P.top=b|0,P.bottom=_|0,P.right=T|0,P.left=S|0,P.v=P.top+P.bottom,P.h=P.left+P.right,P.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-P.top),this.updateFull()},this.setMargin=function(b,_,S,T){var P=this.margin;P.top=b|0,P.bottom=_|0,P.right=T|0,P.left=S|0,P.v=P.top+P.bottom,P.h=P.left+P.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(b){this.setOption("hScrollBarAlwaysVisible",b)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(b){this.setOption("vScrollBarAlwaysVisible",b)},this.$updateScrollBarV=function(){var b=this.layerConfig.maxHeight,_=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(b-=(_-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>b-_&&(b=this.scrollTop+_,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(b+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(b,_){if(this.$changes&&(b|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!b&&!_){this.$changes|=b;return}if(this.$size.$dirty)return this.$changes|=b,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",b),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var S=this.layerConfig;if(b&this.CHANGE_FULL||b&this.CHANGE_SIZE||b&this.CHANGE_TEXT||b&this.CHANGE_LINES||b&this.CHANGE_SCROLL||b&this.CHANGE_H_SCROLL){if(b|=this.$computeLayerConfig()|this.$loop.clear(),S.firstRow!=this.layerConfig.firstRow&&S.firstRowScreen==this.layerConfig.firstRowScreen){var T=this.scrollTop+(S.firstRow-this.layerConfig.firstRow)*this.lineHeight;T>0&&(this.scrollTop=T,b=b|this.CHANGE_SCROLL,b|=this.$computeLayerConfig()|this.$loop.clear())}S=this.layerConfig,this.$updateScrollBarV(),b&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),a.translate(this.content,-this.scrollLeft,-S.offset);var P=S.width+2*this.$padding+"px",I=S.minHeight+"px";a.setStyle(this.content.style,"width",P),a.setStyle(this.content.style,"height",I)}if(b&this.CHANGE_H_SCROLL&&(a.translate(this.content,-this.scrollLeft,-S.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),b&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",b);return}if(b&this.CHANGE_SCROLL){this.$changedLines=null,b&this.CHANGE_TEXT||b&this.CHANGE_LINES?this.$textLayer.update(S):this.$textLayer.scrollLines(S),this.$showGutter&&(b&this.CHANGE_GUTTER||b&this.CHANGE_LINES?this.$gutterLayer.update(S):this.$gutterLayer.scrollLines(S)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",b);return}b&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):b&this.CHANGE_LINES?((this.$updateLines()||b&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):b&this.CHANGE_TEXT||b&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):b&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)),b&this.CHANGE_CURSOR&&(this.$cursorLayer.update(S),this.$moveTextAreaToCursor()),b&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(S),b&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(S),this._signal("afterRender",b)},this.$autosize=function(){var b=this.session.getScreenLength()*this.lineHeight,_=this.$maxLines*this.lineHeight,S=Math.min(_,Math.max((this.$minLines||1)*this.lineHeight,b))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(S+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&S>this.$maxPixelHeight&&(S=this.$maxPixelHeight);var T=S<=2*this.lineHeight,P=!T&&b>_;if(S!=this.desiredHeight||this.$size.height!=this.desiredHeight||P!=this.$vScroll){P!=this.$vScroll&&(this.$vScroll=P,this.scrollBarV.setVisible(P));var I=this.container.clientWidth;this.container.style.height=S+"px",this.$updateCachedSize(!0,this.$gutterWidth,I,S),this.desiredHeight=S,this._signal("autosize")}},this.$computeLayerConfig=function(){var b=this.session,_=this.$size,S=_.height<=2*this.lineHeight,T=this.session.getScreenLength(),P=T*this.lineHeight,I=this.$getLongestLine(),z=!S&&(this.$hScrollBarAlwaysVisible||_.scrollerWidth-I-2*this.$padding<0),O=this.$horizScroll!==z;O&&(this.$horizScroll=z,this.scrollBarH.setVisible(z));var D=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var B=_.scrollerHeight+this.lineHeight,F=!this.$maxLines&&this.$scrollPastEnd?(_.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;P+=F;var U=this.scrollMargin;this.session.setScrollTop(Math.max(-U.top,Math.min(this.scrollTop,P-_.scrollerHeight+U.bottom))),this.session.setScrollLeft(Math.max(-U.left,Math.min(this.scrollLeft,I+2*this.$padding-_.scrollerWidth+U.right)));var H=!S&&(this.$vScrollBarAlwaysVisible||_.scrollerHeight-P+F<0||this.scrollTop>U.top),j=D!==H;j&&(this.$vScroll=H,this.scrollBarV.setVisible(H));var Y=this.scrollTop%this.lineHeight,K=Math.ceil(B/this.lineHeight)-1,X=Math.max(0,Math.round((this.scrollTop-Y)/this.lineHeight)),$=X+K,q,pe,he=this.lineHeight;X=b.screenToDocumentRow(X,0);var Ae=b.getFoldLine(X);Ae&&(X=Ae.start.row),q=b.documentToScreenRow(X,0),pe=b.getRowLength(X)*he,$=Math.min(b.screenToDocumentRow($,0),b.getLength()-1),B=_.scrollerHeight+b.getRowLength($)*he+pe,Y=this.scrollTop-q*he;var me=0;return(this.layerConfig.width!=I||O)&&(me=this.CHANGE_H_SCROLL),(O||j)&&(me|=this.$updateCachedSize(!0,this.gutterWidth,_.width,_.height),this._signal("scrollbarVisibilityChanged"),j&&(I=this.$getLongestLine())),this.layerConfig={width:I,padding:this.$padding,firstRow:X,firstRowScreen:q,lastRow:$,lineHeight:he,characterWidth:this.characterWidth,minHeight:B,maxHeight:P,offset:Y,gutterOffset:he?Math.max(0,Math.ceil((Y+_.height-_.scrollerHeight)/he)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(I-this.$padding),me},this.$updateLines=function(){if(!!this.$changedLines){var b=this.$changedLines.firstRow,_=this.$changedLines.lastRow;this.$changedLines=null;var S=this.layerConfig;if(!(b>S.lastRow+1)&&!(_<S.firstRow)){if(_===1/0){this.$showGutter&&this.$gutterLayer.update(S),this.$textLayer.update(S);return}return this.$textLayer.updateLines(S,b,_),!0}}},this.$getLongestLine=function(){var b=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(b+=1),this.$textLayer&&b>this.$textLayer.MAX_LINE_LENGTH&&(b=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(b*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(b,_){this.$gutterLayer.addGutterDecoration(b,_)},this.removeGutterDecoration=function(b,_){this.$gutterLayer.removeGutterDecoration(b,_)},this.updateBreakpoints=function(b){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(b){this.$gutterLayer.setAnnotations(b),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(b,_,S){this.scrollCursorIntoView(b,S),this.scrollCursorIntoView(_,S)},this.scrollCursorIntoView=function(b,_,S){if(this.$size.scrollerHeight!==0){var T=this.$cursorLayer.getPixelPosition(b),P=T.left,I=T.top,z=S&&S.top||0,O=S&&S.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var D=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;D+z>I?(_&&D+z>I+this.lineHeight&&(I-=_*this.$size.scrollerHeight),I===0&&(I=-this.scrollMargin.top),this.session.setScrollTop(I)):D+this.$size.scrollerHeight-O<I+this.lineHeight&&(_&&D+this.$size.scrollerHeight-O<I-this.lineHeight&&(I+=_*this.$size.scrollerHeight),this.session.setScrollTop(I+this.lineHeight+O-this.$size.scrollerHeight));var B=this.scrollLeft,F=2*this.layerConfig.characterWidth;P-F<B?(P-=F,P<this.$padding+F&&(P=-this.scrollMargin.left),this.session.setScrollLeft(P)):(P+=F,B+this.$size.scrollerWidth<P+this.characterWidth?this.session.setScrollLeft(Math.round(P+this.characterWidth-this.$size.scrollerWidth)):B<=this.$padding&&P-B<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(b){this.session.setScrollTop(b*this.lineHeight)},this.alignCursor=function(b,_){typeof b=="number"&&(b={row:b,column:0});var S=this.$cursorLayer.getPixelPosition(b),T=this.$size.scrollerHeight-this.lineHeight,P=S.top-T*(_||0);return this.session.setScrollTop(P),P},this.STEPS=8,this.$calcSteps=function(b,_){var S=0,T=this.STEPS,P=[],I=function(z,O,D){return D*(Math.pow(z-1,3)+1)+O};for(S=0;S<T;++S)P.push(I(S/this.STEPS,b,_-b));return P},this.scrollToLine=function(b,_,S,T){var P=this.$cursorLayer.getPixelPosition({row:b,column:0}),I=P.top;_&&(I-=this.$size.scrollerHeight/2);var z=this.scrollTop;this.session.setScrollTop(I),S!==!1&&this.animateScrolling(z,T)},this.animateScrolling=function(b,_){var S=this.scrollTop;if(!this.$animatedScroll)return;var T=this;if(b==S)return;if(this.$scrollAnimation){var P=this.$scrollAnimation.steps;if(P.length&&(b=P[0],b==S))return}var I=T.$calcSteps(b,S);this.$scrollAnimation={from:b,to:S,steps:I},clearInterval(this.$timer),T.session.setScrollTop(I.shift()),T.session.$scrollTop=S;function z(){T.$timer=clearInterval(T.$timer),T.$scrollAnimation=null,T.$stopAnimation=!1,_&&_()}this.$timer=setInterval(function(){if(T.$stopAnimation){z();return}if(!T.session)return clearInterval(T.$timer);I.length?(T.session.setScrollTop(I.shift()),T.session.$scrollTop=S):S!=null?(T.session.$scrollTop=-1,T.session.setScrollTop(S),S=null):z()},10)},this.scrollToY=function(b){this.scrollTop!==b&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=b)},this.scrollToX=function(b){this.scrollLeft!==b&&(this.scrollLeft=b),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(b,_){this.session.setScrollTop(_),this.session.setScrollLeft(b)},this.scrollBy=function(b,_){_&&this.session.setScrollTop(this.session.getScrollTop()+_),b&&this.session.setScrollLeft(this.session.getScrollLeft()+b)},this.isScrollableBy=function(b,_){if(_<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||_>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||b<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||b>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(b,_){var S;if(this.$hasCssTransforms){S={top:0,left:0};var T=this.$fontMetrics.transformCoordinates([b,_]);b=T[1]-this.gutterWidth-this.margin.left,_=T[0]}else S=this.scroller.getBoundingClientRect();var P=b+this.scrollLeft-S.left-this.$padding,I=P/this.characterWidth,z=Math.floor((_+this.scrollTop-S.top)/this.lineHeight),O=this.$blockCursor?Math.floor(I):Math.round(I);return{row:z,column:O,side:I-O>0?1:-1,offsetX:P}},this.screenToTextCoordinates=function(b,_){var S;if(this.$hasCssTransforms){S={top:0,left:0};var T=this.$fontMetrics.transformCoordinates([b,_]);b=T[1]-this.gutterWidth-this.margin.left,_=T[0]}else S=this.scroller.getBoundingClientRect();var P=b+this.scrollLeft-S.left-this.$padding,I=P/this.characterWidth,z=this.$blockCursor?Math.floor(I):Math.round(I),O=Math.floor((_+this.scrollTop-S.top)/this.lineHeight);return this.session.screenToDocumentPosition(O,Math.max(z,0),P)},this.textToScreenCoordinates=function(b,_){var S=this.scroller.getBoundingClientRect(),T=this.session.documentToScreenPosition(b,_),P=this.$padding+(this.session.$bidiHandler.isBidiRow(T.row,b)?this.session.$bidiHandler.getPosLeft(T.column):Math.round(T.column*this.characterWidth)),I=T.row*this.lineHeight;return{pageX:S.left+P-this.scrollLeft,pageY:S.top+I-this.scrollTop}},this.visualizeFocus=function(){a.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){a.removeCssClass(this.container,"ace_focus")},this.showComposition=function(b){this.$composition=b,b.cssText||(b.cssText=this.textarea.style.cssText),b.useTextareaForIME==null&&(b.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(a.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):b.markerId=this.session.addMarker(b.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(b){var _=this.session.selection.cursor;this.addToken(b,"composition_placeholder",_.row,_.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!!this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),a.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var b=this.session.selection.cursor;this.removeExtraToken(b.row,b.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(b,_,S,T){var P=this.session;P.bgTokenizer.lines[S]=null;var I={type:_,value:b},z=P.getTokens(S);if(T==null)z.push(I);else for(var O=0,D=0;D<z.length;D++){var B=z[D];if(O+=B.value.length,T<=O){var F=B.value.length-(O-T),U=B.value.slice(0,F),H=B.value.slice(F);z.splice(D,1,{type:B.type,value:U},I,{type:B.type,value:H});break}}this.updateLines(S,S)},this.removeExtraToken=function(b,_){this.updateLines(b,b)},this.setTheme=function(b,_){var S=this;if(this.$themeId=b,S._dispatchEvent("themeChange",{theme:b}),!b||typeof b=="string"){var T=b||this.$options.theme.initialValue;l.loadModule(["theme",T],P)}else P(b);function P(I){if(S.$themeId!=b)return _&&_();if(!I||!I.cssClass)throw new Error("couldn't load module "+b+" or it didn't call define");I.$id&&(S.$themeId=I.$id),a.importCssString(I.cssText,I.cssClass,S.container),S.theme&&a.removeCssClass(S.container,S.theme.cssClass);var z="padding"in I?I.padding:"padding"in(S.theme||{})?4:S.$padding;S.$padding&&z!=S.$padding&&S.setPadding(z),S.$theme=I.cssClass,S.theme=I,a.addCssClass(S.container,I.cssClass),a.setCssClass(S.container,"ace_dark",I.isDark),S.$size&&(S.$size.width=0,S.$updateSizeAsync()),S._dispatchEvent("themeLoaded",{theme:I}),_&&_()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(b,_){a.setCssClass(this.container,b,_!==!1)},this.unsetStyle=function(b){a.removeCssClass(this.container,b)},this.setCursorStyle=function(b){a.setStyle(this.scroller.style,"cursor",b)},this.setMouseCursor=function(b){a.setStyle(this.scroller.style,"cursor",b)},this.attachToShadowRoot=function(){a.importCssString(A,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(b){var _=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,b===!0?(this.scrollBarV=new m(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(S){_.$scrollAnimation||_.session.setScrollTop(S.data-_.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){_.$scrollAnimation||_.session.setScrollLeft(S.data-_.scrollMargin.left)}),this.$scrollDecorator=new M(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){_.$scrollAnimation||_.session.setScrollTop(S.data-_.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){_.$scrollAnimation||_.session.setScrollLeft(S.data-_.scrollMargin.left)}))}}).call(R.prototype),l.defineOptions(R.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(b){this.$textLayer.setShowInvisibles(b)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(b){typeof b=="number"&&(this.$printMarginColumn=b),this.$showPrintMargin=!!b,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(b){this.$gutter.style.display=b?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(b){a.setCssClass(this.$gutter,"ace_fade-fold-widgets",b)},initialValue:!1},showFoldWidgets:{set:function(b){this.$gutterLayer.setShowFoldWidgets(b),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(b){this.$textLayer.setDisplayIndentGuides(b)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(b){this.$textLayer.setHighlightIndentGuides(b)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(b){this.$gutterLayer.setHighlightGutterLine(b),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(b){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(b){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(b){typeof b=="number"&&(b=b+"px"),this.container.style.fontSize=b,this.updateFontSize()},initialValue:12},fontFamily:{set:function(b){this.container.style.fontFamily=b,this.updateFontSize()}},maxLines:{set:function(b){this.updateFull()}},minLines:{set:function(b){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(b){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(b){b=+b||0,this.$scrollPastEnd!=b&&(this.$scrollPastEnd=b,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(b){this.$gutterLayer.$fixedWidth=!!b,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(b){this.$updateCustomScrollbar(b)},initialValue:!1},theme:{set:function(b){this.setTheme(b)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!C.isMobile&&!C.isIE}}),i.VirtualRenderer=R}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,i,r){var s=t("../lib/oop"),a=t("../lib/net"),l=t("../lib/event_emitter").EventEmitter,h=t("../config");function f(d){var p="importScripts('"+a.qualifyURL(d)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,v=new m;return v.append(p),v.getBlob("application/javascript")}}function c(d){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(h.get("loadWorkerFromBlob")){var p=f(d),m=window.URL||window.webkitURL,v=m.createObjectURL(p);return new Worker(v)}return new Worker(d)}var o=function(d){d.postMessage||(d=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=d,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){s.implement(this,l),this.$createWorkerFromOldConfig=function(d,p,m,v,x){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),h.get("packaged")||!t.toUrl)v=v||h.moduleUrl(p,"worker");else{var w=this.$normalizePath;v=v||w(t.toUrl("ace/worker/worker.js",null,"_"));var A={};d.forEach(function(M){A[M]=w(t.toUrl(M,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(v),x&&this.send("importScripts",x),this.$worker.postMessage({init:!0,tlns:A,module:p,classname:m}),this.$worker},this.onMessage=function(d){var p=d.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var m=this.callbacks[p.id];m&&(m(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(d){window.console&&console.error&&console.error(d)},this.$normalizePath=function(d){return a.qualifyURL(d)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(d,p){this.$worker.postMessage({command:d,args:p})},this.call=function(d,p,m){if(m){var v=this.callbackId++;this.callbacks[v]=m,p.push(v)}this.send(d,p)},this.emit=function(d,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:d,data:{data:p.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(d){this.$doc&&this.terminate(),this.$doc=d,this.call("setValue",[d.getValue()]),d.on("change",this.changeListener,!0)},this.changeListener=function(d){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),d.action=="insert"?this.deltaQueue.push(d.start,d.lines):this.deltaQueue.push(d.start,d.end)},this.$sendDeltaQueue=function(){var d=this.deltaQueue;!d||(this.deltaQueue=null,d.length>50&&d.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:d}))}}).call(o.prototype);var u=function(d,p,m){var v=null,x=!1,w=Object.create(l),A=[],M=new o({messageBuffer:A,terminate:function(){},postMessage:function(E){A.push(E),v&&(x?setTimeout(C):C())}});M.setEmitSync=function(E){x=E};var C=function(){var E=A.shift();E.command?v[E.command].apply(v,E.args):E.event&&w._signal(E.event,E.data)};return w.postMessage=function(E){M.onMessage({data:E})},w.callback=function(E,R){this.postMessage({type:"call",id:R,data:E})},w.emit=function(E,R){this.postMessage({type:"event",name:E,data:R})},h.loadModule(["worker",p],function(E){for(v=new E[m](w);A.length;)C()}),M};i.UIWorkerClient=u,i.WorkerClient=o,i.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,i,r){var s=t("./range").Range,a=t("./lib/event_emitter").EventEmitter,l=t("./lib/oop"),h=function(f,c,o,u,d,p){var m=this;this.length=c,this.session=f,this.doc=f.getDocument(),this.mainClass=d,this.othersClass=p,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=u,this.$onCursorChange=function(){setTimeout(function(){m.onCursorChange()})},this.$pos=o;var v=f.getUndoManager().$undoStack||f.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),f.selection.on("changeCursor",this.$onCursorChange)};(function(){l.implement(this,a),this.setup=function(){var f=this,c=this.doc,o=this.session;this.selectionBefore=o.selection.toJSON(),o.selection.inMultiSelectMode&&o.selection.toSingleRange(),this.pos=c.createAnchor(this.$pos.row,this.$pos.column);var u=this.pos;u.$insertRight=!0,u.detach(),u.markerId=o.addMarker(new s(u.row,u.column,u.row,u.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(d){var p=c.createAnchor(d.row,d.column);p.$insertRight=!0,p.detach(),f.others.push(p)}),o.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var f=this.session,c=this;this.othersActive=!0,this.others.forEach(function(o){o.markerId=f.addMarker(new s(o.row,o.column,o.row,o.column+c.length),c.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(!!this.othersActive){this.othersActive=!1;for(var f=0;f<this.others.length;f++)this.session.removeMarker(this.others[f].markerId)}},this.onUpdate=function(f){if(this.$updating)return this.updateAnchors(f);var c=f;if(c.start.row===c.end.row&&c.start.row===this.pos.row){this.$updating=!0;var o=f.action==="insert"?c.end.column-c.start.column:c.start.column-c.end.column,u=c.start.column>=this.pos.column&&c.start.column<=this.pos.column+this.length+1,d=c.start.column-this.pos.column;if(this.updateAnchors(f),u&&(this.length+=o),u&&!this.session.$fromUndo){if(f.action==="insert")for(var p=this.others.length-1;p>=0;p--){var m=this.others[p],v={row:m.row,column:m.column+d};this.doc.insertMergedLines(v,f.lines)}else if(f.action==="remove")for(var p=this.others.length-1;p>=0;p--){var m=this.others[p],v={row:m.row,column:m.column+d};this.doc.remove(new s(v.row,v.column,v.row,v.column-o))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(f){this.pos.onChange(f);for(var c=this.others.length;c--;)this.others[c].onChange(f);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var f=this,c=this.session,o=function(d,p){c.removeMarker(d.markerId),d.markerId=c.addMarker(new s(d.row,d.column,d.row,d.column+f.length),p,null,!1)};o(this.pos,this.mainClass);for(var u=this.others.length;u--;)o(this.others[u],this.othersClass)}},this.onCursorChange=function(f){if(!(this.$updating||!this.session)){var c=this.session.selection.getCursor();c.row===this.pos.row&&c.column>=this.pos.column&&c.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",f)):(this.hideOtherMarkers(),this._emit("cursorLeave",f))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var f=this.session.getUndoManager(),c=(f.$undoStack||f.$undostack).length-this.$undoStackDepth,o=0;o<c;o++)f.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(h.prototype),i.PlaceHolder=h}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,i,r){var s=t("../lib/event"),a=t("../lib/useragent");function l(f,c){return f.row==c.row&&f.column==c.column}function h(f){var c=f.domEvent,o=c.altKey,u=c.shiftKey,d=c.ctrlKey,p=f.getAccelKey(),m=f.getButton();if(d&&a.isMac&&(m=c.button),f.editor.inMultiSelectMode&&m==2){f.editor.textInput.onContextMenu(f.domEvent);return}if(!d&&!o&&!p){m===0&&f.editor.inMultiSelectMode&&f.editor.exitMultiSelectMode();return}if(m===0){var v=f.editor,x=v.selection,w=v.inMultiSelectMode,A=f.getDocumentPosition(),M=x.getCursor(),C=f.inSelection()||x.isEmpty()&&l(A,M),E=f.x,R=f.y,b=function(j){E=j.clientX,R=j.clientY},_=v.session,S=v.renderer.pixelToScreenCoordinates(E,R),T=S,P;if(v.$mouseHandler.$enableJumpToDef)d&&o||p&&o?P=u?"block":"add":o&&v.$blockSelectEnabled&&(P="block");else if(p&&!o){if(P="add",!w&&u)return}else o&&v.$blockSelectEnabled&&(P="block");if(P&&a.isMac&&c.ctrlKey&&v.$mouseHandler.cancelContextMenu(),P=="add"){if(!w&&C)return;if(!w){var I=x.toOrientedRange();v.addSelectionMarker(I)}var z=x.rangeList.rangeAtPoint(A);v.inVirtualSelectionMode=!0,u&&(z=null,I=x.ranges[0]||I,v.removeSelectionMarker(I)),v.once("mouseup",function(){var j=x.toOrientedRange();z&&j.isEmpty()&&l(z.cursor,j.cursor)?x.substractPoint(j.cursor):(u?x.substractPoint(I.cursor):I&&(v.removeSelectionMarker(I),x.addRange(I)),x.addRange(j)),v.inVirtualSelectionMode=!1})}else if(P=="block"){f.stop(),v.inVirtualSelectionMode=!0;var O,D=[],B=function(){var j=v.renderer.pixelToScreenCoordinates(E,R),Y=_.screenToDocumentPosition(j.row,j.column,j.offsetX);l(T,j)&&l(Y,x.lead)||(T=j,v.selection.moveToPosition(Y),v.renderer.scrollCursorIntoView(),v.removeSelectionMarkers(D),D=x.rectangularRangeBlock(T,S),v.$mouseHandler.$clickSelection&&D.length==1&&D[0].isEmpty()&&(D[0]=v.$mouseHandler.$clickSelection.clone()),D.forEach(v.addSelectionMarker,v),v.updateSelectionMarkers())};w&&!p?x.toSingleRange():!w&&p&&(O=x.toOrientedRange(),v.addSelectionMarker(O)),u?S=_.documentToScreenPosition(x.lead):x.moveToPosition(A),T={row:-1,column:-1};var F=function(j){B(),clearInterval(H),v.removeSelectionMarkers(D),D.length||(D=[x.toOrientedRange()]),O&&(v.removeSelectionMarker(O),x.toSingleRange(O));for(var Y=0;Y<D.length;Y++)x.addRange(D[Y]);v.inVirtualSelectionMode=!1,v.$mouseHandler.$clickSelection=null},U=B;s.capture(v.container,b,F);var H=setInterval(function(){U()},20);return f.preventDefault()}}}i.onMouseDown=h}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,i,r){i.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(a){a.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(a){a.multiSelect.rangeCount>1?a.multiSelect.joinSelections():a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(a){a.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],i.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];var s=t("../keyboard/hash_handler").HashHandler;i.keyboardHandler=new s(i.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,i,r){var s=t("./range_list").RangeList,a=t("./range").Range,l=t("./selection").Selection,h=t("./mouse/multi_select_handler").onMouseDown,f=t("./lib/event"),c=t("./lib/lang"),o=t("./commands/multi_select_commands");i.commands=o.defaultCommands.concat(o.multiSelectCommands);var u=t("./search").Search,d=new u;function p(M,C,E){return d.$options.wrap=!0,d.$options.needle=C,d.$options.backwards=E==-1,d.find(M)}var m=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(M,C){if(!!M){if(!this.inMultiSelectMode&&this.rangeCount===0){var E=this.toOrientedRange();if(this.rangeList.add(E),this.rangeList.add(M),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(M);this.rangeList.removeAll(),this.rangeList.add(E),this.$onAddRange(E)}M.cursor||(M.cursor=M.end);var R=this.rangeList.add(M);return this.$onAddRange(M),R.length&&this.$onRemoveRange(R),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(M)}},this.toSingleRange=function(M){M=M||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),M&&this.fromOrientedRange(M)},this.substractPoint=function(M){var C=this.rangeList.substractPoint(M);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var M=this.rangeList.merge();M.length&&this.$onRemoveRange(M)},this.$onAddRange=function(M){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(M),this._signal("addRange",{range:M})},this.$onRemoveRange=function(M){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();M.push(C),this.rangeCount=0}for(var E=M.length;E--;){var R=this.ranges.indexOf(M[E]);this.ranges.splice(R,1)}this._signal("removeRange",{ranges:M}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),C=C||this.ranges[0],C&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var M=this.ranges.length?this.ranges:[this.getRange()],C=[],E=0;E<M.length;E++){var R=M[E],b=R.start.row,_=R.end.row;if(b===_)C.push(R.clone());else{for(C.push(new a(b,R.start.column,b,this.session.getLine(b).length));++b<_;)C.push(this.getLineRange(b,!0));C.push(new a(_,0,_,R.end.column))}E==0&&!this.isBackwards()&&(C=C.reverse())}this.toSingleRange();for(var E=C.length;E--;)this.addRange(C[E])},this.joinSelections=function(){var M=this.rangeList.ranges,C=M[M.length-1],E=a.fromPoints(M[0].start,C.end);this.toSingleRange(),this.setSelectionRange(E,C.cursor==C.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var M=this.rangeList.ranges,C=M[M.length-1],E=a.fromPoints(M[0].start,C.end);this.toSingleRange(),this.setSelectionRange(E,C.cursor==C.start)}else{var R=this.session.documentToScreenPosition(this.cursor),b=this.session.documentToScreenPosition(this.anchor),_=this.rectangularRangeBlock(R,b);_.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(M,C,E){var R=[],b=M.column<C.column;if(b)var _=M.column,S=C.column,T=M.offsetX,P=C.offsetX;else var _=C.column,S=M.column,T=C.offsetX,P=M.offsetX;var I=M.row<C.row;if(I)var z=M.row,O=C.row;else var z=C.row,O=M.row;_<0&&(_=0),z<0&&(z=0),z==O&&(E=!0);for(var D,B=z;B<=O;B++){var F=a.fromPoints(this.session.screenToDocumentPosition(B,_,T),this.session.screenToDocumentPosition(B,S,P));if(F.isEmpty()){if(D&&x(F.end,D))break;D=F.end}F.cursor=b?F.start:F.end,R.push(F)}if(I&&R.reverse(),!E){for(var U=R.length-1;R[U].isEmpty()&&U>0;)U--;if(U>0)for(var H=0;R[H].isEmpty();)H++;for(var j=U;j>=H;j--)R[j].isEmpty()&&R.splice(j,1)}return R}}.call(l.prototype);var v=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(M){M.cursor||(M.cursor=M.end);var C=this.getSelectionStyle();return M.marker=this.session.addMarker(M,"ace_selection",C),this.session.$selectionMarkers.push(M),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,M},this.removeSelectionMarker=function(M){if(!!M.marker){this.session.removeMarker(M.marker);var C=this.session.$selectionMarkers.indexOf(M);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(M){for(var C=this.session.$selectionMarkers,E=M.length;E--;){var R=M[E];if(!!R.marker){this.session.removeMarker(R.marker);var b=C.indexOf(R);b!=-1&&C.splice(b,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(M){this.addSelectionMarker(M.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(M){this.removeSelectionMarkers(M.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(M){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(o.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(M){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(o.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(M){var C=M.command,E=M.editor;if(!!E.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?R=E.forEachSelection(C,M.args):C.multiSelectAction=="forEachLine"?R=E.forEachSelection(C,M.args,!0):C.multiSelectAction=="single"?(E.exitMultiSelectMode(),R=C.exec(E,M.args||{})):R=C.multiSelectAction(E,M.args||{});else{var R=C.exec(E,M.args||{});E.multiSelect.addRange(E.multiSelect.toOrientedRange()),E.multiSelect.mergeOverlappingRanges()}return R}},this.forEachSelection=function(M,C,E){if(!this.inVirtualSelectionMode){var R=E&&E.keepOrder,b=E==!0||E&&E.$byLines,_=this.session,S=this.selection,T=S.rangeList,P=(R?S:T).ranges,I;if(!P.length)return M.exec?M.exec(this,C||{}):M(this,C||{});var z=S._eventRegistry;S._eventRegistry={};var O=new l(_);this.inVirtualSelectionMode=!0;for(var D=P.length;D--;){if(b)for(;D>0&&P[D].start.row==P[D-1].end.row;)D--;O.fromOrientedRange(P[D]),O.index=D,this.selection=_.selection=O;var B=M.exec?M.exec(this,C||{}):M(this,C||{});!I&&B!==void 0&&(I=B),O.toOrientedRange(P[D])}O.detach(),this.selection=_.selection=S,this.inVirtualSelectionMode=!1,S._eventRegistry=z,S.mergeOverlappingRanges(),S.ranges[0]&&S.fromOrientedRange(S.ranges[0]);var F=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),F&&F.from==F.to&&this.renderer.animateScrolling(F.from),I}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var M="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,E=[],R=0;R<C.length;R++)E.push(this.session.getTextRange(C[R]));var b=this.session.getDocument().getNewLineCharacter();M=E.join(b),M.length==(E.length-1)*b.length&&(M="")}else this.selection.isEmpty()||(M=this.session.getTextRange(this.getSelectionRange()));return M},this.$checkMultiselectChange=function(M,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var E=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var R=C==this.multiSelect.anchor?E.cursor==E.start?E.end:E.start:E.cursor;R.row!=C.row||this.session.$clipPositionToDocument(R.row,R.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(M,C,E){if(C=C||{},C.needle=M||C.needle,C.needle==null){var R=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(R)}this.$search.set(C);var b=this.$search.findAll(this.session);if(!b.length)return 0;var _=this.multiSelect;E||_.toSingleRange(b[0]);for(var S=b.length;S--;)_.addRange(b[S],!0);return R&&_.rangeList.rangeAtPoint(R.start)&&_.addRange(R,!0),b.length},this.selectMoreLines=function(M,C){var E=this.selection.toOrientedRange(),R=E.cursor==E.end,b=this.session.documentToScreenPosition(E.cursor);this.selection.$desiredColumn&&(b.column=this.selection.$desiredColumn);var _=this.session.screenToDocumentPosition(b.row+M,b.column);if(E.isEmpty())var T=_;else var S=this.session.documentToScreenPosition(R?E.end:E.start),T=this.session.screenToDocumentPosition(S.row+M,S.column);if(R){var P=a.fromPoints(_,T);P.cursor=P.start}else{var P=a.fromPoints(T,_);P.cursor=P.end}if(P.desiredColumn=b.column,!this.selection.inMultiSelectMode)this.selection.addRange(E);else if(C)var I=E.cursor;this.selection.addRange(P),I&&this.selection.substractPoint(I)},this.transposeSelections=function(M){for(var C=this.session,E=C.multiSelect,R=E.ranges,b=R.length;b--;){var _=R[b];if(_.isEmpty()){var S=C.getWordRange(_.start.row,_.start.column);_.start.row=S.start.row,_.start.column=S.start.column,_.end.row=S.end.row,_.end.column=S.end.column}}E.mergeOverlappingRanges();for(var T=[],b=R.length;b--;){var _=R[b];T.unshift(C.getTextRange(_))}M<0?T.unshift(T.pop()):T.push(T.shift());for(var b=R.length;b--;){var _=R[b],S=_.clone();C.replace(_,T[b]),_.start.row=S.start.row,_.start.column=S.start.column}E.fromOrientedRange(E.ranges[0])},this.selectMore=function(M,C,E){var R=this.session,b=R.multiSelect,_=b.toOrientedRange();if(!(_.isEmpty()&&(_=R.getWordRange(_.start.row,_.start.column),_.cursor=M==-1?_.start:_.end,this.multiSelect.addRange(_),E))){var S=R.getTextRange(_),T=p(R,S,M);T&&(T.cursor=M==-1?T.start:T.end,this.session.unfold(T),this.multiSelect.addRange(T),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(_.cursor)}},this.alignCursors=function(){var M=this.session,C=M.multiSelect,E=C.ranges,R=-1,b=E.filter(function(U){if(U.cursor.row==R)return!0;R=U.cursor.row});if(!E.length||b.length==E.length-1){var _=this.selection.getRange(),S=_.start.row,T=_.end.row,P=S==T;if(P){var I=this.session.getLength(),z;do z=this.session.getLine(T);while(/[=:]/.test(z)&&++T<I);do z=this.session.getLine(S);while(/[=:]/.test(z)&&--S>0);S<0&&(S=0),T>=I&&(T=I-1)}var O=this.session.removeFullLines(S,T);O=this.$reAlignText(O,P),this.session.insert({row:S,column:0},O.join(`
`)+`
`),P||(_.start.column=0,_.end.column=O[O.length-1].length),this.selection.setRange(_)}else{b.forEach(function(U){C.substractPoint(U.cursor)});var D=0,B=1/0,F=E.map(function(U){var H=U.cursor,j=M.getLine(H.row),Y=j.substr(H.column).search(/\S/g);return Y==-1&&(Y=0),H.column>D&&(D=H.column),Y<B&&(B=Y),Y});E.forEach(function(U,H){var j=U.cursor,Y=D-j.column,K=F[H]-B;Y>K?M.insert(j,c.stringRepeat(" ",Y-K)):M.remove(new a(j.row,j.column,j.row,j.column-Y+K)),U.start.column=U.end.column=D,U.start.row=U.end.row=j.row,U.cursor=U.end}),C.fromOrientedRange(E[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(M,C){var E=!0,R=!0,b,_,S;return M.map(function(O){var D=O.match(/(\s*)(.*?)(\s*)([=:].*)/);return D?b==null?(b=D[1].length,_=D[2].length,S=D[3].length,D):(b+_+S!=D[1].length+D[2].length+D[3].length&&(R=!1),b!=D[1].length&&(E=!1),b>D[1].length&&(b=D[1].length),_<D[2].length&&(_=D[2].length),S>D[3].length&&(S=D[3].length),D):[O]}).map(C?P:E?R?I:P:z);function T(O){return c.stringRepeat(" ",O)}function P(O){return O[2]?T(b)+O[2]+T(_-O[2].length+S)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}function I(O){return O[2]?T(b+_-O[2].length)+O[2]+T(S)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}function z(O){return O[2]?T(b)+O[2]+T(S)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}}}).call(v.prototype);function x(M,C){return M.row==C.row&&M.column==C.column}i.onSessionChange=function(M){var C=M.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var E=M.oldSession;E&&(E.multiSelect.off("addRange",this.$onAddRange),E.multiSelect.off("removeRange",this.$onRemoveRange),E.multiSelect.off("multiSelect",this.$onMultiSelect),E.multiSelect.off("singleSelect",this.$onSingleSelect),E.multiSelect.lead.off("change",this.$checkMultiselectChange),E.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function w(M){M.$multiselectOnSessionChange||(M.$onAddRange=M.$onAddRange.bind(M),M.$onRemoveRange=M.$onRemoveRange.bind(M),M.$onMultiSelect=M.$onMultiSelect.bind(M),M.$onSingleSelect=M.$onSingleSelect.bind(M),M.$multiselectOnSessionChange=i.onSessionChange.bind(M),M.$checkMultiselectChange=M.$checkMultiselectChange.bind(M),M.$multiselectOnSessionChange(M),M.on("changeSession",M.$multiselectOnSessionChange),M.on("mousedown",h),M.commands.addCommands(o.defaultCommands),A(M))}function A(M){if(!M.textInput)return;var C=M.textInput.getElement(),E=!1;f.addListener(C,"keydown",function(b){var _=b.keyCode==18&&!(b.ctrlKey||b.shiftKey||b.metaKey);M.$blockSelectEnabled&&_?E||(M.renderer.setMouseCursor("crosshair"),E=!0):E&&R()},M),f.addListener(C,"keyup",R,M),f.addListener(C,"blur",R,M);function R(b){E&&(M.renderer.setMouseCursor(""),E=!1)}}i.MultiSelect=w,t("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(M){w(this),M?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",h)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",h))},value:!0},enableBlockSelect:{set:function(M){this.$blockSelectEnabled=M},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,i,r){var s=t("../../range").Range,a=i.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(l,h,f){var c=l.getLine(f);return this.foldingStartMarker.test(c)?"start":h=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(l,h,f){return null},this.indentationBlock=function(l,h,f){var c=/\S/,o=l.getLine(h),u=o.search(c);if(u!=-1){for(var d=f||o.length,p=l.getLength(),m=h,v=h;++h<p;){var x=l.getLine(h).search(c);if(x!=-1){if(x<=u){var w=l.getTokenAt(h,0);if(!w||w.type!=="string")break}v=h}}if(v>m){var A=l.getLine(v).length;return new s(m,d,v,A)}}},this.openingBracketBlock=function(l,h,f,c,o){var u={row:f,column:c+1},d=l.$findClosingBracket(h,u,o);if(!!d){var p=l.foldWidgets[d.row];return p==null&&(p=l.getFoldWidget(d.row)),p=="start"&&d.row>u.row&&(d.row--,d.column=l.getLine(d.row).length),s.fromPoints(u,d)}},this.closingBracketBlock=function(l,h,f,c,o){var u={row:f,column:c},d=l.$findOpeningBracket(h,u);if(!!d)return d.column++,u.column--,s.fromPoints(d,u)}}).call(a.prototype)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,i,r){var s=t("./lib/dom");function a(l){this.session=l,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(l){var h;return this.lineWidgets?h=this.lineWidgets[l]&&this.lineWidgets[l].rowCount||0:h=0,!this.$useWrapMode||!this.$wrapData[l]?1+h:this.$wrapData[l].length+1+h},this.$getWidgetScreenLength=function(){var l=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(l+=h.rowCount)}),l},this.$onChangeEditor=function(l){this.attach(l.editor)},this.attach=function(l){l&&l.widgetManager&&l.widgetManager!=this&&l.widgetManager.detach(),this.editor!=l&&(this.detach(),this.editor=l,l&&(l.widgetManager=this,l.renderer.on("beforeRender",this.measureWidgets),l.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(l){var h=this.editor;if(!!h){this.editor=null,h.widgetManager=null,h.renderer.off("beforeRender",this.measureWidgets),h.renderer.off("afterRender",this.renderWidgets);var f=this.session.lineWidgets;f&&f.forEach(function(c){c&&c.el&&c.el.parentNode&&(c._inDocument=!1,c.el.parentNode.removeChild(c.el))})}},this.updateOnFold=function(l,h){var f=h.lineWidgets;if(!(!f||!l.action)){for(var c=l.data,o=c.start.row,u=c.end.row,d=l.action=="add",p=o+1;p<u;p++)f[p]&&(f[p].hidden=d);f[u]&&(d?f[o]?f[u].hidden=d:f[o]=f[u]:(f[o]==f[u]&&(f[o]=void 0),f[u].hidden=d))}},this.updateOnChange=function(l){var h=this.session.lineWidgets;if(!!h){var f=l.start.row,c=l.end.row-f;if(c!==0)if(l.action=="remove"){var o=h.splice(f+1,c);!h[f]&&o[o.length-1]&&(h[f]=o.pop()),o.forEach(function(d){d&&this.removeLineWidget(d)},this),this.$updateRows()}else{var u=new Array(c);h[f]&&h[f].column!=null&&l.start.column>h[f].column&&f++,u.unshift(f,0),h.splice.apply(h,u),this.$updateRows()}}},this.$updateRows=function(){var l=this.session.lineWidgets;if(!!l){var h=!0;l.forEach(function(f,c){if(f)for(h=!1,f.row=c;f.$oldWidget;)f.$oldWidget.row=c,f=f.$oldWidget}),h&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(l){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var h=this.session.lineWidgets[l.row];return h&&(l.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1)),this.session.lineWidgets[l.row]=l,l},this.addLineWidget=function(l){if(this.$registerLineWidget(l),l.session=this.session,!this.editor)return l;var h=this.editor.renderer;l.html&&!l.el&&(l.el=s.createElement("div"),l.el.innerHTML=l.html),l.el&&(s.addCssClass(l.el,"ace_lineWidgetContainer"),l.el.style.position="absolute",l.el.style.zIndex=5,h.container.appendChild(l.el),l._inDocument=!0,l.coverGutter||(l.el.style.zIndex=3),l.pixelHeight==null&&(l.pixelHeight=l.el.offsetHeight)),l.rowCount==null&&(l.rowCount=l.pixelHeight/h.layerConfig.lineHeight);var f=this.session.getFoldAt(l.row,0);if(l.$fold=f,f){var c=this.session.lineWidgets;l.row==f.end.row&&!c[f.start.row]?c[f.start.row]=l:l.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(l),l},this.removeLineWidget=function(l){if(l._inDocument=!1,l.session=null,l.el&&l.el.parentNode&&l.el.parentNode.removeChild(l.el),l.editor&&l.editor.destroy)try{l.editor.destroy()}catch{}if(this.session.lineWidgets){var h=this.session.lineWidgets[l.row];if(h==l)this.session.lineWidgets[l.row]=l.$oldWidget,l.$oldWidget&&this.onWidgetChanged(l.$oldWidget);else for(;h;){if(h.$oldWidget==l){h.$oldWidget=l.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(l){for(var h=this.session.lineWidgets,f=h&&h[l],c=[];f;)c.push(f),f=f.$oldWidget;return c},this.onWidgetChanged=function(l){this.session._changedWidgets.push(l),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(l,h){var f=this.session._changedWidgets,c=h.layerConfig;if(!(!f||!f.length)){for(var o=1/0,u=0;u<f.length;u++){var d=f[u];if(!(!d||!d.el)&&d.session==this.session){if(!d._inDocument){if(this.session.lineWidgets[d.row]!=d)continue;d._inDocument=!0,h.container.appendChild(d.el)}d.h=d.el.offsetHeight,d.fixedWidth||(d.w=d.el.offsetWidth,d.screenWidth=Math.ceil(d.w/c.characterWidth));var p=d.h/c.lineHeight;d.coverLine&&(p-=this.session.getRowLineCount(d.row),p<0&&(p=0)),d.rowCount!=p&&(d.rowCount=p,d.row<o&&(o=d.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(l,h){var f=h.layerConfig,c=this.session.lineWidgets;if(!!c){for(var o=Math.min(this.firstRow,f.firstRow),u=Math.max(this.lastRow,f.lastRow,c.length);o>0&&!c[o];)o--;this.firstRow=f.firstRow,this.lastRow=f.lastRow,h.$cursorLayer.config=f;for(var d=o;d<=u;d++){var p=c[d];if(!(!p||!p.el)){if(p.hidden){p.el.style.top=-100-(p.pixelHeight||0)+"px";continue}p._inDocument||(p._inDocument=!0,h.container.appendChild(p.el));var m=h.$cursorLayer.getPixelPosition({row:d,column:0},!0).top;p.coverLine||(m+=f.lineHeight*this.session.getRowLineCount(p.row)),p.el.style.top=m-f.offset+"px";var v=p.coverGutter?0:h.gutterWidth;p.fixedWidth||(v-=h.scrollLeft),p.el.style.left=v+"px",p.fullWidth&&p.screenWidth&&(p.el.style.minWidth=f.width+2*f.padding+"px"),p.fixedWidth?p.el.style.right=h.scrollBar.getWidth()+"px":p.el.style.right=""}}}}}).call(a.prototype),i.LineWidgets=a}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,i,r){var s=t("../line_widgets").LineWidgets,a=t("../lib/dom"),l=t("../range").Range;function h(c,o,u){for(var d=0,p=c.length-1;d<=p;){var m=d+p>>1,v=u(o,c[m]);if(v>0)d=m+1;else if(v<0)p=m-1;else return m}return-(d+1)}function f(c,o,u){var d=c.getAnnotations().sort(l.comparePoints);if(!!d.length){var p=h(d,{row:o,column:-1},l.comparePoints);p<0&&(p=-p-1),p>=d.length?p=u>0?0:d.length-1:p===0&&u<0&&(p=d.length-1);var m=d[p];if(!(!m||!u)){if(m.row===o){do m=d[p+=u];while(m&&m.row===o);if(!m)return d.slice()}var v=[];o=m.row;do v[u<0?"unshift":"push"](m),m=d[p+=u];while(m&&m.row==o);return v.length&&v}}}i.showErrorMarker=function(c,o){var u=c.session;u.widgetManager||(u.widgetManager=new s(u),u.widgetManager.attach(c));var d=c.getCursorPosition(),p=d.row,m=u.widgetManager.getWidgetsAtRow(p).filter(function(b){return b.type=="errorMarker"})[0];m?m.destroy():p-=o;var v=f(u,p,o),x;if(v){var w=v[0];d.column=(w.pos&&typeof w.column!="number"?w.pos.sc:w.column)||0,d.row=w.row,x=c.renderer.$gutterLayer.$annotations[d.row]}else{if(m)return;x={text:["Looks good!"],className:"ace_ok"}}c.session.unfold(d.row),c.selection.moveToPosition(d);var A={row:d.row,fixedWidth:!0,coverGutter:!0,el:a.createElement("div"),type:"errorMarker"},M=A.el.appendChild(a.createElement("div")),C=A.el.appendChild(a.createElement("div"));C.className="error_widget_arrow "+x.className;var E=c.renderer.$cursorLayer.getPixelPosition(d).left;C.style.left=E+c.renderer.gutterWidth-5+"px",A.el.className="error_widget_wrapper",M.className="error_widget "+x.className,M.innerHTML=x.text.join("<br>"),M.appendChild(a.createElement("div"));var R=function(b,_,S){if(_===0&&(S==="esc"||S==="return"))return A.destroy(),{command:"null"}};A.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(R),u.widgetManager.removeLineWidget(A),c.off("changeSelection",A.destroy),c.off("changeSession",A.destroy),c.off("mouseup",A.destroy),c.off("change",A.destroy))},c.keyBinding.addKeyboardHandler(R),c.on("changeSelection",A.destroy),c.on("changeSession",A.destroy),c.on("mouseup",A.destroy),c.on("change",A.destroy),c.session.widgetManager.addLineWidget(A),A.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:A.el.offsetHeight})},a.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(t,i,r){t("./loader_build")(i);var s=t("./lib/dom"),a=t("./lib/event"),l=t("./range").Range,h=t("./editor").Editor,f=t("./edit_session").EditSession,c=t("./undomanager").UndoManager,o=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),i.config=t("./config"),i.edit=function(u,d){if(typeof u=="string"){var p=u;if(u=document.getElementById(p),!u)throw new Error("ace.edit can't find div #"+p)}if(u&&u.env&&u.env.editor instanceof h)return u.env.editor;var m="";if(u&&/input|textarea/i.test(u.tagName)){var v=u;m=v.value,u=s.createElement("pre"),v.parentNode.replaceChild(u,v)}else u&&(m=u.textContent,u.innerHTML="");var x=i.createEditSession(m),w=new h(new o(u),x,d),A={document:x,editor:w,onResize:w.resize.bind(w,null)};return v&&(A.textarea=v),a.addListener(window,"resize",A.onResize),w.on("destroy",function(){a.removeListener(window,"resize",A.onResize),A.editor.container.env=null}),w.container.env=w.env=A,w},i.createEditSession=function(u,d){var p=new f(u,d);return p.setUndoManager(new c),p},i.Range=l,i.Editor=h,i.EditSession=f,i.UndoManager=c,i.VirtualRenderer=o,i.version=i.config.version}),function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t);for(var i in t)t.hasOwnProperty(i)&&(window.ace[i]=t[i]);window.ace.default=window.ace,n&&(n.exports=window.ace)})}()})(yf);var ev={exports:{}},LB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RB=LB,PB=RB;function FT(){}function BT(){}BT.resetWarningCache=FT;var kB=function(){function n(i,r,s,a,l,h){if(h!==PB){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BT,resetWarningCache:FT};return t.PropTypes=t,t};ev.exports=kB();var eg={exports:{}};(function(n,e){var t=200,i="__lodash_hash_undefined__",r=1,s=2,a=9007199254740991,l="[object Arguments]",h="[object Array]",f="[object AsyncFunction]",c="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",p="[object GeneratorFunction]",m="[object Map]",v="[object Number]",x="[object Null]",w="[object Object]",A="[object Promise]",M="[object Proxy]",C="[object RegExp]",E="[object Set]",R="[object String]",b="[object Symbol]",_="[object Undefined]",S="[object WeakMap]",T="[object ArrayBuffer]",P="[object DataView]",I="[object Float32Array]",z="[object Float64Array]",O="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",H="[object Uint16Array]",j="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,$={};$[I]=$[z]=$[O]=$[D]=$[B]=$[F]=$[U]=$[H]=$[j]=!0,$[l]=$[h]=$[T]=$[c]=$[P]=$[o]=$[u]=$[d]=$[m]=$[v]=$[w]=$[C]=$[E]=$[R]=$[S]=!1;var q=typeof fn=="object"&&fn&&fn.Object===Object&&fn,pe=typeof self=="object"&&self&&self.Object===Object&&self,he=q||pe||Function("return this")(),Ae=e&&!e.nodeType&&e,me=Ae&&!0&&n&&!n.nodeType&&n,De=me&&me.exports===Ae,fe=De&&q.process,xe=function(){try{return fe&&fe.binding&&fe.binding("util")}catch{}}(),Le=xe&&xe.isTypedArray;function Re(J,oe){for(var ze=-1,Je=J==null?0:J.length,Yt=0,vt=[];++ze<Je;){var Dt=J[ze];oe(Dt,ze,J)&&(vt[Yt++]=Dt)}return vt}function Ee(J,oe){for(var ze=-1,Je=oe.length,Yt=J.length;++ze<Je;)J[Yt+ze]=oe[ze];return J}function Ge(J,oe){for(var ze=-1,Je=J==null?0:J.length;++ze<Je;)if(oe(J[ze],ze,J))return!0;return!1}function Ue(J,oe){for(var ze=-1,Je=Array(J);++ze<J;)Je[ze]=oe(ze);return Je}function je(J){return function(oe){return J(oe)}}function ot(J,oe){return J.has(oe)}function ge(J,oe){return J?.[oe]}function V(J){var oe=-1,ze=Array(J.size);return J.forEach(function(Je,Yt){ze[++oe]=[Yt,Je]}),ze}function G(J,oe){return function(ze){return J(oe(ze))}}function ne(J){var oe=-1,ze=Array(J.size);return J.forEach(function(Je){ze[++oe]=Je}),ze}var de=Array.prototype,ce=Function.prototype,Me=Object.prototype,Be=he["__core-js_shared__"],Ie=ce.toString,ue=Me.hasOwnProperty,Ke=function(){var J=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return J?"Symbol(src)_1."+J:""}(),re=Me.toString,we=RegExp("^"+Ie.call(ue).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=De?he.Buffer:void 0,Fe=he.Symbol,it=he.Uint8Array,mt=Me.propertyIsEnumerable,Wt=de.splice,se=Fe?Fe.toStringTag:void 0,_e=Object.getOwnPropertySymbols,Ne=Oe?Oe.isBuffer:void 0,Ye=G(Object.keys,Object),qe=mr(he,"DataView"),pt=mr(he,"Map"),Vt=mr(he,"Promise"),tn=mr(he,"Set"),xn=mr(he,"WeakMap"),bt=mr(Object,"create"),Ni=Ct(qe),ui=Ct(pt),bl=Ct(Vt),gu=Ct(tn),Al=Ct(xn),ro=Fe?Fe.prototype:void 0,Z=ro?ro.valueOf:void 0;function ve(J){var oe=-1,ze=J==null?0:J.length;for(this.clear();++oe<ze;){var Je=J[oe];this.set(Je[0],Je[1])}}function Te(){this.__data__=bt?bt(null):{},this.size=0}function ye(J){var oe=this.has(J)&&delete this.__data__[J];return this.size-=oe?1:0,oe}function Pe(J){var oe=this.__data__;if(bt){var ze=oe[J];return ze===i?void 0:ze}return ue.call(oe,J)?oe[J]:void 0}function lt(J){var oe=this.__data__;return bt?oe[J]!==void 0:ue.call(oe,J)}function dt(J,oe){var ze=this.__data__;return this.size+=this.has(J)?0:1,ze[J]=bt&&oe===void 0?i:oe,this}ve.prototype.clear=Te,ve.prototype.delete=ye,ve.prototype.get=Pe,ve.prototype.has=lt,ve.prototype.set=dt;function ft(J){var oe=-1,ze=J==null?0:J.length;for(this.clear();++oe<ze;){var Je=J[oe];this.set(Je[0],Je[1])}}function At(){this.__data__=[],this.size=0}function kt(J){var oe=this.__data__,ze=Ui(oe,J);if(ze<0)return!1;var Je=oe.length-1;return ze==Je?oe.pop():Wt.call(oe,ze,1),--this.size,!0}function Rt(J){var oe=this.__data__,ze=Ui(oe,J);return ze<0?void 0:oe[ze][1]}function Pt(J){return Ui(this.__data__,J)>-1}function an(J,oe){var ze=this.__data__,Je=Ui(ze,J);return Je<0?(++this.size,ze.push([J,oe])):ze[Je][1]=oe,this}ft.prototype.clear=At,ft.prototype.delete=kt,ft.prototype.get=Rt,ft.prototype.has=Pt,ft.prototype.set=an;function dn(J){var oe=-1,ze=J==null?0:J.length;for(this.clear();++oe<ze;){var Je=J[oe];this.set(Je[0],Je[1])}}function qi(){this.size=0,this.__data__={hash:new ve,map:new(pt||ft),string:new ve}}function Fr(J){var oe=Cs(this,J).delete(J);return this.size-=oe?1:0,oe}function Zt(J){return Cs(this,J).get(J)}function St(J){return Cs(this,J).has(J)}function As(J,oe){var ze=Cs(this,J),Je=ze.size;return ze.set(J,oe),this.size+=ze.size==Je?0:1,this}dn.prototype.clear=qi,dn.prototype.delete=Fr,dn.prototype.get=Zt,dn.prototype.has=St,dn.prototype.set=As;function Qt(J){var oe=-1,ze=J==null?0:J.length;for(this.__data__=new dn;++oe<ze;)this.add(J[oe])}function Br(J){return this.__data__.set(J,i),this}function so(J){return this.__data__.has(J)}Qt.prototype.add=Qt.prototype.push=Br,Qt.prototype.has=so;function Mn(J){var oe=this.__data__=new ft(J);this.size=oe.size}function Fi(){this.__data__=new ft,this.size=0}function gt(J){var oe=this.__data__,ze=oe.delete(J);return this.size=oe.size,ze}function It(J){return this.__data__.get(J)}function Bi(J){return this.__data__.has(J)}function Ft(J,oe){var ze=this.__data__;if(ze instanceof ft){var Je=ze.__data__;if(!pt||Je.length<t-1)return Je.push([J,oe]),this.size=++ze.size,this;ze=this.__data__=new dn(Je)}return ze.set(J,oe),this.size=ze.size,this}Mn.prototype.clear=Fi,Mn.prototype.delete=gt,Mn.prototype.get=It,Mn.prototype.has=Bi,Mn.prototype.set=Ft;function zn(J,oe){var ze=aa(J),Je=!ze&&_u(J),Yt=!ze&&!Je&&bu(J),vt=!ze&&!Je&&!Yt&&ca(J),Dt=ze||Je||Yt||vt,Nn=Dt?Ue(J.length,String):[],wn=Nn.length;for(var nn in J)(oe||ue.call(J,nn))&&!(Dt&&(nn=="length"||Yt&&(nn=="offset"||nn=="parent")||vt&&(nn=="buffer"||nn=="byteLength"||nn=="byteOffset")||yu(nn,wn)))&&Nn.push(nn);return Nn}function Ui(J,oe){for(var ze=J.length;ze--;)if(Su(J[ze][0],oe))return ze;return-1}function Ur(J,oe,ze){var Je=oe(J);return aa(J)?Je:Ee(Je,ze(J))}function Dn(J){return J==null?J===void 0?_:x:se&&se in Object(J)?Ml(J):wu(J)}function ra(J){return la(J)&&Dn(J)==l}function vu(J,oe,ze,Je,Yt){return J===oe?!0:J==null||oe==null||!la(J)&&!la(oe)?J!==J&&oe!==oe:Zf(J,oe,ze,Je,vu,Yt)}function Zf(J,oe,ze,Je,Yt,vt){var Dt=aa(J),Nn=aa(oe),wn=Dt?h:as(J),nn=Nn?h:as(oe);wn=wn==l?w:wn,nn=nn==l?w:nn;var rn=wn==w,hi=nn==w,En=wn==nn;if(En&&bu(J)){if(!bu(oe))return!1;Dt=!0,rn=!1}if(En&&!rn)return vt||(vt=new Mn),Dt||ca(J)?td(J,oe,ze,Je,Yt,vt):cv(J,oe,wn,ze,Je,Yt,vt);if(!(ze&r)){var Wn=rn&&ue.call(J,"__wrapped__"),fi=hi&&ue.call(oe,"__wrapped__");if(Wn||fi){var vr=Wn?J.value():J,yr=fi?oe.value():oe;return vt||(vt=new Mn),Yt(vr,yr,ze,Je,vt)}}return En?(vt||(vt=new Mn),uv(J,oe,ze,Je,Yt,vt)):!1}function Cl(J){if(!Tl(J)||oa(J))return!1;var oe=El(J)?we:K;return oe.test(Ct(J))}function ed(J){return la(J)&&nd(J.length)&&!!$[Dn(J)]}function Ji(J){if(!fv(J))return Ye(J);var oe=[];for(var ze in Object(J))ue.call(J,ze)&&ze!="constructor"&&oe.push(ze);return oe}function td(J,oe,ze,Je,Yt,vt){var Dt=ze&r,Nn=J.length,wn=oe.length;if(Nn!=wn&&!(Dt&&wn>Nn))return!1;var nn=vt.get(J);if(nn&&vt.get(oe))return nn==oe;var rn=-1,hi=!0,En=ze&s?new Qt:void 0;for(vt.set(J,oe),vt.set(oe,J);++rn<Nn;){var Wn=J[rn],fi=oe[rn];if(Je)var vr=Dt?Je(fi,Wn,rn,oe,J,vt):Je(Wn,fi,rn,J,oe,vt);if(vr!==void 0){if(vr)continue;hi=!1;break}if(En){if(!Ge(oe,function(yr,Hr){if(!ot(En,Hr)&&(Wn===yr||Yt(Wn,yr,ze,Je,vt)))return En.push(Hr)})){hi=!1;break}}else if(!(Wn===fi||Yt(Wn,fi,ze,Je,vt))){hi=!1;break}}return vt.delete(J),vt.delete(oe),hi}function cv(J,oe,ze,Je,Yt,vt,Dt){switch(ze){case P:if(J.byteLength!=oe.byteLength||J.byteOffset!=oe.byteOffset)return!1;J=J.buffer,oe=oe.buffer;case T:return!(J.byteLength!=oe.byteLength||!vt(new it(J),new it(oe)));case c:case o:case v:return Su(+J,+oe);case u:return J.name==oe.name&&J.message==oe.message;case C:case R:return J==oe+"";case m:var Nn=V;case E:var wn=Je&r;if(Nn||(Nn=ne),J.size!=oe.size&&!wn)return!1;var nn=Dt.get(J);if(nn)return nn==oe;Je|=s,Dt.set(J,oe);var rn=td(Nn(J),Nn(oe),Je,Yt,vt,Dt);return Dt.delete(J),rn;case b:if(Z)return Z.call(J)==Z.call(oe)}return!1}function uv(J,oe,ze,Je,Yt,vt){var Dt=ze&r,Nn=sa(J),wn=Nn.length,nn=sa(oe),rn=nn.length;if(wn!=rn&&!Dt)return!1;for(var hi=wn;hi--;){var En=Nn[hi];if(!(Dt?En in oe:ue.call(oe,En)))return!1}var Wn=vt.get(J);if(Wn&&vt.get(oe))return Wn==oe;var fi=!0;vt.set(J,oe),vt.set(oe,J);for(var vr=Dt;++hi<wn;){En=Nn[hi];var yr=J[En],Hr=oe[En];if(Je)var Ll=Dt?Je(Hr,yr,En,oe,J,vt):Je(yr,Hr,En,J,oe,vt);if(!(Ll===void 0?yr===Hr||Yt(yr,Hr,ze,Je,vt):Ll)){fi=!1;break}vr||(vr=En=="constructor")}if(fi&&!vr){var Wr=J.constructor,ni=oe.constructor;Wr!=ni&&"constructor"in J&&"constructor"in oe&&!(typeof Wr=="function"&&Wr instanceof Wr&&typeof ni=="function"&&ni instanceof ni)&&(fi=!1)}return vt.delete(J),vt.delete(oe),fi}function sa(J){return Ur(J,gr,hv)}function Cs(J,oe){var ze=J.__data__;return xu(oe)?ze[typeof oe=="string"?"string":"hash"]:ze.map}function mr(J,oe){var ze=ge(J,oe);return Cl(ze)?ze:void 0}function Ml(J){var oe=ue.call(J,se),ze=J[se];try{J[se]=void 0;var Je=!0}catch{}var Yt=re.call(J);return Je&&(oe?J[se]=ze:delete J[se]),Yt}var hv=_e?function(J){return J==null?[]:(J=Object(J),Re(_e(J),function(oe){return mt.call(J,oe)}))}:pv,as=Dn;(qe&&as(new qe(new ArrayBuffer(1)))!=P||pt&&as(new pt)!=m||Vt&&as(Vt.resolve())!=A||tn&&as(new tn)!=E||xn&&as(new xn)!=S)&&(as=function(J){var oe=Dn(J),ze=oe==w?J.constructor:void 0,Je=ze?Ct(ze):"";if(Je)switch(Je){case Ni:return P;case ui:return m;case bl:return A;case gu:return E;case Al:return S}return oe});function yu(J,oe){return oe=oe??a,!!oe&&(typeof J=="number"||X.test(J))&&J>-1&&J%1==0&&J<oe}function xu(J){var oe=typeof J;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?J!=="__proto__":J===null}function oa(J){return!!Ke&&Ke in J}function fv(J){var oe=J&&J.constructor,ze=typeof oe=="function"&&oe.prototype||Me;return J===ze}function wu(J){return re.call(J)}function Ct(J){if(J!=null){try{return Ie.call(J)}catch{}try{return J+""}catch{}}return""}function Su(J,oe){return J===oe||J!==J&&oe!==oe}var _u=ra(function(){return arguments}())?ra:function(J){return la(J)&&ue.call(J,"callee")&&!mt.call(J,"callee")},aa=Array.isArray;function dv(J){return J!=null&&nd(J.length)&&!El(J)}var bu=Ne||mv;function On(J,oe){return vu(J,oe)}function El(J){if(!Tl(J))return!1;var oe=Dn(J);return oe==d||oe==p||oe==f||oe==M}function nd(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=a}function Tl(J){var oe=typeof J;return J!=null&&(oe=="object"||oe=="function")}function la(J){return J!=null&&typeof J=="object"}var ca=Le?je(Le):ed;function gr(J){return dv(J)?zn(J):Ji(J)}function pv(){return[]}function mv(){return!1}n.exports=On})(eg,eg.exports);var es={};Object.defineProperty(es,"__esModule",{value:!0});es.getAceInstance=es.debounce=es.editorEvents=es.editorOptions=void 0;var IB=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];es.editorOptions=IB;var zB=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];es.editorEvents=zB;var DB=function(){var n;return typeof window>"u"?(fn.window={},n=yf.exports,delete fn.window):window.ace?(n=window.ace,n.acequire=window.ace.require||window.ace.acequire):n=yf.exports,n};es.getAceInstance=DB;var OB=function(n,e){var t=null;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){n.apply(i,r)},e)}};es.debounce=OB;var NB=fn&&fn.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fx=fn&&fn.__assign||function(){return fx=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},fx.apply(this,arguments)};Object.defineProperty(hS,"__esModule",{value:!0});var FB=yf.exports,ct=ev.exports,DA=ie.exports,Vp=eg.exports,cc=es,OA=(0,cc.getAceInstance)(),BB=function(n){NB(e,n);function e(t){var i=n.call(this,t)||this;return cc.editorEvents.forEach(function(r){i[r]=i[r].bind(i)}),i.debounce=cc.debounce,i}return e.prototype.isInShadow=function(t){for(var i=t&&t.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},e.prototype.componentDidMount=function(){var t=this,i=this.props,r=i.className,s=i.onBeforeLoad,a=i.onValidate,l=i.mode,h=i.focus,f=i.theme,c=i.fontSize,o=i.value,u=i.defaultValue,d=i.showGutter,p=i.wrapEnabled,m=i.showPrintMargin,v=i.scrollMargin,x=v===void 0?[0,0,0,0]:v,w=i.keyboardHandler,A=i.onLoad,M=i.commands,C=i.annotations,E=i.markers,R=i.placeholder;this.editor=OA.edit(this.refEditor),s&&s(OA);for(var b=Object.keys(this.props.editorProps),_=0;_<b.length;_++)this.editor[b[_]]=this.props.editorProps[b[_]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(x[0],x[1],x[2],x[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof l=="string"?"ace/mode/".concat(l):l),f&&f!==""&&this.editor.setTheme("ace/theme/".concat(f)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),this.editor.getSession().setValue(u||o||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),R&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),a&&this.editor.getSession().on("changeAnnotation",function(){var T=t.editor.getSession().getAnnotations();t.props.onValidate(T)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(C||[]),E&&E.length>0&&this.handleMarkers(E);var S=this.editor.$options;cc.editorOptions.forEach(function(T){S.hasOwnProperty(T)?t.editor.setOption(T,t.props[T]):t.props[T]&&console.warn("ReactAce: editor option ".concat(T," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(M)&&M.forEach(function(T){typeof T.exec=="string"?t.editor.commands.bindKey(T.bindKey,T.exec):t.editor.commands.addCommand(T)}),w&&this.editor.setKeyboardHandler("ace/keyboard/"+w),r&&(this.refEditor.className+=" "+r),A&&A(this.editor),this.editor.resize(),h&&this.editor.focus()},e.prototype.componentDidUpdate=function(t){for(var i=t,r=this.props,s=0;s<cc.editorOptions.length;s++){var a=cc.editorOptions[s];r[a]!==i[a]&&this.editor.setOption(a,r[a])}if(r.className!==i.className){var l=this.refEditor.className,h=l.trim().split(" "),f=i.className.trim().split(" ");f.forEach(function(u){var d=h.indexOf(u);h.splice(d,1)}),this.refEditor.className=" "+r.className+" "+h.join(" ")}var c=this.editor&&r.value!=null&&this.editor.getValue()!==r.value;if(c){this.silent=!0;var o=this.editor.session.selection.toJSON();this.editor.setValue(r.value,r.cursorStart),this.editor.session.selection.fromJSON(o),this.silent=!1}r.placeholder!==i.placeholder&&this.updatePlaceholder(),r.mode!==i.mode&&this.editor.getSession().setMode(typeof r.mode=="string"?"ace/mode/".concat(r.mode):r.mode),r.theme!==i.theme&&this.editor.setTheme("ace/theme/"+r.theme),r.keyboardHandler!==i.keyboardHandler&&(r.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):this.editor.setKeyboardHandler(null)),r.fontSize!==i.fontSize&&this.editor.setFontSize(typeof r.fontSize=="number"?"".concat(r.fontSize,"px"):r.fontSize),r.wrapEnabled!==i.wrapEnabled&&this.editor.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==i.showPrintMargin&&this.editor.setShowPrintMargin(r.showPrintMargin),r.showGutter!==i.showGutter&&this.editor.renderer.setShowGutter(r.showGutter),Vp(r.setOptions,i.setOptions)||this.handleOptions(r),(c||!Vp(r.annotations,i.annotations))&&this.editor.getSession().setAnnotations(r.annotations||[]),!Vp(r.markers,i.markers)&&Array.isArray(r.markers)&&this.handleMarkers(r.markers),Vp(r.scrollMargin,i.scrollMargin)||this.handleScrollMargins(r.scrollMargin),(t.height!==this.props.height||t.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!t.focus&&this.editor.focus()},e.prototype.handleScrollMargins=function(t){t===void 0&&(t=[0,0,0,0]),this.editor.renderer.setScrollMargin(t[0],t[1],t[2],t[3])},e.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},e.prototype.onChange=function(t){if(this.props.onChange&&!this.silent){var i=this.editor.getValue();this.props.onChange(i,t)}},e.prototype.onSelectionChange=function(t){if(this.props.onSelectionChange){var i=this.editor.getSelection();this.props.onSelectionChange(i,t)}},e.prototype.onCursorChange=function(t){if(this.props.onCursorChange){var i=this.editor.getSelection();this.props.onCursorChange(i,t)}},e.prototype.onInput=function(t){this.props.onInput&&this.props.onInput(t),this.props.placeholder&&this.updatePlaceholder()},e.prototype.onFocus=function(t){this.props.onFocus&&this.props.onFocus(t,this.editor)},e.prototype.onBlur=function(t){this.props.onBlur&&this.props.onBlur(t,this.editor)},e.prototype.onCopy=function(t){var i=t.text;this.props.onCopy&&this.props.onCopy(i)},e.prototype.onPaste=function(t){var i=t.text;this.props.onPaste&&this.props.onPaste(i)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(t){for(var i=Object.keys(t.setOptions),r=0;r<i.length;r++)this.editor.setOption(i[r],t.setOptions[i[r]])},e.prototype.handleMarkers=function(t){var i=this,r=this.editor.getSession().getMarkers(!0);for(var s in r)r.hasOwnProperty(s)&&this.editor.getSession().removeMarker(r[s].id);r=this.editor.getSession().getMarkers(!1);for(var s in r)r.hasOwnProperty(s)&&r[s].clazz!=="ace_active-line"&&r[s].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(r[s].id);t.forEach(function(a){var l=a.startRow,h=a.startCol,f=a.endRow,c=a.endCol,o=a.className,u=a.type,d=a.inFront,p=d===void 0?!1:d,m=new FB.Range(l,h,f,c);i.editor.getSession().addMarker(m,o,u,p)})},e.prototype.updatePlaceholder=function(){var t=this.editor,i=this.props.placeholder,r=!t.session.getValue().length,s=t.renderer.placeholderNode;!r&&s?(t.renderer.scroller.removeChild(t.renderer.placeholderNode),t.renderer.placeholderNode=null):r&&!s?(s=t.renderer.placeholderNode=document.createElement("div"),s.textContent=i||"",s.className="ace_comment ace_placeholder",s.style.padding="0 9px",s.style.position="absolute",s.style.zIndex="3",t.renderer.scroller.appendChild(s)):r&&s&&(s.textContent=i)},e.prototype.updateRef=function(t){this.refEditor=t},e.prototype.render=function(){var t=this.props,i=t.name,r=t.width,s=t.height,a=t.style,l=fx({width:r,height:s},a);return DA.createElement("div",{ref:this.updateRef,id:i,style:l})},e.propTypes={mode:ct.oneOfType([ct.string,ct.object]),focus:ct.bool,theme:ct.string,name:ct.string,className:ct.string,height:ct.string,width:ct.string,fontSize:ct.oneOfType([ct.number,ct.string]),showGutter:ct.bool,onChange:ct.func,onCopy:ct.func,onPaste:ct.func,onFocus:ct.func,onInput:ct.func,onBlur:ct.func,onScroll:ct.func,value:ct.string,defaultValue:ct.string,onLoad:ct.func,onSelectionChange:ct.func,onCursorChange:ct.func,onBeforeLoad:ct.func,onValidate:ct.func,minLines:ct.number,maxLines:ct.number,readOnly:ct.bool,highlightActiveLine:ct.bool,tabSize:ct.number,showPrintMargin:ct.bool,cursorStart:ct.number,debounceChangePeriod:ct.number,editorProps:ct.object,setOptions:ct.object,style:ct.object,scrollMargin:ct.array,annotations:ct.array,markers:ct.array,keyboardHandler:ct.string,wrapEnabled:ct.bool,enableSnippets:ct.bool,enableBasicAutocompletion:ct.oneOfType([ct.bool,ct.array]),enableLiveAutocompletion:ct.oneOfType([ct.bool,ct.array]),navigateToFileEnd:ct.bool,commands:ct.array,placeholder:ct.string},e.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},e}(DA.Component);hS.default=BB;var fS={},tv={},UT={exports:{}};(function(n,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(t,i,r){var s=t("./lib/oop");t("./lib/lang");var a=t("./lib/event_emitter").EventEmitter,l=t("./editor").Editor,h=t("./virtual_renderer").VirtualRenderer,f=t("./edit_session").EditSession,c=function(o,u,d){this.BELOW=1,this.BESIDE=0,this.$container=o,this.$theme=u,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(d||1),this.$cEditor=this.$editors[0],this.on("focus",function(p){this.$cEditor=p}.bind(this))};(function(){s.implement(this,a),this.$createEditor=function(){var o=document.createElement("div");o.className=this.$editorCSS,o.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(o);var u=new l(new h(o,this.$theme));return u.on("focus",function(){this._emit("focus",u)}.bind(this)),this.$editors.push(u),u.setFontSize(this.$fontSize),u},this.setSplits=function(o){var u;if(o<1)throw"The number of splits have to be > 0!";if(o!=this.$splits){if(o>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<o;)u=this.$editors[this.$splits],this.$container.appendChild(u.container),u.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<o;)this.$createEditor(),this.$splits++}else for(;this.$splits>o;)u=this.$editors[this.$splits-1],this.$container.removeChild(u.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(o){return this.$editors[o]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(o){this.$editors.forEach(function(u){u.setTheme(o)})},this.setKeyboardHandler=function(o){this.$editors.forEach(function(u){u.setKeyboardHandler(o)})},this.forEach=function(o,u){this.$editors.forEach(o,u)},this.$fontSize="",this.setFontSize=function(o){this.$fontSize=o,this.forEach(function(u){u.setFontSize(o)})},this.$cloneSession=function(o){var u=new f(o.getDocument(),o.getMode()),d=o.getUndoManager();return u.setUndoManager(d),u.setTabSize(o.getTabSize()),u.setUseSoftTabs(o.getUseSoftTabs()),u.setOverwrite(o.getOverwrite()),u.setBreakpoints(o.getBreakpoints()),u.setUseWrapMode(o.getUseWrapMode()),u.setUseWorker(o.getUseWorker()),u.setWrapLimitRange(o.$wrapLimitRange.min,o.$wrapLimitRange.max),u.$foldData=o.$cloneFoldData(),u},this.setSession=function(o,u){var d;u==null?d=this.$cEditor:d=this.$editors[u];var p=this.$editors.some(function(m){return m.session===o});return p&&(o=this.$cloneSession(o)),d.setSession(o),o},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(o){this.$orientation!=o&&(this.$orientation=o,this.resize())},this.resize=function(){var o=this.$container.clientWidth,u=this.$container.clientHeight,d;if(this.$orientation==this.BESIDE)for(var p=o/this.$splits,m=0;m<this.$splits;m++)d=this.$editors[m],d.container.style.width=p+"px",d.container.style.top="0px",d.container.style.left=m*p+"px",d.container.style.height=u+"px",d.resize();else for(var v=u/this.$splits,m=0;m<this.$splits;m++)d=this.$editors[m],d.container.style.width=o+"px",d.container.style.top=m*v+"px",d.container.style.left="0px",d.container.style.height=v+"px",d.resize()}}).call(c.prototype),i.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(t,i,r){r.exports=t("../split")}),function(){ace.require(["ace/ext/split"],function(t){n&&(n.exports=t)})}()})(UT);var UB="Expected a function",HT="__lodash_hash_undefined__",WT=1/0,HB="[object Function]",WB="[object GeneratorFunction]",VB="[object Symbol]",GB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KB=/^\w*$/,jB=/^\./,YB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XB=/[\\^$.*+?()[\]{}|]/g,QB=/\\(\\)?/g,$B=/^\[object .+?Constructor\]$/,qB=typeof fn=="object"&&fn&&fn.Object===Object&&fn,JB=typeof self=="object"&&self&&self.Object===Object&&self,dS=qB||JB||Function("return this")();function ZB(n,e){return n?.[e]}function e6(n){var e=!1;if(n!=null&&typeof n.toString!="function")try{e=!!(n+"")}catch{}return e}var t6=Array.prototype,n6=Function.prototype,VT=Object.prototype,g1=dS["__core-js_shared__"],NA=function(){var n=/[^.]+$/.exec(g1&&g1.keys&&g1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),GT=n6.toString,pS=VT.hasOwnProperty,KT=VT.toString,i6=RegExp("^"+GT.call(pS).replace(XB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),FA=dS.Symbol,r6=t6.splice,s6=jT(dS,"Map"),xf=jT(Object,"create"),BA=FA?FA.prototype:void 0,UA=BA?BA.toString:void 0;function fl(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}function o6(){this.__data__=xf?xf(null):{}}function a6(n){return this.has(n)&&delete this.__data__[n]}function l6(n){var e=this.__data__;if(xf){var t=e[n];return t===HT?void 0:t}return pS.call(e,n)?e[n]:void 0}function c6(n){var e=this.__data__;return xf?e[n]!==void 0:pS.call(e,n)}function u6(n,e){var t=this.__data__;return t[n]=xf&&e===void 0?HT:e,this}fl.prototype.clear=o6;fl.prototype.delete=a6;fl.prototype.get=l6;fl.prototype.has=c6;fl.prototype.set=u6;function mu(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}function h6(){this.__data__=[]}function f6(n){var e=this.__data__,t=nv(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():r6.call(e,t,1),!0}function d6(n){var e=this.__data__,t=nv(e,n);return t<0?void 0:e[t][1]}function p6(n){return nv(this.__data__,n)>-1}function m6(n,e){var t=this.__data__,i=nv(t,n);return i<0?t.push([n,e]):t[i][1]=e,this}mu.prototype.clear=h6;mu.prototype.delete=f6;mu.prototype.get=d6;mu.prototype.has=p6;mu.prototype.set=m6;function Sl(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}function g6(){this.__data__={hash:new fl,map:new(s6||mu),string:new fl}}function v6(n){return iv(this,n).delete(n)}function y6(n){return iv(this,n).get(n)}function x6(n){return iv(this,n).has(n)}function w6(n,e){return iv(this,n).set(n,e),this}Sl.prototype.clear=g6;Sl.prototype.delete=v6;Sl.prototype.get=y6;Sl.prototype.has=x6;Sl.prototype.set=w6;function nv(n,e){for(var t=n.length;t--;)if(P6(n[t][0],e))return t;return-1}function S6(n,e){e=C6(e,n)?[e]:A6(e);for(var t=0,i=e.length;n!=null&&t<i;)n=n[L6(e[t++])];return t&&t==i?n:void 0}function _6(n){if(!XT(n)||E6(n))return!1;var e=k6(n)||e6(n)?i6:$B;return e.test(R6(n))}function b6(n){if(typeof n=="string")return n;if(gS(n))return UA?UA.call(n):"";var e=n+"";return e=="0"&&1/n==-WT?"-0":e}function A6(n){return YT(n)?n:T6(n)}function iv(n,e){var t=n.__data__;return M6(e)?t[typeof e=="string"?"string":"hash"]:t.map}function jT(n,e){var t=ZB(n,e);return _6(t)?t:void 0}function C6(n,e){if(YT(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||gS(n)?!0:KB.test(n)||!GB.test(n)||e!=null&&n in Object(e)}function M6(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function E6(n){return!!NA&&NA in n}var T6=mS(function(n){n=z6(n);var e=[];return jB.test(n)&&e.push(""),n.replace(YB,function(t,i,r,s){e.push(r?s.replace(QB,"$1"):i||t)}),e});function L6(n){if(typeof n=="string"||gS(n))return n;var e=n+"";return e=="0"&&1/n==-WT?"-0":e}function R6(n){if(n!=null){try{return GT.call(n)}catch{}try{return n+""}catch{}}return""}function mS(n,e){if(typeof n!="function"||e&&typeof e!="function")throw new TypeError(UB);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var a=n.apply(this,i);return t.cache=s.set(r,a),a};return t.cache=new(mS.Cache||Sl),t}mS.Cache=Sl;function P6(n,e){return n===e||n!==n&&e!==e}var YT=Array.isArray;function k6(n){var e=XT(n)?KT.call(n):"";return e==HB||e==WB}function XT(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function I6(n){return!!n&&typeof n=="object"}function gS(n){return typeof n=="symbol"||I6(n)&&KT.call(n)==VB}function z6(n){return n==null?"":b6(n)}function D6(n,e,t){var i=n==null?void 0:S6(n,e);return i===void 0?t:i}var O6=D6,N6=fn&&fn.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dx=fn&&fn.__assign||function(){return dx=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},dx.apply(this,arguments)};Object.defineProperty(tv,"__esModule",{value:!0});var Ia=es,v1=(0,Ia.getAceInstance)(),F6=yf.exports,B6=UT.exports,ht=ev.exports,HA=ie.exports,y1=eg.exports,Ns=O6,U6=function(n){N6(e,n);function e(t){var i=n.call(this,t)||this;return Ia.editorEvents.forEach(function(r){i[r]=i[r].bind(i)}),i.debounce=Ia.debounce,i}return e.prototype.isInShadow=function(t){for(var i=t&&t.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},e.prototype.componentDidMount=function(){var t=this,i=this.props,r=i.className,s=i.onBeforeLoad,a=i.mode,l=i.focus,h=i.theme,f=i.fontSize,c=i.value,o=i.defaultValue,u=i.cursorStart,d=i.showGutter,p=i.wrapEnabled,m=i.showPrintMargin,v=i.scrollMargin,x=v===void 0?[0,0,0,0]:v,w=i.keyboardHandler,A=i.onLoad,M=i.commands,C=i.annotations,E=i.markers,R=i.splits;this.editor=v1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(h)),s&&s(v1);var b=Object.keys(this.props.editorProps),_=new B6.Split(this.editor.container,"ace/theme/".concat(h),R);this.editor.env.split=_,this.splitEditor=_.getEditor(0),this.split=_,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var S=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),_.forEach(function(P,I){for(var z=0;z<b.length;z++)P[b[z]]=t.props.editorProps[b[z]];var O=Ns(o,I),D=Ns(c,I,"");P.session.setUndoManager(new v1.UndoManager),P.setTheme("ace/theme/".concat(h)),P.renderer.setScrollMargin(x[0],x[1],x[2],x[3]),P.getSession().setMode("ace/mode/".concat(a)),P.setFontSize(f),P.renderer.setShowGutter(d),P.getSession().setUseWrapMode(p),P.setShowPrintMargin(m),P.on("focus",t.onFocus),P.on("blur",t.onBlur),P.on("input",t.onInput),P.on("copy",t.onCopy),P.on("paste",t.onPaste),P.on("change",t.onChange),P.getSession().selection.on("changeSelection",t.onSelectionChange),P.getSession().selection.on("changeCursor",t.onCursorChange),P.session.on("changeScrollTop",t.onScroll),P.setValue(O===void 0?D:O,u);var B=Ns(C,I,[]),F=Ns(E,I,[]);P.getSession().setAnnotations(B),F&&F.length>0&&t.handleMarkers(F,P);for(var z=0;z<Ia.editorOptions.length;z++){var U=Ia.editorOptions[z];S.hasOwnProperty(U)?P.setOption(U,t.props[U]):t.props[U]&&console.warn("ReaceAce: editor option ".concat(U," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}t.handleOptions(t.props,P),Array.isArray(M)&&M.forEach(function(H){typeof H.exec=="string"?P.commands.bindKey(H.bindKey,H.exec):P.commands.addCommand(H)}),w&&P.setKeyboardHandler("ace/keyboard/"+w)}),r&&(this.refEditor.className+=" "+r),l&&this.splitEditor.focus();var T=this.editor.env.split;T.setOrientation(this.props.orientation==="below"?T.BELOW:T.BESIDE),T.resize(!0),A&&A(T)},e.prototype.componentDidUpdate=function(t){var i=this,r=t,s=this.props,a=this.editor.env.split;if(s.splits!==r.splits&&a.setSplits(s.splits),s.orientation!==r.orientation&&a.setOrientation(s.orientation==="below"?a.BELOW:a.BESIDE),a.forEach(function(c,o){s.mode!==r.mode&&c.getSession().setMode("ace/mode/"+s.mode),s.keyboardHandler!==r.keyboardHandler&&(s.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+s.keyboardHandler):c.setKeyboardHandler(null)),s.fontSize!==r.fontSize&&c.setFontSize(s.fontSize),s.wrapEnabled!==r.wrapEnabled&&c.getSession().setUseWrapMode(s.wrapEnabled),s.showPrintMargin!==r.showPrintMargin&&c.setShowPrintMargin(s.showPrintMargin),s.showGutter!==r.showGutter&&c.renderer.setShowGutter(s.showGutter);for(var u=0;u<Ia.editorOptions.length;u++){var d=Ia.editorOptions[u];s[d]!==r[d]&&c.setOption(d,s[d])}y1(s.setOptions,r.setOptions)||i.handleOptions(s,c);var p=Ns(s.value,o,"");if(c.getValue()!==p){i.silent=!0;var m=c.session.selection.toJSON();c.setValue(p,s.cursorStart),c.session.selection.fromJSON(m),i.silent=!1}var v=Ns(s.annotations,o,[]),x=Ns(r.annotations,o,[]);y1(v,x)||c.getSession().setAnnotations(v);var w=Ns(s.markers,o,[]),A=Ns(r.markers,o,[]);!y1(w,A)&&Array.isArray(w)&&i.handleMarkers(w,c)}),s.className!==r.className){var l=this.refEditor.className,h=l.trim().split(" "),f=r.className.trim().split(" ");f.forEach(function(c){var o=h.indexOf(c);h.splice(o,1)}),this.refEditor.className=" "+s.className+" "+h.join(" ")}s.theme!==r.theme&&a.setTheme("ace/theme/"+s.theme),s.focus&&!r.focus&&this.splitEditor.focus(),(s.height!==this.props.height||s.width!==this.props.width)&&this.editor.resize()},e.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},e.prototype.onChange=function(t){if(this.props.onChange&&!this.silent){var i=[];this.editor.env.split.forEach(function(r){i.push(r.getValue())}),this.props.onChange(i,t)}},e.prototype.onSelectionChange=function(t){if(this.props.onSelectionChange){var i=[];this.editor.env.split.forEach(function(r){i.push(r.getSelection())}),this.props.onSelectionChange(i,t)}},e.prototype.onCursorChange=function(t){if(this.props.onCursorChange){var i=[];this.editor.env.split.forEach(function(r){i.push(r.getSelection())}),this.props.onCursorChange(i,t)}},e.prototype.onFocus=function(t){this.props.onFocus&&this.props.onFocus(t)},e.prototype.onInput=function(t){this.props.onInput&&this.props.onInput(t)},e.prototype.onBlur=function(t){this.props.onBlur&&this.props.onBlur(t)},e.prototype.onCopy=function(t){this.props.onCopy&&this.props.onCopy(t)},e.prototype.onPaste=function(t){this.props.onPaste&&this.props.onPaste(t)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(t,i){for(var r=Object.keys(t.setOptions),s=0;s<r.length;s++)i.setOption(r[s],t.setOptions[r[s]])},e.prototype.handleMarkers=function(t,i){var r=i.getSession().getMarkers(!0);for(var s in r)r.hasOwnProperty(s)&&i.getSession().removeMarker(r[s].id);r=i.getSession().getMarkers(!1);for(var s in r)r.hasOwnProperty(s)&&i.getSession().removeMarker(r[s].id);t.forEach(function(a){var l=a.startRow,h=a.startCol,f=a.endRow,c=a.endCol,o=a.className,u=a.type,d=a.inFront,p=d===void 0?!1:d,m=new F6.Range(l,h,f,c);i.getSession().addMarker(m,o,u,p)})},e.prototype.updateRef=function(t){this.refEditor=t},e.prototype.render=function(){var t=this.props,i=t.name,r=t.width,s=t.height,a=t.style,l=dx({width:r,height:s},a);return HA.createElement("div",{ref:this.updateRef,id:i,style:l})},e.propTypes={className:ht.string,debounceChangePeriod:ht.number,defaultValue:ht.arrayOf(ht.string),focus:ht.bool,fontSize:ht.oneOfType([ht.number,ht.string]),height:ht.string,mode:ht.string,name:ht.string,onBlur:ht.func,onChange:ht.func,onCopy:ht.func,onFocus:ht.func,onInput:ht.func,onLoad:ht.func,onPaste:ht.func,onScroll:ht.func,orientation:ht.string,showGutter:ht.bool,splits:ht.number,theme:ht.string,value:ht.arrayOf(ht.string),width:ht.string,onSelectionChange:ht.func,onCursorChange:ht.func,onBeforeLoad:ht.func,minLines:ht.number,maxLines:ht.number,readOnly:ht.bool,highlightActiveLine:ht.bool,tabSize:ht.number,showPrintMargin:ht.bool,cursorStart:ht.number,editorProps:ht.object,setOptions:ht.object,style:ht.object,scrollMargin:ht.array,annotations:ht.array,markers:ht.array,keyboardHandler:ht.string,wrapEnabled:ht.bool,enableBasicAutocompletion:ht.oneOfType([ht.bool,ht.array]),enableLiveAutocompletion:ht.oneOfType([ht.bool,ht.array]),commands:ht.array},e.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},e}(HA.Component);tv.default=U6;var QT={exports:{}};(function(n){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},t=-1,i=1,r=0;e.Diff=function(s,a){return[s,a]},e.prototype.diff_main=function(s,a,l,h){typeof h>"u"&&(this.Diff_Timeout<=0?h=Number.MAX_VALUE:h=new Date().getTime()+this.Diff_Timeout*1e3);var f=h;if(s==null||a==null)throw new Error("Null input. (diff_main)");if(s==a)return s?[new e.Diff(r,s)]:[];typeof l>"u"&&(l=!0);var c=l,o=this.diff_commonPrefix(s,a),u=s.substring(0,o);s=s.substring(o),a=a.substring(o),o=this.diff_commonSuffix(s,a);var d=s.substring(s.length-o);s=s.substring(0,s.length-o),a=a.substring(0,a.length-o);var p=this.diff_compute_(s,a,c,f);return u&&p.unshift(new e.Diff(r,u)),d&&p.push(new e.Diff(r,d)),this.diff_cleanupMerge(p),p},e.prototype.diff_compute_=function(s,a,l,h){var f;if(!s)return[new e.Diff(i,a)];if(!a)return[new e.Diff(t,s)];var c=s.length>a.length?s:a,o=s.length>a.length?a:s,u=c.indexOf(o);if(u!=-1)return f=[new e.Diff(i,c.substring(0,u)),new e.Diff(r,o),new e.Diff(i,c.substring(u+o.length))],s.length>a.length&&(f[0][0]=f[2][0]=t),f;if(o.length==1)return[new e.Diff(t,s),new e.Diff(i,a)];var d=this.diff_halfMatch_(s,a);if(d){var p=d[0],m=d[1],v=d[2],x=d[3],w=d[4],A=this.diff_main(p,v,l,h),M=this.diff_main(m,x,l,h);return A.concat([new e.Diff(r,w)],M)}return l&&s.length>100&&a.length>100?this.diff_lineMode_(s,a,h):this.diff_bisect_(s,a,h)},e.prototype.diff_lineMode_=function(s,a,l){var h=this.diff_linesToChars_(s,a);s=h.chars1,a=h.chars2;var f=h.lineArray,c=this.diff_main(s,a,!1,l);this.diff_charsToLines_(c,f),this.diff_cleanupSemantic(c),c.push(new e.Diff(r,""));for(var o=0,u=0,d=0,p="",m="";o<c.length;){switch(c[o][0]){case i:d++,m+=c[o][1];break;case t:u++,p+=c[o][1];break;case r:if(u>=1&&d>=1){c.splice(o-u-d,u+d),o=o-u-d;for(var v=this.diff_main(p,m,!1,l),x=v.length-1;x>=0;x--)c.splice(o,0,v[x]);o=o+v.length}d=0,u=0,p="",m="";break}o++}return c.pop(),c},e.prototype.diff_bisect_=function(s,a,l){for(var h=s.length,f=a.length,c=Math.ceil((h+f)/2),o=c,u=2*c,d=new Array(u),p=new Array(u),m=0;m<u;m++)d[m]=-1,p[m]=-1;d[o+1]=0,p[o+1]=0;for(var v=h-f,x=v%2!=0,w=0,A=0,M=0,C=0,E=0;E<c&&!(new Date().getTime()>l);E++){for(var R=-E+w;R<=E-A;R+=2){var b=o+R,_;R==-E||R!=E&&d[b-1]<d[b+1]?_=d[b+1]:_=d[b-1]+1;for(var S=_-R;_<h&&S<f&&s.charAt(_)==a.charAt(S);)_++,S++;if(d[b]=_,_>h)A+=2;else if(S>f)w+=2;else if(x){var T=o+v-R;if(T>=0&&T<u&&p[T]!=-1){var P=h-p[T];if(_>=P)return this.diff_bisectSplit_(s,a,_,S,l)}}}for(var I=-E+M;I<=E-C;I+=2){var T=o+I,P;I==-E||I!=E&&p[T-1]<p[T+1]?P=p[T+1]:P=p[T-1]+1;for(var z=P-I;P<h&&z<f&&s.charAt(h-P-1)==a.charAt(f-z-1);)P++,z++;if(p[T]=P,P>h)C+=2;else if(z>f)M+=2;else if(!x){var b=o+v-I;if(b>=0&&b<u&&d[b]!=-1){var _=d[b],S=o+_-b;if(P=h-P,_>=P)return this.diff_bisectSplit_(s,a,_,S,l)}}}}return[new e.Diff(t,s),new e.Diff(i,a)]},e.prototype.diff_bisectSplit_=function(s,a,l,h,f){var c=s.substring(0,l),o=a.substring(0,h),u=s.substring(l),d=a.substring(h),p=this.diff_main(c,o,!1,f),m=this.diff_main(u,d,!1,f);return p.concat(m)},e.prototype.diff_linesToChars_=function(s,a){var l=[],h={};l[0]="";function f(d){for(var p="",m=0,v=-1,x=l.length;v<d.length-1;){v=d.indexOf(`
`,m),v==-1&&(v=d.length-1);var w=d.substring(m,v+1);(h.hasOwnProperty?h.hasOwnProperty(w):h[w]!==void 0)?p+=String.fromCharCode(h[w]):(x==c&&(w=d.substring(m),v=d.length),p+=String.fromCharCode(x),h[w]=x,l[x++]=w),m=v+1}return p}var c=4e4,o=f(s);c=65535;var u=f(a);return{chars1:o,chars2:u,lineArray:l}},e.prototype.diff_charsToLines_=function(s,a){for(var l=0;l<s.length;l++){for(var h=s[l][1],f=[],c=0;c<h.length;c++)f[c]=a[h.charCodeAt(c)];s[l][1]=f.join("")}},e.prototype.diff_commonPrefix=function(s,a){if(!s||!a||s.charAt(0)!=a.charAt(0))return 0;for(var l=0,h=Math.min(s.length,a.length),f=h,c=0;l<f;)s.substring(c,f)==a.substring(c,f)?(l=f,c=l):h=f,f=Math.floor((h-l)/2+l);return f},e.prototype.diff_commonSuffix=function(s,a){if(!s||!a||s.charAt(s.length-1)!=a.charAt(a.length-1))return 0;for(var l=0,h=Math.min(s.length,a.length),f=h,c=0;l<f;)s.substring(s.length-f,s.length-c)==a.substring(a.length-f,a.length-c)?(l=f,c=l):h=f,f=Math.floor((h-l)/2+l);return f},e.prototype.diff_commonOverlap_=function(s,a){var l=s.length,h=a.length;if(l==0||h==0)return 0;l>h?s=s.substring(l-h):l<h&&(a=a.substring(0,l));var f=Math.min(l,h);if(s==a)return f;for(var c=0,o=1;;){var u=s.substring(f-o),d=a.indexOf(u);if(d==-1)return c;o+=d,(d==0||s.substring(f-o)==a.substring(0,o))&&(c=o,o++)}},e.prototype.diff_halfMatch_=function(s,a){if(this.Diff_Timeout<=0)return null;var l=s.length>a.length?s:a,h=s.length>a.length?a:s;if(l.length<4||h.length*2<l.length)return null;var f=this;function c(A,M,C){for(var E=A.substring(C,C+Math.floor(A.length/4)),R=-1,b="",_,S,T,P;(R=M.indexOf(E,R+1))!=-1;){var I=f.diff_commonPrefix(A.substring(C),M.substring(R)),z=f.diff_commonSuffix(A.substring(0,C),M.substring(0,R));b.length<z+I&&(b=M.substring(R-z,R)+M.substring(R,R+I),_=A.substring(0,C-z),S=A.substring(C+I),T=M.substring(0,R-z),P=M.substring(R+I))}return b.length*2>=A.length?[_,S,T,P,b]:null}var o=c(l,h,Math.ceil(l.length/4)),u=c(l,h,Math.ceil(l.length/2)),d;if(!o&&!u)return null;u?o?d=o[4].length>u[4].length?o:u:d=u:d=o;var p,m,v,x;s.length>a.length?(p=d[0],m=d[1],v=d[2],x=d[3]):(v=d[0],x=d[1],p=d[2],m=d[3]);var w=d[4];return[p,m,v,x,w]},e.prototype.diff_cleanupSemantic=function(s){for(var a=!1,l=[],h=0,f=null,c=0,o=0,u=0,d=0,p=0;c<s.length;)s[c][0]==r?(l[h++]=c,o=d,u=p,d=0,p=0,f=s[c][1]):(s[c][0]==i?d+=s[c][1].length:p+=s[c][1].length,f&&f.length<=Math.max(o,u)&&f.length<=Math.max(d,p)&&(s.splice(l[h-1],0,new e.Diff(t,f)),s[l[h-1]+1][0]=i,h--,h--,c=h>0?l[h-1]:-1,o=0,u=0,d=0,p=0,f=null,a=!0)),c++;for(a&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),c=1;c<s.length;){if(s[c-1][0]==t&&s[c][0]==i){var m=s[c-1][1],v=s[c][1],x=this.diff_commonOverlap_(m,v),w=this.diff_commonOverlap_(v,m);x>=w?(x>=m.length/2||x>=v.length/2)&&(s.splice(c,0,new e.Diff(r,v.substring(0,x))),s[c-1][1]=m.substring(0,m.length-x),s[c+1][1]=v.substring(x),c++):(w>=m.length/2||w>=v.length/2)&&(s.splice(c,0,new e.Diff(r,m.substring(0,w))),s[c-1][0]=i,s[c-1][1]=v.substring(0,v.length-w),s[c+1][0]=t,s[c+1][1]=m.substring(w),c++),c++}c++}},e.prototype.diff_cleanupSemanticLossless=function(s){function a(w,A){if(!w||!A)return 6;var M=w.charAt(w.length-1),C=A.charAt(0),E=M.match(e.nonAlphaNumericRegex_),R=C.match(e.nonAlphaNumericRegex_),b=E&&M.match(e.whitespaceRegex_),_=R&&C.match(e.whitespaceRegex_),S=b&&M.match(e.linebreakRegex_),T=_&&C.match(e.linebreakRegex_),P=S&&w.match(e.blanklineEndRegex_),I=T&&A.match(e.blanklineStartRegex_);return P||I?5:S||T?4:E&&!b&&_?3:b||_?2:E||R?1:0}for(var l=1;l<s.length-1;){if(s[l-1][0]==r&&s[l+1][0]==r){var h=s[l-1][1],f=s[l][1],c=s[l+1][1],o=this.diff_commonSuffix(h,f);if(o){var u=f.substring(f.length-o);h=h.substring(0,h.length-o),f=u+f.substring(0,f.length-o),c=u+c}for(var d=h,p=f,m=c,v=a(h,f)+a(f,c);f.charAt(0)===c.charAt(0);){h+=f.charAt(0),f=f.substring(1)+c.charAt(0),c=c.substring(1);var x=a(h,f)+a(f,c);x>=v&&(v=x,d=h,p=f,m=c)}s[l-1][1]!=d&&(d?s[l-1][1]=d:(s.splice(l-1,1),l--),s[l][1]=p,m?s[l+1][1]=m:(s.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var a=!1,l=[],h=0,f=null,c=0,o=!1,u=!1,d=!1,p=!1;c<s.length;)s[c][0]==r?(s[c][1].length<this.Diff_EditCost&&(d||p)?(l[h++]=c,o=d,u=p,f=s[c][1]):(h=0,f=null),d=p=!1):(s[c][0]==t?p=!0:d=!0,f&&(o&&u&&d&&p||f.length<this.Diff_EditCost/2&&o+u+d+p==3)&&(s.splice(l[h-1],0,new e.Diff(t,f)),s[l[h-1]+1][0]=i,h--,f=null,o&&u?(d=p=!0,h=0):(h--,c=h>0?l[h-1]:-1,d=p=!1),a=!0)),c++;a&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(r,""));for(var a=0,l=0,h=0,f="",c="",o;a<s.length;)switch(s[a][0]){case i:h++,c+=s[a][1],a++;break;case t:l++,f+=s[a][1],a++;break;case r:l+h>1?(l!==0&&h!==0&&(o=this.diff_commonPrefix(c,f),o!==0&&(a-l-h>0&&s[a-l-h-1][0]==r?s[a-l-h-1][1]+=c.substring(0,o):(s.splice(0,0,new e.Diff(r,c.substring(0,o))),a++),c=c.substring(o),f=f.substring(o)),o=this.diff_commonSuffix(c,f),o!==0&&(s[a][1]=c.substring(c.length-o)+s[a][1],c=c.substring(0,c.length-o),f=f.substring(0,f.length-o))),a-=l+h,s.splice(a,l+h),f.length&&(s.splice(a,0,new e.Diff(t,f)),a++),c.length&&(s.splice(a,0,new e.Diff(i,c)),a++),a++):a!==0&&s[a-1][0]==r?(s[a-1][1]+=s[a][1],s.splice(a,1)):a++,h=0,l=0,f="",c="";break}s[s.length-1][1]===""&&s.pop();var u=!1;for(a=1;a<s.length-1;)s[a-1][0]==r&&s[a+1][0]==r&&(s[a][1].substring(s[a][1].length-s[a-1][1].length)==s[a-1][1]?(s[a][1]=s[a-1][1]+s[a][1].substring(0,s[a][1].length-s[a-1][1].length),s[a+1][1]=s[a-1][1]+s[a+1][1],s.splice(a-1,1),u=!0):s[a][1].substring(0,s[a+1][1].length)==s[a+1][1]&&(s[a-1][1]+=s[a+1][1],s[a][1]=s[a][1].substring(s[a+1][1].length)+s[a+1][1],s.splice(a+1,1),u=!0)),a++;u&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,a){var l=0,h=0,f=0,c=0,o;for(o=0;o<s.length&&(s[o][0]!==i&&(l+=s[o][1].length),s[o][0]!==t&&(h+=s[o][1].length),!(l>a));o++)f=l,c=h;return s.length!=o&&s[o][0]===t?c:c+(a-f)},e.prototype.diff_prettyHtml=function(s){for(var a=[],l=/&/g,h=/</g,f=/>/g,c=/\n/g,o=0;o<s.length;o++){var u=s[o][0],d=s[o][1],p=d.replace(l,"&amp;").replace(h,"&lt;").replace(f,"&gt;").replace(c,"&para;<br>");switch(u){case i:a[o]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case t:a[o]='<del style="background:#ffe6e6;">'+p+"</del>";break;case r:a[o]="<span>"+p+"</span>";break}}return a.join("")},e.prototype.diff_text1=function(s){for(var a=[],l=0;l<s.length;l++)s[l][0]!==i&&(a[l]=s[l][1]);return a.join("")},e.prototype.diff_text2=function(s){for(var a=[],l=0;l<s.length;l++)s[l][0]!==t&&(a[l]=s[l][1]);return a.join("")},e.prototype.diff_levenshtein=function(s){for(var a=0,l=0,h=0,f=0;f<s.length;f++){var c=s[f][0],o=s[f][1];switch(c){case i:l+=o.length;break;case t:h+=o.length;break;case r:a+=Math.max(l,h),l=0,h=0;break}}return a+=Math.max(l,h),a},e.prototype.diff_toDelta=function(s){for(var a=[],l=0;l<s.length;l++)switch(s[l][0]){case i:a[l]="+"+encodeURI(s[l][1]);break;case t:a[l]="-"+s[l][1].length;break;case r:a[l]="="+s[l][1].length;break}return a.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,a){for(var l=[],h=0,f=0,c=a.split(/\t/g),o=0;o<c.length;o++){var u=c[o].substring(1);switch(c[o].charAt(0)){case"+":try{l[h++]=new e.Diff(i,decodeURI(u))}catch{throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var d=parseInt(u,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+u);var p=s.substring(f,f+=d);c[o].charAt(0)=="="?l[h++]=new e.Diff(r,p):l[h++]=new e.Diff(t,p);break;default:if(c[o])throw new Error("Invalid diff operation in diff_fromDelta: "+c[o])}}if(f!=s.length)throw new Error("Delta length ("+f+") does not equal source text length ("+s.length+").");return l},e.prototype.match_main=function(s,a,l){if(s==null||a==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,s.length)),s==a?0:s.length?s.substring(l,l+a.length)==a?l:this.match_bitap_(s,a,l):-1},e.prototype.match_bitap_=function(s,a,l){if(a.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var h=this.match_alphabet_(a),f=this;function c(_,S){var T=_/a.length,P=Math.abs(l-S);return f.Match_Distance?T+P/f.Match_Distance:P?1:T}var o=this.Match_Threshold,u=s.indexOf(a,l);u!=-1&&(o=Math.min(c(0,u),o),u=s.lastIndexOf(a,l+a.length),u!=-1&&(o=Math.min(c(0,u),o)));var d=1<<a.length-1;u=-1;for(var p,m,v=a.length+s.length,x,w=0;w<a.length;w++){for(p=0,m=v;p<m;)c(w,l+m)<=o?p=m:v=m,m=Math.floor((v-p)/2+p);v=m;var A=Math.max(1,l-m+1),M=Math.min(l+m,s.length)+a.length,C=Array(M+2);C[M+1]=(1<<w)-1;for(var E=M;E>=A;E--){var R=h[s.charAt(E-1)];if(w===0?C[E]=(C[E+1]<<1|1)&R:C[E]=(C[E+1]<<1|1)&R|((x[E+1]|x[E])<<1|1)|x[E+1],C[E]&d){var b=c(w,E-1);if(b<=o)if(o=b,u=E-1,u>l)A=Math.max(1,2*l-u);else break}}if(c(w+1,l)>o)break;x=C}return u},e.prototype.match_alphabet_=function(s){for(var a={},l=0;l<s.length;l++)a[s.charAt(l)]=0;for(var l=0;l<s.length;l++)a[s.charAt(l)]|=1<<s.length-l-1;return a},e.prototype.patch_addContext_=function(s,a){if(a.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var l=a.substring(s.start2,s.start2+s.length1),h=0;a.indexOf(l)!=a.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)h+=this.Patch_Margin,l=a.substring(s.start2-h,s.start2+s.length1+h);h+=this.Patch_Margin;var f=a.substring(s.start2-h,s.start2);f&&s.diffs.unshift(new e.Diff(r,f));var c=a.substring(s.start2+s.length1,s.start2+s.length1+h);c&&s.diffs.push(new e.Diff(r,c)),s.start1-=f.length,s.start2-=f.length,s.length1+=f.length+c.length,s.length2+=f.length+c.length}},e.prototype.patch_make=function(s,a,l){var h,f;if(typeof s=="string"&&typeof a=="string"&&typeof l>"u")h=s,f=this.diff_main(h,a,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(s&&typeof s=="object"&&typeof a>"u"&&typeof l>"u")f=s,h=this.diff_text1(f);else if(typeof s=="string"&&a&&typeof a=="object"&&typeof l>"u")h=s,f=a;else if(typeof s=="string"&&typeof a=="string"&&l&&typeof l=="object")h=s,f=l;else throw new Error("Unknown call format to patch_make.");if(f.length===0)return[];for(var c=[],o=new e.patch_obj,u=0,d=0,p=0,m=h,v=h,x=0;x<f.length;x++){var w=f[x][0],A=f[x][1];switch(!u&&w!==r&&(o.start1=d,o.start2=p),w){case i:o.diffs[u++]=f[x],o.length2+=A.length,v=v.substring(0,p)+A+v.substring(p);break;case t:o.length1+=A.length,o.diffs[u++]=f[x],v=v.substring(0,p)+v.substring(p+A.length);break;case r:A.length<=2*this.Patch_Margin&&u&&f.length!=x+1?(o.diffs[u++]=f[x],o.length1+=A.length,o.length2+=A.length):A.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(o,m),c.push(o),o=new e.patch_obj,u=0,m=v,d=p);break}w!==i&&(d+=A.length),w!==t&&(p+=A.length)}return u&&(this.patch_addContext_(o,m),c.push(o)),c},e.prototype.patch_deepCopy=function(s){for(var a=[],l=0;l<s.length;l++){var h=s[l],f=new e.patch_obj;f.diffs=[];for(var c=0;c<h.diffs.length;c++)f.diffs[c]=new e.Diff(h.diffs[c][0],h.diffs[c][1]);f.start1=h.start1,f.start2=h.start2,f.length1=h.length1,f.length2=h.length2,a[l]=f}return a},e.prototype.patch_apply=function(s,a){if(s.length==0)return[a,[]];s=this.patch_deepCopy(s);var l=this.patch_addPadding(s);a=l+a+l,this.patch_splitMax(s);for(var h=0,f=[],c=0;c<s.length;c++){var o=s[c].start2+h,u=this.diff_text1(s[c].diffs),d,p=-1;if(u.length>this.Match_MaxBits?(d=this.match_main(a,u.substring(0,this.Match_MaxBits),o),d!=-1&&(p=this.match_main(a,u.substring(u.length-this.Match_MaxBits),o+u.length-this.Match_MaxBits),(p==-1||d>=p)&&(d=-1))):d=this.match_main(a,u,o),d==-1)f[c]=!1,h-=s[c].length2-s[c].length1;else{f[c]=!0,h=d-o;var m;if(p==-1?m=a.substring(d,d+u.length):m=a.substring(d,p+this.Match_MaxBits),u==m)a=a.substring(0,d)+this.diff_text2(s[c].diffs)+a.substring(d+u.length);else{var v=this.diff_main(u,m,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(v)/u.length>this.Patch_DeleteThreshold)f[c]=!1;else{this.diff_cleanupSemanticLossless(v);for(var x=0,w,A=0;A<s[c].diffs.length;A++){var M=s[c].diffs[A];M[0]!==r&&(w=this.diff_xIndex(v,x)),M[0]===i?a=a.substring(0,d+w)+M[1]+a.substring(d+w):M[0]===t&&(a=a.substring(0,d+w)+a.substring(d+this.diff_xIndex(v,x+M[1].length))),M[0]!==t&&(x+=M[1].length)}}}}}return a=a.substring(l.length,a.length-l.length),[a,f]},e.prototype.patch_addPadding=function(s){for(var a=this.Patch_Margin,l="",h=1;h<=a;h++)l+=String.fromCharCode(h);for(var h=0;h<s.length;h++)s[h].start1+=a,s[h].start2+=a;var f=s[0],c=f.diffs;if(c.length==0||c[0][0]!=r)c.unshift(new e.Diff(r,l)),f.start1-=a,f.start2-=a,f.length1+=a,f.length2+=a;else if(a>c[0][1].length){var o=a-c[0][1].length;c[0][1]=l.substring(c[0][1].length)+c[0][1],f.start1-=o,f.start2-=o,f.length1+=o,f.length2+=o}if(f=s[s.length-1],c=f.diffs,c.length==0||c[c.length-1][0]!=r)c.push(new e.Diff(r,l)),f.length1+=a,f.length2+=a;else if(a>c[c.length-1][1].length){var o=a-c[c.length-1][1].length;c[c.length-1][1]+=l.substring(0,o),f.length1+=o,f.length2+=o}return l},e.prototype.patch_splitMax=function(s){for(var a=this.Match_MaxBits,l=0;l<s.length;l++)if(!(s[l].length1<=a)){var h=s[l];s.splice(l--,1);for(var f=h.start1,c=h.start2,o="";h.diffs.length!==0;){var u=new e.patch_obj,d=!0;for(u.start1=f-o.length,u.start2=c-o.length,o!==""&&(u.length1=u.length2=o.length,u.diffs.push(new e.Diff(r,o)));h.diffs.length!==0&&u.length1<a-this.Patch_Margin;){var p=h.diffs[0][0],m=h.diffs[0][1];p===i?(u.length2+=m.length,c+=m.length,u.diffs.push(h.diffs.shift()),d=!1):p===t&&u.diffs.length==1&&u.diffs[0][0]==r&&m.length>2*a?(u.length1+=m.length,f+=m.length,d=!1,u.diffs.push(new e.Diff(p,m)),h.diffs.shift()):(m=m.substring(0,a-u.length1-this.Patch_Margin),u.length1+=m.length,f+=m.length,p===r?(u.length2+=m.length,c+=m.length):d=!1,u.diffs.push(new e.Diff(p,m)),m==h.diffs[0][1]?h.diffs.shift():h.diffs[0][1]=h.diffs[0][1].substring(m.length))}o=this.diff_text2(u.diffs),o=o.substring(o.length-this.Patch_Margin);var v=this.diff_text1(h.diffs).substring(0,this.Patch_Margin);v!==""&&(u.length1+=v.length,u.length2+=v.length,u.diffs.length!==0&&u.diffs[u.diffs.length-1][0]===r?u.diffs[u.diffs.length-1][1]+=v:u.diffs.push(new e.Diff(r,v))),d||s.splice(++l,0,u)}}},e.prototype.patch_toText=function(s){for(var a=[],l=0;l<s.length;l++)a[l]=s[l];return a.join("")},e.prototype.patch_fromText=function(s){var a=[];if(!s)return a;for(var l=s.split(`
`),h=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;h<l.length;){var c=l[h].match(f);if(!c)throw new Error("Invalid patch string: "+l[h]);var o=new e.patch_obj;for(a.push(o),o.start1=parseInt(c[1],10),c[2]===""?(o.start1--,o.length1=1):c[2]=="0"?o.length1=0:(o.start1--,o.length1=parseInt(c[2],10)),o.start2=parseInt(c[3],10),c[4]===""?(o.start2--,o.length2=1):c[4]=="0"?o.length2=0:(o.start2--,o.length2=parseInt(c[4],10)),h++;h<l.length;){var u=l[h].charAt(0);try{var d=decodeURI(l[h].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+d)}if(u=="-")o.diffs.push(new e.Diff(t,d));else if(u=="+")o.diffs.push(new e.Diff(i,d));else if(u==" ")o.diffs.push(new e.Diff(r,d));else{if(u=="@")break;if(u!=="")throw new Error('Invalid patch mode "'+u+'" in: '+d)}h++}}return a},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,a;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?a=this.start2+",0":this.length2==1?a=this.start2+1:a=this.start2+1+","+this.length2;for(var l=["@@ -"+s+" +"+a+` @@
`],h,f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case i:h="+";break;case t:h="-";break;case r:h=" ";break}l[f+1]=h+encodeURI(this.diffs[f][1])+`
`}return l.join("").replace(/%20/g," ")},n.exports=e,n.exports.diff_match_patch=e,n.exports.DIFF_DELETE=t,n.exports.DIFF_INSERT=i,n.exports.DIFF_EQUAL=r})(QT);var H6=fn&&fn.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(fS,"__esModule",{value:!0});var Kt=ev.exports,WA=ie.exports,W6=tv,V6=QT.exports,G6=function(n){H6(e,n);function e(t){var i=n.call(this,t)||this;return i.state={value:i.props.value},i.onChange=i.onChange.bind(i),i.diff=i.diff.bind(i),i}return e.prototype.componentDidUpdate=function(){var t=this.props.value;t!==this.state.value&&this.setState({value:t})},e.prototype.onChange=function(t){this.setState({value:t}),this.props.onChange&&this.props.onChange(t)},e.prototype.diff=function(){var t=new V6,i=this.state.value[0],r=this.state.value[1];if(i.length===0&&r.length===0)return[];var s=t.diff_main(i,r);t.diff_cleanupSemantic(s);var a=this.generateDiffedLines(s),l=this.setCodeMarkers(a);return l},e.prototype.generateDiffedLines=function(t){var i={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},r={left:[],right:[]},s={left:1,right:1};return t.forEach(function(a){var l=a[0],h=a[1],f=h.split(`
`).length-1;if(h.length!==0){var c=h[0],o=h[h.length-1],u=0;switch(l){case i.DIFF_EQUAL:s.left+=f,s.right+=f;break;case i.DIFF_DELETE:c===`
`&&(s.left++,f--),u=f,u===0&&r.right.push({startLine:s.right,endLine:s.right}),o===`
`&&(u-=1),r.left.push({startLine:s.left,endLine:s.left+u}),s.left+=f;break;case i.DIFF_INSERT:c===`
`&&(s.right++,f--),u=f,u===0&&r.left.push({startLine:s.left,endLine:s.left}),o===`
`&&(u-=1),r.right.push({startLine:s.right,endLine:s.right+u}),s.right+=f;break;default:throw new Error("Diff type was not defined.")}}}),r},e.prototype.setCodeMarkers=function(t){t===void 0&&(t={left:[],right:[]});for(var i=[],r={left:[],right:[]},s=0;s<t.left.length;s++){var a={startRow:t.left[s].startLine-1,endRow:t.left[s].endLine,type:"text",className:"codeMarker"};r.left.push(a)}for(var s=0;s<t.right.length;s++){var a={startRow:t.right[s].startLine-1,endRow:t.right[s].endLine,type:"text",className:"codeMarker"};r.right.push(a)}return i[0]=r.left,i[1]=r.right,i},e.prototype.render=function(){var t=this.diff();return WA.createElement(W6.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:t})},e.propTypes={cursorStart:Kt.number,editorProps:Kt.object,enableBasicAutocompletion:Kt.bool,enableLiveAutocompletion:Kt.bool,focus:Kt.bool,fontSize:Kt.number,height:Kt.string,highlightActiveLine:Kt.bool,maxLines:Kt.number,minLines:Kt.number,mode:Kt.string,name:Kt.string,className:Kt.string,onLoad:Kt.func,onPaste:Kt.func,onScroll:Kt.func,onChange:Kt.func,orientation:Kt.string,readOnly:Kt.bool,scrollMargin:Kt.array,setOptions:Kt.object,showGutter:Kt.bool,showPrintMargin:Kt.bool,splits:Kt.number,style:Kt.object,tabSize:Kt.number,theme:Kt.string,value:Kt.array,width:Kt.string,wrapEnabled:Kt.bool},e.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},e}(WA.Component);fS.default=G6;Object.defineProperty(Jc,"__esModule",{value:!0});Jc.diff=Jc.split=void 0;var K6=hS,j6=fS;Jc.diff=j6.default;var Y6=tv;Jc.split=Y6.default;var X6=Jc.default=K6.default,Q6={exports:{}};(function(n,e){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,i,r){var s=t("../lib/oop"),a=t("./text_highlight_rules").TextHighlightRules,l=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},l.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};s.inherits(l,a),l.getTagRule=function(h){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},l.getStartRule=function(h){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:h}},l.getEndRule=function(h){return{token:"comment.doc",regex:"\\*\\/",next:h}},i.DocCommentHighlightRules=l}),ace.define("ace/mode/c_cpp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,i,r){var s=t("../lib/oop"),a=t("./doc_comment_highlight_rules").DocCommentHighlightRules,l=t("./text_highlight_rules").TextHighlightRules,h=i.cFunctions="\\b(?:hypot(?:f|l)?|s(?:scanf|ystem|nprintf|ca(?:nf|lb(?:n(?:f|l)?|ln(?:f|l)?))|i(?:n(?:h(?:f|l)?|f|l)?|gn(?:al|bit))|tr(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?)|error|pbrk|ftime|len|rchr|xfrm)|printf|et(?:jmp|vbuf|locale|buf)|qrt(?:f|l)?|w(?:scanf|printf)|rand)|n(?:e(?:arbyint(?:f|l)?|xt(?:toward(?:f|l)?|after(?:f|l)?))|an(?:f|l)?)|c(?:s(?:in(?:h(?:f|l)?|f|l)?|qrt(?:f|l)?)|cos(?:h(?:f)?|f|l)?|imag(?:f|l)?|t(?:ime|an(?:h(?:f|l)?|f|l)?)|o(?:s(?:h(?:f|l)?|f|l)?|nj(?:f|l)?|pysign(?:f|l)?)|p(?:ow(?:f|l)?|roj(?:f|l)?)|e(?:il(?:f|l)?|xp(?:f|l)?)|l(?:o(?:ck|g(?:f|l)?)|earerr)|a(?:sin(?:h(?:f|l)?|f|l)?|cos(?:h(?:f|l)?|f|l)?|tan(?:h(?:f|l)?|f|l)?|lloc|rg(?:f|l)?|bs(?:f|l)?)|real(?:f|l)?|brt(?:f|l)?)|t(?:ime|o(?:upper|lower)|an(?:h(?:f|l)?|f|l)?|runc(?:f|l)?|gamma(?:f|l)?|mp(?:nam|file))|i(?:s(?:space|n(?:ormal|an)|cntrl|inf|digit|u(?:nordered|pper)|p(?:unct|rint)|finite|w(?:space|c(?:ntrl|type)|digit|upper|p(?:unct|rint)|lower|al(?:num|pha)|graph|xdigit|blank)|l(?:ower|ess(?:equal|greater)?)|al(?:num|pha)|gr(?:eater(?:equal)?|aph)|xdigit|blank)|logb(?:f|l)?|max(?:div|abs))|di(?:v|fftime)|_Exit|unget(?:c|wc)|p(?:ow(?:f|l)?|ut(?:s|c(?:har)?|wc(?:har)?)|error|rintf)|e(?:rf(?:c(?:f|l)?|f|l)?|x(?:it|p(?:2(?:f|l)?|f|l|m1(?:f|l)?)?))|v(?:s(?:scanf|nprintf|canf|printf|w(?:scanf|printf))|printf|f(?:scanf|printf|w(?:scanf|printf))|w(?:scanf|printf)|a_(?:start|copy|end|arg))|qsort|f(?:s(?:canf|e(?:tpos|ek))|close|tell|open|dim(?:f|l)?|p(?:classify|ut(?:s|c|w(?:s|c))|rintf)|e(?:holdexcept|set(?:e(?:nv|xceptflag)|round)|clearexcept|testexcept|of|updateenv|r(?:aiseexcept|ror)|get(?:e(?:nv|xceptflag)|round))|flush|w(?:scanf|ide|printf|rite)|loor(?:f|l)?|abs(?:f|l)?|get(?:s|c|pos|w(?:s|c))|re(?:open|e|ad|xp(?:f|l)?)|m(?:in(?:f|l)?|od(?:f|l)?|a(?:f|l|x(?:f|l)?)?))|l(?:d(?:iv|exp(?:f|l)?)|o(?:ngjmp|cal(?:time|econv)|g(?:1(?:p(?:f|l)?|0(?:f|l)?)|2(?:f|l)?|f|l|b(?:f|l)?)?)|abs|l(?:div|abs|r(?:int(?:f|l)?|ound(?:f|l)?))|r(?:int(?:f|l)?|ound(?:f|l)?)|gamma(?:f|l)?)|w(?:scanf|c(?:s(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?|mbs)|pbrk|ftime|len|r(?:chr|tombs)|xfrm)|to(?:b|mb)|rtomb)|printf|mem(?:set|c(?:hr|py|mp)|move))|a(?:s(?:sert|ctime|in(?:h(?:f|l)?|f|l)?)|cos(?:h(?:f|l)?|f|l)?|t(?:o(?:i|f|l(?:l)?)|exit|an(?:h(?:f|l)?|2(?:f|l)?|f|l)?)|b(?:s|ort))|g(?:et(?:s|c(?:har)?|env|wc(?:har)?)|mtime)|r(?:int(?:f|l)?|ound(?:f|l)?|e(?:name|alloc|wind|m(?:ove|quo(?:f|l)?|ainder(?:f|l)?))|a(?:nd|ise))|b(?:search|towc)|m(?:odf(?:f|l)?|em(?:set|c(?:hr|py|mp)|move)|ktime|alloc|b(?:s(?:init|towcs|rtowcs)|towc|len|r(?:towc|len))))\\b",f=function(){var c="break|case|continue|default|do|else|for|goto|if|_Pragma|return|switch|while|catch|operator|try|throw|using",o="asm|__asm__|auto|bool|_Bool|char|_Complex|double|enum|float|_Imaginary|int|int8_t|int16_t|int32_t|int64_t|long|short|signed|size_t|struct|typedef|uint8_t|uint16_t|uint32_t|uint64_t|union|unsigned|void|class|wchar_t|template|char16_t|char32_t",u="const|extern|register|restrict|static|volatile|inline|private|protected|public|friend|explicit|virtual|export|mutable|typename|constexpr|new|delete|alignas|alignof|decltype|noexcept|thread_local",d="and|and_eq|bitand|bitor|compl|not|not_eq|or|or_eq|typeid|xor|xor_eq|const_cast|dynamic_cast|reinterpret_cast|static_cast|sizeof|namespace",p="NULL|true|false|TRUE|FALSE|nullptr",m=this.$keywords=this.createKeywordMapper({"keyword.control":c,"storage.type":o,"storage.modifier":u,"keyword.operator":d,"variable.language":"this","constant.language":p},"identifier"),v=/\\(?:['"?\\abfnrtv]|[0-7]{1,3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}U[a-fA-F\d]{8}|.)/.source,x="%"+/(\d+\$)?/.source+/[#0\- +']*/.source+/[,;:_]?/.source+/((-?\d+)|\*(-?\d+\$)?)?/.source+/(\.((-?\d+)|\*(-?\d+\$)?)?)?/.source+/(hh|h|ll|l|j|t|z|q|L|vh|vl|v|hv|hl)?/.source+/(\[[^"\]]+\]|[diouxXDOUeEfFgGaACcSspn%])/.source;this.$rules={start:[{token:"comment",regex:"//$",next:"start"},{token:"comment",regex:"//",next:"singleLineComment"},a.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:"'(?:"+v+"|.)?'"},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:v},{token:"constant.language.escape",regex:x},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:'R"\\(',stateName:"rawString",next:[{token:"string.end",regex:'\\)"',next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"keyword",regex:"#\\s*(?:include|import|pragma|line|define|undef)\\b",next:"directive"},{token:"keyword",regex:"#\\s*(?:endif|if|ifdef|else|elif|ifndef)\\b"},{token:"support.function.C99.c",regex:h},{token:m,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"},{token:"keyword.operator",regex:/--|\+\+|<<=|>>=|>>>=|<>|&&|\|\||\?:|[*%\/+\-&\^|~!<>=]=?/},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],singleLineComment:[{token:"comment",regex:/\\$/,next:"singleLineComment"},{token:"comment",regex:/$/,next:"start"},{defaultToken:"comment"}],directive:[{token:"constant.other.multiline",regex:/\\/},{token:"constant.other.multiline",regex:/.*\\/},{token:"constant.other",regex:"\\s*<.+?>",next:"start"},{token:"constant.other",regex:'\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"constant.other",regex:"\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"constant.other",regex:/[^\\\/]+/,next:"start"}]},this.embedRules(a,"doc-",[a.getEndRule("start")]),this.normalizeRules()};s.inherits(f,l),i.c_cppHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,i,r){var s=t("../range").Range,a=function(){};(function(){this.checkOutdent=function(l,h){return/^\s+$/.test(l)?/^\s*\}/.test(h):!1},this.autoOutdent=function(l,h){var f=l.getLine(h),c=f.match(/^(\s*\})/);if(!c)return 0;var o=c[1].length,u=l.findMatchingBracket({row:h,column:o});if(!u||u.row==h)return 0;var d=this.$getIndent(l.getLine(u.row));l.replace(new s(h,0,h,o-1),d)},this.$getIndent=function(l){return l.match(/^\s*/)[0]}}).call(a.prototype),i.MatchingBraceOutdent=a}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,i,r){var s=t("../../lib/oop"),a=t("../../range").Range,l=t("./fold_mode").FoldMode,h=i.FoldMode=function(f){f&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+f.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+f.end)))};s.inherits(h,l),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(f,c,o){var u=f.getLine(o);if(this.singleLineBlockCommentRe.test(u)&&!this.startRegionRe.test(u)&&!this.tripleStarBlockCommentRe.test(u))return"";var d=this._getFoldWidgetBase(f,c,o);return!d&&this.startRegionRe.test(u)?"start":d},this.getFoldWidgetRange=function(f,c,o,u){var d=f.getLine(o);if(this.startRegionRe.test(d))return this.getCommentRegionBlock(f,d,o);var v=d.match(this.foldingStartMarker);if(v){var p=v.index;if(v[1])return this.openingBracketBlock(f,v[1],o,p);var m=f.getCommentFoldRange(o,p+v[0].length,1);return m&&!m.isMultiLine()&&(u?m=this.getSectionRange(f,o):c!="all"&&(m=null)),m}if(c!=="markbegin"){var v=d.match(this.foldingStopMarker);if(v){var p=v.index+v[0].length;return v[1]?this.closingBracketBlock(f,v[1],o,p):f.getCommentFoldRange(o,p,-1)}}},this.getSectionRange=function(f,c){var o=f.getLine(c),u=o.search(/\S/),d=c,p=o.length;c=c+1;for(var m=c,v=f.getLength();++c<v;){o=f.getLine(c);var x=o.search(/\S/);if(x!==-1){if(u>x)break;var w=this.getFoldWidgetRange(f,"all",c);if(w){if(w.start.row<=d)break;if(w.isMultiLine())c=w.end.row;else if(u==x)break}m=c}}return new a(d,p,m,f.getLine(m).length)},this.getCommentRegionBlock=function(f,c,o){for(var u=c.search(/\s*$/),d=f.getLength(),p=o,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++o<d;){c=f.getLine(o);var x=m.exec(c);if(!!x&&(x[1]?v--:v++,!v))break}var w=o;if(w>p)return new a(p,u,w,c.length)}}.call(h.prototype)}),ace.define("ace/mode/c_cpp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/c_cpp_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(t,i,r){var s=t("../lib/oop"),a=t("./text").Mode,l=t("./c_cpp_highlight_rules").c_cppHighlightRules,h=t("./matching_brace_outdent").MatchingBraceOutdent;t("../range").Range;var f=t("./behaviour/cstyle").CstyleBehaviour,c=t("./folding/cstyle").FoldMode,o=function(){this.HighlightRules=l,this.$outdent=new h,this.$behaviour=new f,this.foldingRules=new c};s.inherits(o,a),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(u,d,p){var m=this.$getIndent(d),v=this.getTokenizer().getLineTokens(d,u),x=v.tokens,w=v.state;if(x.length&&x[x.length-1].type=="comment")return m;if(u=="start"){var A=d.match(/^.*[\{\(\[]\s*$/);A&&(m+=p)}else if(u=="doc-start"){if(w=="start")return"";var A=d.match(/^\s*(\/?)\*/);A&&(A[1]&&(m+=" "),m+="* ")}return m},this.checkOutdent=function(u,d,p){return this.$outdent.checkOutdent(d,p)},this.autoOutdent=function(u,d,p){this.$outdent.autoOutdent(d,p)},this.$id="ace/mode/c_cpp",this.snippetFileId="ace/snippets/c_cpp"}.call(o.prototype),i.Mode=o}),ace.define("ace/mode/glsl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/c_cpp_highlight_rules"],function(t,i,r){var s=t("../lib/oop"),a=t("./c_cpp_highlight_rules").c_cppHighlightRules,l=function(){var h="attribute|const|uniform|varying|break|continue|do|for|while|if|else|in|out|inout|float|int|void|bool|true|false|lowp|mediump|highp|precision|invariant|discard|return|mat2|mat3|mat4|vec2|vec3|vec4|ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|sampler2D|samplerCube|struct",f="radians|degrees|sin|cos|tan|asin|acos|atan|pow|exp|log|exp2|log2|sqrt|inversesqrt|abs|sign|floor|ceil|fract|mod|min|max|clamp|mix|step|smoothstep|length|distance|dot|cross|normalize|faceforward|reflect|refract|matrixCompMult|lessThan|lessThanEqual|greaterThan|greaterThanEqual|equal|notEqual|any|all|not|dFdx|dFdy|fwidth|texture2D|texture2DProj|texture2DLod|texture2DProjLod|textureCube|textureCubeLod|gl_MaxVertexAttribs|gl_MaxVertexUniformVectors|gl_MaxVaryingVectors|gl_MaxVertexTextureImageUnits|gl_MaxCombinedTextureImageUnits|gl_MaxTextureImageUnits|gl_MaxFragmentUniformVectors|gl_MaxDrawBuffers|gl_DepthRangeParameters|gl_DepthRange|gl_Position|gl_PointSize|gl_FragCoord|gl_FrontFacing|gl_PointCoord|gl_FragColor|gl_FragData",c=this.createKeywordMapper({"variable.language":"this",keyword:h,"constant.language":f},"identifier");this.$rules=new a().$rules,this.$rules.start.forEach(function(o){typeof o.token=="function"&&(o.token=c)})};s.inherits(l,a),i.glslHighlightRules=l}),ace.define("ace/mode/glsl",["require","exports","module","ace/lib/oop","ace/mode/c_cpp","ace/mode/glsl_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(t,i,r){var s=t("../lib/oop"),a=t("./c_cpp").Mode,l=t("./glsl_highlight_rules").glslHighlightRules,h=t("./matching_brace_outdent").MatchingBraceOutdent;t("../range").Range;var f=t("./behaviour/cstyle").CstyleBehaviour,c=t("./folding/cstyle").FoldMode,o=function(){this.HighlightRules=l,this.$outdent=new h,this.$behaviour=new f,this.foldingRules=new c};s.inherits(o,a),function(){this.$id="ace/mode/glsl"}.call(o.prototype),i.Mode=o}),function(){ace.require(["ace/mode/glsl"],function(t){n&&(n.exports=t)})}()})(Q6);var $6={exports:{}};(function(n,e){ace.define("ace/theme/tomorrow_night_eighties.css",["require","exports","module"],function(t,i,r){r.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties.css","ace/lib/dom"],function(t,i,r){i.isDark=!0,i.cssClass="ace-tomorrow-night-eighties",i.cssText=t("./tomorrow_night_eighties.css");var s=t("../lib/dom");s.importCssString(i.cssText,i.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(t){n&&(n.exports=t)})}()})($6);const VA=[{value:"NORMAL",label:"Normal"},{value:"DARKEN",label:"Darken"},{value:"MULTIPLY",label:"Multiply"},{value:"COLOR_BURN",label:"Color burn"},{value:"LIGHTEN",label:"Lighten"},{value:"SCREEN",label:"Screen"},{value:"COLOR_DODGE",label:"Color dodge"},{value:"OVERLAY",label:"Overlay"},{value:"SOFT_LIGHT",label:"Soft light"},{value:"HARD_LIGHT",label:"Hard light"},{value:"EXCLUSION",label:"Exclusion"},{value:"HUE",label:"Hue"},{value:"SATURATION",label:"Saturation"},{value:"COLOR",label:"Color"},{value:"LUMINOSITY",label:"Luminosity"}];var q6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE+0lEQVR4AezaA+wtVxCA8WfUtm3btm3btm3btm3btm3b/ZLvJpNmcrJbt+9s8nvJzGHnf7V72qVz/fzzz+chxDvqNF2P0H6I5ta7CO27IcQHo0t+0X4cQrw48t7p+PeR5IdFiE9CJ64FaLHAZjD8PePfQYgXQ9JvVLSYd1wk+VmQ5CfTOagF+PWfF3W7hte0KCz8KArtT6LQvh5CfInWRmHcMQjx8HpGR2ttDYDQf0tdhV8TtQCfIFnoEIT4I4R4HrR4qT6IJH8WQvyJNtZtCO1D6TkUCjOgPkJhY7UA46HQfhSS/MNI8lPAsO265DfRkzoOSb/ZNYf2R4s/yM6oBWAwQsMqugshP4jORcjvjRAPjBBPrvM1Jxps8ACEeF2E+FvEWC8hme9GJAvVAjyCBhu6RGOiyz98hbfItzoXDcZtqCFRCxAabtAyCPlXUZjwBJ2t97SFRkAybn0kL/XVtJNuRWH9CRHitxDirZGMmwq1AGwOyUtrVr2GwgbmQJIfSzeqB7KbGb2lS1BY77f7/VTjIORf1LPI5kEtALek6qs+KGxgPnRpeMWNxavwdfWMTkLIT4DkJ/DxuhkhvyxCPDJCvAhqAUJicMSJEeLD0IkLH25XofBD6wgtq6VR+qltvChCvBr+wIOUa1ALkL3EkXy97KDZtJ0u0qxaHGHcoWh4s0V8PpJ+vbUukvYL0KIAk6MWgJ+FCA0zIRlwE/7AT9fP1PRm6GSEeEQk/XbUaloYhXnXRieuBSh0fEN7IuRHkxv83QW5GQ36/aQTEPKXocEDlu9RXKQWoLyBe1FoP0tD6SnNjxbr7I7fsb8xkOR30+56X7NqKtQCJC+15dBiAz2QPEa/ECE+TS9rZ4T2jTQ0Qn4plA890309pdO1PkL7C6gF+PWfJREa9kCcCMkCiyDJX6/RER+4IMR7Ihn/MpLCvI/8p3BagJ6IueyqBcgOH9UNIX8bQnyqLkKL+ZfV0UjeOm+jwTy3otA+nA5ELUDTK7nN3EVTayqtrl56FfGnsz7ReMg+3Iw3QYjHRrK/i7UzGhyfL6eD1U0ToRYgdBwIyYSf6iQUXjkDovAI7At9hZDvqp90s9ZEMs9MCPHmegbxgQ0Kh7vvoRag8B90Nxp8bb6qOfQkspcuQrwSDNM/hPHVKOxzLBTan9Dw2lRDoxbg91/N/8cI2+dCiF/X8toEDdb5ASEeEeWbqfTIrBdqARosuKm66xCUDkriA5XfVc3yoeaymgbx4ASduOkjsVoAXn4oHEjsjRAfpMV0pY7RmShsYEgU2m/EHyjczEjyCyHEe6EWICSu1WRIJpgeIT5Ka+hATYfQjxgT6yaUDknjlRyCLogWBVlIeyq9ja4FCAMeR4jXQJLfAKWjJy2jsbUSGmz8fU2I5CZtbw2ho9Bg3hFR6FAL8Lr2QYuX2lootF+r2TW/ZlT68PP3HtH5tYgeSNo3RC1A/pAzve08GskR2VFocPOztHroOw2keTUR2n1I/v7D2lqAuIAN4yMZsKAO0wloseCWuhAtxg2vG7UDkn5TI8Td0GCBWoAjtABCfnBdowc1l4bU0boRyfxjawUk7dtrLo2l6zQ6/sSX/guaFrUA4aU9PuKhJxpMOCdCPAaS+WZFYZ5ptYOG1uoo/ERfFr+3ILUAhZuHOzQOQvsBoA2FeXbAH9jHwkgKdBk6+V9GCKA36UcDAA0AAAmUgv7hm4OiAAAAAElFTkSuQmCC",J6="data:image/png;base64,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",Z6="data:image/png;base64,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",e8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAFeUlEQVR4AbXBD4zWdQHH8c/v4bjn8IAbCNSJxMEZxbAJt0S2CqGoyz84FUGiNlzrjxRFjWg2Y0ZlaU6RQpZOdDlnWZQM03I3w3AO1FvOkzJOT45hHXJXdzc478/z/J53457nd79/3+/v+d11vl7iaUxO8RibmS0D1pLD06EAHL6NSQ/zZcMAdkPspkYhXMcQvmZFsBeT/TJiliinnY9pBKsZIuiviuCDmOSokAF7RHk5vosjSTTST1ibIqigQNxrMuB6CiKdWyUWcZa4jyoAh/XEneDDiuFy+kCk0cViiem0E/cy1SphGj9kgDCXX3G+YljBWQBR3ik+omEsJ09cC2sHL85fx8OcIeoZLpEB0+himCjnJAs0gjsYje04MuIGSkSyduYrgCwtpHVIVjRSIpK8Tb0iWIpLOj+WFVnaGSbsulkkA/5AOvuUgGV0Awgbl0YZsZp0XG4mIyvq2Icr9vAuJnfKghpconI8kbtlYFP+y0Nb3J0cxXOU77OUClmwUBJ1/IWoVrKy4nXCXmGhAnDYSkCht/AUm5gqGyawh7BNSsBDBB1ksmJ4lqjTrJIdtxO0TAm4Cd/fmCwDNhLXQ41scLgX301KwEV4+qiXEbMxWSY7JtOHp5UpssKhl6KdsuIkUW9RrSS8hu/PVMmKoxQtkxVNBJ3hHmYqGW0EPcc0WdBC0VRZcQBPgfuZqXLIMEhYC9UyopOiKbIgQztFZ1mtED5BU+5FHqBBQWSJu0YGXICnQRZsxbNREbxJUZ5viXqV4NBCWIGFMmAtnttkwER+SgHPVIVQiy8vVmkEV+AS9KCM2IWng2pFcCEvELRUISwnQExXADvwPUJWRryI7y6FcBWdhDWRUQCb8Q0oih3kgROslQUZ+vC5rFEJ03iAAnE7FcDv8T2kuP65XEqFrPgAYTl+wDzq+Q6nsbldJcyiH88A9Ro95jAW9zFRkngY3xaNDccYi8Os5z48fWzSWLGOsfmjezN35B/PP84t1Or/wV5G71kmaLyQ5SCjc4a5Gk/M4CSj8Q2NN75AekfIKAkOSwevZ4ZGgTrSu1x2OCzgMOf0cLVSYyNpvYUjOxbRhSfH15UKK+glrf2yYwqthD3KDCViAtvJ4TnEtUOX5W9kL2cw2y87dhPXzT2sZJKMmM1BfM1UqoQabqWPuFdlh4vNuzzGJYrg47xD0AaFsIQuooaolhErRTKX+5muETTST9gFiuBa4j4vA+bQIcrr4ptUSBKz6CWsD0cxHCfqn2QVwft5HUQ62ySJ8zhC2Nsy4CXi7lYI8zkGINI4yfs0jMkcIOi4YlhCjrgCGzSCT/EOw0R5vSzWCCZwL74OhVDJ1+jGbIB1ksSF/BKXElHOIKsUwTY8eao0gqt5g2THeIU8ASKZy3oZcCeeKzWMGh5lDESyzTKiiv9Q9A/qcGikjTERSW6TFW14Tgz8nGbGSNjtxZEFq/G8xFRJ4kY6SXKMr7CYz/AIeQLET1h4vIoGfktYM1lZ0EAPnpUqYTaHMMvzIypVQgOH8fTKx1fJ4enlQ7JgCV14BqnUCCrYTdy/WK4QMqxxf1M4wFamK4h15Dinh0/Kgjo68bUqgl8QdoRapcenC0+ym7my4ncEvaAIKmnFt49JGl/8l6BnFMMuPHeT0XjjTwQ9rQgcnqeoCUfjj1rewNekEDL8DM9dem8whzY8LyuAKezD9yoZvTeYxymKunBUQj1/J+yLSotJ3OBu42KlxGfxXKphXEYnUd3MUxpcw785p58VSok3KXqe88hwJWcxaaZK5fA5XDydXKQUqKCDoiEayXIFpzH7NY6SMJNegtpZoLL4Hp7tGkYtz2G2Q0nYQlQ3X2KiErABF0+tSqhgFyYF1sjqf4EeE9dH0kbvAAAAAElFTkSuQmCC",t8="data:image/png;base64,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",n8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAFVElEQVR42qWZ6VMTZxyA8wHjNZ5twdKp2vGYtnYsngOtIiAh4T4EEkg4FTw4BTQUFYsOw3iNQq0zbaetU63mv3w6eyRZdt8r6TxfMvmwz7P7bt5s8gtxR8BVDlCao4yTXNJQQ5SYhCbmhRabkODNeY579A7fKPW1Cr3F9cIC6gJ6i6NUF6mPkSgkYIgyYUAph7kg0Ndp9TGaWTANuM0Rid7iS37w6S9r5Q43TQMuKvQWZ6injhpXX2+oj5E0C0hKL79DOREabCJcLkAfo9UkYIbDmvM/6eodogUEnOcM07qAKo3+ALWbAhqM9acIU8Ju0c2YD4hr9KV87dObXoPv2EKJyyGGxQFTHNToy6gOBJhcg2M5uUOY88wEA85oz/+oQK+7BlEO+/QOe2jbHNCl1ZdSJQxQXYMGyoV6h68YzQbc4gut/qBE38AYC8wyyQ2uMUyKBN100EqEUoXeWYxKZkN08L3B+Z+V6KPMkxbSrtE77AtRwidafX4D8tMu0afpMAooCbGFrewtaAPykpIGdJkGhG12KTegOmnATWlAt1HAlmxAmB18ZrwB5e+AO9KAHhM94XxAmG3sN96AHLqk+jRxE/3mAIs9hhuQw7AiIFFcQJiduaUoo4IEP5FmmnEG6aWV6KaAKUVAv4leFBBmO6f4lijTPAhwj3kmuEqSLlq5qwhImejFAft5xz88FOj9LCoCBkz04oAWMmR4bRDQQitD3BYGDBUf8NQO+MiqRr/EaSpsLtLOqG9THjbRiwKO23qLv1lWBoy7+iynqKGLMXdvGDXRiwLGcgEZXioDOn0BWawn5156TfTBgJ386Qn4lxVFwI+SgCyfCr+CNQGXPHqL36X6OY2+gpPs0p1/MOCBLyDDM0lAShtQwQm2q/X+gHI+BgLeS3aEqEFABcdzT8RCvT8gEdBbvBHop7jCOaOEQ7LVDwZs47UwIMOabzu+ziCDJKk2SiiTn//mgNMSfYa3nh1hkVFb79CU24xUdFHLXn3ArDQgw4arn2fYox+0vyMrNfoeNtjgBSOcYKs8YB/vFAEfecx9Jn1yhxS1Cn0lT+0Ah59ppkwc0KTQOzvCuFDv0CZdihmP3mGdCc6xwx/wRBOwodBbxKkS6JsD+ixr9HDICrjEbsIc0+gzrGgCBhkg4tOfZVUa4HAnZN8eQ8xpA2a0ARadnPUEjGn0G2yE3Be/CvZALx8Cd7+MPi6490Md6+YBz1nmD0XAG604RZJ+EsSJ00M7Ue7r9dmAlyzZDxFr0o/iqmTVU/TT52r9rJoGvOJ+7kFqiV+EizG/SZqUSr08MgtY56HvcXKFvwLb0IjyXMUsmwU8Ej7TPuO9J+BRAdo8S2YBsuf6e7xx9b/RV1RA2iBgLaT4aZHmMW/5wHhR+jgLWv0zFtUBaRa5W6Q+zqxG/9L63akLSDNRdMCUUv+Ke9bx9QEjRGmhi96CA24p9OssO8fXB3TkZgP1NNFOj3HAuCJgJXt8XcBdaoUzklauaANGpWs/z2T2p32IScX/PGmuKydlEZrpkC7OkED+gmmaidh/+7WRYCRkv2wlzggTgpS4dmCXHdwEr0kyIJ+kyZZ7CPneyKYsuAFRo4D8/KyBZjrda9LNE88n/iaNfrkoIE8LcQYK0nuJ0kiMNh6wznOmiMk88gCL+iL1+WlSI7fdadwY/bTb06YCAi7/T73FiG8qe4MBOomaBdQVLK8JzNKuCKdlC9xiiG4aQ0wxStz9aGymmiOBQaVOHwmMLRqZkw9uvUOrGcbooy23SlWUU8rnnC9AL56fXDMLyDLHDZJU5kaYBzhtqJfNj3pVAf8B6ybsoKgg7kcAAAAASUVORK5CYII=",i8="data:image/png;base64,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",r8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAFA0lEQVR4Ae3BWYwcBAEG4H+mu+7W1pZeUtAaDiOH9KAlyBWR2lgNWS1WGkUkHEqAlCLiA0ZQqglHkUBtYqjBRFKrNhAjQiGiiCKXCiQWEA/iAwrKIQVKW0p35zOz29mZnd3ZnZlu5MXvSz1P4b68dXzaz3w0/9fPYebmraPba3Y7PE0xxUKzMp5Ms1OfBRmToi/bhl0uzhhMNSXNcrgjMybdNqvoszQNONgVtigpecgxaZdJvuVJdztNMUl02qTWP0xKEgf6iiMzyMe9oWqXFWmHTr9R8W1FE3xfvZ4kcQueyCB/NVSvDc73/rg8LXCNWmtcpaTeN5PEAjfqySB/NqK4MzVMdUAaMtlOVTud74t61VuTEfiY19Uq6RcHZZBpnldychpwkKrnHJUouEifoVZkRN7pLD90r82u9mEzHGO1q1LLHLuxLA0o+oOykh+YkT1cr1avmWmfE52rmIZMtcpqH0gNR6hVsm/Gl6kOyCgUvKLWRzK+POZN+2cUXlTrd2akPfa13iafVEwN69ymK6Ow1VBPmZnWmehJA65NS7yq3uVpndNU9FmUptlPSb11aZ2LVV2Vpukx3LK0zlx9Km5P05yn3m8V0w4bVNyXpjnHUDsckvZ4hwcNuCRNc4KhVqV9JvqqO12mIyNSzDA6/EvVbYoZkaKzbbQ87XOlN/zC9NRxqQFvuE5XRqTbrcr6HJb26LBb2QNmZwgFn/Aly81KA7rcpaIn7fKoAS+7SEdGpcsNVmYP61RsNzPt8l5/V/GQWRmFo7HbpCTxNjtUXJu94SRV9+lMQ4pWWZ5+ip4x4D9mZO94UNU9PmdamqDHDmzXk73lKK+r9bxD0wT7O9msjEan+c5znQtNzigcbK1HbVdxS/aWSc6y2TYVj3p7xmAfvzfgTQvTPrNd4SX1vpMx2c9DBrzqL5620Zy0Tq+R7DI7Y9LhVBu8puJPJqRpOn3d09HI6UmiYL7r/cQVJqYBp6qam6a5FKKRzybmuFvJgO+mAUtVnZSmWQMxsk26EhtUPZsGLFH1hTTNdJvsiiVuV1LrMScrJImbVD2eBhynam1aoitlFlrrfn/0c6udoJg9HKtPxc1pwIGqNqYBU1zgDvc7O61wswElJ6YBE2xVcW1GYKZrvKJicZpnugdQsiaj8LiK4zOMxV5Ua01aoWCBQzMqDxhwb4bxHtsMdUPGm18bsDjDWK3e1RlvfqTsaYUM48fq/TLjzbF244KMwHr1dupOq1zgGwppyDwfzIicYbiFaZV/491pg8leUu+MNOYUt1ieOj7lawppi7PVW5EqN+nMIHP1YafujCMr9araZlr6mejm2O1dGeTzyrbqSIt0mJiGnOgRFWuzh7lKMS81nKJsZVrgCBs9Y5teD5uXBhTMd6aVTteVQY7LUM7FE4ppmiW2q3rB9LRPwRa8qjtjsMjp9knM84qhzsuoTLcojejWp+z41NHpFMt0pJ/F+vCcHg+rtyqjslmf5WnEI8rmZwgFtym7Mf1cqGyrRT5ju1olR2RUnsFlacQhvueS1LHMgOfTzyTr/NRxSeJ4z6q6K2Ow1GpT0gqLPGfAvRmByc603q22eNnRGV/2c4c+ZSW/MiejMMESSxUynmw24B4HZUwuVbJeIePH48peMDtNcKWyBalhloVpn3P0+qcPpSkO86y/mZYa7lHyvrTPPjrSNAWFDGGZ63Wlec60xYr8z/wX8V+MLFahAT0AAAAASUVORK5CYII=",s8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABd1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8nBBy9AAAAfXRSTlMAAQQCAwoFDgYLCAkQDRcPFAwHGjEnKCEmGRsSNiAVETI6OBglNDUiKhNIHRw+MzAsPS0vIzwWQFFJKR5DH0tGOURoVU5BVkJdTy5SJCtfRTdNP0xaO1h4Y1tqaUpHZG5lUG1id2dUYFNmlHVedJJzcINccldhWXF2gmudfZIjv8kAAAYZSURBVHhejdJVb+vqFkbhMc0UZoamKTIzMyxm3giHmX/82XacJk3bpT5XU3rlIV98dOhZepoAGoDVFqLDsOkBkQmvVBSg0kB7AWDbdOmj9DwBMABiZcE7gQ8mYDXeXlTwNR7vjACUor3AFT1tgJQBPL8E7Yf12X0FEHOoatBHWisRB8DSifQH6gDpg3R6dU8Bqo/38tzFO/7N698Cakuntk5PWgBrcmEmKnSlsjF8qgCqq9uR6uijPzQAlJfnUMjQU1cQbjK+3RxSAamUkMzJcLvx8dVPPy8DjH/Z1WAjT8+ojq1wg3OoEFA09LJDHw1fpUVP3sOLcIM1DKXHC7vZIMJtG9n+QA2vxA3GFTRrKHUA4bb4Lj0ZD29sIDALMwWsewMcHq2cHK07+NZjJEa4QVoR3PbCcPRGQNXNOD1iLqy2FWAhhsxVuEEfdfG5gqESkPzbv/7x99xUPlNgzgO33IpGCx7XRPAJeqVzKU9/l4nZOgOybyZS3zqAWLo9tFMFqbTb85O20GHtzROY2rboibzc2WkmACpvPu/R5dYw1ubi8dTI5ZiGz8g0lc5x6tJTez8bHWq8T9BVzbdGKlEQtAIBUQFEU4TA1hw+ITA+D7C7ROjdp3RrJHc+D6Bxp/NZ4PBkHJ8cuADRQ0KvJ/FNAwh3msmA9ooOOXYAqt8QWp3Cl+Z+03mQF4R+jgJkx+kaXx0DY/7+P1AOhoC3u3UCI+9NkaF3Y1yLHRzvvbj57kTVNE2xXDMeHdp4/lgAa6iO5kyWTQqn3715VYVqQTeUpCuAFkvSF1ieLUYcR69N5hfS08P1DeGaxJ7aiKIIPMk6QTgXIaBcv8DialwLewNsHdwlAlt1OqwndmcUws9mxxA9EknYycFCdnwRFsNbATQNSGTwxVUsfEpKZDpVKsWL+eHmdH5ky+RacVunJvi2AJKWAHk12FRcfEYCd4iOZGE0Xf5xkWszJraKLwWiggAtBWBD0PEpSRImfewdrp2bJDqBIogGAuQNgK17A94RXeaOjSn4CgJKQhegHgOYRYvic2zMCCF3Y3T60xihZ/tpIU6gYAKqCpB/mq3k2hXUsg0wUSPuElAfn9XzIyZd63EVp0rAKut0GcmkpQLFV1XFaK9Z5ASfbJcZpOUUOtxcRBUxkvQpfnj6/JkJowSK0wxS0xN0ieNYyVpjAqSQy414XFPKBF4aDDC30wwwimhL24uLzf0UXfGFzjTHgG++ZAXgl+92uGaRKCeB6C8WoVwOnz3D3eJNLrJ0qehFfI9qhPIT+GJX3E32Vo60/kCqEygRam3g87I8hEFkXgDzXZLQeicQ3eIhTKznm15s/U91uoaH8F2aYC1XJky+agvia6enFzmVrnEbX1NIHjza+fhi2+ErysIA94egZa9AM1ifnAldzmK9MTU3l46qhLY1Bhym8Y1O4g53xtUUIf3zn3+cS5/PrLx+2i28cOixlqNX+0cEloTlOIHlKULjfzEION93o6c212KnSy/nTTqmIBVu2iahfZvQWpqOR32BqTw9S5By6NgUfIXmW7qGLwioXyyuVY/L0+WK3ArIieBbXVLocp6vzRej0czaNP0MN9f4WwzfpspQ58Kb4g5qfDGTKRrcov9dBchmsUclqB5O8mC9l6g2FNLPbDDPpoU7iOHqup4wvVqpVBqrpnKZ0fVMvlUVYjl8pS3UkZO1DyvLwMTm+Dj9rJm1ZvbyMj//5Gj74uD44GyvnJms1mJjc+eiRghMGIAIII0FVzHo47xZjQl3UT0hXJJRQpkZBmQ+cR8BSK3+w4Cc0DHlMqCxy1dteuksVDQ6VjQG7L7kq6bG6iOQuz8w+TrGPSyAXObIgUWlGxAGyOyjdiGh63akVFicrbeHF1qFmKNoqrbcwvfPMyBrE9CfcVtyzEwqimE5iYjPNCOOIr8yFPGEjstJAulRHg4tUyIU2xMA9SeX26QWLXmeV4ovFwqpYjFViMY9M5GI1AoxuuS4AvBxijssNeNJTVMUy3HtxK903UlahqEIfTKfdUj9y+a26jc8gPP9IfLvhnBbbpcHUPb/g/nfK+4w8YwHiP9vBvYvNAL/B1VpocY74+qtAAAAAElFTkSuQmCC",o8="data:image/png;base64,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",a8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACrFBMVEX///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8PCyJWAAAA43RSTlMIBgkHBQoMBAsDAg0ODxABFBITERUXIRgcHhkdGxYiGiMkKyAlOB8oKUVBJ1M+LSY8MCoyPUhGTABZSUs1OV1HLE9WTT9CVFUzYGY3Q2wxOkA0XjZYSjtXLmdqXFtSWi9jZFBiUXh6fUSIdXJvbU63h19/bnmqe4Rwa418dGmX/pt2/WFlgKuBvbqpkoVxaImOi4Jzlo+ou5x+tIyfrYaKlL+n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",l8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABBVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////85QWmiAAAAV3RSTlMAAQIMAwQIEAYKFAsJGAcTBRESDg8NFxsVFh8cGR4aJh0wSiAnLTMrKig5N0kpJTJCUS8hIz89Ikc+UE1WPERXQy5FLEwxdjV6X0s7ZEA6bomRjmd4WmzFFc/lAAAFQklEQVR4Xq2W1XLsOBCGLYttWWY6HggzHGSGZcb3f5RtyXbswSRV+1Uuksnob1B3q52BCIdBOX1gaGY1F/CRSoKygb+n5cRLBUIycrZA/aSYNc102jRlUGVGgFkBoBVwfLZNwNU49uoAKOoqySkIaF60As2kSjVy8hqTLQpIMB8DOYCl+SZJvUm5M53ulJMqY66j5y+vM+FaSKRyvSKHDISQSIDDAONeMAGCOswkRUh9eRxwKQCWBvNX5wnd6I3bOYV5AsRxhn3tjsxAyPLJz+9T5zaIZkopKSE41XqFqAAoqNEX/zbO7SDAjbTEfitAmQ8wAQr5o13njhChMG4FhMSANAn0P17fVcCNGMZ6ReDhkXNXXMGYQO1vmjEdmfyne9cb417zGSFodAuA2H99uGhEpnEShlWzH2K6QZkIDQ4o5fP6xbtHP02dAR0cP7x4vXdx8eaHb/ceh2h9MrG38/T08vL40/mPX18+m8eDgGh+efNpp+Kcx8VpU6Vk7XUCqMclIpeDAD78NVBuX4dC0z4wYqCRYEr6A8r2AYoGfX40VWNfWwFENTNIH6fcJMjrSLg0JsggEB8FdJxR2t8eYG4+5RzOFUGHF+NoSeC7BQE0FlA+xjnn4TYBN3g+ZWMPSF/D2mBjyGwQliROlTk82MRHH3ZjNPJgSH6bfsijZuoG20xU9TZpcv7954KhO/WmhVBZnVzWovM3f/LsOhG3nEdmimVJ4nlVVTQH35wd12AyighxEaKpJLfZtiW00jBhyFNJbdD3BLk0osiZTQIv0/c73dUxU5JRpyxnBWf3EqAWbcpLCiNQc+bcA5dabH0q4QRFlfj0Pv5TAWjbHyaEPJfCvZd9OGoKySAWin/7OUKFTTWJ7EjSWkTURQvtSwC3Y1Ut4vOP+xiNanHFNcEkzlt8Fi1LIHzyYTdbER6iRxHDPPEqS8J94SyjC+ka+72TVmz0NSGz0INGh6c4qMOUrWYW2aEMyTdIJQhaFjDrRQmFEUBxKnfjA8UNOQaF/1PAbgJGYFaWEyMgyYYqkHaFwVgyCiEMNUwY5mFVFCYHRe1lQ3Uiy81I0F0d2Q0B4Zt3jghmBnds15GYp1LcHDFQ0ssNdwDQymlmRdi5a3qU0BYhaL94KQMDe2uQX5zKC7laV8adCYlTAPtsXcOR4K0JYVvracwhLki6jNa8+v7j327rPZVy85rxzC5I7lIc3uff+x53Nwt4QNwKkKW7nT36ow8GbfEA6D1YEgj2/tzqP/xoP82AtN0yl82o07+GAb8CDWMXbFIKVbApRF1CWJTlPAcDS0RP3x7iW1cvZKtHx/Pn70+qcYBEzna/yYm5ZdJChYEMK86CDpu++/rwKWfU/psKvrt7WBO7Eyp/EdmilBaUoLHJ8MH+jGP4AuY7Z3/v1SYooiXugGRy0ys9nKdYMjFOmvKhaJIk9JqTV//MZTvnfGzJORCbmqoKS+15IUioxWGhMDZm6unxxVSsCoTjJakwi1YuF4eFsZdD7e2c7D2wApTJmwg6D4qO2gvjDMvFN0szJaX0s3r/7MpH7YakZAvkLzdFxeMWnuVmKi0/P4ZIyHh2UAs0DBALWcJdVxctZjx5YeLriBA0ZvMRtKLkUq2yJDPJNzcTlFdHz86enx9enh7Mr64ODk6P50+m+zuOUsq+lMYjZws3m/YQEI00zpwUMDOaLXQM2tTekVCqq0QmqDHKDSBhFWh/H5SuU0BC4iyOu1XVViJ1Qm7AGATtsX6JIevsaz/jXk8CCoq1HmQYj2NAZP0AcIVvR6QFLOeY6f8AKSBklDLQjKQAAAAASUVORK5CYII=",c8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAC90lEQVR42u2YTUhUURTHTzQhgkhCEo05PBQxMBJpFbPMCFq0ESNoYbVpEUkSBInYF0ZI9AEuYghauGjRegoqkIEWLWwRZaSUg0EhCkVIIUL+W3TemTv33vfm475Fwb2rx/n4wbv3nPPu+xMpC0dwhbSFCfxda+hmSwZf2JZHkxZdK6FA8QsjCNcZxboPK2ydJkdCfHIH1jn5tuYZEuywG4GQjUwOZKNeIGV4r7FvoypCIYpAWEZgTW5FkZPn9ZPmiEfsdyIQgAW0W5xPObloxxOhGW85xoFAAIDn2KK5xuWMD8accDeWOKpuAnHQzTLzCUker1DjffjpRiAJPCuWLDbZdtWIHtSLCaccCbgu1XxAq9yH1p6+Y1hrIZy3EFDg8M8IkMJ7KR19yu1hzzFKloA03kk1P+CnVXQYPR021Q/spWQJymwO14CW3IA5xVtEJyVLwH78UtyXjE2+r+EX0UrJEjAsrltG8mRp8mM1/BIaUXGEy1UQkAMAvDYa7aT6XuiXFhujZAloRB5FZLTkLqxx+ARbLghukJIloFmf2shI5c6Uhi2mpJr7yY3wu9KcnOXAJbSV2fPSbLvdCITGmOQbMuN6jU/tIvtm3QiEXGRyWLmbOGrxduIb+6shDEQRCMCoNfm4FMpoBP6wVLMDgfTroozNsHLvxWzwmO3CWRuBuJp7yszb5YQ/oSW2xO5KP9RJIJnNaWVqv5LKDSrUeEq+hHUSSKnmBm1qfzV6eifm0BfTD/UQ0IXvHD6lneshLXkrFgAs6VtaE2HeQsC5UrWiFxuRl6nwF+uJcQF1JSizOXyXx0byReVTOml4XQkym8PK3aH5S9fMqLdzI2AbXiq3lTYtuUfuO28kaohqIQQVCQiwHDG1d8n37APaMc3PK5Y7nxsBWawDGDE295n6i4Um5YeshZIleIHCCxReoPAChRcovEDhBQovUHiBwjInZyoKFGk3ghco/hGB4nSMvJCrSqCom+AFCi9QeIHivxMoPjoLFBrhDzVtyQnrtAjLAAAAAElFTkSuQmCC",u8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAABHElEQVR42u2YMQrCQBRE9wQ5gCJ4AVs7IRfQWvACgljaby14AY8g2ItNTpAyTUAsBcHSRpCxsNKdhf1VtpidMo/hQUL28x0cSQVgT5/8pgQA9BLIaKOTgAQkgD4JwwvCzaiAqdEhdv5xHyX/BUyNmQhsUQYZEvxOuDJ4r5bG2xdfJHxGHkCbwNkaGwlIQAIcP6AN8iACE8K1psaIQBX5l7X0MmIntbFx8PAYEbyGD7KmAjtCpjauNA9IQAIZCOxJrgSfEu5IBUyNmcyEF1RB1gR/E65CQQSSG3UdS0ACmQrMsQlyJgIDwm1MjTnMhJ0L6DqWgAQ6FxiT1ATvE25JBUyNWlRqUSkBCUiA4yc8g7zoovJJYmnUolKLSvcBbZ/HlcvF8HgAAAAASUVORK5CYII=";const h8="data:image/png;base64",$T=[{value:"random",thumbnail:q6,label:"Random",options:{size:1/2048,amount:.25,rotation:0,vignette:0,multicolor:!1,randomRotation:!1,randomOpacity:!0,image:h8,shape:"square"}},{value:"perlin",thumbnail:J6,label:"Perlin",options:{size:.25,octaves:1,phase:0,gain:.4,lacunarity:1,factor:1}},{value:"perlinContour",thumbnail:Z6,label:"Perlin (Contour)",options:{size:.75,octaves:1,phase:0,gain:.4,lacunarity:1,factor:1,width:.1}},{value:"perlinWarp",thumbnail:e8,label:"Perlin (Warp)",options:{size:.25,phase:0,factor:0,strength:-.6}},{value:"voronoi",thumbnail:t8,label:"Voronoi",options:{size:.25,octaves:1,phase:0,gain:1.2,lacunarity:1,jitter:1,factor:0}},{value:"voronoiFlat",thumbnail:n8,label:"Voronoi (Flat)",options:{size:.25,octaves:1,phase:0,gain:1.2,lacunarity:1,jitter:1,factor:0}},{value:"cellular",thumbnail:i8,label:"Cellular",options:{size:.25,octaves:1,phase:0,gain:1.2,lacunarity:1,jitter:1}},{value:"metaBalls",thumbnail:r8,label:"Metaballs",options:{size:.25,octaves:1,phase:0,gain:1.2,lacunarity:1,jitter:1,width:.1}},{value:"wave",thumbnail:c8,label:"Waves",options:{size:.25,smoothness:0,gain:.75,interpolate:0,width:.25}},{value:"stairs",thumbnail:u8,label:"Stairs",options:{size:.25,smoothness:0,distance:0,width:.25}},{value:"randomLines",thumbnail:s8,label:"Random lines",options:{size:.25,phase:0,smoothness:.1,width:.1,jitter:1,count:1}},{value:"value",thumbnail:o8,label:"Value",options:{size:.25,octaves:1,phase:0,gain:1.2,lacunarity:1,factor:0}},{value:"valueGrid",thumbnail:a8,label:"Value (Grid)",options:{size:.25,octaves:1,phase:0,gain:1.2,lacunarity:1}},{value:"valueMulti",thumbnail:l8,label:"Value (Multi)",options:{size:.25,octaves:1,phase:0,lacunarity:1}}];const qT=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)),rv=n=>(n=n.trim(),n.charAt(0).toUpperCase()+n.slice(1));function Tr(n){let{value:e,max:t,min:i,step:r,disabled:s,showLabels:a=!1,units:l,name:h,transform:f=R=>R}=n;const[c,o]=ie.exports.useState(!1),[u,d]=ie.exports.useState(!1),p=ie.exports.useRef(null),m=ie.exports.useRef(null),v=n.label||n.name.replace(/u_/,"").replace(/_/," "),x=(R,b,_=0)=>{let S=(R-_)/(b-_);return{["--percent"]:S,["--value"]:R}},w=R=>{e=Number(R.target.value),n.onInput(R)},A=()=>{let R=f(e);return R=R.toFixed(2).replace(/\.0+$/,""),n.tip&&(R=n.tip),R},M=R=>{let _=R.target.valueAsNumber/f(t)*t;_=_>t?t:_<i?i:_,n.onInput({target:{value:_,name:h}})},C=R=>{R.preventDefault(),o(!0)},E=R=>{};return ie.exports.useEffect(()=>{c&&(p.current?.focus(),p.current?.select())},[c]),ie.exports.useEffect(()=>{u?document.addEventListener("keypress",E):document.removeEventListener("keypress",E)},[u]),Q.createElement("div",{className:`field field--horizontal ${s?"disabled":""}`},n.before,Q.createElement("label",null,rv(v)),Q.createElement("div",{className:`range ${c?"range--editing":""} ${a?"range--show-labels":""}`,onDoubleClickCapture:C},Q.createElement("input",{type:"range",style:x(e,t,i),...n,onFocus:R=>d(!0),onBlur:R=>d(!1),onInput:w,onClick:R=>R.preventDefault()}),Q.createElement("div",{className:"range-number-tip"},Q.createElement("span",{className:"range-number-value",ref:m},A()),Q.createElement("input",{ref:p,type:"number",className:"range-number-input",min:i,max:t,step:r,onInput:M,defaultValue:A(),onFocus:R=>R.target.select(),onBlur:()=>o(!1)}),Q.createElement("span",{className:"range-number-units"},l||n["data-units"]))),n.after)}const x1="data:image/png;base64";function JT(n){const[e,t]=ie.exports.useState(n.value),i=n.label||n.name.replace("u_","");async function r(c){return new Promise((o,u)=>{const d=new Blob([new Uint8Array(c)],{type:"image/png"}),p=new FileReader;p.onloadend=()=>o(p.result),p.readAsDataURL(d)})}function s(){t(x1),n.onInput({target:{name:n.name,type:"image",value:x1}})}const a=c=>{t(c);let o=new Image;o.src=c,n.onInput({target:{name:n.name,type:"image",value:c}})},l=()=>e===x1,h=()=>{An.run(async()=>new Promise(async(c,o)=>{figma.currentPage.selection,scene.choosingLayer=!0,figma.notify("Choose a Figma layer",{timeout:1500});let u=async()=>{let d=figma.currentPage.selection[0];if(d){let p=await d.exportAsync({format:"PNG",constraint:{type:"WIDTH",value:Math.floor(Math.min(1024,d.width))}}),m=Array.from(p);figma.off("selectionchange",u),figma.currentPage.selection=[],c({imageBytes:m})}};figma.on("selectionchange",u)}),async c=>{let o=await r(c.imageBytes);a(o),An.run(()=>{scene.choosingLayer=!1,figma.notify("Added your image")},()=>{})})};let f;return n.content&&(f=ie.exports.cloneElement(n.content,{onClick:h})),f||Q.createElement("div",{className:`field field--horizontal field--image ${n.disabled?"disabled":""}`},n.before,Q.createElement("label",null,rv(i)),l()&&Q.createElement("button",{className:"button button--small button--secondary",onClick:h},"Choose layer"),!l()&&[Q.createElement("img",{src:e}),Q.createElement("button",{className:"button button--small button--secondary",onClick:s},"Remove")])}function ia(){return(ia=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function Qf(n,e){if(n==null)return{};var t,i,r={},s=Object.keys(n);for(i=0;i<s.length;i++)e.indexOf(t=s[i])>=0||(r[t]=n[t]);return r}function wf(n){var e=ie.exports.useRef(n),t=ie.exports.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var Zc=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Ph=function(n){return"touches"in n},px=function(n){return n&&n.ownerDocument.defaultView||self},GA=function(n,e,t){var i=n.getBoundingClientRect(),r=Ph(e)?function(s,a){for(var l=0;l<s.length;l++)if(s[l].identifier===a)return s[l];return s[0]}(e.touches,t):e;return{left:Zc((r.pageX-(i.left+px(n).pageXOffset))/i.width),top:Zc((r.pageY-(i.top+px(n).pageYOffset))/i.height)}},KA=function(n){!Ph(n)&&n.preventDefault()},vS=Q.memo(function(n){var e=n.onMove,t=n.onKey,i=Qf(n,["onMove","onKey"]),r=ie.exports.useRef(null),s=wf(e),a=wf(t),l=ie.exports.useRef(null),h=ie.exports.useRef(!1),f=ie.exports.useMemo(function(){var d=function(v){KA(v),(Ph(v)?v.touches.length>0:v.buttons>0)&&r.current?s(GA(r.current,v,l.current)):m(!1)},p=function(){return m(!1)};function m(v){var x=h.current,w=px(r.current),A=v?w.addEventListener:w.removeEventListener;A(x?"touchmove":"mousemove",d),A(x?"touchend":"mouseup",p)}return[function(v){var x=v.nativeEvent,w=r.current;if(w&&(KA(x),!function(M,C){return C&&!Ph(M)}(x,h.current)&&w)){if(Ph(x)){h.current=!0;var A=x.changedTouches||[];A.length&&(l.current=A[0].identifier)}w.focus(),s(GA(w,x,l.current)),m(!0)}},function(v){var x=v.which||v.keyCode;x<37||x>40||(v.preventDefault(),a({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},m]},[a,s]),c=f[0],o=f[1],u=f[2];return ie.exports.useEffect(function(){return u},[u]),Q.createElement("div",ia({},i,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:r,onKeyDown:o,tabIndex:0,role:"slider"}))}),$f=function(n){return n.filter(Boolean).join(" ")},yS=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,s=$f(["react-colorful__pointer",n.className]);return Q.createElement("div",{className:s,style:{top:100*r+"%",left:100*t+"%"}},Q.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ei=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},ZT=function(n){return p8(mx(n))},mx=function(n){return n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?ei(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?ei(parseInt(n.substring(6,8),16)/255,2):1}},e4=function(n){return d8(f8(n))},t4=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:ei(n.h),s:ei(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:ei(r/2),a:ei(i,2)}},gx=function(n){var e=t4(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},w1=function(n){var e=t4(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},f8=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),a=i*(1-t),l=i*(1-(e-s)*t),h=i*(1-(1-e+s)*t),f=s%6;return{r:ei(255*[i,l,a,a,h,i][f]),g:ei(255*[h,i,i,l,a,a][f]),b:ei(255*[a,a,h,i,i,l][f]),a:ei(r,2)}},Gp=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},d8=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=r<1?Gp(ei(255*r)):"";return"#"+Gp(e)+Gp(t)+Gp(i)+s},p8=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),a=s-Math.min(e,t,i),l=a?s===e?(t-i)/a:s===t?2+(i-e)/a:4+(e-t)/a:0;return{h:ei(60*(l<0?l+6:l)),s:ei(s?a/s*100:0),v:ei(s/255*100),a:r}},n4=Q.memo(function(n){var e=n.hue,t=n.onChange,i=$f(["react-colorful__hue",n.className]);return Q.createElement("div",{className:i},Q.createElement(vS,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:Zc(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":ei(e),"aria-valuemax":"360","aria-valuemin":"0"},Q.createElement(yS,{className:"react-colorful__hue-pointer",left:e/360,color:gx({h:e,s:100,v:100,a:1})})))}),i4=Q.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:gx({h:e.h,s:100,v:100,a:1})};return Q.createElement("div",{className:"react-colorful__saturation",style:i},Q.createElement(vS,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:Zc(e.s+100*r.left,0,100),v:Zc(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ei(e.s)+"%, Brightness "+ei(e.v)+"%"},Q.createElement(yS,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:gx(e)})))}),r4=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0},s4=function(n,e){return n.toLowerCase()===e.toLowerCase()||r4(mx(n),mx(e))};function o4(n,e,t){var i=wf(t),r=ie.exports.useState(function(){return n.toHsva(e)}),s=r[0],a=r[1],l=ie.exports.useRef({color:e,hsva:s});ie.exports.useEffect(function(){if(!n.equal(e,l.current.color)){var f=n.toHsva(e);l.current={hsva:f,color:e},a(f)}},[e,n]),ie.exports.useEffect(function(){var f;r4(s,l.current.hsva)||n.equal(f=n.fromHsva(s),l.current.color)||(l.current={hsva:s,color:f},i(f))},[s,n,i]);var h=ie.exports.useCallback(function(f){a(function(c){return Object.assign({},c,f)})},[]);return[s,h]}var m8=typeof window<"u"?ie.exports.useLayoutEffect:ie.exports.useEffect,g8=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},jA=new Map,a4=function(n){m8(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!jA.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,jA.set(e,t);var i=g8();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},v8=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,a=Qf(n,["className","colorModel","color","onChange"]),l=ie.exports.useRef(null);a4(l);var h=o4(t,r,s),f=h[0],c=h[1],o=$f(["react-colorful",e]);return Q.createElement("div",ia({},a,{ref:l,className:o}),Q.createElement(i4,{hsva:f,onChange:c}),Q.createElement(n4,{hue:f.h,onChange:c,className:"react-colorful__last-control"}))},y8={defaultColor:"000",toHsva:ZT,fromHsva:function(n){return e4({h:n.h,s:n.s,v:n.v,a:1})},equal:s4},x8=function(n){return Q.createElement(v8,ia({},n,{colorModel:y8}))},w8=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+w1(Object.assign({},t,{a:0}))+", "+w1(Object.assign({},t,{a:1}))+")"},s=$f(["react-colorful__alpha",e]),a=ei(100*t.a);return Q.createElement("div",{className:s},Q.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),Q.createElement(vS,{onMove:function(l){i({a:l.left})},onKey:function(l){i({a:Zc(t.a+l.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},Q.createElement(yS,{className:"react-colorful__alpha-pointer",left:t.a,color:w1(t)})))},S8=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,a=Qf(n,["className","colorModel","color","onChange"]),l=ie.exports.useRef(null);a4(l);var h=o4(t,r,s),f=h[0],c=h[1],o=$f(["react-colorful",e]);return Q.createElement("div",ia({},a,{ref:l,className:o}),Q.createElement(i4,{hsva:f,onChange:c}),Q.createElement(n4,{hue:f.h,onChange:c}),Q.createElement(w8,{hsva:f,onChange:c,className:"react-colorful__last-control"}))},_8={defaultColor:"0001",toHsva:ZT,fromHsva:e4,equal:s4},b8=function(n){return Q.createElement(S8,ia({},n,{colorModel:_8}))},A8=/^#?([0-9A-F]{3,8})$/i,C8=function(n){var e=n.color,t=e===void 0?"":e,i=n.onChange,r=n.onBlur,s=n.escape,a=n.validate,l=n.format,h=n.process,f=Qf(n,["color","onChange","onBlur","escape","validate","format","process"]),c=ie.exports.useState(function(){return s(t)}),o=c[0],u=c[1],d=wf(i),p=wf(r),m=ie.exports.useCallback(function(x){var w=s(x.target.value);u(w),a(w)&&d(h?h(w):w)},[s,h,a,d]),v=ie.exports.useCallback(function(x){a(x.target.value)||u(s(t)),p(x)},[t,s,a,p]);return ie.exports.useEffect(function(){u(s(t))},[t,s]),Q.createElement("input",ia({},f,{value:l?l(o):o,spellCheck:"false",onChange:m,onBlur:v}))},YA=function(n){return"#"+n},XA=function(n){var e=n.prefixed,t=n.alpha,i=Qf(n,["prefixed","alpha"]),r=ie.exports.useCallback(function(a){return a.replace(/([^0-9A-F]+)/gi,"").substring(0,t?8:6)},[t]),s=ie.exports.useCallback(function(a){return function(l,h){var f=A8.exec(l),c=f?f[1].length:0;return c===3||c===6||!!h&&c===4||!!h&&c===8}(a,t)},[t]);return Q.createElement(C8,ia({},i,{escape:r,format:e?YA:void 0,process:YA,validate:s}))};const xS=(n,e)=>{ie.exports.useEffect(()=>{let t=!1,i=!1;const r=l=>{t||!i||!n.current||n.current.contains(l.target)||e(l)},s=l=>{i=n.current,t=n.current&&n.current.contains(l.target)},a=l=>{l.keyCode===27&&e(l)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),document.addEventListener("keydown",a),document.addEventListener("click",r),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s),document.removeEventListener("keydown",a),document.removeEventListener("click",r)}},[n,e])};function QA(n){let{color:e,onChange:t,alpha:i=!0}=n;const r=ie.exports.useRef(),s=ie.exports.useRef(),[a,l]=ie.exports.useState(!1),[h,f]=ie.exports.useState({}),c=ie.exports.useCallback(()=>l(!1),[]);function o(){return e.substring(0,7)}return xS(r,c),ie.exports.useLayoutEffect(()=>{if(a&&s.current){let u=s.current.getBoundingClientRect(),d=r.current.getBoundingClientRect(),m=document.documentElement.getBoundingClientRect().width-8-(u.left+d.width),v={position:"fixed"},x=16,w=u.top-d.height;w<x&&(w=u.top+u.height+x),v.top=w,v.left=u.left-4+(m<0?m:0),f(v)}},[a]),ie.exports.useEffect(()=>{window.removeEventListener("blur",c),window.addEventListener("blur",c)},[]),Q.createElement("div",{className:"picker",ref:s},Q.createElement("div",{className:"swatch",title:"Choose a color",onClick:()=>l(!0)},Q.createElement("div",{className:"swatch-color-opaque",style:{backgroundColor:o()}}),Q.createElement("div",{className:"swatch-color",style:{backgroundColor:e}})),a&&su.createPortal(Q.createElement("div",{className:"popover color-picker",ref:r,style:h},i===!0&&Q.createElement(b8,{color:e,onChange:t}),i===!1&&Q.createElement(x8,{color:e,onChange:t}),n.children),document.getElementById("root")))}function vx(n){let{value:e,disabled:t,alpha:i=!0}=n;const r=n.label||n.name.replace(/u_/,"").replace(/_/," "),s=a=>{n.onInput({target:{name:n.name,type:"color",value:a}})};return Q.createElement("div",{className:`field field--horizontal field--color ${t?"disabled":""}`},n.before,Q.createElement("label",null,rv(r)),Q.createElement("label",{className:"color"},Array.isArray(e)&&Q.createElement(Q.Fragment,null,e.map((a,l)=>Q.createElement(QA,{color:a,alpha:i,onChange:h=>{e[l]=h,s(e)}},Q.createElement(XA,{color:a,alpha:i,prefixed:!0,type:"text",onChange:h=>{e[l]=h,s(e)}})))),e.constructor.name==="String"&&Q.createElement(Q.Fragment,null,Q.createElement(QA,{color:e,alpha:i,onChange:s}),Q.createElement(XA,{color:e,alpha:i,prefixed:!0,type:"text",onChange:s}))),n.after)}function vm(n){let{checked:e,disabled:t,name:i}=n;const r=n.label||n.name.replace(/u_/,"").replace(/_/," "),s=a=>{a.target.valueAsNumber,n.onChange(a)};return Q.createElement("div",{className:`field field--horizontal ${t?"disabled":""}`},Q.createElement("label",null,rv(r)),Q.createElement("div",{className:"toggle"},Q.createElement("input",{type:"checkbox",name:i,checked:e,onChange:s}),Q.createElement("div",{className:"toggle-thumb"})))}function M8(n){let e=[],{options:t,onOptionInput:i}=n,r=uS(t.shader),s=null;return Object.keys(t).forEach(a=>{let l=t[a],h=r.find(c=>c.name===a),f={};if(h&&h.meta&&(f={...h.meta},h.meta&&h.meta.units==="%"&&(f.transform=c=>Math.floor(c*100))),l!=null&&(s&&a.startsWith(s.name)&&s.value.constructor.name==="Boolean"?s.value===!0:!0))switch(l.constructor.name){case"Number":e.push(Q.createElement(Tr,{name:a,min:0,step:h.type==="int"?1:.001,max:1,value:Number(l),onInput:i,...f}));break;case"String":l.startsWith("data:image/png;base64")?e.push(Q.createElement(JT,{name:a,value:l,onInput:i})):/^#[0-9a-f]{2,8}$/i.test(l)&&e.push(Q.createElement(vx,{name:a,value:l,alpha:h.type==="vec4",onInput:i,...f}));break;case"Array":e.push(Q.createElement(vx,{name:a,value:l,onInput:i,...f}));break;case"Boolean":e.push(Q.createElement(vm,{name:a,checked:l,onChange:i}));break}s={name:a,value:l}}),e}async function l4(n){return new Promise((e,t)=>{n.uuid||(n.uuid=qT()),An.run(async i=>{let r=await figma.clientStorage.getAsync("saved-shaders"),s=(r||[]).filter(a=>a.uuid!==i.uuid||a.noise?.uuid===i.uuid);s.unshift(i);try{return await figma.clientStorage.setAsync("saved-shaders",s),figma.notify(`Saved texture: ${i.label}`),s}catch(a){return figma.notify(a,{error:!0}),r}},async i=>{e({saved:n,all:i})},n)})}async function E8(n){return new Promise((e,t)=>{An.run(async i=>{let r=await figma.clientStorage.getAsync("saved-shaders");return r=r||[],r=r.filter(s=>s.uuid!==i.uuid||s.noise?.uuid===i.uuid),await figma.clientStorage.setAsync("saved-shaders",r),figma.notify(`Removed texture: ${i.label}`),r},async i=>{e({removed:n,all:i})},n)})}function sv(n){let{play:e=!0,size:t=16,className:i=""}=n;return Q.createElement("svg",{className:`spinner ${e?"spinner--play":"spinner--stop"} ${i}`,width:t,height:t,viewBox:`0 0 ${t} ${t}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("clipPath",{id:"spinner-clip"},Q.createElement("circle",{cx:t/2,cy:t/2,r:t/2,fill:"white"})),Q.createElement("foreignObject",{width:t,height:t,"clip-path":"url(#spinner-clip)"},Q.createElement("div",{className:"spinner-div"})))}var qf=ie.exports.forwardRef(function(n,e){let{className:t="",open:i=!1,clickOutsideToClose:r=!0,children:s,anchor:a=null,offset:l=8,modal:h=!1,loading:f=!1,closeButton:c=!1,title:o=null,trigger:u=null,autofocus:d=!0,contentProps:p={},onOpen:m=()=>{},onClose:v=()=>{},pin:x="bottom"}=n;ie.exports.useState([]);const[w,A]=ie.exports.useState(i),M=ie.exports.useRef(null),C=ie.exports.useRef(null),[E,R]=ie.exports.useState({position:"fixed",height:"auto",transform:"translate(0, 100vh)",borderBottomLeftRadius:x=="bottom"?0:null,borderBottomRightRadius:x=="bottom"?0:null});ie.exports.useImperativeHandle(e,()=>({close(){T(!1)},open(){T(!0)}}),[]);function b(){let I=C.current?.getBoundingClientRect(),z=document.documentElement?.getBoundingClientRect();if(!I||!z)return;let O={height:I.height,width:I.width},D=document.documentElement?.getBoundingClientRect();a&&a.current&&(D=a.current?.getBoundingClientRect());let B=D.bottom-I.height-(x=="bottom"?0:l);return B<z.top&&(B=z.top+(x=="top"?0:l)),O.transform=`translate(0,${B}px)`,O}let _=()=>{R({...E,...b()}),window.removeEventListener("resize",_),window.addEventListener("resize",_)};ie.exports.useLayoutEffect(()=>{_()},[s]),xS(M,()=>{w&&r&&T(!1)});const S=I=>{w&&h&&I.preventDefault()},T=(I=w)=>{I?(h?(M.current.close(),M.current.showModal()):M.current.show(),m()):(M.current.close(),v()),A(I)};ie.exports.useEffect(()=>{T(i)},[i,h]);let P=Q.createElement(Q.Fragment,null);return u&&(P=ie.exports.cloneElement(u,{onClick:()=>T(!0)})),[P,su.createPortal(Q.createElement("dialog",{ref:M,style:E,className:`dynamic-dialog ${t} dynamic-dialog--pin-${x}`,autofocus:d,onCancel:S,open:w},Q.createElement("div",{ref:C,className:"dynamic-dialog-content",...p},o&&Q.createElement("header",null,Q.createElement("h3",null,o),!f&&c&&Q.createElement("button",{className:"button icon button--small",onClick:()=>T(!1)},Q.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.6464 3.64645C11.8417 3.45118 12.1583 3.45118 12.3536 3.64645C12.5488 3.84171 12.5488 4.15829 12.3536 4.35355L8.70711 8L12.3536 11.6464C12.5488 11.8417 12.5488 12.1583 12.3536 12.3536C12.1583 12.5488 11.8417 12.5488 11.6464 12.3536L8 8.70711L4.35355 12.3536C4.15829 12.5488 3.84171 12.5488 3.64645 12.3536C3.45118 12.1583 3.45118 11.8417 3.64645 11.6464L7.29289 8L3.64645 4.35355C3.45118 4.15829 3.45118 3.84171 3.64645 3.64645C3.84171 3.45118 4.15829 3.45118 4.35355 3.64645L8 7.29289L11.6464 3.64645Z",fill:"currentColor"}))),f&&Q.createElement(sv,null)),s)),document.body)]});function T8(n){let{generateThumbnail:e,type:t,shader:i,onSave:r}=n;const[s,a]=ie.exports.useState(null),[l,h]=ie.exports.useState(""),f=ie.exports.useRef(null),c=async d=>{let p=await e(64);a(p)},o=async d=>{if(d.preventDefault(),!l.trim())An.notify("Please enter a name",{error:!0,timeout:2e3});else{let m={...i};m.thumbnail=s.src,m.label=l,m.uuid=m.uuid||qT();for(var p in m.options){let w=m.options[p];w!=null&&w.constructor.name==="String"&&w.startsWith("data:image/png;base64")&&(m.options[p]="data:image/png;base64")}m.user=await An.getCurrentUser();let{saved:v,all:x}=await l4(m);new TextEncoder().encode(JSON.stringify(v)).length,r(v,x),f.current&&f.current.close()}},u=d=>{h(d.target.value)};return ie.exports.useEffect(()=>{h(i.label)},[i]),[Q.createElement(qf,{modal:!1,ref:f,className:"save",clickOutsideToClose:!0,onOpen:c,closeButton:!0,title:"Save texture",trigger:Q.createElement("button",{className:"button button--small button--secondary"},"Save")},Q.createElement("form",{onSubmit:o},Q.createElement("main",null,Q.createElement("div",{className:"shader-list-item"},s&&Q.createElement("img",{src:s.src,key:"thumbnail",className:"shader-thumbnail"}),Q.createElement("input",{type:"text",placeholder:"Name your texture",value:l,required:!0,autoFocus:!0,onInput:u}))),Q.createElement("footer",null,Q.createElement("button",{className:"button button--small",type:"submit",onClick:o},"Save"))))]}const c4=n=>ie.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6464 3.64645C11.8417 3.45118 12.1583 3.45118 12.3536 3.64645C12.5488 3.84171 12.5488 4.15829 12.3536 4.35355L8.70711 8L12.3536 11.6464C12.5488 11.8417 12.5488 12.1583 12.3536 12.3536C12.1583 12.5488 11.8417 12.5488 11.6464 12.3536L8 8.70711L4.35355 12.3536C4.15829 12.5488 3.84171 12.5488 3.64645 12.3536C3.45118 12.1583 3.45118 11.8417 3.64645 11.6464L7.29289 8L3.64645 4.35355C3.45118 4.15829 3.45118 3.84171 3.64645 3.64645C3.84171 3.45118 4.15829 3.45118 4.35355 3.64645L8 7.29289L11.6464 3.64645Z",fill:"currentColor"}));function L8(n){let{options:e,onRemove:t,className:i}=n;const r=ie.exports.useRef(null),s=async h=>{r.current?.showModal?r.current?.showModal():r.current.setAttribute("open","")},a=async h=>{let{removed:f,all:c}=await E8(e.noise?e.noise:e);t(f,c),l()},l=()=>{r.current?.close?r.current?.close():r.current.removeAttribute("open","")};return[e.noise.uuid&&Q.createElement("div",{className:i,onClick:s},"Delete texture"),su.createPortal(Q.createElement("dialog",{ref:r},Q.createElement("header",null,Q.createElement("h3",null,"Delete texture?"),Q.createElement("button",{className:"button icon",onClick:l},Q.createElement(c4,null))),Q.createElement("main",null,Q.createElement("div",{className:"shader-list-item"},Q.createElement("img",{src:e.noise.thumbnail,className:"shader-thumbnail"}),Q.createElement("label",null,e.noise.label))),Q.createElement("footer",null,Q.createElement("button",{className:"button button--small button--secondary",onClick:a},"Delete"))),document.getElementById("root"))]}function yx(n){let{user:e,className:t="",attributes:i={}}=n;return e&&Q.createElement("div",{className:`avatar ${t}`,...i},Q.createElement("img",{src:e.avatar_url||e.photoUrl||e.user_metadata?.avatar_url,alt:e.full_name||e.name||e.user_metadata?.name}))}const R8=n=>ie.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C6.44772 3 6 3.44772 6 4H10C10 3.44772 9.55228 3 9 3H7ZM11 4C11 2.89543 10.1046 2 9 2H7C5.89543 2 5 2.89543 5 4H4H2V5H3.5V12C3.5 13.1046 4.39543 14 5.5 14H10.5C11.6046 14 12.5 13.1046 12.5 12V5H14V4H12H11ZM11.5 5H10.5H5.5H4.5V12C4.5 12.5523 4.94772 13 5.5 13H10.5C11.0523 13 11.5 12.5523 11.5 12V5ZM6 11V7H7V11H6ZM9 11V7H10V11H9Z",fill:"currentColor"}));function P8(n){let{resource:e,session:t,supabase:i,onUnpublish:r=()=>{}}=n;const s=ie.exports.useRef(null),a=e.user_id===t?.user?.id;function l(o){return o.thumbnail_id?`${i.storageUrl}/object/public/textures/thumbnails/${o.thumbnail_id}.png`:o.data.thumbnail}const h=async o=>{s.current?.showModal?s.current?.showModal():s.current.setAttribute("open","")},f=async()=>{const{error:o}=await i.from("textures").delete().eq("user_id",e.user_id).eq("id",e.id);r(e),o?An.notify(o,{error:!0,timeout:2e3}):(An.notify(`Unpublished ${e.name} from community textures`),c())},c=()=>{s.current?.close?s.current?.close():s.current.removeAttribute("open","")};return[a&&Q.createElement("button",{className:"button button--small button--secondary icon",onClick:h},Q.createElement(R8,null)),su.createPortal(Q.createElement("dialog",{ref:s},Q.createElement("header",null,Q.createElement("h3",null,"Unpublish from community?"),Q.createElement("button",{className:"button icon",onClick:c},Q.createElement(c4,null))),Q.createElement("main",null,Q.createElement("div",{className:"shader-list-item"},Q.createElement("img",{src:l(e),className:"shader-thumbnail"}),Q.createElement("label",null,e.name))),Q.createElement("footer",null,Q.createElement("button",{className:"button button--small button--secondary",onClick:c},"Cancel"),Q.createElement("button",{className:"button button--small",onClick:f},"Unpublish"))),document.getElementById("root"))]}const k8="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",I8="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u0924_\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC_\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",dl=(n,e)=>{for(const t in e)n[t]=e[t];return n},xx="numeric",wx="ascii",Sx="alpha",ym="asciinumeric",Kp="alphanumeric",_x="domain",u4="emoji",z8="scheme",D8="slashscheme",$A="whitespace";function O8(n,e){return n in e||(e[n]=[]),e[n]}function ja(n,e,t){e[xx]&&(e[ym]=!0,e[Kp]=!0),e[wx]&&(e[ym]=!0,e[Sx]=!0),e[ym]&&(e[Kp]=!0),e[Sx]&&(e[Kp]=!0),e[Kp]&&(e[_x]=!0),e[u4]&&(e[_x]=!0);for(const i in e){const r=O8(i,t);r.indexOf(n)<0&&r.push(n)}}function N8(n,e){const t={};for(const i in e)e[i].indexOf(n)>=0&&(t[i]=!0);return t}function or(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}or.groups={};or.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(n))return s}return e.jd},has(n,e){return e===void 0&&(e=!1),e?n in this.j:!!this.go(n)},ta(n,e,t,i){for(let r=0;r<n.length;r++)this.tt(n[r],e,t,i)},tr(n,e,t,i){i=i||or.groups;let r;return e&&e.j?r=e:(r=new or(e),t&&i&&ja(e,t,i)),this.jr.push([n,r]),r},ts(n,e,t,i){let r=this;const s=n.length;if(!s)return r;for(let a=0;a<s-1;a++)r=r.tt(n[a]);return r.tt(n[s-1],e,t,i)},tt(n,e,t,i){i=i||or.groups;const r=this;if(e&&e.j)return r.j[n]=e,e;const s=e;let a,l=r.go(n);if(l?(a=new or,dl(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new or,s){if(i)if(a.t&&typeof a.t=="string"){const h=dl(N8(a.t,i),t);ja(s,h,i)}else t&&ja(s,t,i);a.t=s}return r.j[n]=a,a}};const at=(n,e,t,i,r)=>n.ta(e,t,i,r),Er=(n,e,t,i,r)=>n.tr(e,t,i,r),qA=(n,e,t,i,r)=>n.ts(e,t,i,r),Ve=(n,e,t,i,r)=>n.tt(e,t,i,r),Fs="WORD",bx="UWORD",Sf="LOCALHOST",Ax="TLD",Cx="UTLD",xm="SCHEME",uc="SLASH_SCHEME",tg="NUM",h4="WS",wS="NL",Lc="OPENBRACE",kh="OPENBRACKET",Ih="OPENANGLEBRACKET",zh="OPENPAREN",Oa="CLOSEBRACE",Rc="CLOSEBRACKET",Pc="CLOSEANGLEBRACKET",Na="CLOSEPAREN",ng="AMPERSAND",ig="APOSTROPHE",rg="ASTERISK",Mo="AT",sg="BACKSLASH",og="BACKTICK",ag="CARET",Lo="COLON",SS="COMMA",lg="DOLLAR",ps="DOT",cg="EQUALS",_S="EXCLAMATION",ms="HYPHEN",ug="PERCENT",hg="PIPE",fg="PLUS",dg="POUND",pg="QUERY",bS="QUOTE",AS="SEMI",Us="SLASH",Dh="TILDE",mg="UNDERSCORE",f4="EMOJI",gg="SYM";var d4=Object.freeze({__proto__:null,WORD:Fs,UWORD:bx,LOCALHOST:Sf,TLD:Ax,UTLD:Cx,SCHEME:xm,SLASH_SCHEME:uc,NUM:tg,WS:h4,NL:wS,OPENBRACE:Lc,OPENBRACKET:kh,OPENANGLEBRACKET:Ih,OPENPAREN:zh,CLOSEBRACE:Oa,CLOSEBRACKET:Rc,CLOSEANGLEBRACKET:Pc,CLOSEPAREN:Na,AMPERSAND:ng,APOSTROPHE:ig,ASTERISK:rg,AT:Mo,BACKSLASH:sg,BACKTICK:og,CARET:ag,COLON:Lo,COMMA:SS,DOLLAR:lg,DOT:ps,EQUALS:cg,EXCLAMATION:_S,HYPHEN:ms,PERCENT:ug,PIPE:hg,PLUS:fg,POUND:dg,QUERY:pg,QUOTE:bS,SEMI:AS,SLASH:Us,TILDE:Dh,UNDERSCORE:mg,EMOJI:f4,SYM:gg});const sc=/[a-z]/,S1=/\p{L}/u,_1=/\p{Emoji}/u,b1=/\d/,JA=/\s/,ZA=`
`,F8="\uFE0F",B8="\u200D";let jp=null,Yp=null;function U8(n){n===void 0&&(n=[]);const e={};or.groups=e;const t=new or;jp==null&&(jp=e3(k8)),Yp==null&&(Yp=e3(I8)),Ve(t,"'",ig),Ve(t,"{",Lc),Ve(t,"[",kh),Ve(t,"<",Ih),Ve(t,"(",zh),Ve(t,"}",Oa),Ve(t,"]",Rc),Ve(t,">",Pc),Ve(t,")",Na),Ve(t,"&",ng),Ve(t,"*",rg),Ve(t,"@",Mo),Ve(t,"`",og),Ve(t,"^",ag),Ve(t,":",Lo),Ve(t,",",SS),Ve(t,"$",lg),Ve(t,".",ps),Ve(t,"=",cg),Ve(t,"!",_S),Ve(t,"-",ms),Ve(t,"%",ug),Ve(t,"|",hg),Ve(t,"+",fg),Ve(t,"#",dg),Ve(t,"?",pg),Ve(t,'"',bS),Ve(t,"/",Us),Ve(t,";",AS),Ve(t,"~",Dh),Ve(t,"_",mg),Ve(t,"\\",sg);const i=Er(t,b1,tg,{[xx]:!0});Er(i,b1,i);const r=Er(t,sc,Fs,{[wx]:!0});Er(r,sc,r);const s=Er(t,S1,bx,{[Sx]:!0});Er(s,sc),Er(s,S1,s);const a=Er(t,JA,h4,{[$A]:!0});Ve(t,ZA,wS,{[$A]:!0}),Ve(a,ZA),Er(a,JA,a);const l=Er(t,_1,f4,{[u4]:!0});Er(l,_1,l),Ve(l,F8,l);const h=Ve(l,B8);Er(h,_1,l);const f=[[sc,r]],c=[[sc,null],[S1,s]];for(let o=0;o<jp.length;o++)So(t,jp[o],Ax,Fs,f);for(let o=0;o<Yp.length;o++)So(t,Yp[o],Cx,bx,c);ja(Ax,{tld:!0,ascii:!0},e),ja(Cx,{utld:!0,alpha:!0},e),So(t,"file",xm,Fs,f),So(t,"mailto",xm,Fs,f),So(t,"http",uc,Fs,f),So(t,"https",uc,Fs,f),So(t,"ftp",uc,Fs,f),So(t,"ftps",uc,Fs,f),ja(xm,{scheme:!0,ascii:!0},e),ja(uc,{slashscheme:!0,ascii:!0},e),n=n.sort((o,u)=>o[0]>u[0]?1:-1);for(let o=0;o<n.length;o++){const u=n[o][0],p=n[o][1]?{[z8]:!0}:{[D8]:!0};u.indexOf("-")>=0?p[_x]=!0:sc.test(u)?b1.test(u)?p[ym]=!0:p[wx]=!0:p[xx]=!0,qA(t,u,u,p)}return qA(t,"localhost",Sf,{ascii:!0}),t.jd=new or(gg),{start:t,tokens:dl({groups:e},d4)}}function H8(n,e){const t=W8(e.replace(/[A-Z]/g,l=>l.toLowerCase())),i=t.length,r=[];let s=0,a=0;for(;a<i;){let l=n,h=null,f=0,c=null,o=-1,u=-1;for(;a<i&&(h=l.go(t[a]));)l=h,l.accepts()?(o=0,u=0,c=l):o>=0&&(o+=t[a].length,u++),f+=t[a].length,s+=t[a].length,a++;s-=o,a-=u,f-=o,r.push({t:c.t,v:e.slice(s-f,s),s:s-f,e:s})}return r}function W8(n){const e=[],t=n.length;let i=0;for(;i<t;){let r=n.charCodeAt(i),s,a=r<55296||r>56319||i+1===t||(s=n.charCodeAt(i+1))<56320||s>57343?n[i]:n.slice(i,i+2);e.push(a),i+=a.length}return e}function So(n,e,t,i,r){let s;const a=e.length;for(let l=0;l<a-1;l++){const h=e[l];n.j[h]?s=n.j[h]:(s=new or(i),s.jr=r.slice(),n.j[h]=s),n=s}return s=new or(t),s.jr=r.slice(),n.j[e[a-1]]=s,s}function e3(n){const e=[],t=[];let i=0,r="0123456789";for(;i<n.length;){let s=0;for(;r.indexOf(n[i+s])>=0;)s++;if(s>0){e.push(t.join(""));let a=parseInt(n.substring(i,i+s),10);for(;a>0;a--)t.pop();i+=s}else n[i]==="_"?(e.push(t.join("")),i++):(t.push(n[i]),i++)}return e}const eu={defaultProtocol:"http",events:null,format:t3,formatHref:t3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ov(n,e){e===void 0&&(e=null);let t=dl({},eu);n&&(t=dl(t,n instanceof ov?n.o:n));const i=t.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=r}ov.prototype={o:eu,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const i=e!=null;let r=this.o[n];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:eu[n],typeof r=="function"&&i&&(r=r(e,t))):typeof r=="function"&&i&&(r=r(e,t.t,t)),r)},getObj(n,e,t){let i=this.o[n];return typeof i=="function"&&e!=null&&(i=i(e,t.t,t)),i},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function t3(n){return n}var p4=Object.freeze({__proto__:null,defaults:eu,Options:ov,assign:dl});function m4(n,e){this.t="token",this.v=n,this.tk=e}m4.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),i=n.get("format",e,this);return t&&i.length>t?i.substring(0,t)+"\u2026":i},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=eu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toFormattedHref(n),i=n.get("tagName",t,e),r=this.toFormattedString(n),s={},a=n.get("className",t,e),l=n.get("target",t,e),h=n.get("rel",t,e),f=n.getObj("attributes",t,e),c=n.getObj("events",t,e);return s.href=t,a&&(s.class=a),l&&(s.target=l),h&&(s.rel=h),f&&dl(s,f),{tagName:i,attributes:s,content:r,eventListeners:c}}};function av(n,e){class t extends m4{constructor(r,s){super(r,s),this.t=n}}for(const i in e)t.prototype[i]=e[i];return t.t=n,t}const n3=av("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),i3=av("text"),V8=av("nl"),Ea=av("url",{isLink:!0,toHref(n){return n===void 0&&(n=eu.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Sf&&n[1].t===Lo}}),Jn=n=>new or(n);function G8(n){let{groups:e}=n;const t=e.domain.concat([ng,rg,Mo,sg,og,ag,lg,cg,ms,tg,ug,hg,fg,dg,Us,gg,Dh,mg]),i=[ig,Pc,Oa,Rc,Na,Lo,SS,ps,_S,Ih,Lc,kh,zh,pg,bS,AS],r=[ng,ig,rg,sg,og,ag,Oa,lg,cg,ms,tg,Lc,ug,hg,fg,dg,pg,Us,gg,Dh,mg],s=Jn(),a=Ve(s,Dh);at(a,r,a),at(a,e.domain,a);const l=Jn(),h=Jn(),f=Jn();at(s,e.domain,l),at(s,e.scheme,h),at(s,e.slashscheme,f),at(l,r,a),at(l,e.domain,l);const c=Ve(l,Mo);Ve(a,Mo,c),Ve(h,Mo,c),Ve(f,Mo,c);const o=Ve(a,ps);at(o,r,a),at(o,e.domain,a);const u=Jn();at(c,e.domain,u),at(u,e.domain,u);const d=Ve(u,ps);at(d,e.domain,u);const p=Jn(n3);at(d,e.tld,p),at(d,e.utld,p),Ve(c,Sf,p);const m=Ve(u,ms);at(m,e.domain,u),at(p,e.domain,u),Ve(p,ps,d),Ve(p,ms,m);const v=Ve(p,Lo);at(v,e.numeric,n3);const x=Ve(l,ms),w=Ve(l,ps);at(x,e.domain,l),at(w,r,a),at(w,e.domain,l);const A=Jn(Ea);at(w,e.tld,A),at(w,e.utld,A),at(A,e.domain,l),at(A,r,a),Ve(A,ps,w),Ve(A,ms,x),Ve(A,Mo,c);const M=Ve(A,Lo),C=Jn(Ea);at(M,e.numeric,C);const E=Jn(Ea),R=Jn();at(E,t,E),at(E,i,R),at(R,t,E),at(R,i,R),Ve(A,Us,E),Ve(C,Us,E);const b=Ve(h,Lo),_=Ve(f,Lo),S=Ve(_,Us);Ve(S,Us,b),at(h,e.domain,l),Ve(h,ps,w),Ve(h,ms,x),at(f,e.domain,l),Ve(f,ps,w),Ve(f,ms,x),at(b,e.domain,E),Ve(b,Us,E);const T=Ve(E,Lc),P=Ve(E,kh),I=Ve(E,Ih),z=Ve(E,zh);Ve(R,Lc,T),Ve(R,kh,P),Ve(R,Ih,I),Ve(R,zh,z),Ve(T,Oa,E),Ve(P,Rc,E),Ve(I,Pc,E),Ve(z,Na,E),Ve(T,Oa,E);const O=Jn(Ea),D=Jn(Ea),B=Jn(Ea),F=Jn(Ea);at(T,t,O),at(P,t,D),at(I,t,B),at(z,t,F);const U=Jn(),H=Jn(),j=Jn(),Y=Jn();return at(T,i),at(P,i),at(I,i),at(z,i),at(O,t,O),at(D,t,D),at(B,t,B),at(F,t,F),at(O,i,O),at(D,i,D),at(B,i,B),at(F,i,F),at(U,t,U),at(H,t,D),at(j,t,B),at(Y,t,F),at(U,i,U),at(H,i,H),at(j,i,j),at(Y,i,Y),Ve(D,Rc,E),Ve(B,Pc,E),Ve(F,Na,E),Ve(O,Oa,E),Ve(H,Rc,E),Ve(j,Pc,E),Ve(Y,Na,E),Ve(U,Na,E),Ve(s,Sf,A),Ve(s,wS,V8),{start:s,tokens:d4}}function K8(n,e,t){let i=t.length,r=0,s=[],a=[];for(;r<i;){let l=n,h=null,f=null,c=0,o=null,u=-1;for(;r<i&&!(h=l.go(t[r].t));)a.push(t[r++]);for(;r<i&&(f=h||l.go(t[r].t));)h=null,l=f,l.accepts()?(u=0,o=l):u>=0&&u++,r++,c++;if(u<0)r-=c,r<i&&(a.push(t[r]),r++);else{a.length>0&&(s.push(A1(i3,e,a)),a=[]),r-=u,c-=u;const d=o.t,p=t.slice(r-c,r);s.push(A1(d,e,p))}}return a.length>0&&s.push(A1(i3,e,a)),s}function A1(n,e,t){const i=t[0].s,r=t[t.length-1].e,s=e.slice(i,r);return new n(s,t)}const Ri={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function j8(){Ri.scanner=U8(Ri.customSchemes);for(let n=0;n<Ri.tokenQueue.length;n++)Ri.tokenQueue[n][1]({scanner:Ri.scanner});Ri.parser=G8(Ri.scanner.tokens);for(let n=0;n<Ri.pluginQueue.length;n++)Ri.pluginQueue[n][1]({scanner:Ri.scanner,parser:Ri.parser});Ri.initialized=!0}function Y8(n){return Ri.initialized||j8(),K8(Ri.parser.start,n,H8(Ri.scanner.start,n))}function X8(n,e,t){const i=Y8(n),r=[];for(let s=0;s<i.length;s++){const a=i[s];if(a.t==="nl"&&e.get("nl2br")){const l=`__linkify-el-${t.elementId++}`;r.push(ie.exports.createElement("br",{key:l}))}else if(!a.isLink||!e.check(a))r.push(a.toString());else{let l=e.render(a);if(!("key"in l.props)){const h=`__linkify-el-${t.elementId++}`,f=p4.assign({key:h},l.props);l=ie.exports.cloneElement(l,f)}r.push(l)}}return r}function g4(n,e,t){if(ie.exports.Children.count(n.props.children)===0)return n;const i=[];ie.exports.Children.forEach(n.props.children,a=>{typeof a=="string"?i.push.apply(i,X8(a,e,t)):ie.exports.isValidElement(a)?typeof a.type=="string"&&e.ignoreTags.indexOf(a.type.toUpperCase())>=0?i.push(a):i.push(g4(a,e,t)):i.push(a)});const r=`__linkify-el-${t.elementId++}`,s=p4.assign({key:r},n.props);return ie.exports.cloneElement(n,s,i)}const Q8=n=>{let e=0;const t=h=>{let{tagName:f,attributes:c,content:o}=h;return c.key=`__linkify-lnk-${e++}`,c.class&&(c.className=c.class,delete c.class),ie.exports.createElement(f,c,o)},i={key:"__linkify-wrapper"};for(const h in n)h!=="options"&&h!=="as"&&h!=="tagName"&&h!=="children"&&(i[h]=n[h]);const r=new ov(n.options,t),s=n.as||n.tagName||ie.exports.Fragment||"span",a=n.children,l=ie.exports.createElement(s,i,a);return g4(l,r,{elementId:0})};function gh(n){let{text:e,align:t="top",offset:i=4}=n;const r=ie.exports.useRef(null),[s,a]=ie.exports.useState(!1),[l,h]=ie.exports.useState(null),[f,c]=ie.exports.useState({}),o=p=>{h(p.currentTarget),a(!0)},u=()=>{a(!1)},d=ie.exports.cloneElement(n.children,{onMouseOver:o,onMouseOut:u,title:null});return ie.exports.useLayoutEffect(()=>{if(s&&r.current){let p=l.getBoundingClientRect(),m=r.current.getBoundingClientRect(),v=document.documentElement.getBoundingClientRect(),x=p.left+p.width/2-m.width/2,w=x+m.width,A=v.width-8;x=w<=A?x:x+(A-w),x=Math.max(8,x);let M={position:"fixed"};t==="right"?(M.left=p.left+p.width+i,M.top=p.top+p.height/2):t==="top"?(M.left=x,M.top=p.top-i-m.height):t==="bottom"&&(M.left=x,M.top=p.bottom+i),c(M)}},[s]),[d,su.createPortal(Q.createElement(Q.Fragment,null,s&&Q.createElement("div",{className:`tooltip ${s?"tooltip--shown":"tooltip--hidden"} tooltip--${t}`,style:f,ref:r},e)),document.getElementById("root"))]}function $8(n){let{resource:e,onSelect:t=()=>{},onSave:i=()=>{},onUnpublish:r=()=>{},selected:s,session:a,supabase:l}=n;function h(f){return f.thumbnail_id?`${l.storageUrl}/object/public/textures/thumbnails/${f.thumbnail_id}.png`:f.data.thumbnail}return Q.createElement("div",{className:`community-resource ${s?"community-resource--selected":""}`,onClick:f=>t(e)},Q.createElement("div",{className:"community-resource-body"},Q.createElement("div",{className:"community-resource-thumbnail"},Q.createElement("img",{src:h(e)})),Q.createElement("div",{className:"community-resource-details"},Q.createElement("h3",{className:"community-resource-title"},e.name),Q.createElement("div",{className:"community-resource-description"},Q.createElement(Q8,{as:"div",options:{attributes:{target:"_blank"}}},e.description)),e.tags&&Q.createElement("div",{className:"community-resource-tags"},e.tags.map(f=>Q.createElement("a",{href:`#${f}`,className:"tag"},f))),e.profiles.twitter_handle&&Q.createElement(gh,{text:`@${e.profiles.twitter_handle} on Twitter`,align:"top"},Q.createElement("a",{className:"community-creator",href:`https://twitter.com/${e.profiles.twitter_handle}`,target:"_blank"},Q.createElement(yx,{className:"community-avatar",user:e.profiles}),Q.createElement("span",{className:"community-creator-username"},e.profiles.full_name))),!e.profiles.twitter_handle&&Q.createElement("div",{className:"community-creator"},Q.createElement(yx,{className:"community-avatar",user:e.profiles}),Q.createElement("span",{className:"community-creator-username"},e.profiles.full_name))),Q.createElement("div",{className:"community-resource-actions"},Q.createElement(P8,{session:a,resource:e,onUnpublish:r,supabase:l}),Q.createElement("button",{className:"button button--small",onClick:f=>i(e)},"Save"))))}var q8={exports:{}},v4={exports:{}};(function(n){(function(){var e=function(t){this.data=new Uint8Array(t),this.pos=0};e.prototype.seek=function(t){this.pos=t},e.prototype.writeBytes=function(t){for(var i=0;i<t.length;i++)this.data[this.pos++]=t[i]},e.prototype.writeByte=function(t){this.data[this.pos++]=t},e.prototype.writeU8=e.prototype.writeByte,e.prototype.writeU16BE=function(t){this.data[this.pos++]=t>>8,this.data[this.pos++]=t},e.prototype.writeDoubleBE=function(t){for(var i=new Uint8Array(new Float64Array([t]).buffer),r=i.length-1;r>=0;r--)this.writeByte(i[r])},e.prototype.writeFloatBE=function(t){for(var i=new Uint8Array(new Float32Array([t]).buffer),r=i.length-1;r>=0;r--)this.writeByte(i[r])},e.prototype.writeString=function(t){for(var i=0;i<t.length;i++)this.data[this.pos++]=t.charCodeAt(i)},e.prototype.writeEBMLVarIntWidth=function(t,i){switch(i){case 1:this.writeU8(1<<7|t);break;case 2:this.writeU8(1<<6|t>>8),this.writeU8(t);break;case 3:this.writeU8(1<<5|t>>16),this.writeU8(t>>8),this.writeU8(t);break;case 4:this.writeU8(1<<4|t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t);break;case 5:this.writeU8(1<<3|t/4294967296&7),this.writeU8(t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t);break;default:throw new Error("Bad EBML VINT size "+i)}},e.prototype.measureEBMLVarInt=function(t){if(t<(1<<7)-1)return 1;if(t<(1<<14)-1)return 2;if(t<(1<<21)-1)return 3;if(t<(1<<28)-1)return 4;if(t<34359738367)return 5;throw new Error("EBML VINT size not supported "+t)},e.prototype.writeEBMLVarInt=function(t){this.writeEBMLVarIntWidth(t,this.measureEBMLVarInt(t))},e.prototype.writeUnsignedIntBE=function(t,i){switch(i===void 0&&(i=this.measureUnsignedInt(t)),i){case 5:this.writeU8(Math.floor(t/4294967296));case 4:this.writeU8(t>>24);case 3:this.writeU8(t>>16);case 2:this.writeU8(t>>8);case 1:this.writeU8(t);break;default:throw new Error("Bad UINT size "+i)}},e.prototype.measureUnsignedInt=function(t){return t<1<<8?1:t<1<<16?2:t<1<<24?3:t<4294967296?4:5},e.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw new Error("ArrayBufferDataStream's pos lies beyond end of buffer")},n.exports=e})()})(v4);var y4={exports:{}},J8={},Z8=Object.freeze(Object.defineProperty({__proto__:null,default:J8},Symbol.toStringTag,{value:"Module"})),eU=PL(Z8);(function(n){(function(){var e=function(t){return function(i){var r=[],s=Promise.resolve(),a=null,l=null;typeof FileWriter<"u"&&i instanceof FileWriter?a=i:t&&i&&(l=i),this.pos=0,this.length=0;function h(o){return new Promise(function(u,d){var p=new FileReader;p.addEventListener("loadend",function(){u(p.result)}),p.readAsArrayBuffer(o)})}function f(o){return new Promise(function(u,d){o instanceof Uint8Array?u(o):o instanceof ArrayBuffer||ArrayBuffer.isView(o)?u(new Uint8Array(o)):o instanceof Blob?u(h(o).then(function(p){return new Uint8Array(p)})):u(h(new Blob([o])).then(function(p){return new Uint8Array(p)}))})}function c(o){var u=o.byteLength||o.length||o.size;if(!Number.isInteger(u))throw new Error("Failed to determine size of element");return u}this.seek=function(o){if(o<0)throw new Error("Offset may not be negative");if(isNaN(o))throw new Error("Offset may not be NaN");if(o>this.length)throw new Error("Seeking beyond the end of file is not allowed");this.pos=o},this.write=function(o){var u={offset:this.pos,data:o,length:c(o)},d=u.offset>=this.length;this.pos+=u.length,this.length=Math.max(this.length,this.pos),s=s.then(function(){if(l)return new Promise(function(v,x){f(u.data).then(function(w){var A=0,M=Buffer.from(w.buffer),C=function(E,R,b){A+=R,A>=b.length?v():t.write(l,b,A,b.length-A,u.offset+A,C)};t.write(l,M,0,M.length,u.offset,C)})});if(a)return new Promise(function(v,x){a.onwriteend=v,a.seek(u.offset),a.write(new Blob([u.data]))});if(!d)for(var p=0;p<r.length;p++){var m=r[p];if(!(u.offset+u.length<=m.offset||u.offset>=m.offset+m.length)){if(u.offset<m.offset||u.offset+u.length>m.offset+m.length)throw new Error("Overwrite crosses blob boundaries");if(u.offset==m.offset&&u.length==m.length){m.data=u.data;return}else return f(m.data).then(function(v){return m.data=v,f(u.data)}).then(function(v){u.data=v,m.data.set(u.data,u.offset-m.offset)})}}r.push(u)})},this.complete=function(o){return l||a?s=s.then(function(){return null}):s=s.then(function(){for(var u=[],d=0;d<r.length;d++)u.push(r[d].data);return new Blob(u,{type:o})}),s}}};n.exports=e(eU)})()})(y4);(function(n){(function(){var e=function(t,i){function r(o,u){var d={};return[o,u].forEach(function(p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(d[m]=p[m])}),d}function s(o){return typeof o!="string"||!o.match(/^data:image\/webp;base64,/i)?!1:window.atob(o.substring(23))}function a(o,u){var d=typeof o=="string"&&/^data:image\/webp/.test(o)?o:o.toDataURL("image/webp",u);return s(d)}function l(o){var u=o.indexOf("VP8 ");if(u==-1)throw new Error("Failed to identify beginning of keyframe in WebP image");return u+=8,o.substring(u)}function h(o){this.value=o}function f(o){this.value=o}function c(o,u,d){if(Array.isArray(d))for(var p=0;p<d.length;p++)c(o,u,d[p]);else if(typeof d=="string")o.writeString(d);else if(d instanceof Uint8Array)o.writeBytes(d);else if(d.id)if(d.offset=o.pos+u,o.writeUnsignedIntBE(d.id),Array.isArray(d.data)){var m,v,x;d.size===-1?o.writeByte(255):(m=o.pos,o.writeBytes([0,0,0,0])),v=o.pos,d.dataOffset=v+u,c(o,u,d.data),d.size!==-1&&(x=o.pos,d.size=x-v,o.seek(m),o.writeEBMLVarIntWidth(d.size,4),o.seek(x))}else if(typeof d.data=="string")o.writeEBMLVarInt(d.data.length),d.dataOffset=o.pos+u,o.writeString(d.data);else if(typeof d.data=="number")d.size||(d.size=o.measureUnsignedInt(d.data)),o.writeEBMLVarInt(d.size),d.dataOffset=o.pos+u,o.writeUnsignedIntBE(d.data,d.size);else if(d.data instanceof f)o.writeEBMLVarInt(8),d.dataOffset=o.pos+u,o.writeDoubleBE(d.data.value);else if(d.data instanceof h)o.writeEBMLVarInt(4),d.dataOffset=o.pos+u,o.writeFloatBE(d.data.value);else if(d.data instanceof Uint8Array)o.writeEBMLVarInt(d.data.byteLength),d.dataOffset=o.pos+u,o.writeBytes(d.data);else throw new Error("Bad EBML datatype "+typeof d.data);else throw new Error("Bad EBML datatype "+typeof d.data)}return function(o){var u=5e3,d=1,p=!1,m=0,v=0,x=[],w=0,A=0,M={quality:.95,fileWriter:null,fd:null,frameDuration:null,frameRate:null},C={Cues:{id:new Uint8Array([28,83,187,107]),positionEBML:null},SegmentInfo:{id:new Uint8Array([21,73,169,102]),positionEBML:null},Tracks:{id:new Uint8Array([22,84,174,107]),positionEBML:null}},E,R={id:17545,data:new f(0)},b,_=[],S=new i(o.fileWriter||o.fd);function T(K){return K-E.dataOffset}function P(){var K={id:21420,size:5,data:0},X={id:290298740,data:[]};for(var $ in C){var q=C[$];q.positionEBML=Object.create(K),X.data.push({id:19899,data:[{id:21419,data:q.id},q.positionEBML]})}return X}function I(){b=P();var K={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]},X={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:"webm-writer-js"},{id:22337,data:"webm-writer-js"},R]},$={id:374648427,data:[{id:174,data:[{id:215,data:d},{id:29637,data:d},{id:156,data:0},{id:2274716,data:"und"},{id:134,data:"V_VP8"},{id:2459272,data:"VP8"},{id:131,data:1},{id:224,data:[{id:176,data:m},{id:186,data:v}]}]}]};E={id:408125543,size:-1,data:[b,X,$]};var q=new t(256);c(q,S.pos,[K,E]),S.write(q.getAsDataArray()),C.SegmentInfo.positionEBML.data=T(X.offset),C.Tracks.positionEBML.data=T($.offset),p=!0}function z(K){var X=new t(4);if(!(K.trackNumber>0&&K.trackNumber<127))throw new Error("TrackNumber must be > 0 and < 127");return X.writeEBMLVarInt(K.trackNumber),X.writeU16BE(K.timecode),X.writeByte(128),{id:163,data:[X.getAsDataArray(),K.frame]}}function O(K){return{id:524531317,data:[{id:231,data:Math.round(K.timecode)}]}}function D(K,X,$){_.push({id:187,data:[{id:179,data:X},{id:183,data:[{id:247,data:K},{id:241,data:T($)}]}]})}function B(){var K={id:475249515,data:_},X=new t(16+_.length*32);c(X,S.pos,K),S.write(X.getAsDataArray()),C.Cues.positionEBML.data=T(K.offset)}function F(){if(x.length!=0){for(var K=0,X=0;X<x.length;X++)K+=x[X].frame.length;for(var $=new t(K+x.length*32),q=O({timecode:Math.round(w)}),X=0;X<x.length;X++)q.data.push(z(x[X]));c($,S.pos,q),S.write($.getAsDataArray()),D(d,Math.round(w),q.offset),x=[],w+=A,A=0}}function U(){if(!o.frameDuration)if(o.frameRate)o.frameDuration=1e3/o.frameRate;else throw new Error("Missing required frameDuration or frameRate setting");o.quality=Math.max(Math.min(o.quality,.99999),0)}function H(K){K.trackNumber=d,K.timecode=Math.round(A),x.push(K),A+=K.duration,A>=u&&F()}function j(){var K=new t(b.size),X=S.pos;c(K,b.dataOffset,b.data),S.seek(b.dataOffset),S.write(K.getAsDataArray()),S.seek(X)}function Y(){var K=new t(8),X=S.pos;K.writeDoubleBE(w),S.seek(R.dataOffset),S.write(K.getAsDataArray()),S.seek(X)}this.addFrame=function(K,X){p||(m=K.width||0,v=K.height||0,I());var $=a(K,o.quality);if(!$)throw new Error("Couldn't decode WebP frame, does the browser support WebP?");H({frame:l($),duration:X===void 0?o.frameDuration:X})},this.complete=function(){return p||I(),F(),B(),j(),Y(),S.complete("video/webm")},this.getWrittenSize=function(){return S.length},o=r(M,o||{}),U()}};n.exports=e(v4.exports,y4.exports)})()})(q8);function tU(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if(i!=="default"&&!(i in n)){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(n)}function x4(n,e){return new Promise(function(t,i){let r;return nU(n).then(function(s){try{return r=s,t(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(a){return i(a)}},i)})}const nU=n=>new Promise((e,t)=>{const i=new FileReader;i.addEventListener("load",({target:{result:r}})=>{const s=new DataView(r);let a=0;if(s.getUint16(a)!==65496)return t("not a valid JPEG");for(a+=2;;){const l=s.getUint16(a);if(l===65498)break;const h=s.getUint16(a+2);if(l===65505&&s.getUint32(a+4)===1165519206){const f=a+10;let c;switch(s.getUint16(f)){case 18761:c=!0;break;case 19789:c=!1;break;default:return t("TIFF header contains invalid endian")}if(s.getUint16(f+2,c)!==42)return t("TIFF header contains invalid version");const o=s.getUint32(f+4,c),u=f+o+2+12*s.getUint16(f+o,c);for(let d=f+o+2;d<u;d+=12)if(s.getUint16(d,c)==274){if(s.getUint16(d+2,c)!==3)return t("Orientation data type is invalid");if(s.getUint32(d+4,c)!==1)return t("Orientation data count is invalid");s.setUint16(d+8,1,c);break}return e(r.slice(a,a+2+h))}a+=2+h}return e(new Blob)}),i.readAsArrayBuffer(n)});var vg={},iU={get exports(){return vg},set exports(n){vg=n}};(function(n){var e,t,i={};iU.exports=i,i.parse=function(r,s){for(var a=i.bin.readUshort,l=i.bin.readUint,h=0,f={},c=new Uint8Array(r),o=c.length-4;l(c,o)!=101010256;)o--;h=o,h+=4;var u=a(c,h+=4);a(c,h+=2);var d=l(c,h+=2),p=l(c,h+=4);h+=4,h=p;for(var m=0;m<u;m++){l(c,h),h+=4,h+=4,h+=4,l(c,h+=4),d=l(c,h+=4);var v=l(c,h+=4),x=a(c,h+=4),w=a(c,h+2),A=a(c,h+4);h+=6;var M=l(c,h+=8);h+=4,h+=x+w+A,i._readLocal(c,M,f,d,v,s)}return f},i._readLocal=function(r,s,a,l,h,f){var c=i.bin.readUshort,o=i.bin.readUint;o(r,s),c(r,s+=4),c(r,s+=2);var u=c(r,s+=2);o(r,s+=2),o(r,s+=4),s+=4;var d=c(r,s+=8),p=c(r,s+=2);s+=2;var m=i.bin.readUTF8(r,s,d);if(s+=d,s+=p,f)a[m]={size:h,csize:l};else{var v=new Uint8Array(r.buffer,s);if(u==0)a[m]=new Uint8Array(v.buffer.slice(s,s+l));else{if(u!=8)throw"unknown compression method: "+u;var x=new Uint8Array(h);i.inflateRaw(v,x),a[m]=x}}},i.inflateRaw=function(r,s){return i.F.inflate(r,s)},i.inflate=function(r,s){return r[0],r[1],i.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),s)},i.deflate=function(r,s){s==null&&(s={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*r.length));l[a]=120,l[a+1]=156,a+=2,a=i.F.deflateRaw(r,l,a,s.level);var h=i.adler(r,0,r.length);return l[a+0]=h>>>24&255,l[a+1]=h>>>16&255,l[a+2]=h>>>8&255,l[a+3]=h>>>0&255,new Uint8Array(l.buffer,0,a+4)},i.deflateRaw=function(r,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*r.length)),l=i.F.deflateRaw(r,a,l,s.level);return new Uint8Array(a.buffer,0,l)},i.encode=function(r,s){s==null&&(s=!1);var a=0,l=i.bin.writeUint,h=i.bin.writeUshort,f={};for(var c in r){var o=!i._noNeed(c)&&!s,u=r[c],d=i.crc.crc(u,0,u.length);f[c]={cpr:o,usize:u.length,crc:d,file:o?i.deflateRaw(u):u}}for(var c in f)a+=f[c].file.length+30+46+2*i.bin.sizeUTF8(c);a+=22;var p=new Uint8Array(a),m=0,v=[];for(var c in f){var x=f[c];v.push(m),m=i._writeHeader(p,m,c,x,0)}var w=0,A=m;for(var c in f)x=f[c],v.push(m),m=i._writeHeader(p,m,c,x,1,v[w++]);var M=m-A;return l(p,m,101010256),m+=4,h(p,m+=4,w),h(p,m+=2,w),l(p,m+=2,M),l(p,m+=4,A),m+=4,m+=2,p.buffer},i._noNeed=function(r){var s=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},i._writeHeader=function(r,s,a,l,h,f){var c=i.bin.writeUint,o=i.bin.writeUshort,u=l.file;return c(r,s,h==0?67324752:33639248),s+=4,h==1&&(s+=2),o(r,s,20),o(r,s+=2,0),o(r,s+=2,l.cpr?8:0),c(r,s+=2,0),c(r,s+=4,l.crc),c(r,s+=4,u.length),c(r,s+=4,l.usize),o(r,s+=4,i.bin.sizeUTF8(a)),o(r,s+=2,0),s+=2,h==1&&(s+=2,s+=2,c(r,s+=6,f),s+=4),s+=i.bin.writeUTF8(r,s,a),h==0&&(r.set(u,s),s+=u.length),s},i.crc={table:function(){for(var r=new Uint32Array(256),s=0;s<256;s++){for(var a=s,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;r[s]=a}return r}(),update:function(r,s,a,l){for(var h=0;h<l;h++)r=i.crc.table[255&(r^s[a+h])]^r>>>8;return r},crc:function(r,s,a){return 4294967295^i.crc.update(4294967295,r,s,a)}},i.adler=function(r,s,a){for(var l=1,h=0,f=s,c=s+a;f<c;){for(var o=Math.min(f+5552,c);f<o;)h+=l+=r[f++];l%=65521,h%=65521}return h<<16|l},i.bin={readUshort:function(r,s){return r[s]|r[s+1]<<8},writeUshort:function(r,s,a){r[s]=255&a,r[s+1]=a>>8&255},readUint:function(r,s){return 16777216*r[s+3]+(r[s+2]<<16|r[s+1]<<8|r[s])},writeUint:function(r,s,a){r[s]=255&a,r[s+1]=a>>8&255,r[s+2]=a>>16&255,r[s+3]=a>>24&255},readASCII:function(r,s,a){for(var l="",h=0;h<a;h++)l+=String.fromCharCode(r[s+h]);return l},writeASCII:function(r,s,a){for(var l=0;l<a.length;l++)r[s+l]=a.charCodeAt(l)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,s,a){for(var l,h="",f=0;f<a;f++)h+="%"+i.bin.pad(r[s+f].toString(16));try{l=decodeURIComponent(h)}catch{return i.bin.readASCII(r,s,a)}return l},writeUTF8:function(r,s,a){for(var l=a.length,h=0,f=0;f<l;f++){var c=a.charCodeAt(f);if((4294967168&c)==0)r[s+h]=c,h++;else if((4294965248&c)==0)r[s+h]=192|c>>6,r[s+h+1]=128|c>>0&63,h+=2;else if((4294901760&c)==0)r[s+h]=224|c>>12,r[s+h+1]=128|c>>6&63,r[s+h+2]=128|c>>0&63,h+=3;else{if((4292870144&c)!=0)throw"e";r[s+h]=240|c>>18,r[s+h+1]=128|c>>12&63,r[s+h+2]=128|c>>6&63,r[s+h+3]=128|c>>0&63,h+=4}}return h},sizeUTF8:function(r){for(var s=r.length,a=0,l=0;l<s;l++){var h=r.charCodeAt(l);if((4294967168&h)==0)a++;else if((4294965248&h)==0)a+=2;else if((4294901760&h)==0)a+=3;else{if((4292870144&h)!=0)throw"e";a+=4}}return a}},i.F={},i.F.deflateRaw=function(r,s,a,l){var h=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],f=i.F.U,c=i.F._goodIndex;i.F._hash;var o=i.F._putsE,u=0,d=a<<3,p=0,m=r.length;if(l==0){for(;u<m;)o(s,d,u+(T=Math.min(65535,m-u))==m?1:0),d=i.F._copyExact(r,u,T,s,d+8),u+=T;return d>>>3}var v=f.lits,x=f.strt,w=f.prev,A=0,M=0,C=0,E=0,R=0,b=0;for(m>2&&(x[b=i.F._hash(r,0)]=0),u=0;u<m;u++){if(R=b,u+1<m-2){b=i.F._hash(r,u+1);var _=u+1&32767;w[_]=x[b],x[b]=_}if(p<=u){(A>14e3||M>26697)&&m-u>100&&(p<u&&(v[A]=u-p,A+=2,p=u),d=i.F._writeBlock(u==m-1||p==m?1:0,v,A,E,r,C,u-C,s,d),A=M=E=0,C=u);var S=0;u<m-2&&(S=i.F._bestMatch(r,u,w,R,Math.min(h[2],m-u),h[3]));var T=S>>>16,P=65535&S;if(S!=0){P=65535&S;var I=c(T=S>>>16,f.of0);f.lhst[257+I]++;var z=c(P,f.df0);f.dhst[z]++,E+=f.exb[I]+f.dxb[z],v[A]=T<<23|u-p,v[A+1]=P<<16|I<<8|z,A+=2,p=u+T}else f.lhst[r[u]]++;M++}}for(C==u&&r.length!=0||(p<u&&(v[A]=u-p,A+=2,p=u),d=i.F._writeBlock(1,v,A,E,r,C,u-C,s,d),A=0,M=0,A=M=E=0,C=u);(7&d)!=0;)d++;return d>>>3},i.F._bestMatch=function(r,s,a,l,h,f){var c=32767&s,o=a[c],u=c-o+32768&32767;if(o==c||l!=i.F._hash(r,s-u))return 0;for(var d=0,p=0,m=Math.min(32767,s);u<=m&&--f!=0&&o!=c;){if(d==0||r[s+d]==r[s+d-u]){var v=i.F._howLong(r,s,u);if(v>d){if(p=u,(d=v)>=h)break;u+2<v&&(v=u+2);for(var x=0,w=0;w<v-2;w++){var A=s-u+w+32768&32767,M=A-a[A]+32768&32767;M>x&&(x=M,o=A)}}}u+=(c=o)-(o=a[c])+32768&32767}return d<<16|p},i.F._howLong=function(r,s,a){if(r[s]!=r[s-a]||r[s+1]!=r[s+1-a]||r[s+2]!=r[s+2-a])return 0;var l=s,h=Math.min(r.length,s+258);for(s+=3;s<h&&r[s]==r[s-a];)s++;return s-l},i.F._hash=function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(r,s,a,l,h,f,c,o,u){var d,p,m,v,x,w,A,M,C,E=i.F.U,R=i.F._putsF,b=i.F._putsE;E.lhst[256]++,p=(d=i.F.getTrees())[0],m=d[1],v=d[2],x=d[3],w=d[4],A=d[5],M=d[6],C=d[7];var _=32+((u+3&7)==0?0:8-(u+3&7))+(c<<3),S=l+i.F.contSize(E.fltree,E.lhst)+i.F.contSize(E.fdtree,E.dhst),T=l+i.F.contSize(E.ltree,E.lhst)+i.F.contSize(E.dtree,E.dhst);T+=14+3*A+i.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var P=0;P<286;P++)E.lhst[P]=0;for(P=0;P<30;P++)E.dhst[P]=0;for(P=0;P<19;P++)E.ihst[P]=0;var I=_<S&&_<T?0:S<T?1:2;if(R(o,u,r),R(o,u+1,I),u+=3,I==0){for(;(7&u)!=0;)u++;u=i.F._copyExact(h,f,c,o,u)}else{var z,O;if(I==1&&(z=E.fltree,O=E.fdtree),I==2){i.F.makeCodes(E.ltree,p),i.F.revCodes(E.ltree,p),i.F.makeCodes(E.dtree,m),i.F.revCodes(E.dtree,m),i.F.makeCodes(E.itree,v),i.F.revCodes(E.itree,v),z=E.ltree,O=E.dtree,b(o,u,x-257),b(o,u+=5,w-1),b(o,u+=5,A-4),u+=4;for(var D=0;D<A;D++)b(o,u+3*D,E.itree[1+(E.ordr[D]<<1)]);u+=3*A,u=i.F._codeTiny(M,E.itree,o,u),u=i.F._codeTiny(C,E.itree,o,u)}for(var B=f,F=0;F<a;F+=2){for(var U=s[F],H=U>>>23,j=B+(8388607&U);B<j;)u=i.F._writeLit(h[B++],z,o,u);if(H!=0){var Y=s[F+1],K=Y>>16,X=Y>>8&255,$=255&Y;b(o,u=i.F._writeLit(257+X,z,o,u),H-E.of0[X]),u+=E.exb[X],R(o,u=i.F._writeLit($,O,o,u),K-E.df0[$]),u+=E.dxb[$],B+=H}}u=i.F._writeLit(256,z,o,u)}return u},i.F._copyExact=function(r,s,a,l,h){var f=h>>>3;return l[f]=a,l[f+1]=a>>>8,l[f+2]=255-l[f],l[f+3]=255-l[f+1],f+=4,l.set(new Uint8Array(r.buffer,s,a),f),h+(a+4<<3)},i.F.getTrees=function(){for(var r=i.F.U,s=i.F._hufTree(r.lhst,r.ltree,15),a=i.F._hufTree(r.dhst,r.dtree,15),l=[],h=i.F._lenCodes(r.ltree,l),f=[],c=i.F._lenCodes(r.dtree,f),o=0;o<l.length;o+=2)r.ihst[l[o]]++;for(o=0;o<f.length;o+=2)r.ihst[f[o]]++;for(var u=i.F._hufTree(r.ihst,r.itree,7),d=19;d>4&&r.itree[1+(r.ordr[d-1]<<1)]==0;)d--;return[s,a,u,h,c,d,l,f]},i.F.getSecond=function(r){for(var s=[],a=0;a<r.length;a+=2)s.push(r[a+1]);return s},i.F.nonZero=function(r){for(var s="",a=0;a<r.length;a+=2)r[a+1]!=0&&(s+=(a>>1)+",");return s},i.F.contSize=function(r,s){for(var a=0,l=0;l<s.length;l++)a+=s[l]*r[1+(l<<1)];return a},i.F._codeTiny=function(r,s,a,l){for(var h=0;h<r.length;h+=2){var f=r[h],c=r[h+1];l=i.F._writeLit(f,s,a,l);var o=f==16?2:f==17?3:7;f>15&&(i.F._putsE(a,l,c,o),l+=o)}return l},i.F._lenCodes=function(r,s){for(var a=r.length;a!=2&&r[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var h=r[l+1],f=l+3<a?r[l+3]:-1,c=l+5<a?r[l+5]:-1,o=l==0?-1:r[l-1];if(h==0&&f==h&&c==h){for(var u=l+5;u+2<a&&r[u+2]==h;)u+=2;(d=Math.min(u+1-l>>>1,138))<11?s.push(17,d-3):s.push(18,d-11),l+=2*d-2}else if(h==o&&f==h&&c==h){for(u=l+5;u+2<a&&r[u+2]==h;)u+=2;var d=Math.min(u+1-l>>>1,6);s.push(16,d-3),l+=2*d-2}else s.push(h,0)}return a>>>1},i.F._hufTree=function(r,s,a){var l=[],h=r.length,f=s.length,c=0;for(c=0;c<f;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<h;c++)r[c]!=0&&l.push({lit:c,f:r[c]});var o=l.length,u=l.slice(0);if(o==0)return 0;if(o==1){var d=l[0].lit;return u=d==0?1:0,s[1+(d<<1)]=1,s[1+(u<<1)]=1,1}l.sort(function(M,C){return M.f-C.f});var p=l[0],m=l[1],v=0,x=1,w=2;for(l[0]={lit:-1,f:p.f+m.f,l:p,r:m,d:0};x!=o-1;)p=v!=x&&(w==o||l[v].f<l[w].f)?l[v++]:l[w++],m=v!=x&&(w==o||l[v].f<l[w].f)?l[v++]:l[w++],l[x++]={lit:-1,f:p.f+m.f,l:p,r:m};var A=i.F.setDepth(l[x-1],0);for(A>a&&(i.F.restrictDepth(u,a,A),A=a),c=0;c<o;c++)s[1+(u[c].lit<<1)]=u[c].d;return A},i.F.setDepth=function(r,s){return r.lit!=-1?(r.d=s,s):Math.max(i.F.setDepth(r.l,s+1),i.F.setDepth(r.r,s+1))},i.F.restrictDepth=function(r,s,a){var l=0,h=1<<a-s,f=0;for(r.sort(function(o,u){return u.d==o.d?o.f-u.f:u.d-o.d}),l=0;l<r.length&&r[l].d>s;l++){var c=r[l].d;r[l].d=s,f+=h-(1<<a-c)}for(f>>>=a-s;f>0;)(c=r[l].d)<s?(r[l].d++,f-=1<<s-c-1):l++;for(;l>=0;l--)r[l].d==s&&f<0&&(r[l].d--,f++);f!=0&&console.log("debt left")},i.F._goodIndex=function(r,s){var a=0;return s[16|a]<=r&&(a|=16),s[8|a]<=r&&(a|=8),s[4|a]<=r&&(a|=4),s[2|a]<=r&&(a|=2),s[1|a]<=r&&(a|=1),a},i.F._writeLit=function(r,s,a,l){return i.F._putsF(a,l,s[r<<1]),l+s[1+(r<<1)]},i.F.inflate=function(r,s){var a=Uint8Array;if(r[0]==3&&r[1]==0)return s||new a(0);var l=i.F,h=l._bitsF,f=l._bitsE,c=l._decodeTiny,o=l.makeCodes,u=l.codes2map,d=l._get17,p=l.U,m=s==null;m&&(s=new a(r.length>>>2<<3));for(var v,x,w=0,A=0,M=0,C=0,E=0,R=0,b=0,_=0,S=0;w==0;)if(w=h(r,S,1),A=h(r,S+1,2),S+=3,A!=0){if(m&&(s=i.F._check(s,_+(1<<17))),A==1&&(v=p.flmap,x=p.fdmap,R=511,b=31),A==2){M=f(r,S,5)+257,C=f(r,S+5,5)+1,E=f(r,S+10,4)+4,S+=14;for(var T=0;T<38;T+=2)p.itree[T]=0,p.itree[T+1]=0;var P=1;for(T=0;T<E;T++){var I=f(r,S+3*T,3);p.itree[1+(p.ordr[T]<<1)]=I,I>P&&(P=I)}S+=3*E,o(p.itree,P),u(p.itree,P,p.imap),v=p.lmap,x=p.dmap,S=c(p.imap,(1<<P)-1,M+C,r,S,p.ttree);var z=l._copyOut(p.ttree,0,M,p.ltree);R=(1<<z)-1;var O=l._copyOut(p.ttree,M,C,p.dtree);b=(1<<O)-1,o(p.ltree,z),u(p.ltree,z,v),o(p.dtree,O),u(p.dtree,O,x)}for(;;){var D=v[d(r,S)&R];S+=15&D;var B=D>>>4;if(B>>>8==0)s[_++]=B;else{if(B==256)break;var F=_+B-254;if(B>264){var U=p.ldef[B-257];F=_+(U>>>3)+f(r,S,7&U),S+=7&U}var H=x[d(r,S)&b];S+=15&H;var j=H>>>4,Y=p.ddef[j],K=(Y>>>4)+h(r,S,15&Y);for(S+=15&Y,m&&(s=i.F._check(s,_+(1<<17)));_<F;)s[_]=s[_++-K],s[_]=s[_++-K],s[_]=s[_++-K],s[_]=s[_++-K];_=F}}}else{(7&S)!=0&&(S+=8-(7&S));var X=4+(S>>>3),$=r[X-4]|r[X-3]<<8;m&&(s=i.F._check(s,_+$)),s.set(new a(r.buffer,r.byteOffset+X,$),_),S=X+$<<3,_+=$}return s.length==_?s:s.slice(0,_)},i.F._check=function(r,s){var a=r.length;if(s<=a)return r;var l=new Uint8Array(Math.max(a<<1,s));return l.set(r,0),l},i.F._decodeTiny=function(r,s,a,l,h,f){for(var c=i.F._bitsE,o=i.F._get17,u=0;u<a;){var d=r[o(l,h)&s];h+=15&d;var p=d>>>4;if(p<=15)f[u]=p,u++;else{var m=0,v=0;p==16?(v=3+c(l,h,2),h+=2,m=f[u-1]):p==17?(v=3+c(l,h,3),h+=3):p==18&&(v=11+c(l,h,7),h+=7);for(var x=u+v;u<x;)f[u]=m,u++}}return h},i.F._copyOut=function(r,s,a,l){for(var h=0,f=0,c=l.length>>>1;f<a;){var o=r[f+s];l[f<<1]=0,l[1+(f<<1)]=o,o>h&&(h=o),f++}for(;f<c;)l[f<<1]=0,l[1+(f<<1)]=0,f++;return h},i.F.makeCodes=function(r,s){for(var a,l,h,f,c=i.F.U,o=r.length,u=c.bl_count,d=0;d<=s;d++)u[d]=0;for(d=1;d<o;d+=2)u[r[d]]++;var p=c.next_code;for(a=0,u[0]=0,l=1;l<=s;l++)a=a+u[l-1]<<1,p[l]=a;for(h=0;h<o;h+=2)(f=r[h+1])!=0&&(r[h]=p[f],p[f]++)},i.F.codes2map=function(r,s,a){for(var l=r.length,h=i.F.U.rev15,f=0;f<l;f+=2)if(r[f+1]!=0)for(var c=f>>1,o=r[f+1],u=c<<4|o,d=s-o,p=r[f]<<d,m=p+(1<<d);p!=m;)a[h[p]>>>15-s]=u,p++},i.F.revCodes=function(r,s){for(var a=i.F.U.rev15,l=15-s,h=0;h<r.length;h+=2){var f=r[h]<<s-r[h+1];r[h]=a[f]>>>l}},i.F._putsE=function(r,s,a){a<<=7&s;var l=s>>>3;r[l]|=a,r[l+1]|=a>>>8},i.F._putsF=function(r,s,a){a<<=7&s;var l=s>>>3;r[l]|=a,r[l+1]|=a>>>8,r[l+2]|=a>>>16},i.F._bitsE=function(r,s,a){return(r[s>>>3]|r[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},i.F._bitsF=function(r,s,a){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},i.F._get17=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)},i.F._get25=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16|r[3+(s>>>3)]<<24)>>>(7&s)},i.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var r=i.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,r.rev15[s]=(a>>>16|a<<16)>>>17}function l(h,f,c){for(;f--!=0;)h.push(0,c)}for(s=0;s<32;s++)r.ldef[s]=r.of0[s]<<3|r.exb[s],r.ddef[s]=r.df0[s]<<4|r.dxb[s];l(r.fltree,144,8),l(r.fltree,112,9),l(r.fltree,24,7),l(r.fltree,8,8),i.F.makeCodes(r.fltree,9),i.F.codes2map(r.fltree,9,r.flmap),i.F.revCodes(r.fltree,9),l(r.fdtree,32,5),i.F.makeCodes(r.fdtree,5),i.F.codes2map(r.fdtree,5,r.fdmap),i.F.revCodes(r.fdtree,5),l(r.itree,19,0),l(r.ltree,286,0),l(r.dtree,30,0),l(r.ttree,320,0)}()})();var rU=tU({__proto__:null,default:vg},[vg]);const Xr=function(){var n={nextZero(c,o){for(;c[o]!=0;)o++;return o},readUshort:(c,o)=>c[o]<<8|c[o+1],writeUshort(c,o,u){c[o]=u>>8&255,c[o+1]=255&u},readUint:(c,o)=>16777216*c[o]+(c[o+1]<<16|c[o+2]<<8|c[o+3]),writeUint(c,o,u){c[o]=u>>24&255,c[o+1]=u>>16&255,c[o+2]=u>>8&255,c[o+3]=255&u},readASCII(c,o,u){let d="";for(let p=0;p<u;p++)d+=String.fromCharCode(c[o+p]);return d},writeASCII(c,o,u){for(let d=0;d<u.length;d++)c[o+d]=u.charCodeAt(d)},readBytes(c,o,u){const d=[];for(let p=0;p<u;p++)d.push(c[o+p]);return d},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,o,u){let d,p="";for(let m=0;m<u;m++)p+=`%${n.pad(c[o+m].toString(16))}`;try{d=decodeURIComponent(p)}catch{return n.readASCII(c,o,u)}return d}};function e(c,o,u,d){const p=o*u,m=s(d),v=Math.ceil(o*m/8),x=new Uint8Array(4*p),w=new Uint32Array(x.buffer),{ctype:A}=d,{depth:M}=d,C=n.readUshort;if(A==6){const U=p<<2;if(M==8)for(var E=0;E<U;E+=4)x[E]=c[E],x[E+1]=c[E+1],x[E+2]=c[E+2],x[E+3]=c[E+3];if(M==16)for(E=0;E<U;E++)x[E]=c[E<<1]}else if(A==2){const U=d.tabs.tRNS;if(U==null){if(M==8)for(E=0;E<p;E++){var R=3*E;w[E]=255<<24|c[R+2]<<16|c[R+1]<<8|c[R]}if(M==16)for(E=0;E<p;E++)R=6*E,w[E]=255<<24|c[R+4]<<16|c[R+2]<<8|c[R]}else{var b=U[0];const H=U[1],j=U[2];if(M==8)for(E=0;E<p;E++){var _=E<<2;R=3*E,w[E]=255<<24|c[R+2]<<16|c[R+1]<<8|c[R],c[R]==b&&c[R+1]==H&&c[R+2]==j&&(x[_+3]=0)}if(M==16)for(E=0;E<p;E++)_=E<<2,R=6*E,w[E]=255<<24|c[R+4]<<16|c[R+2]<<8|c[R],C(c,R)==b&&C(c,R+2)==H&&C(c,R+4)==j&&(x[_+3]=0)}}else if(A==3){const U=d.tabs.PLTE,H=d.tabs.tRNS,j=H?H.length:0;if(M==1)for(var S=0;S<u;S++){var T=S*v,P=S*o;for(E=0;E<o;E++){_=P+E<<2;var I=3*(z=c[T+(E>>3)]>>7-((7&E)<<0)&1);x[_]=U[I],x[_+1]=U[I+1],x[_+2]=U[I+2],x[_+3]=z<j?H[z]:255}}if(M==2)for(S=0;S<u;S++)for(T=S*v,P=S*o,E=0;E<o;E++)_=P+E<<2,I=3*(z=c[T+(E>>2)]>>6-((3&E)<<1)&3),x[_]=U[I],x[_+1]=U[I+1],x[_+2]=U[I+2],x[_+3]=z<j?H[z]:255;if(M==4)for(S=0;S<u;S++)for(T=S*v,P=S*o,E=0;E<o;E++)_=P+E<<2,I=3*(z=c[T+(E>>1)]>>4-((1&E)<<2)&15),x[_]=U[I],x[_+1]=U[I+1],x[_+2]=U[I+2],x[_+3]=z<j?H[z]:255;if(M==8)for(E=0;E<p;E++){var z;_=E<<2,I=3*(z=c[E]),x[_]=U[I],x[_+1]=U[I+1],x[_+2]=U[I+2],x[_+3]=z<j?H[z]:255}}else if(A==4){if(M==8)for(E=0;E<p;E++){_=E<<2;var O=c[D=E<<1];x[_]=O,x[_+1]=O,x[_+2]=O,x[_+3]=c[D+1]}if(M==16)for(E=0;E<p;E++){var D;_=E<<2,O=c[D=E<<2],x[_]=O,x[_+1]=O,x[_+2]=O,x[_+3]=c[D+2]}}else if(A==0)for(b=d.tabs.tRNS?d.tabs.tRNS:-1,S=0;S<u;S++){const U=S*v,H=S*o;if(M==1)for(var B=0;B<o;B++){var F=(O=255*(c[U+(B>>>3)]>>>7-(7&B)&1))==255*b?0:255;w[H+B]=F<<24|O<<16|O<<8|O}else if(M==2)for(B=0;B<o;B++)F=(O=85*(c[U+(B>>>2)]>>>6-((3&B)<<1)&3))==85*b?0:255,w[H+B]=F<<24|O<<16|O<<8|O;else if(M==4)for(B=0;B<o;B++)F=(O=17*(c[U+(B>>>1)]>>>4-((1&B)<<2)&15))==17*b?0:255,w[H+B]=F<<24|O<<16|O<<8|O;else if(M==8)for(B=0;B<o;B++)F=(O=c[U+B])==b?0:255,w[H+B]=F<<24|O<<16|O<<8|O;else if(M==16)for(B=0;B<o;B++)O=c[U+(B<<1)],F=C(c,U+(B<<1))==b?0:255,w[H+B]=F<<24|O<<16|O<<8|O}return x}function t(c,o,u,d){const p=s(c),m=Math.ceil(u*p/8),v=new Uint8Array((m+1+c.interlace)*d);return o=c.tabs.CgBI?r(o,v):i(o,v),c.interlace==0?o=a(o,c,0,u,d):c.interlace==1&&(o=function(w,A){const M=A.width,C=A.height,E=s(A),R=E>>3,b=Math.ceil(M*E/8),_=new Uint8Array(C*b);let S=0;const T=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],z=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const B=I[O],F=z[O];let U=0,H=0,j=T[O];for(;j<C;)j+=B,H++;let Y=P[O];for(;Y<M;)Y+=F,U++;const K=Math.ceil(U*E/8);a(w,A,S,U,H);let X=0,$=T[O];for(;$<C;){let q=P[O],pe=S+X*K<<3;for(;q<M;){var D;if(E==1&&(D=(D=w[pe>>3])>>7-(7&pe)&1,_[$*b+(q>>3)]|=D<<7-((7&q)<<0)),E==2&&(D=(D=w[pe>>3])>>6-(7&pe)&3,_[$*b+(q>>2)]|=D<<6-((3&q)<<1)),E==4&&(D=(D=w[pe>>3])>>4-(7&pe)&15,_[$*b+(q>>1)]|=D<<4-((1&q)<<2)),E>=8){const he=$*b+q*R;for(let Ae=0;Ae<R;Ae++)_[he+Ae]=w[(pe>>3)+Ae]}pe+=E,q+=F}X++,$+=B}U*H!=0&&(S+=H*(1+K)),O+=1}return _}(o,c)),o}function i(c,o){return r(new Uint8Array(c.buffer,2,c.length-6),o)}var r=function(){const c={H:{}};return c.H.N=function(o,u){const d=Uint8Array;let p,m,v=0,x=0,w=0,A=0,M=0,C=0,E=0,R=0,b=0;if(o[0]==3&&o[1]==0)return u||new d(0);const _=c.H,S=_.b,T=_.e,P=_.R,I=_.n,z=_.A,O=_.Z,D=_.m,B=u==null;for(B&&(u=new d(o.length>>>2<<5));v==0;)if(v=S(o,b,1),x=S(o,b+1,2),b+=3,x!=0){if(B&&(u=c.H.W(u,R+(1<<17))),x==1&&(p=D.J,m=D.h,C=511,E=31),x==2){w=T(o,b,5)+257,A=T(o,b+5,5)+1,M=T(o,b+10,4)+4,b+=14;let U=1;for(var F=0;F<38;F+=2)D.Q[F]=0,D.Q[F+1]=0;for(F=0;F<M;F++){const Y=T(o,b+3*F,3);D.Q[1+(D.X[F]<<1)]=Y,Y>U&&(U=Y)}b+=3*M,I(D.Q,U),z(D.Q,U,D.u),p=D.w,m=D.d,b=P(D.u,(1<<U)-1,w+A,o,b,D.v);const H=_.V(D.v,0,w,D.C);C=(1<<H)-1;const j=_.V(D.v,w,A,D.D);E=(1<<j)-1,I(D.C,H),z(D.C,H,p),I(D.D,j),z(D.D,j,m)}for(;;){const U=p[O(o,b)&C];b+=15&U;const H=U>>>4;if(H>>>8==0)u[R++]=H;else{if(H==256)break;{let j=R+H-254;if(H>264){const q=D.q[H-257];j=R+(q>>>3)+T(o,b,7&q),b+=7&q}const Y=m[O(o,b)&E];b+=15&Y;const K=Y>>>4,X=D.c[K],$=(X>>>4)+S(o,b,15&X);for(b+=15&X;R<j;)u[R]=u[R++-$],u[R]=u[R++-$],u[R]=u[R++-$],u[R]=u[R++-$];R=j}}}}else{(7&b)!=0&&(b+=8-(7&b));const U=4+(b>>>3),H=o[U-4]|o[U-3]<<8;B&&(u=c.H.W(u,R+H)),u.set(new d(o.buffer,o.byteOffset+U,H),R),b=U+H<<3,R+=H}return u.length==R?u:u.slice(0,R)},c.H.W=function(o,u){const d=o.length;if(u<=d)return o;const p=new Uint8Array(d<<1);return p.set(o,0),p},c.H.R=function(o,u,d,p,m,v){const x=c.H.e,w=c.H.Z;let A=0;for(;A<d;){const M=o[w(p,m)&u];m+=15&M;const C=M>>>4;if(C<=15)v[A]=C,A++;else{let E=0,R=0;C==16?(R=3+x(p,m,2),m+=2,E=v[A-1]):C==17?(R=3+x(p,m,3),m+=3):C==18&&(R=11+x(p,m,7),m+=7);const b=A+R;for(;A<b;)v[A]=E,A++}}return m},c.H.V=function(o,u,d,p){let m=0,v=0;const x=p.length>>>1;for(;v<d;){const w=o[v+u];p[v<<1]=0,p[1+(v<<1)]=w,w>m&&(m=w),v++}for(;v<x;)p[v<<1]=0,p[1+(v<<1)]=0,v++;return m},c.H.n=function(o,u){const d=c.H.m,p=o.length;let m,v,x,w;const A=d.j;for(var M=0;M<=u;M++)A[M]=0;for(M=1;M<p;M+=2)A[o[M]]++;const C=d.K;for(m=0,A[0]=0,v=1;v<=u;v++)m=m+A[v-1]<<1,C[v]=m;for(x=0;x<p;x+=2)w=o[x+1],w!=0&&(o[x]=C[w],C[w]++)},c.H.A=function(o,u,d){const p=o.length,m=c.H.m.r;for(let v=0;v<p;v+=2)if(o[v+1]!=0){const x=v>>1,w=o[v+1],A=x<<4|w,M=u-w;let C=o[v]<<M;const E=C+(1<<M);for(;C!=E;)d[m[C]>>>15-u]=A,C++}},c.H.l=function(o,u){const d=c.H.m.r,p=15-u;for(let m=0;m<o.length;m+=2){const v=o[m]<<u-o[m+1];o[m]=d[v]>>>p}},c.H.M=function(o,u,d){d<<=7&u;const p=u>>>3;o[p]|=d,o[p+1]|=d>>>8},c.H.I=function(o,u,d){d<<=7&u;const p=u>>>3;o[p]|=d,o[p+1]|=d>>>8,o[p+2]|=d>>>16},c.H.e=function(o,u,d){return(o[u>>>3]|o[1+(u>>>3)]<<8)>>>(7&u)&(1<<d)-1},c.H.b=function(o,u,d){return(o[u>>>3]|o[1+(u>>>3)]<<8|o[2+(u>>>3)]<<16)>>>(7&u)&(1<<d)-1},c.H.Z=function(o,u){return(o[u>>>3]|o[1+(u>>>3)]<<8|o[2+(u>>>3)]<<16)>>>(7&u)},c.H.i=function(o,u){return(o[u>>>3]|o[1+(u>>>3)]<<8|o[2+(u>>>3)]<<16|o[3+(u>>>3)]<<24)>>>(7&u)},c.H.m=function(){const o=Uint16Array,u=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new u(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new u(286),Y:new u(30),a:new u(19),t:new u(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=c.H.m;for(var u=0;u<32768;u++){let p=u;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,o.r[u]=(p>>>16|p<<16)>>>17}function d(p,m,v){for(;m--!=0;)p.push(0,v)}for(u=0;u<32;u++)o.q[u]=o.S[u]<<3|o.T[u],o.c[u]=o.p[u]<<4|o.z[u];d(o._,144,8),d(o._,112,9),d(o._,24,7),d(o._,8,8),c.H.n(o._,9),c.H.A(o._,9,o.J),c.H.l(o._,9),d(o.$,32,5),c.H.n(o.$,5),c.H.A(o.$,5,o.h),c.H.l(o.$,5),d(o.Q,19,0),d(o.C,286,0),d(o.D,30,0),d(o.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function a(c,o,u,d,p){let m=s(o);const v=Math.ceil(d*m/8);let x,w;m=Math.ceil(m/8);let A=c[u],M=0;if(A>1&&(c[u]=[0,0,1][A-2]),A==3)for(M=m;M<v;M++)c[M+1]=c[M+1]+(c[M+1-m]>>>1)&255;for(let C=0;C<p;C++)if(x=u+C*v,w=x+C+1,A=c[w-1],M=0,A==0)for(;M<v;M++)c[x+M]=c[w+M];else if(A==1){for(;M<m;M++)c[x+M]=c[w+M];for(;M<v;M++)c[x+M]=c[w+M]+c[x+M-m]}else if(A==2)for(;M<v;M++)c[x+M]=c[w+M]+c[x+M-v];else if(A==3){for(;M<m;M++)c[x+M]=c[w+M]+(c[x+M-v]>>>1);for(;M<v;M++)c[x+M]=c[w+M]+(c[x+M-v]+c[x+M-m]>>>1)}else{for(;M<m;M++)c[x+M]=c[w+M]+l(0,c[x+M-v],0);for(;M<v;M++)c[x+M]=c[w+M]+l(c[x+M-m],c[x+M-v],c[x+M-m-v])}return c}function l(c,o,u){const d=c+o-u,p=d-c,m=d-o,v=d-u;return p*p<=m*m&&p*p<=v*v?c:m*m<=v*v?o:u}function h(c,o,u){u.width=n.readUint(c,o),o+=4,u.height=n.readUint(c,o),o+=4,u.depth=c[o],o++,u.ctype=c[o],o++,u.compress=c[o],o++,u.filter=c[o],o++,u.interlace=c[o],o++}function f(c,o,u,d,p,m,v,x,w){const A=Math.min(o,p),M=Math.min(u,m);let C=0,E=0;for(let O=0;O<M;O++)for(let D=0;D<A;D++)if(v>=0&&x>=0?(C=O*o+D<<2,E=(x+O)*p+v+D<<2):(C=(-x+O)*o-v+D<<2,E=O*p+D<<2),w==0)d[E]=c[C],d[E+1]=c[C+1],d[E+2]=c[C+2],d[E+3]=c[C+3];else if(w==1){var R=c[C+3]*.00392156862745098,b=c[C]*R,_=c[C+1]*R,S=c[C+2]*R,T=d[E+3]*(1/255),P=d[E]*T,I=d[E+1]*T,z=d[E+2]*T;const B=1-R,F=R+T*B,U=F==0?0:1/F;d[E+3]=255*F,d[E+0]=(b+P*B)*U,d[E+1]=(_+I*B)*U,d[E+2]=(S+z*B)*U}else if(w==2)R=c[C+3],b=c[C],_=c[C+1],S=c[C+2],T=d[E+3],P=d[E],I=d[E+1],z=d[E+2],R==T&&b==P&&_==I&&S==z?(d[E]=0,d[E+1]=0,d[E+2]=0,d[E+3]=0):(d[E]=b,d[E+1]=_,d[E+2]=S,d[E+3]=R);else if(w==3){if(R=c[C+3],b=c[C],_=c[C+1],S=c[C+2],T=d[E+3],P=d[E],I=d[E+1],z=d[E+2],R==T&&b==P&&_==I&&S==z)continue;if(R<220&&T>20)return!1}return!0}return{decode:function(o){const u=new Uint8Array(o);let d=8;const p=n,m=p.readUshort,v=p.readUint,x={tabs:{},frames:[]},w=new Uint8Array(u.length);let A,M=0,C=0;const E=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(u[R]!=E[R])throw"The input is not a PNG file!";for(;d<u.length;){const O=p.readUint(u,d);d+=4;const D=p.readASCII(u,d,4);if(d+=4,D=="IHDR")h(u,d,x);else if(D=="iCCP"){for(var b=d;u[b]!=0;)b++;p.readASCII(u,d,b-d),u[b+1];const B=u.slice(b+2,d+O);let F=null;try{F=i(B)}catch{F=r(B)}x.tabs[D]=F}else if(D=="CgBI")x.tabs[D]=u.slice(d,d+4);else if(D=="IDAT"){for(R=0;R<O;R++)w[M+R]=u[d+R];M+=O}else if(D=="acTL")x.tabs[D]={num_frames:v(u,d),num_plays:v(u,d+4)},A=new Uint8Array(u.length);else if(D=="fcTL"){C!=0&&((z=x.frames[x.frames.length-1]).data=t(x,A.slice(0,C),z.rect.width,z.rect.height),C=0);const B={x:v(u,d+12),y:v(u,d+16),width:v(u,d+4),height:v(u,d+8)};let F=m(u,d+22);F=m(u,d+20)/(F==0?100:F);const U={rect:B,delay:Math.round(1e3*F),dispose:u[d+24],blend:u[d+25]};x.frames.push(U)}else if(D=="fdAT"){for(R=0;R<O-4;R++)A[C+R]=u[d+R+4];C+=O-4}else if(D=="pHYs")x.tabs[D]=[p.readUint(u,d),p.readUint(u,d+4),u[d+8]];else if(D=="cHRM")for(x.tabs[D]=[],R=0;R<8;R++)x.tabs[D].push(p.readUint(u,d+4*R));else if(D=="tEXt"||D=="zTXt"){x.tabs[D]==null&&(x.tabs[D]={});var _=p.nextZero(u,d),S=p.readASCII(u,d,_-d),T=d+O-_-1;if(D=="tEXt")I=p.readASCII(u,_+1,T);else{var P=i(u.slice(_+2,_+2+T));I=p.readUTF8(P,0,P.length)}x.tabs[D][S]=I}else if(D=="iTXt"){x.tabs[D]==null&&(x.tabs[D]={}),_=0,b=d,_=p.nextZero(u,b),S=p.readASCII(u,b,_-b);const B=u[b=_+1];var I;u[b+1],b+=2,_=p.nextZero(u,b),p.readASCII(u,b,_-b),b=_+1,_=p.nextZero(u,b),p.readUTF8(u,b,_-b),T=O-((b=_+1)-d),B==0?I=p.readUTF8(u,b,T):(P=i(u.slice(b,b+T)),I=p.readUTF8(P,0,P.length)),x.tabs[D][S]=I}else if(D=="PLTE")x.tabs[D]=p.readBytes(u,d,O);else if(D=="hIST"){const B=x.tabs.PLTE.length/3;for(x.tabs[D]=[],R=0;R<B;R++)x.tabs[D].push(m(u,d+2*R))}else if(D=="tRNS")x.ctype==3?x.tabs[D]=p.readBytes(u,d,O):x.ctype==0?x.tabs[D]=m(u,d):x.ctype==2&&(x.tabs[D]=[m(u,d),m(u,d+2),m(u,d+4)]);else if(D=="gAMA")x.tabs[D]=p.readUint(u,d)/1e5;else if(D=="sRGB")x.tabs[D]=u[d];else if(D=="bKGD")x.ctype==0||x.ctype==4?x.tabs[D]=[m(u,d)]:x.ctype==2||x.ctype==6?x.tabs[D]=[m(u,d),m(u,d+2),m(u,d+4)]:x.ctype==3&&(x.tabs[D]=u[d]);else if(D=="IEND")break;d+=O,p.readUint(u,d),d+=4}var z;return C!=0&&((z=x.frames[x.frames.length-1]).data=t(x,A.slice(0,C),z.rect.width,z.rect.height)),x.data=t(x,w,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(o){const u=o.width,d=o.height;if(o.tabs.acTL==null)return[e(o.data,u,d,o).buffer];const p=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const m=u*d*4,v=new Uint8Array(m),x=new Uint8Array(m),w=new Uint8Array(m);for(let M=0;M<o.frames.length;M++){const C=o.frames[M],E=C.rect.x,R=C.rect.y,b=C.rect.width,_=C.rect.height,S=e(C.data,b,_,o);if(M!=0)for(var A=0;A<m;A++)w[A]=v[A];if(C.blend==0?f(S,b,_,v,u,d,E,R,0):C.blend==1&&f(S,b,_,v,u,d,E,R,1),p.push(v.buffer.slice(0)),C.dispose!=0){if(C.dispose==1)f(x,b,_,v,u,d,E,R,0);else if(C.dispose==2)for(A=0;A<m;A++)v[A]=w[A]}}return p},_paeth:l,_copyTile:f,_bin:n}}();(function(){const{_copyTile:n}=Xr,{_bin:e}=Xr,t=Xr._paeth;var i={table:function(){const b=new Uint32Array(256);for(let _=0;_<256;_++){let S=_;for(let T=0;T<8;T++)1&S?S=3988292384^S>>>1:S>>>=1;b[_]=S}return b}(),update(b,_,S,T){for(let P=0;P<T;P++)b=i.table[255&(b^_[S+P])]^b>>>8;return b},crc:(b,_,S)=>4294967295^i.update(4294967295,b,_,S)};function r(b,_,S,T){_[S]+=b[0]*T>>4,_[S+1]+=b[1]*T>>4,_[S+2]+=b[2]*T>>4,_[S+3]+=b[3]*T>>4}function s(b){return Math.max(0,Math.min(255,b))}function a(b,_){const S=b[0]-_[0],T=b[1]-_[1],P=b[2]-_[2],I=b[3]-_[3];return S*S+T*T+P*P+I*I}function l(b,_,S,T,P,I,z){z==null&&(z=1);const O=T.length,D=[];for(var B=0;B<O;B++){const $=T[B];D.push([$>>>0&255,$>>>8&255,$>>>16&255,$>>>24&255])}for(B=0;B<O;B++){let $=4294967295;for(var F=0,U=0;U<O;U++){var H=a(D[B],D[U]);U!=B&&H<$&&($=H,F=U)}}const j=new Uint32Array(P.buffer),Y=new Int16Array(_*S*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<K.length;B++)K[B]=255*((K[B]+.5)/16-.5);for(let $=0;$<S;$++)for(let q=0;q<_;q++){var X;B=4*($*_+q),z!=2?X=[s(b[B]+Y[B]),s(b[B+1]+Y[B+1]),s(b[B+2]+Y[B+2]),s(b[B+3]+Y[B+3])]:(H=K[4*(3&$)+(3&q)],X=[s(b[B]+H),s(b[B+1]+H),s(b[B+2]+H),s(b[B+3]+H)]),F=0;let pe=16777215;for(U=0;U<O;U++){const me=a(X,D[U]);me<pe&&(pe=me,F=U)}const he=D[F],Ae=[X[0]-he[0],X[1]-he[1],X[2]-he[2],X[3]-he[3]];z==1&&(q!=_-1&&r(Ae,Y,B+4,7),$!=S-1&&(q!=0&&r(Ae,Y,B+4*_-4,3),r(Ae,Y,B+4*_,5),q!=_-1&&r(Ae,Y,B+4*_+4,1))),I[B>>2]=F,j[B>>2]=T[F]}}function h(b,_,S,T,P){P==null&&(P={});const{crc:I}=i,z=e.writeUint,O=e.writeUshort,D=e.writeASCII;let B=8;const F=b.frames.length>1;let U,H=!1,j=33+(F?20:0);if(P.sRGB!=null&&(j+=13),P.pHYs!=null&&(j+=21),P.iCCP!=null&&(U=pako.deflate(P.iCCP),j+=21+U.length+4),b.ctype==3){for(var Y=b.plte.length,K=0;K<Y;K++)b.plte[K]>>>24!=255&&(H=!0);j+=8+3*Y+4+(H?8+1*Y+4:0)}for(var X=0;X<b.frames.length;X++)F&&(j+=38),j+=(he=b.frames[X]).cimg.length+12,X!=0&&(j+=4);j+=12;const $=new Uint8Array(j),q=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)$[K]=q[K];if(z($,B,13),B+=4,D($,B,"IHDR"),B+=4,z($,B,_),B+=4,z($,B,S),B+=4,$[B]=b.depth,B++,$[B]=b.ctype,B++,$[B]=0,B++,$[B]=0,B++,$[B]=0,B++,z($,B,I($,B-17,17)),B+=4,P.sRGB!=null&&(z($,B,1),B+=4,D($,B,"sRGB"),B+=4,$[B]=P.sRGB,B++,z($,B,I($,B-5,5)),B+=4),P.iCCP!=null){const Ae=13+U.length;z($,B,Ae),B+=4,D($,B,"iCCP"),B+=4,D($,B,"ICC profile"),B+=11,B+=2,$.set(U,B),B+=U.length,z($,B,I($,B-(Ae+4),Ae+4)),B+=4}if(P.pHYs!=null&&(z($,B,9),B+=4,D($,B,"pHYs"),B+=4,z($,B,P.pHYs[0]),B+=4,z($,B,P.pHYs[1]),B+=4,$[B]=P.pHYs[2],B++,z($,B,I($,B-13,13)),B+=4),F&&(z($,B,8),B+=4,D($,B,"acTL"),B+=4,z($,B,b.frames.length),B+=4,z($,B,P.loop!=null?P.loop:0),B+=4,z($,B,I($,B-12,12)),B+=4),b.ctype==3){for(z($,B,3*(Y=b.plte.length)),B+=4,D($,B,"PLTE"),B+=4,K=0;K<Y;K++){const Ae=3*K,me=b.plte[K],De=255&me,fe=me>>>8&255,xe=me>>>16&255;$[B+Ae+0]=De,$[B+Ae+1]=fe,$[B+Ae+2]=xe}if(B+=3*Y,z($,B,I($,B-3*Y-4,3*Y+4)),B+=4,H){for(z($,B,Y),B+=4,D($,B,"tRNS"),B+=4,K=0;K<Y;K++)$[B+K]=b.plte[K]>>>24&255;B+=Y,z($,B,I($,B-Y-4,Y+4)),B+=4}}let pe=0;for(X=0;X<b.frames.length;X++){var he=b.frames[X];F&&(z($,B,26),B+=4,D($,B,"fcTL"),B+=4,z($,B,pe++),B+=4,z($,B,he.rect.width),B+=4,z($,B,he.rect.height),B+=4,z($,B,he.rect.x),B+=4,z($,B,he.rect.y),B+=4,O($,B,T[X]),B+=2,O($,B,1e3),B+=2,$[B]=he.dispose,B++,$[B]=he.blend,B++,z($,B,I($,B-30,30)),B+=4);const Ae=he.cimg;z($,B,(Y=Ae.length)+(X==0?0:4)),B+=4;const me=B;D($,B,X==0?"IDAT":"fdAT"),B+=4,X!=0&&(z($,B,pe++),B+=4),$.set(Ae,B),B+=Y,z($,B,I($,me,B-me)),B+=4}return z($,B,0),B+=4,D($,B,"IEND"),B+=4,z($,B,I($,B-4,4)),B+=4,$.buffer}function f(b,_,S){for(let T=0;T<b.frames.length;T++){const P=b.frames[T];P.rect.width;const I=P.rect.height,z=new Uint8Array(I*P.bpl+I);P.cimg=d(P.img,I,P.bpp,P.bpl,z,_,S)}}function c(b,_,S,T,P){const I=P[0],z=P[1],O=P[2],D=P[3],B=P[4],F=P[5];let U=6,H=8,j=255;for(var Y=0;Y<b.length;Y++){const Ee=new Uint8Array(b[Y]);for(var K=Ee.length,X=0;X<K;X+=4)j&=Ee[X+3]}const $=j!=255,q=function(Ge,Ue,je,ot,ge,V){const G=[];for(var ne=0;ne<Ge.length;ne++){const ue=new Uint8Array(Ge[ne]),Ke=new Uint32Array(ue.buffer);var de;let re=0,we=0,Oe=Ue,Fe=je,it=ot?1:0;if(ne!=0){const mt=V||ot||ne==1||G[ne-2].dispose!=0?1:2;let Wt=0,se=1e9;for(let _e=0;_e<mt;_e++){var ce=new Uint8Array(Ge[ne-1-_e]);const Ne=new Uint32Array(Ge[ne-1-_e]);let Ye=Ue,qe=je,pt=-1,Vt=-1;for(let xn=0;xn<je;xn++)for(let bt=0;bt<Ue;bt++)Ke[Be=xn*Ue+bt]!=Ne[Be]&&(bt<Ye&&(Ye=bt),bt>pt&&(pt=bt),xn<qe&&(qe=xn),xn>Vt&&(Vt=xn));pt==-1&&(Ye=qe=pt=Vt=0),ge&&((1&Ye)==1&&Ye--,(1&qe)==1&&qe--);const tn=(pt-Ye+1)*(Vt-qe+1);tn<se&&(se=tn,Wt=_e,re=Ye,we=qe,Oe=pt-Ye+1,Fe=Vt-qe+1)}ce=new Uint8Array(Ge[ne-1-Wt]),Wt==1&&(G[ne-1].dispose=2),de=new Uint8Array(Oe*Fe*4),n(ce,Ue,je,de,Oe,Fe,-re,-we,0),it=n(ue,Ue,je,de,Oe,Fe,-re,-we,3)?1:0,it==1?u(ue,Ue,je,de,{x:re,y:we,width:Oe,height:Fe}):n(ue,Ue,je,de,Oe,Fe,-re,-we,0)}else de=ue.slice(0);G.push({rect:{x:re,y:we,width:Oe,height:Fe},img:de,blend:it,dispose:0})}if(ot)for(ne=0;ne<G.length;ne++){if((Ie=G[ne]).blend==1)continue;const ue=Ie.rect,Ke=G[ne-1].rect,re=Math.min(ue.x,Ke.x),we=Math.min(ue.y,Ke.y),Oe={x:re,y:we,width:Math.max(ue.x+ue.width,Ke.x+Ke.width)-re,height:Math.max(ue.y+ue.height,Ke.y+Ke.height)-we};G[ne-1].dispose=1,ne-1!=0&&o(Ge,Ue,je,G,ne-1,Oe,ge),o(Ge,Ue,je,G,ne,Oe,ge)}let Me=0;if(Ge.length!=1)for(var Be=0;Be<G.length;Be++){var Ie;Me+=(Ie=G[Be]).rect.width*Ie.rect.height}return G}(b,_,S,I,z,O),pe={},he=[],Ae=[];if(T!=0){const Ee=[];for(X=0;X<q.length;X++)Ee.push(q[X].img.buffer);const Ge=function(ge){let V=0;for(var G=0;G<ge.length;G++)V+=ge[G].byteLength;const ne=new Uint8Array(V);let de=0;for(G=0;G<ge.length;G++){const ce=new Uint8Array(ge[G]),Me=ce.length;for(let Be=0;Be<Me;Be+=4){let Ie=ce[Be],ue=ce[Be+1],Ke=ce[Be+2];const re=ce[Be+3];re==0&&(Ie=ue=Ke=0),ne[de+Be]=Ie,ne[de+Be+1]=ue,ne[de+Be+2]=Ke,ne[de+Be+3]=re}de+=Me}return ne.buffer}(Ee),Ue=m(Ge,T);for(X=0;X<Ue.plte.length;X++)he.push(Ue.plte[X].est.rgba);let je=0;for(X=0;X<q.length;X++){const ot=(De=q[X]).img.length;var me=new Uint8Array(Ue.inds.buffer,je>>2,ot>>2);Ae.push(me);const ge=new Uint8Array(Ue.abuf,je,ot);F&&l(De.img,De.rect.width,De.rect.height,he,ge,me),De.img.set(ge),je+=ot}}else for(Y=0;Y<q.length;Y++){var De=q[Y];const Ee=new Uint32Array(De.img.buffer);var fe=De.rect.width;for(K=Ee.length,me=new Uint8Array(K),Ae.push(me),X=0;X<K;X++){const Ge=Ee[X];if(X!=0&&Ge==Ee[X-1])me[X]=me[X-1];else if(X>fe&&Ge==Ee[X-fe])me[X]=me[X-fe];else{let Ue=pe[Ge];if(Ue==null&&(pe[Ge]=Ue=he.length,he.push(Ge),he.length>=300))break;me[X]=Ue}}}const xe=he.length;for(xe<=256&&B==0&&(H=xe<=2?1:xe<=4?2:xe<=16?4:8,H=Math.max(H,D)),Y=0;Y<q.length;Y++){(De=q[Y]).rect.x,De.rect.y,fe=De.rect.width;const Ee=De.rect.height;let Ge=De.img;new Uint32Array(Ge.buffer);let Ue=4*fe,je=4;if(xe<=256&&B==0){Ue=Math.ceil(H*fe/8);var Le=new Uint8Array(Ue*Ee);const ot=Ae[Y];for(let ge=0;ge<Ee;ge++){X=ge*Ue;const V=ge*fe;if(H==8)for(var Re=0;Re<fe;Re++)Le[X+Re]=ot[V+Re];else if(H==4)for(Re=0;Re<fe;Re++)Le[X+(Re>>1)]|=ot[V+Re]<<4-4*(1&Re);else if(H==2)for(Re=0;Re<fe;Re++)Le[X+(Re>>2)]|=ot[V+Re]<<6-2*(3&Re);else if(H==1)for(Re=0;Re<fe;Re++)Le[X+(Re>>3)]|=ot[V+Re]<<7-1*(7&Re)}Ge=Le,U=3,je=1}else if($==0&&q.length==1){Le=new Uint8Array(fe*Ee*3);const ot=fe*Ee;for(X=0;X<ot;X++){const ge=3*X,V=4*X;Le[ge]=Ge[V],Le[ge+1]=Ge[V+1],Le[ge+2]=Ge[V+2]}Ge=Le,U=2,je=3,Ue=3*fe}De.img=Ge,De.bpl=Ue,De.bpp=je}return{ctype:U,depth:H,plte:he,frames:q}}function o(b,_,S,T,P,I,z){const O=Uint8Array,D=Uint32Array,B=new O(b[P-1]),F=new D(b[P-1]),U=P+1<b.length?new O(b[P+1]):null,H=new O(b[P]),j=new D(H.buffer);let Y=_,K=S,X=-1,$=-1;for(let pe=0;pe<I.height;pe++)for(let he=0;he<I.width;he++){const Ae=I.x+he,me=I.y+pe,De=me*_+Ae,fe=j[De];fe==0||T[P-1].dispose==0&&F[De]==fe&&(U==null||U[4*De+3]!=0)||(Ae<Y&&(Y=Ae),Ae>X&&(X=Ae),me<K&&(K=me),me>$&&($=me))}X==-1&&(Y=K=X=$=0),z&&((1&Y)==1&&Y--,(1&K)==1&&K--),I={x:Y,y:K,width:X-Y+1,height:$-K+1};const q=T[P];q.rect=I,q.blend=1,q.img=new Uint8Array(I.width*I.height*4),T[P-1].dispose==0?(n(B,_,S,q.img,I.width,I.height,-I.x,-I.y,0),u(H,_,S,q.img,I)):n(H,_,S,q.img,I.width,I.height,-I.x,-I.y,0)}function u(b,_,S,T,P){n(b,_,S,T,P.width,P.height,-P.x,-P.y,2)}function d(b,_,S,T,P,I,z){const O=[];let D,B=[0,1,2,3,4];I!=-1?B=[I]:(_*T>5e5||S==1)&&(B=[0]),z&&(D={level:0});const F=rU;for(var U=0;U<B.length;U++){for(let Y=0;Y<_;Y++)p(P,b,Y,T,S,B[U]);O.push(F.deflate(P,D))}let H,j=1e9;for(U=0;U<O.length;U++)O[U].length<j&&(H=U,j=O[U].length);return O[H]}function p(b,_,S,T,P,I){const z=S*T;let O=z+S;if(b[O]=I,O++,I==0)if(T<500)for(var D=0;D<T;D++)b[O+D]=_[z+D];else b.set(new Uint8Array(_.buffer,z,T),O);else if(I==1){for(D=0;D<P;D++)b[O+D]=_[z+D];for(D=P;D<T;D++)b[O+D]=_[z+D]-_[z+D-P]+256&255}else if(S==0){for(D=0;D<P;D++)b[O+D]=_[z+D];if(I==2)for(D=P;D<T;D++)b[O+D]=_[z+D];if(I==3)for(D=P;D<T;D++)b[O+D]=_[z+D]-(_[z+D-P]>>1)+256&255;if(I==4)for(D=P;D<T;D++)b[O+D]=_[z+D]-t(_[z+D-P],0,0)+256&255}else{if(I==2)for(D=0;D<T;D++)b[O+D]=_[z+D]+256-_[z+D-T]&255;if(I==3){for(D=0;D<P;D++)b[O+D]=_[z+D]+256-(_[z+D-T]>>1)&255;for(D=P;D<T;D++)b[O+D]=_[z+D]+256-(_[z+D-T]+_[z+D-P]>>1)&255}if(I==4){for(D=0;D<P;D++)b[O+D]=_[z+D]+256-t(0,_[z+D-T],0)&255;for(D=P;D<T;D++)b[O+D]=_[z+D]+256-t(_[z+D-P],_[z+D-T],_[z+D-P-T])&255}}}function m(b,_){const S=new Uint8Array(b),T=S.slice(0),P=new Uint32Array(T.buffer),I=v(T,_),z=I[0],O=I[1],D=S.length,B=new Uint8Array(D>>2);let F;if(S.length<2e7)for(var U=0;U<D;U+=4)F=x(z,H=S[U]*(1/255),j=S[U+1]*(1/255),Y=S[U+2]*(1/255),K=S[U+3]*(1/255)),B[U>>2]=F.ind,P[U>>2]=F.est.rgba;else for(U=0;U<D;U+=4){var H=S[U]*.00392156862745098,j=S[U+1]*(1/255),Y=S[U+2]*(1/255),K=S[U+3]*(1/255);for(F=z;F.left;)F=w(F.est,H,j,Y,K)<=0?F.left:F.right;B[U>>2]=F.ind,P[U>>2]=F.est.rgba}return{abuf:T.buffer,inds:B,plte:O}}function v(b,_,S){S==null&&(S=1e-4);const T=new Uint32Array(b.buffer),P={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=C(b,P.i0,P.i1),P.est=E(P.bst);const I=[P];for(;I.length<_;){let O=0,D=0;for(var z=0;z<I.length;z++)I[z].est.L>O&&(O=I[z].est.L,D=z);if(O<S)break;const B=I[D],F=A(b,T,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=F||B.i1<=F){B.est.L=0;continue}const U={i0:B.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};U.bst=C(b,U.i0,U.i1),U.est=E(U.bst);const H={i0:F,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:B.bst.N-U.bst.N},z=0;z<16;z++)H.bst.R[z]=B.bst.R[z]-U.bst.R[z];for(z=0;z<4;z++)H.bst.m[z]=B.bst.m[z]-U.bst.m[z];H.est=E(H.bst),B.left=U,B.right=H,I[D]=U,I.push(H)}for(I.sort((O,D)=>D.bst.N-O.bst.N),z=0;z<I.length;z++)I[z].ind=z;return[P,I]}function x(b,_,S,T,P){if(b.left==null)return b.tdst=function(U,H,j,Y,K){const X=H-U[0],$=j-U[1],q=Y-U[2],pe=K-U[3];return X*X+$*$+q*q+pe*pe}(b.est.q,_,S,T,P),b;const I=w(b.est,_,S,T,P);let z=b.left,O=b.right;I>0&&(z=b.right,O=b.left);const D=x(z,_,S,T,P);if(D.tdst<=I*I)return D;const B=x(O,_,S,T,P);return B.tdst<D.tdst?B:D}function w(b,_,S,T,P){const{e:I}=b;return I[0]*_+I[1]*S+I[2]*T+I[3]*P-b.eMq}function A(b,_,S,T,P,I){for(T-=4;S<T;){for(;M(b,S,P)<=I;)S+=4;for(;M(b,T,P)>I;)T-=4;if(S>=T)break;const z=_[S>>2];_[S>>2]=_[T>>2],_[T>>2]=z,S+=4,T-=4}for(;M(b,S,P)>I;)S-=4;return S+4}function M(b,_,S){return b[_]*S[0]+b[_+1]*S[1]+b[_+2]*S[2]+b[_+3]*S[3]}function C(b,_,S){const T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],I=S-_>>2;for(let z=_;z<S;z+=4){const O=b[z]*.00392156862745098,D=b[z+1]*(1/255),B=b[z+2]*(1/255),F=b[z+3]*(1/255);P[0]+=O,P[1]+=D,P[2]+=B,P[3]+=F,T[0]+=O*O,T[1]+=O*D,T[2]+=O*B,T[3]+=O*F,T[5]+=D*D,T[6]+=D*B,T[7]+=D*F,T[10]+=B*B,T[11]+=B*F,T[15]+=F*F}return T[4]=T[1],T[8]=T[2],T[9]=T[6],T[12]=T[3],T[13]=T[7],T[14]=T[11],{R:T,m:P,N:I}}function E(b){const{R:_}=b,{m:S}=b,{N:T}=b,P=S[0],I=S[1],z=S[2],O=S[3],D=T==0?0:1/T,B=[_[0]-P*P*D,_[1]-P*I*D,_[2]-P*z*D,_[3]-P*O*D,_[4]-I*P*D,_[5]-I*I*D,_[6]-I*z*D,_[7]-I*O*D,_[8]-z*P*D,_[9]-z*I*D,_[10]-z*z*D,_[11]-z*O*D,_[12]-O*P*D,_[13]-O*I*D,_[14]-O*z*D,_[15]-O*O*D],F=B,U=R;let H=[Math.random(),Math.random(),Math.random(),Math.random()],j=0,Y=0;if(T!=0)for(let X=0;X<16&&(H=U.multVec(F,H),Y=Math.sqrt(U.dot(H,H)),H=U.sml(1/Y,H),!(X!=0&&Math.abs(Y-j)<1e-9));X++)j=Y;const K=[P*D,I*D,z*D,O*D];return{Cov:B,q:K,e:H,L:j,eMq255:U.dot(U.sml(255,K),H),eMq:U.dot(H,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var R={multVec:(b,_)=>[b[0]*_[0]+b[1]*_[1]+b[2]*_[2]+b[3]*_[3],b[4]*_[0]+b[5]*_[1]+b[6]*_[2]+b[7]*_[3],b[8]*_[0]+b[9]*_[1]+b[10]*_[2]+b[11]*_[3],b[12]*_[0]+b[13]*_[1]+b[14]*_[2]+b[15]*_[3]],dot:(b,_)=>b[0]*_[0]+b[1]*_[1]+b[2]*_[2]+b[3]*_[3],sml:(b,_)=>[b*_[0],b*_[1],b*_[2],b*_[3]]};Xr.encode=function(_,S,T,P,I,z,O){P==null&&(P=0),O==null&&(O=!1);const D=c(_,S,T,P,[!1,!1,!1,0,O,!1]);return f(D,-1),h(D,S,T,I,z)},Xr.encodeLL=function(_,S,T,P,I,z,O,D){const B={ctype:0+(P==1?0:2)+(I==0?0:4),depth:z,frames:[]},F=(P+I)*z,U=F*S;for(let H=0;H<_.length;H++)B.frames.push({rect:{x:0,y:0,width:S,height:T},img:new Uint8Array(_[H]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(U/8)});return f(B,0,!0),h(B,S,T,O,D)},Xr.encode.compress=c,Xr.encode.dither=l,Xr.quantize=m,Xr.quantize.getKDtree=v,Xr.quantize.getNearest=x})();const w4={toArrayBuffer(n,e){const t=n.width,i=n.height,r=t<<2,s=n.getContext("2d").getImageData(0,0,t,i),a=new Uint32Array(s.data.buffer),l=(32*t+31)/32<<2,h=l*i,f=122+h,c=new ArrayBuffer(f),o=new DataView(c),u=1<<20;let d,p,m,v,x=u,w=0,A=0,M=0;function C(b){o.setUint16(A,b,!0),A+=2}function E(b){o.setUint32(A,b,!0),A+=4}function R(b){A+=b}C(19778),E(f),R(4),E(122),E(108),E(t),E(-i>>>0),C(1),C(32),E(3),E(h),E(2835),E(2835),R(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function b(){for(;w<i&&x>0;){for(v=122+w*l,d=0;d<r;)x--,p=a[M++],m=p>>>24,o.setUint32(v+d,p<<8|m),d+=4;w++}M<a.length?(x=u,setTimeout(b,w4._dly)):e(c)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Ki={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},sU={[Ki.CHROME]:16384,[Ki.FIREFOX]:11180,[Ki.DESKTOP_SAFARI]:16384,[Ki.IE]:8192,[Ki.IOS]:4096,[Ki.ETC]:8192};const CS=typeof window<"u",S4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,yg=CS&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),oU=(CS||S4)&&(yg&&yg.getOriginalSymbol(window,"File")||typeof File<"u"&&File),_4=(CS||S4)&&(yg&&yg.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function MS(n,e,t=Date.now()){return new Promise(i=>{const r=n.split(","),s=r[0].match(/:(.*?);/)[1],a=globalThis.atob(r[1]);let l=a.length;const h=new Uint8Array(l);for(;l--;)h[l]=a.charCodeAt(l);const f=new Blob([h],{type:s});f.name=e,f.lastModified=t,i(f)})}function b4(n){return new Promise((e,t)=>{const i=new _4;i.onload=()=>e(i.result),i.onerror=r=>t(r),i.readAsDataURL(n)})}function A4(n){return new Promise((e,t)=>{const i=new Image;i.onload=()=>e(i),i.onerror=r=>t(r),i.src=n})}function Ya(){if(Ya.cachedResult!==void 0)return Ya.cachedResult;let n=Ki.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Ki.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Ki.IOS:/Safari/i.test(e)?n=Ki.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Ki.FIREFOX:(/MSIE/i.test(e)||!!document.documentMode)&&(n=Ki.IE),Ya.cachedResult=n,Ya.cachedResult}function C4(n,e){const t=Ya(),i=sU[t];let r=n,s=e,a=r*s;const l=r>s?s/r:r/s;for(;a>i*i;){const h=(i+r)/2,f=(i+s)/2;h<f?(s=f,r=f*l):(s=h*l,r=h),a=r*s}return{width:r,height:s}}function lv(n,e){let t,i;try{if(t=new OffscreenCanvas(n,e),i=t.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),i=t.getContext("2d")}return t.width=n,t.height=e,[t,i]}function M4(n,e){const{width:t,height:i}=C4(n.width,n.height),[r,s]=lv(t,i);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,r.width,r.height)),s.drawImage(n,0,0,r.width,r.height),r}function wm(){return wm.cachedResult!==void 0||(wm.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),wm.cachedResult}function xg(n,e={}){return new Promise(function(t,i){let r,s;var a=function(){try{return s=M4(r,e.fileType||n.type),t([r,s])}catch(h){return i(h)}},l=function(h){try{var f=function(c){try{throw c}catch(o){return i(o)}};try{let c;return b4(n).then(function(o){try{return c=o,A4(c).then(function(u){try{return r=u,function(){try{return a()}catch(d){return i(d)}}()}catch(d){return f(d)}},f)}catch(u){return f(u)}},f)}catch(c){f(c)}}catch(c){return i(c)}};try{if(wm()||[Ki.DESKTOP_SAFARI,Ki.MOBILE_SAFARI].includes(Ya()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(h){try{return r=h,a()}catch{return l()}},l)}catch{l()}})}function wg(n,e,t,i,r=1){return new Promise(function(s,a){let l;if(e==="image/png"){let o,u,d;return o=n.getContext("2d"),{data:u}=o.getImageData(0,0,n.width,n.height),d=Xr.encode([u.buffer],n.width,n.height,4096*r),l=new Blob([d],{type:e}),l.name=t,l.lastModified=i,h.call(this)}{let o=function(){return h.call(this)};var f=o;if(e==="image/bmp")return new Promise(u=>w4.toBlob(n,u)).then(function(u){try{return l=u,l.name=t,l.lastModified=i,o.call(this)}catch(d){return a(d)}}.bind(this),a);{let u=function(){return o.call(this)};var c=u;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:r}).then(function(d){try{return l=d,l.name=t,l.lastModified=i,u.call(this)}catch(p){return a(p)}}.bind(this),a);{let d;return d=n.toDataURL(e,r),MS(d,t,i).then(function(p){try{return l=p,u.call(this)}catch(m){return a(m)}}.bind(this),a)}}}function h(){return s(l)}})}function gs(n){n.width=0,n.height=0}function kc(){return new Promise(function(n,e){let t,i,r,s;return kc.cachedResult!==void 0?n(kc.cachedResult):MS("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return t=a,xg(t).then(function(l){try{return i=l[1],wg(i,t.type,t.name,t.lastModified).then(function(h){try{return r=h,gs(i),xg(r).then(function(f){try{return s=f[0],kc.cachedResult=s.width===1&&s.height===2,n(kc.cachedResult)}catch(c){return e(c)}},e)}catch(f){return e(f)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)})}function E4(n){return new Promise((e,t)=>{const i=new _4;i.onload=r=>{const s=new DataView(r.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let l=2;for(;l<a;){if(s.getUint16(l+2,!1)<=8)return e(-1);const h=s.getUint16(l,!1);if(l+=2,h==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,f);const c=s.getUint16(l,f);l+=2;for(let o=0;o<c;o++)if(s.getUint16(l+12*o,f)==274)return e(s.getUint16(l+12*o+8,f))}else{if((65280&h)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},i.onerror=r=>t(r),i.readAsArrayBuffer(n)})}function T4(n,e){const{width:t}=n,{height:i}=n,{maxWidthOrHeight:r}=e;let s,a=n;return isFinite(r)&&(t>r||i>r)&&([a,s]=lv(t,i),t>i?(a.width=r,a.height=i/t*r):(a.width=t/i*r,a.height=r),s.drawImage(n,0,0,a.width,a.height),gs(n)),a}function L4(n,e){const{width:t}=n,{height:i}=n,[r,s]=lv(t,i);switch(e>4&&e<9?(r.width=i,r.height=t):(r.width=t,r.height=i),e){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,i);break;case 4:s.transform(1,0,0,-1,0,i);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,i,0);break;case 7:s.transform(0,-1,-1,0,i,t);break;case 8:s.transform(0,-1,1,0,0,t)}return s.drawImage(n,0,0,t,i),gs(n),r}function r3(n,e,t=0){return new Promise(function(i,r){let s,a,l,h,f,c,o,u,d,p,m,v,x,w,A,M,C,E,R,b;function _(T=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=T,e.onProgress(Math.min(s,100))}function S(T){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(T,s),100),e.onProgress(s)}return s=t,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,_(),xg(n,e).then(function(T){try{return[,h]=T,_(),f=T4(h,e),_(),new Promise(function(P,I){var z;if(!(z=e.exifOrientation))return E4(n).then(function(D){try{return z=D,O.call(this)}catch(B){return I(B)}}.bind(this),I);function O(){return P(z)}return O.call(this)}).then(function(P){try{return c=P,_(),kc().then(function(I){try{return o=I?f:L4(f,c),_(),u=e.initialQuality||1,d=e.fileType||n.type,wg(o,d,n.name,n.lastModified,u).then(function(z){try{{let F=function(){if(a--&&(A>l||A>x)){let H,j;return H=b?.95*R.width:R.width,j=b?.95*R.height:R.height,[C,E]=lv(H,j),E.drawImage(R,0,0,H,j),u*=d==="image/png"?.85:.95,wg(C,d,n.name,n.lastModified,u).then(function(Y){try{return M=Y,gs(R),R=C,A=M.size,S(Math.min(99,Math.floor((w-A)/(w-l)*100))),F}catch(K){return r(K)}},r)}return[1]},U=function(){return gs(R),gs(C),gs(f),gs(o),gs(h),S(100),i(M)};var D=F,B=U;if(p=z,_(),m=p.size>l,v=p.size>n.size,!m&&!v)return S(100),i(p);var O;return x=n.size,w=p.size,A=w,R=o,b=!e.alwaysKeepResolution&&m,(O=function(H){for(;H;){if(H.then)return void H.then(O,r);try{if(H.pop){if(H.length)return H.pop()?U.call(this):H;H=F}else H=H.call(this)}catch(j){return r(j)}}}.bind(this))(F)}}catch(F){return r(F)}}.bind(this),r)}catch(z){return r(z)}}.bind(this),r)}catch(I){return r(I)}}.bind(this),r)}catch(P){return r(P)}}.bind(this),r)})}const aU=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let C1;function lU(n,e){return new Promise((t,i)=>{C1||(C1=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(aU));const r=new Worker(C1);r.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)r.terminate();else if(a.data.progress===void 0){if(a.data.error)return i(new Error(a.data.error)),void r.terminate();t(a.data.file),r.terminate()}else e.onProgress(a.data.progress)}),r.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),r.terminate()}),r.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function ri(n,e){return new Promise(function(t,i){let r,s,a,l,h,f;if(r={...e},a=0,{onProgress:l}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,h=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=d=>{a=d,typeof l=="function"&&l(a)},!(n instanceof Blob||n instanceof oU))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return i(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!h||typeof Worker!="function"||f)return r3(n,r).then(function(d){try{return s=d,u.call(this)}catch(p){return i(p)}}.bind(this),i);var c=function(){try{return u.call(this)}catch(d){return i(d)}}.bind(this),o=function(d){try{return r3(n,r).then(function(p){try{return s=p,c()}catch(m){return i(m)}},i)}catch(p){return i(p)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",lU(n,r).then(function(d){try{return s=d,c()}catch{return o()}},o)}catch{o()}function u(){try{s.name=n.name,s.lastModified=n.lastModified}catch{}try{r.preserveExif&&n.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===n.type)&&(s=x4(n,s))}catch{}return t(s)}})}ri.getDataUrlFromFile=b4,ri.getFilefromDataUrl=MS,ri.loadImage=A4,ri.drawImageInCanvas=M4,ri.drawFileInCanvas=xg,ri.canvasToFile=wg,ri.getExifOrientation=E4,ri.handleMaxWidthOrHeight=T4,ri.followExifOrientation=L4,ri.cleanupCanvasMemory=gs,ri.isAutoOrientationInBrowser=kc,ri.approximateBelowMaximumCanvasSizeOfBrowser=C4,ri.copyExifWithoutOrientation=x4,ri.getBrowserName=Ya,ri.version="2.0.2";function cU(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}async function uU(n,e,t="image/png",i=1,r=!0){return new Promise((s,a)=>{let l=new Image;l.crossOrigin=!0,l.src=n,l.onload=async function(){s(await R4(l,e,t,i,r))}})}async function R4(n,e=64,t="image/png",i=1,r=!0){const s=document.createElement("canvas"),a=s.getContext("2d",{willReadFrequently:!0});s.width=e,s.height=s.width*n.height/n.width,a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(n,0,0,n.width,n.height,0,0,s.width,s.height);let l=s.toDataURL(t);if(!cU()&&r){const f=P4(l.replace(`data:${t};base64,`,"")),c=new Uint8Array(f),o=new Blob([c],{type:t}),u=await ri(o,{maxWidthOrHeight:e,maxIteration:1,useWebWorker:!0});l=await ri.getDataUrlFromFile(u)}let h=new Image;return h.src=l,h}async function hU(n,e,t,i=128,r="image/png",s=1,a=!1){return new Promise(async(l,h)=>{let f=await Mx(n,e,t,r,s,!1);const c=new Image;c.onload=()=>{let o=R4(c,i,r,s,a);l(o)},c.src=f})}function P4(n){for(var e=atob(n),t=e.length,i=new Uint8Array(t),r=0;r<t;r++)i[r]=e.charCodeAt(r);return i.buffer}async function Mx(n,e,t,i="image/png",r=1,s=!0){let a=n.width,l=zT(t.size,a),h=l*Math.floor(a/l);return e!=="random"&&(h=a),new Promise(async(f,c)=>{let o=document.createElement("canvas"),u=o.getContext("2d",{willReadFrequently:!0});o.width=o.height=h,u?.drawImage(n,0,a-h,h,h,0,0,h,h);let d=o.toDataURL(i,r);if(s){let p=P4(d.replace(`data:${i};base64,`,""));f(new Uint8Array(p))}else f(d)})}async function fU(n,e=5e3,t=!1){return new Promise((i,r)=>{const a=[],l=n.captureStream(30),h={mimeType:"video/webm;codecs=vp9,opus"},f=new MediaRecorder(l,h);f.ondataavailable=c=>{c.data.size>0&&(a.push(c.data),a.length-1>e/1e3&&(f.state!=="inactive"?f.stop():i(new Blob(a,{type:"video/webm"}))))},f.onstop=c=>{},f.start(1e3)})}async function dU(n,e="texture"){let t=n.width,i=document.createElement("canvas"),r=i.getContext("2d",{willReadFrequently:!0});i.width=i.height=n.width,r?.drawImage(n,0,0,t,t),i.toBlob(async s=>{const a=URL.createObjectURL(s),l=document.createElement("a");l.setAttribute("download",`${e}.png`),l.setAttribute("href",a),l.click()})}function pU(n,e="video"){const t=document.createElement("video");t.src=URL.createObjectURL(n),t.controls=!0;const i=document.createElement("a");i.setAttribute("download",`${e}.webm`),i.setAttribute("href",t.src),i.click()}function mU(n){const{session:e,supabase:t}=n,[i,r]=ie.exports.useState([]),[s,a]=ie.exports.useState(null),l=ie.exports.useRef(null),h=async()=>{const{data:d,error:p}=await t.from("textures").select(`
                *,
                profiles(
                    *
                )
            `).order("updated_at",{ascending:!1});d?r(d):p&&An.notify(p.message,{error:!0,timeout:2e3})};function f(d){return d.thumbnail_id?`${t.storageUrl}/object/public/textures/thumbnails/${d.thumbnail_id}.png`:d.data.thumbnail}const c=d=>{d!==s&&(a(d),n.onSelect&&n.onSelect(d))},o=()=>{h()},u=async d=>{let p=d.data;if(d.thumbnail_id){let x=f(d),w=await uU(x,64);p.thumbnail=w.src}p.uuid&&delete p.uuid,d.user_id===e?.user?.id?p.resource_id=d.id:delete p.resource_id;let{saved:m,all:v}=await l4(p);n.onSave&&n.onSave(m,v)};return ie.exports.useEffect(()=>{h()},[]),ie.exports.useEffect(()=>{l.current?.querySelectorAll(".community-resource").forEach(d=>{d.addEventListener("pointermove",p=>{d.style.setProperty("--x",p.layerX/d.clientWidth),d.style.setProperty("--y",p.layerY/d.clientHeight)})})},[i]),Q.createElement("section",{className:"community"},Q.createElement("header",{className:"community-header"},Q.createElement("h3",null,"Community textures"),i.length===0&&Q.createElement(sv,null)),Q.createElement("main",null,Q.createElement("div",{className:"community-resources",ref:l},i&&i.map(d=>Q.createElement($8,{resource:d,selected:s===d,...n,onSelect:c,onSave:u,supabase:t,onUnpublish:o})))))}function Sm(n){let{choices:e,label:t,className:i="",buttonClass:r="",menuClass:s="",direction:a="down",align:l="left",onChoose:h=()=>{},showCaret:f=!0,offset:c=0}=n;const[o,u]=ie.exports.useState(!1),d=ie.exports.useRef(null),p=ie.exports.useRef(null),[m,v]=ie.exports.useState(null),x=A=>{h(A),u(!1),A.href&&window.open(A.href,"_blank"),A.function&&A.function(A)},w=ie.exports.useCallback(()=>{u(!1)},[]);return xS(d,w),ie.exports.useEffect(()=>{window.removeEventListener("blur",w),window.addEventListener("blur",w)},[]),ie.exports.useEffect(()=>{if(o&&d.current){let A=d.current.getBoundingClientRect();p.current?.getBoundingClientRect();let M={position:"fixed"};if(l==="right"?(M.right=document.documentElement.clientWidth-A.right,M.left="auto"):l==="top"&&(M.right="auto",M.left=A.left),a==="up"?(M.top="auto",M.bottom=document.documentElement.clientHeight-A.bottom+c):(M.top=A.bottom+c,M.bottom="auto"),v(M),p.current){let C=p.current.querySelector(".dropdown-item.checked");C&&setTimeout(()=>C.scrollIntoView(),100)}}},[o]),[Q.createElement("div",{ref:d,className:`dropdown ${i} ${o?"dropdown--open":""} dropdown--${a} dropdown--${l}`},Q.createElement("button",{className:`dropdown-trigger ${r}`,onClick:()=>u(!o)},Q.createElement("span",{className:"dropdown-label"},t),f&&Q.createElement("svg",{className:"dropdown-chevron",width:"8",height:"7",viewBox:"0 0 8 7",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M3.646 5.354l-3-3 .708-.708L4 4.293l2.646-2.647.708.708-3 3L4 5.707l-.354-.353z","fill-rule":"evenodd","fill-opacity":"1",fill:"currentColor",stroke:"none"})))),su.createPortal(Q.createElement(Q.Fragment,null,Q.createElement("menu",{ref:p,className:`dropdown-choices ${s} ${o&&m?"open":"closed"}`,style:m},Q.createElement("ul",null,e.map(A=>(A.label||A.separator)&&Q.createElement("li",{onClick:M=>{x(A)},className:A.separator?"dropdown-separator":A.className?A.className:`dropdown-item ${A.checked?"checked":""}`},A.checked&&Q.createElement("svg",{className:"dropdown-item-check",width:"8",height:"8",viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z","fill-rule":"evenodd","fill-opacity":"1",fill:"currentColor",stroke:"none"})),A.icon&&Q.createElement("span",{className:"dropdown-item-icon"},A.icon),A.label))))),document.getElementById("root"))]}var Xa={exports:{}},_l={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */_l.ConcurrentRoot=1;_l.ContinuousEventPriority=4;_l.DefaultEventPriority=16;_l.DiscreteEventPriority=1;_l.IdleEventPriority=536870912;_l.LegacyRoot=0;Xa.exports=_l;function gU(n){let e;const t=new Set,i=(f,c)=>{const o=typeof f=="function"?f(e):f;if(o!==e){const u=e;e=c?o:Object.assign({},e,o),t.forEach(d=>d(e,u))}},r=()=>e,s=(f,c=r,o=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let u=c(e);function d(){const p=c(e);if(!o(u,p)){const m=u;f(u=p,m)}}return t.add(d),()=>t.delete(d)},h={setState:i,getState:r,subscribe:(f,c,o)=>c||o?s(f,c,o):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,h),h}const vU=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),s3=vU?ie.exports.useEffect:ie.exports.useLayoutEffect;function yU(n){const e=typeof n=="function"?gU(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=ie.exports.useReducer(v=>v+1,0),a=e.getState(),l=ie.exports.useRef(a),h=ie.exports.useRef(i),f=ie.exports.useRef(r),c=ie.exports.useRef(!1),o=ie.exports.useRef();o.current===void 0&&(o.current=i(a));let u,d=!1;(l.current!==a||h.current!==i||f.current!==r||c.current)&&(u=i(a),d=!r(o.current,u)),s3(()=>{d&&(o.current=u),l.current=a,h.current=i,f.current=r,c.current=!1});const p=ie.exports.useRef(a);s3(()=>{const v=()=>{try{const w=e.getState(),A=h.current(w);f.current(o.current,A)||(l.current=w,o.current=A,s())}catch{c.current=!0,s()}},x=e.subscribe(v);return e.getState()!==p.current&&v(),x},[]);const m=d?u:o.current;return ie.exports.useDebugValue(m),m};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var k4={exports:{}},I4={exports:{}},z4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,U){var H=F.length;F.push(U);e:for(;0<H;){var j=H-1>>>1,Y=F[j];if(0<r(Y,U))F[j]=U,F[H]=Y,H=j;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var U=F[0],H=F.pop();if(H!==U){F[0]=H;e:for(var j=0,Y=F.length,K=Y>>>1;j<K;){var X=2*(j+1)-1,$=F[X],q=X+1,pe=F[q];if(0>r($,H))q<Y&&0>r(pe,$)?(F[j]=pe,F[q]=H,j=q):(F[j]=$,F[X]=H,j=X);else if(q<Y&&0>r(pe,H))F[j]=pe,F[q]=H,j=q;else break e}}return U}function r(F,U){var H=F.sortIndex-U.sortIndex;return H!==0?H:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var h=[],f=[],c=1,o=null,u=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var U=t(f);U!==null;){if(U.callback===null)i(f);else if(U.startTime<=F)i(f),U.sortIndex=U.expirationTime,e(h,U);else break;U=t(f)}}function M(F){if(m=!1,A(F),!p)if(t(h)!==null)p=!0,D(C);else{var U=t(f);U!==null&&B(M,U.startTime-F)}}function C(F,U){p=!1,m&&(m=!1,x(b),b=-1),d=!0;var H=u;try{for(A(U),o=t(h);o!==null&&(!(o.expirationTime>U)||F&&!T());){var j=o.callback;if(typeof j=="function"){o.callback=null,u=o.priorityLevel;var Y=j(o.expirationTime<=U);U=n.unstable_now(),typeof Y=="function"?o.callback=Y:o===t(h)&&i(h),A(U)}else i(h);o=t(h)}if(o!==null)var K=!0;else{var X=t(f);X!==null&&B(M,X.startTime-U),K=!1}return K}finally{o=null,u=H,d=!1}}var E=!1,R=null,b=-1,_=5,S=-1;function T(){return!(n.unstable_now()-S<_)}function P(){if(R!==null){var F=n.unstable_now();S=F;var U=!0;try{U=R(!0,F)}finally{U?I():(E=!1,R=null)}}else E=!1}var I;if(typeof w=="function")I=function(){w(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=P,I=function(){O.postMessage(null)}}else I=function(){v(P,0)};function D(F){R=F,E||(E=!0,I())}function B(F,U){b=v(function(){F(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,D(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return u},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(F){switch(u){case 1:case 2:case 3:var U=3;break;default:U=u}var H=u;u=U;try{return F()}finally{u=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=u;u=F;try{return U()}finally{u=H}},n.unstable_scheduleCallback=function(F,U,H){var j=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,F={id:c++,callback:U,priorityLevel:F,startTime:H,expirationTime:Y,sortIndex:-1},H>j?(F.sortIndex=H,e(f,F),t(h)===null&&F===t(f)&&(m?(x(b),b=-1):m=!0,B(M,H-j))):(F.sortIndex=Y,e(h,F),p||d||(p=!0,D(C))),F},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(F){var U=u;return function(){var H=u;u=U;try{return F.apply(this,arguments)}finally{u=H}}}})(z4);I4.exports=z4;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xU=function(e){var t={},i=ie.exports,r=I4.exports,s=Object.assign;function a(g){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+g,L=1;L<arguments.length;L++)y+="&args[]="+encodeURIComponent(arguments[L]);return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),f=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function E(g){return g===null||typeof g!="object"?null:(g=C&&g[C]||g["@@iterator"],typeof g=="function"?g:null)}function R(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case c:return"Fragment";case f:return"Portal";case u:return"Profiler";case o:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case p:return(g.displayName||"Context")+".Consumer";case d:return(g._context.displayName||"Context")+".Provider";case m:var y=g.render;return g=g.displayName,g||(g=y.displayName||y.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case w:return y=g.displayName||null,y!==null?y:R(g.type)||"Memo";case A:y=g._payload,g=g._init;try{return R(g(y))}catch{}}return null}function b(g){var y=g.type;switch(g.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=y.render,g=g.displayName||g.name||"",y.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(y);case 8:return y===o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function _(g){var y=g,L=g;if(g.alternate)for(;y.return;)y=y.return;else{g=y;do y=g,(y.flags&4098)!==0&&(L=y.return),g=y.return;while(g)}return y.tag===3?L:null}function S(g){if(_(g)!==g)throw Error(a(188))}function T(g){var y=g.alternate;if(!y){if(y=_(g),y===null)throw Error(a(188));return y!==g?null:g}for(var L=g,k=y;;){var N=L.return;if(N===null)break;var W=N.alternate;if(W===null){if(k=N.return,k!==null){L=k;continue}break}if(N.child===W.child){for(W=N.child;W;){if(W===L)return S(N),g;if(W===k)return S(N),y;W=W.sibling}throw Error(a(188))}if(L.return!==k.return)L=N,k=W;else{for(var te=!1,ae=N.child;ae;){if(ae===L){te=!0,L=N,k=W;break}if(ae===k){te=!0,k=N,L=W;break}ae=ae.sibling}if(!te){for(ae=W.child;ae;){if(ae===L){te=!0,L=W,k=N;break}if(ae===k){te=!0,k=W,L=N;break}ae=ae.sibling}if(!te)throw Error(a(189))}}if(L.alternate!==k)throw Error(a(190))}if(L.tag!==3)throw Error(a(188));return L.stateNode.current===L?g:y}function P(g){return g=T(g),g!==null?I(g):null}function I(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var y=I(g);if(y!==null)return y;g=g.sibling}return null}function z(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){if(g.tag!==4){var y=z(g);if(y!==null)return y}g=g.sibling}return null}var O=Array.isArray,D=e.getPublicInstance,B=e.getRootHostContext,F=e.getChildHostContext,U=e.prepareForCommit,H=e.resetAfterCommit,j=e.createInstance,Y=e.appendInitialChild,K=e.finalizeInitialChildren,X=e.prepareUpdate,$=e.shouldSetTextContent,q=e.createTextInstance,pe=e.scheduleTimeout,he=e.cancelTimeout,Ae=e.noTimeout,me=e.isPrimaryRenderer,De=e.supportsMutation,fe=e.supportsPersistence,xe=e.supportsHydration,Le=e.getInstanceFromNode,Re=e.preparePortalMount,Ee=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,Ue=e.supportsMicrotasks,je=e.scheduleMicrotask,ot=e.supportsTestSelectors,ge=e.findFiberRoot,V=e.getBoundingRect,G=e.getTextContent,ne=e.isHiddenSubtree,de=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,Be=e.appendChild,Ie=e.appendChildToContainer,ue=e.commitTextUpdate,Ke=e.commitMount,re=e.commitUpdate,we=e.insertBefore,Oe=e.insertInContainerBefore,Fe=e.removeChild,it=e.removeChildFromContainer,mt=e.resetTextContent,Wt=e.hideInstance,se=e.hideTextInstance,_e=e.unhideInstance,Ne=e.unhideTextInstance,Ye=e.clearContainer,qe=e.cloneInstance,pt=e.createContainerChildSet,Vt=e.appendChildToContainerChildSet,tn=e.finalizeContainerChildren,xn=e.replaceContainerChildren,bt=e.cloneHiddenInstance,Ni=e.cloneHiddenTextInstance,ui=e.canHydrateInstance,bl=e.canHydrateTextInstance,gu=e.canHydrateSuspenseInstance,Al=e.isSuspenseInstancePending,ro=e.isSuspenseInstanceFallback,Z=e.registerSuspenseInstanceRetry,ve=e.getNextHydratableSibling,Te=e.getFirstHydratableChild,ye=e.getFirstHydratableChildWithinContainer,Pe=e.getFirstHydratableChildWithinSuspenseInstance,lt=e.hydrateInstance,dt=e.hydrateTextInstance,ft=e.hydrateSuspenseInstance,At=e.getNextHydratableInstanceAfterSuspenseInstance,kt=e.commitHydratedContainer,Rt=e.commitHydratedSuspenseInstance,Pt=e.clearSuspenseBoundary,an=e.clearSuspenseBoundaryFromContainer,dn=e.shouldDeleteUnhydratedTailInstances,qi=e.didNotMatchHydratedContainerTextInstance,Fr=e.didNotMatchHydratedTextInstance,Zt;function St(g){if(Zt===void 0)try{throw Error()}catch(L){var y=L.stack.trim().match(/\n( *(at )?)/);Zt=y&&y[1]||""}return`
`+Zt+g}var As=!1;function Qt(g,y){if(!g||As)return"";As=!0;var L=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(We){var k=We}Reflect.construct(g,[],y)}else{try{y.call()}catch(We){k=We}g.call(y.prototype)}else{try{throw Error()}catch(We){k=We}g()}}catch(We){if(We&&k&&typeof We.stack=="string"){for(var N=We.stack.split(`
`),W=k.stack.split(`
`),te=N.length-1,ae=W.length-1;1<=te&&0<=ae&&N[te]!==W[ae];)ae--;for(;1<=te&&0<=ae;te--,ae--)if(N[te]!==W[ae]){if(te!==1||ae!==1)do if(te--,ae--,0>ae||N[te]!==W[ae]){var Ce=`
`+N[te].replace(" at new "," at ");return g.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",g.displayName)),Ce}while(1<=te&&0<=ae);break}}}finally{As=!1,Error.prepareStackTrace=L}return(g=g?g.displayName||g.name:"")?St(g):""}var Br=Object.prototype.hasOwnProperty,so=[],Mn=-1;function Fi(g){return{current:g}}function gt(g){0>Mn||(g.current=so[Mn],so[Mn]=null,Mn--)}function It(g,y){Mn++,so[Mn]=g.current,g.current=y}var Bi={},Ft=Fi(Bi),zn=Fi(!1),Ui=Bi;function Ur(g,y){var L=g.type.contextTypes;if(!L)return Bi;var k=g.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===y)return k.__reactInternalMemoizedMaskedChildContext;var N={},W;for(W in L)N[W]=y[W];return k&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=y,g.__reactInternalMemoizedMaskedChildContext=N),N}function Dn(g){return g=g.childContextTypes,g!=null}function ra(){gt(zn),gt(Ft)}function vu(g,y,L){if(Ft.current!==Bi)throw Error(a(168));It(Ft,y),It(zn,L)}function Zf(g,y,L){var k=g.stateNode;if(y=y.childContextTypes,typeof k.getChildContext!="function")return L;k=k.getChildContext();for(var N in k)if(!(N in y))throw Error(a(108,b(g)||"Unknown",N));return s({},L,k)}function Cl(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||Bi,Ui=Ft.current,It(Ft,g),It(zn,zn.current),!0}function ed(g,y,L){var k=g.stateNode;if(!k)throw Error(a(169));L?(g=Zf(g,y,Ui),k.__reactInternalMemoizedMergedChildContext=g,gt(zn),gt(Ft),It(Ft,g)):gt(zn),It(zn,L)}var Ji=Math.clz32?Math.clz32:uv,td=Math.log,cv=Math.LN2;function uv(g){return g>>>=0,g===0?32:31-(td(g)/cv|0)|0}var sa=64,Cs=4194304;function mr(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Ml(g,y){var L=g.pendingLanes;if(L===0)return 0;var k=0,N=g.suspendedLanes,W=g.pingedLanes,te=L&268435455;if(te!==0){var ae=te&~N;ae!==0?k=mr(ae):(W&=te,W!==0&&(k=mr(W)))}else te=L&~N,te!==0?k=mr(te):W!==0&&(k=mr(W));if(k===0)return 0;if(y!==0&&y!==k&&(y&N)===0&&(N=k&-k,W=y&-y,N>=W||N===16&&(W&4194240)!==0))return y;if((k&4)!==0&&(k|=L&16),y=g.entangledLanes,y!==0)for(g=g.entanglements,y&=k;0<y;)L=31-Ji(y),N=1<<L,k|=g[L],y&=~N;return k}function hv(g,y){switch(g){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(g,y){for(var L=g.suspendedLanes,k=g.pingedLanes,N=g.expirationTimes,W=g.pendingLanes;0<W;){var te=31-Ji(W),ae=1<<te,Ce=N[te];Ce===-1?((ae&L)===0||(ae&k)!==0)&&(N[te]=hv(ae,y)):Ce<=y&&(g.expiredLanes|=ae),W&=~ae}}function yu(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function xu(g){for(var y=[],L=0;31>L;L++)y.push(g);return y}function oa(g,y,L){g.pendingLanes|=y,y!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,y=31-Ji(y),g[y]=L}function fv(g,y){var L=g.pendingLanes&~y;g.pendingLanes=y,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=y,g.mutableReadLanes&=y,g.entangledLanes&=y,y=g.entanglements;var k=g.eventTimes;for(g=g.expirationTimes;0<L;){var N=31-Ji(L),W=1<<N;y[N]=0,k[N]=-1,g[N]=-1,L&=~W}}function wu(g,y){var L=g.entangledLanes|=y;for(g=g.entanglements;L;){var k=31-Ji(L),N=1<<k;N&y|g[k]&y&&(g[k]|=y),L&=~N}}var Ct=0;function Su(g){return g&=-g,1<g?4<g?(g&268435455)!==0?16:536870912:4:1}var _u=r.unstable_scheduleCallback,aa=r.unstable_cancelCallback,dv=r.unstable_shouldYield,bu=r.unstable_requestPaint,On=r.unstable_now,El=r.unstable_ImmediatePriority,nd=r.unstable_UserBlockingPriority,Tl=r.unstable_NormalPriority,la=r.unstable_IdlePriority,ca=null,gr=null;function pv(g){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ca,g,void 0,(g.current.flags&128)===128)}catch{}}function mv(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var J=typeof Object.is=="function"?Object.is:mv,oe=null,ze=!1,Je=!1;function Yt(g){oe===null?oe=[g]:oe.push(g)}function vt(g){ze=!0,Yt(g)}function Dt(){if(!Je&&oe!==null){Je=!0;var g=0,y=Ct;try{var L=oe;for(Ct=1;g<L.length;g++){var k=L[g];do k=k(!0);while(k!==null)}oe=null,ze=!1}catch(N){throw oe!==null&&(oe=oe.slice(g+1)),_u(El,Dt),N}finally{Ct=y,Je=!1}}return null}var Nn=l.ReactCurrentBatchConfig;function wn(g,y){if(J(g,y))return!0;if(typeof g!="object"||g===null||typeof y!="object"||y===null)return!1;var L=Object.keys(g),k=Object.keys(y);if(L.length!==k.length)return!1;for(k=0;k<L.length;k++){var N=L[k];if(!Br.call(y,N)||!J(g[N],y[N]))return!1}return!0}function nn(g){switch(g.tag){case 5:return St(g.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 2:case 15:return g=Qt(g.type,!1),g;case 11:return g=Qt(g.type.render,!1),g;case 1:return g=Qt(g.type,!0),g;default:return""}}function rn(g,y){if(g&&g.defaultProps){y=s({},y),g=g.defaultProps;for(var L in g)y[L]===void 0&&(y[L]=g[L]);return y}return y}var hi=Fi(null),En=null,Wn=null,fi=null;function vr(){fi=Wn=En=null}function yr(g,y,L){me?(It(hi,y._currentValue),y._currentValue=L):(It(hi,y._currentValue2),y._currentValue2=L)}function Hr(g){var y=hi.current;gt(hi),me?g._currentValue=y:g._currentValue2=y}function Ll(g,y,L){for(;g!==null;){var k=g.alternate;if((g.childLanes&y)!==y?(g.childLanes|=y,k!==null&&(k.childLanes|=y)):k!==null&&(k.childLanes&y)!==y&&(k.childLanes|=y),g===L)break;g=g.return}}function Wr(g,y){En=g,fi=Wn=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&y)!==0&&(tr=!0),g.firstContext=null)}function ni(g){var y=me?g._currentValue:g._currentValue2;if(fi!==g)if(g={context:g,memoizedValue:y,next:null},Wn===null){if(En===null)throw Error(a(308));Wn=g,En.dependencies={lanes:0,firstContext:g}}else Wn=Wn.next=g;return y}var ls=null,oo=!1;function gv(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LS(g,y){g=g.updateQueue,y.updateQueue===g&&(y.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function Ms(g,y){return{eventTime:g,lane:y,tag:0,payload:null,callback:null,next:null}}function ao(g,y){var L=g.updateQueue;L!==null&&(L=L.shared,Fn!==null&&(g.mode&1)!==0&&(Lt&2)===0?(g=L.interleaved,g===null?(y.next=y,ls===null?ls=[L]:ls.push(L)):(y.next=g.next,g.next=y),L.interleaved=y):(g=L.pending,g===null?y.next=y:(y.next=g.next,g.next=y),L.pending=y))}function id(g,y,L){if(y=y.updateQueue,y!==null&&(y=y.shared,(L&4194240)!==0)){var k=y.lanes;k&=g.pendingLanes,L|=k,y.lanes=L,wu(g,L)}}function RS(g,y){var L=g.updateQueue,k=g.alternate;if(k!==null&&(k=k.updateQueue,L===k)){var N=null,W=null;if(L=L.firstBaseUpdate,L!==null){do{var te={eventTime:L.eventTime,lane:L.lane,tag:L.tag,payload:L.payload,callback:L.callback,next:null};W===null?N=W=te:W=W.next=te,L=L.next}while(L!==null);W===null?N=W=y:W=W.next=y}else N=W=y;L={baseState:k.baseState,firstBaseUpdate:N,lastBaseUpdate:W,shared:k.shared,effects:k.effects},g.updateQueue=L;return}g=L.lastBaseUpdate,g===null?L.firstBaseUpdate=y:g.next=y,L.lastBaseUpdate=y}function rd(g,y,L,k){var N=g.updateQueue;oo=!1;var W=N.firstBaseUpdate,te=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var Ce=ae,We=Ce.next;Ce.next=null,te===null?W=We:te.next=We,te=Ce;var tt=g.alternate;tt!==null&&(tt=tt.updateQueue,ae=tt.lastBaseUpdate,ae!==te&&(ae===null?tt.firstBaseUpdate=We:ae.next=We,tt.lastBaseUpdate=Ce))}if(W!==null){var yt=N.baseState;te=0,tt=We=Ce=null,ae=W;do{var ut=ae.lane,$t=ae.eventTime;if((k&ut)===ut){tt!==null&&(tt=tt.next={eventTime:$t,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var st=g,gi=ae;switch(ut=y,$t=L,gi.tag){case 1:if(st=gi.payload,typeof st=="function"){yt=st.call($t,yt,ut);break e}yt=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=gi.payload,ut=typeof st=="function"?st.call($t,yt,ut):st,ut==null)break e;yt=s({},yt,ut);break e;case 2:oo=!0}}ae.callback!==null&&ae.lane!==0&&(g.flags|=64,ut=N.effects,ut===null?N.effects=[ae]:ut.push(ae))}else $t={eventTime:$t,lane:ut,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},tt===null?(We=tt=$t,Ce=yt):tt=tt.next=$t,te|=ut;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;ut=ae,ae=ut.next,ut.next=null,N.lastBaseUpdate=ut,N.shared.pending=null}}while(1);if(tt===null&&(Ce=yt),N.baseState=Ce,N.firstBaseUpdate=We,N.lastBaseUpdate=tt,y=N.shared.interleaved,y!==null){N=y;do te|=N.lane,N=N.next;while(N!==y)}else W===null&&(N.shared.lanes=0);Fl|=te,g.lanes=te,g.memoizedState=yt}}function PS(g,y,L){if(g=y.effects,y.effects=null,g!==null)for(y=0;y<g.length;y++){var k=g[y],N=k.callback;if(N!==null){if(k.callback=null,k=L,typeof N!="function")throw Error(a(191,N));N.call(k)}}}var kS=new i.Component().refs;function vv(g,y,L,k){y=g.memoizedState,L=L(k,y),L=L==null?y:s({},y,L),g.memoizedState=L,g.lanes===0&&(g.updateQueue.baseState=L)}var sd={isMounted:function(g){return(g=g._reactInternals)?_(g)===g:!1},enqueueSetState:function(g,y,L){g=g._reactInternals;var k=Mi(),N=uo(g),W=Ms(k,N);W.payload=y,L!=null&&(W.callback=L),ao(g,W),y=br(g,N,k),y!==null&&id(y,g,N)},enqueueReplaceState:function(g,y,L){g=g._reactInternals;var k=Mi(),N=uo(g),W=Ms(k,N);W.tag=1,W.payload=y,L!=null&&(W.callback=L),ao(g,W),y=br(g,N,k),y!==null&&id(y,g,N)},enqueueForceUpdate:function(g,y){g=g._reactInternals;var L=Mi(),k=uo(g),N=Ms(L,k);N.tag=2,y!=null&&(N.callback=y),ao(g,N),y=br(g,k,L),y!==null&&id(y,g,k)}};function IS(g,y,L,k,N,W,te){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(k,W,te):y.prototype&&y.prototype.isPureReactComponent?!wn(L,k)||!wn(N,W):!0}function zS(g,y,L){var k=!1,N=Bi,W=y.contextType;return typeof W=="object"&&W!==null?W=ni(W):(N=Dn(y)?Ui:Ft.current,k=y.contextTypes,W=(k=k!=null)?Ur(g,N):Bi),y=new y(L,W),g.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=sd,g.stateNode=y,y._reactInternals=g,k&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=N,g.__reactInternalMemoizedMaskedChildContext=W),y}function DS(g,y,L,k){g=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(L,k),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(L,k),y.state!==g&&sd.enqueueReplaceState(y,y.state,null)}function yv(g,y,L,k){var N=g.stateNode;N.props=L,N.state=g.memoizedState,N.refs=kS,gv(g);var W=y.contextType;typeof W=="object"&&W!==null?N.context=ni(W):(W=Dn(y)?Ui:Ft.current,N.context=Ur(g,W)),N.state=g.memoizedState,W=y.getDerivedStateFromProps,typeof W=="function"&&(vv(g,y,W,L),N.state=g.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(y=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),y!==N.state&&sd.enqueueReplaceState(N,N.state,null),rd(g,L,N,k),N.state=g.memoizedState),typeof N.componentDidMount=="function"&&(g.flags|=4194308)}var Rl=[],Pl=0,od=null,ad=0,xr=[],wr=0,ua=null,Es=1,Ts="";function ha(g,y){Rl[Pl++]=ad,Rl[Pl++]=od,od=g,ad=y}function OS(g,y,L){xr[wr++]=Es,xr[wr++]=Ts,xr[wr++]=ua,ua=g;var k=Es;g=Ts;var N=32-Ji(k)-1;k&=~(1<<N),L+=1;var W=32-Ji(y)+N;if(30<W){var te=N-N%5;W=(k&(1<<te)-1).toString(32),k>>=te,N-=te,Es=1<<32-Ji(y)+N|L<<N|k,Ts=W+g}else Es=1<<W|L<<N|k,Ts=g}function xv(g){g.return!==null&&(ha(g,1),OS(g,1,0))}function wv(g){for(;g===od;)od=Rl[--Pl],Rl[Pl]=null,ad=Rl[--Pl],Rl[Pl]=null;for(;g===ua;)ua=xr[--wr],xr[wr]=null,Ts=xr[--wr],xr[wr]=null,Es=xr[--wr],xr[wr]=null}var Zi=null,er=null,ln=!1,Au=!1,Vr=null;function NS(g,y){var L=Ar(5,null,null,0);L.elementType="DELETED",L.stateNode=y,L.return=g,y=g.deletions,y===null?(g.deletions=[L],g.flags|=16):y.push(L)}function FS(g,y){switch(g.tag){case 5:return y=ui(y,g.type,g.pendingProps),y!==null?(g.stateNode=y,Zi=g,er=Te(y),!0):!1;case 6:return y=bl(y,g.pendingProps),y!==null?(g.stateNode=y,Zi=g,er=null,!0):!1;case 13:if(y=gu(y),y!==null){var L=ua!==null?{id:Es,overflow:Ts}:null;return g.memoizedState={dehydrated:y,treeContext:L,retryLane:1073741824},L=Ar(18,null,null,0),L.stateNode=y,L.return=g,g.child=L,Zi=g,er=null,!0}return!1;default:return!1}}function Sv(g){return(g.mode&1)!==0&&(g.flags&128)===0}function _v(g){if(ln){var y=er;if(y){var L=y;if(!FS(g,y)){if(Sv(g))throw Error(a(418));y=ve(L);var k=Zi;y&&FS(g,y)?NS(k,L):(g.flags=g.flags&-4097|2,ln=!1,Zi=g)}}else{if(Sv(g))throw Error(a(418));g.flags=g.flags&-4097|2,ln=!1,Zi=g}}}function BS(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Zi=g}function Cu(g){if(!xe||g!==Zi)return!1;if(!ln)return BS(g),ln=!0,!1;if(g.tag!==3&&(g.tag!==5||dn(g.type)&&!$(g.type,g.memoizedProps))){var y=er;if(y){if(Sv(g)){for(g=er;g;)g=ve(g);throw Error(a(418))}for(;y;)NS(g,y),y=ve(y)}}if(BS(g),g.tag===13){if(!xe)throw Error(a(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));er=At(g)}else er=Zi?ve(g.stateNode):null;return!0}function kl(){xe&&(er=Zi=null,Au=ln=!1)}function bv(g){Vr===null?Vr=[g]:Vr.push(g)}function Mu(g,y,L){if(g=L.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(L._owner){if(L=L._owner,L){if(L.tag!==1)throw Error(a(309));var k=L.stateNode}if(!k)throw Error(a(147,g));var N=k,W=""+g;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===W?y.ref:(y=function(te){var ae=N.refs;ae===kS&&(ae=N.refs={}),te===null?delete ae[W]:ae[W]=te},y._stringRef=W,y)}if(typeof g!="string")throw Error(a(284));if(!L._owner)throw Error(a(290,g))}return g}function ld(g,y){throw g=Object.prototype.toString.call(y),Error(a(31,g==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":g))}function US(g){var y=g._init;return y(g._payload)}function HS(g){function y(Se,le){if(g){var be=Se.deletions;be===null?(Se.deletions=[le],Se.flags|=16):be.push(le)}}function L(Se,le){if(!g)return null;for(;le!==null;)y(Se,le),le=le.sibling;return null}function k(Se,le){for(Se=new Map;le!==null;)le.key!==null?Se.set(le.key,le):Se.set(le.index,le),le=le.sibling;return Se}function N(Se,le){return Se=fo(Se,le),Se.index=0,Se.sibling=null,Se}function W(Se,le,be){return Se.index=be,g?(be=Se.alternate,be!==null?(be=be.index,be<le?(Se.flags|=2,le):be):(Se.flags|=2,le)):(Se.flags|=1048576,le)}function te(Se){return g&&Se.alternate===null&&(Se.flags|=2),Se}function ae(Se,le,be,$e){return le===null||le.tag!==6?(le=o0(be,Se.mode,$e),le.return=Se,le):(le=N(le,be),le.return=Se,le)}function Ce(Se,le,be,$e){var rt=be.type;return rt===c?tt(Se,le,be.props.children,$e,be.key):le!==null&&(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===A&&US(rt)===le.type)?($e=N(le,be.props),$e.ref=Mu(Se,le,be),$e.return=Se,$e):($e=Bd(be.type,be.key,be.props,null,Se.mode,$e),$e.ref=Mu(Se,le,be),$e.return=Se,$e)}function We(Se,le,be,$e){return le===null||le.tag!==4||le.stateNode.containerInfo!==be.containerInfo||le.stateNode.implementation!==be.implementation?(le=a0(be,Se.mode,$e),le.return=Se,le):(le=N(le,be.children||[]),le.return=Se,le)}function tt(Se,le,be,$e,rt){return le===null||le.tag!==7?(le=ya(be,Se.mode,$e,rt),le.return=Se,le):(le=N(le,be),le.return=Se,le)}function yt(Se,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return le=o0(""+le,Se.mode,be),le.return=Se,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case h:return be=Bd(le.type,le.key,le.props,null,Se.mode,be),be.ref=Mu(Se,null,le),be.return=Se,be;case f:return le=a0(le,Se.mode,be),le.return=Se,le;case A:var $e=le._init;return yt(Se,$e(le._payload),be)}if(O(le)||E(le))return le=ya(le,Se.mode,be,null),le.return=Se,le;ld(Se,le)}return null}function ut(Se,le,be,$e){var rt=le!==null?le.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return rt!==null?null:ae(Se,le,""+be,$e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case h:return be.key===rt?Ce(Se,le,be,$e):null;case f:return be.key===rt?We(Se,le,be,$e):null;case A:return rt=be._init,ut(Se,le,rt(be._payload),$e)}if(O(be)||E(be))return rt!==null?null:tt(Se,le,be,$e,null);ld(Se,be)}return null}function $t(Se,le,be,$e,rt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Se=Se.get(be)||null,ae(le,Se,""+$e,rt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case h:return Se=Se.get($e.key===null?be:$e.key)||null,Ce(le,Se,$e,rt);case f:return Se=Se.get($e.key===null?be:$e.key)||null,We(le,Se,$e,rt);case A:var Mt=$e._init;return $t(Se,le,be,Mt($e._payload),rt)}if(O($e)||E($e))return Se=Se.get(be)||null,tt(le,Se,$e,rt,null);ld(le,$e)}return null}function st(Se,le,be,$e){for(var rt=null,Mt=null,xt=le,Bt=le=0,$n=null;xt!==null&&Bt<be.length;Bt++){xt.index>Bt?($n=xt,xt=null):$n=xt.sibling;var Ut=ut(Se,xt,be[Bt],$e);if(Ut===null){xt===null&&(xt=$n);break}g&&xt&&Ut.alternate===null&&y(Se,xt),le=W(Ut,le,Bt),Mt===null?rt=Ut:Mt.sibling=Ut,Mt=Ut,xt=$n}if(Bt===be.length)return L(Se,xt),ln&&ha(Se,Bt),rt;if(xt===null){for(;Bt<be.length;Bt++)xt=yt(Se,be[Bt],$e),xt!==null&&(le=W(xt,le,Bt),Mt===null?rt=xt:Mt.sibling=xt,Mt=xt);return ln&&ha(Se,Bt),rt}for(xt=k(Se,xt);Bt<be.length;Bt++)$n=$t(xt,Se,Bt,be[Bt],$e),$n!==null&&(g&&$n.alternate!==null&&xt.delete($n.key===null?Bt:$n.key),le=W($n,le,Bt),Mt===null?rt=$n:Mt.sibling=$n,Mt=$n);return g&&xt.forEach(function(po){return y(Se,po)}),ln&&ha(Se,Bt),rt}function gi(Se,le,be,$e){var rt=E(be);if(typeof rt!="function")throw Error(a(150));if(be=rt.call(be),be==null)throw Error(a(151));for(var Mt=rt=null,xt=le,Bt=le=0,$n=null,Ut=be.next();xt!==null&&!Ut.done;Bt++,Ut=be.next()){xt.index>Bt?($n=xt,xt=null):$n=xt.sibling;var po=ut(Se,xt,Ut.value,$e);if(po===null){xt===null&&(xt=$n);break}g&&xt&&po.alternate===null&&y(Se,xt),le=W(po,le,Bt),Mt===null?rt=po:Mt.sibling=po,Mt=po,xt=$n}if(Ut.done)return L(Se,xt),ln&&ha(Se,Bt),rt;if(xt===null){for(;!Ut.done;Bt++,Ut=be.next())Ut=yt(Se,Ut.value,$e),Ut!==null&&(le=W(Ut,le,Bt),Mt===null?rt=Ut:Mt.sibling=Ut,Mt=Ut);return ln&&ha(Se,Bt),rt}for(xt=k(Se,xt);!Ut.done;Bt++,Ut=be.next())Ut=$t(xt,Se,Bt,Ut.value,$e),Ut!==null&&(g&&Ut.alternate!==null&&xt.delete(Ut.key===null?Bt:Ut.key),le=W(Ut,le,Bt),Mt===null?rt=Ut:Mt.sibling=Ut,Mt=Ut);return g&&xt.forEach(function(LL){return y(Se,LL)}),ln&&ha(Se,Bt),rt}function Cr(Se,le,be,$e){if(typeof be=="object"&&be!==null&&be.type===c&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case h:e:{for(var rt=be.key,Mt=le;Mt!==null;){if(Mt.key===rt){if(rt=be.type,rt===c){if(Mt.tag===7){L(Se,Mt.sibling),le=N(Mt,be.props.children),le.return=Se,Se=le;break e}}else if(Mt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===A&&US(rt)===Mt.type){L(Se,Mt.sibling),le=N(Mt,be.props),le.ref=Mu(Se,Mt,be),le.return=Se,Se=le;break e}L(Se,Mt);break}else y(Se,Mt);Mt=Mt.sibling}be.type===c?(le=ya(be.props.children,Se.mode,$e,be.key),le.return=Se,Se=le):($e=Bd(be.type,be.key,be.props,null,Se.mode,$e),$e.ref=Mu(Se,le,be),$e.return=Se,Se=$e)}return te(Se);case f:e:{for(Mt=be.key;le!==null;){if(le.key===Mt)if(le.tag===4&&le.stateNode.containerInfo===be.containerInfo&&le.stateNode.implementation===be.implementation){L(Se,le.sibling),le=N(le,be.children||[]),le.return=Se,Se=le;break e}else{L(Se,le);break}else y(Se,le);le=le.sibling}le=a0(be,Se.mode,$e),le.return=Se,Se=le}return te(Se);case A:return Mt=be._init,Cr(Se,le,Mt(be._payload),$e)}if(O(be))return st(Se,le,be,$e);if(E(be))return gi(Se,le,be,$e);ld(Se,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,le!==null&&le.tag===6?(L(Se,le.sibling),le=N(le,be),le.return=Se,Se=le):(L(Se,le),le=o0(be,Se.mode,$e),le.return=Se,Se=le),te(Se)):L(Se,le)}return Cr}var Il=HS(!0),WS=HS(!1),Eu={},Sr=Fi(Eu),Tu=Fi(Eu),zl=Fi(Eu);function cs(g){if(g===Eu)throw Error(a(174));return g}function Av(g,y){It(zl,y),It(Tu,g),It(Sr,Eu),g=B(y),gt(Sr),It(Sr,g)}function Dl(){gt(Sr),gt(Tu),gt(zl)}function VS(g){var y=cs(zl.current),L=cs(Sr.current);y=F(L,g.type,y),L!==y&&(It(Tu,g),It(Sr,y))}function Cv(g){Tu.current===g&&(gt(Sr),gt(Tu))}var pn=Fi(0);function cd(g){for(var y=g;y!==null;){if(y.tag===13){var L=y.memoizedState;if(L!==null&&(L=L.dehydrated,L===null||Al(L)||ro(L)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var Mv=[];function Ev(){for(var g=0;g<Mv.length;g++){var y=Mv[g];me?y._workInProgressVersionPrimary=null:y._workInProgressVersionSecondary=null}Mv.length=0}var ud=l.ReactCurrentDispatcher,_r=l.ReactCurrentBatchConfig,Ol=0,Sn=null,di=null,Qn=null,hd=!1,Lu=!1,Ru=0,eL=0;function pi(){throw Error(a(321))}function Tv(g,y){if(y===null)return!1;for(var L=0;L<y.length&&L<g.length;L++)if(!J(g[L],y[L]))return!1;return!0}function Lv(g,y,L,k,N,W){if(Ol=W,Sn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,ud.current=g===null||g.memoizedState===null?rL:sL,g=L(k,N),Lu){W=0;do{if(Lu=!1,Ru=0,25<=W)throw Error(a(301));W+=1,Qn=di=null,y.updateQueue=null,ud.current=oL,g=L(k,N)}while(Lu)}if(ud.current=gd,y=di!==null&&di.next!==null,Ol=0,Qn=di=Sn=null,hd=!1,y)throw Error(a(300));return g}function Rv(){var g=Ru!==0;return Ru=0,g}function Ls(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?Sn.memoizedState=Qn=g:Qn=Qn.next=g,Qn}function us(){if(di===null){var g=Sn.alternate;g=g!==null?g.memoizedState:null}else g=di.next;var y=Qn===null?Sn.memoizedState:Qn.next;if(y!==null)Qn=y,di=g;else{if(g===null)throw Error(a(310));di=g,g={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Qn===null?Sn.memoizedState=Qn=g:Qn=Qn.next=g}return Qn}function fa(g,y){return typeof y=="function"?y(g):y}function fd(g){var y=us(),L=y.queue;if(L===null)throw Error(a(311));L.lastRenderedReducer=g;var k=di,N=k.baseQueue,W=L.pending;if(W!==null){if(N!==null){var te=N.next;N.next=W.next,W.next=te}k.baseQueue=N=W,L.pending=null}if(N!==null){W=N.next,k=k.baseState;var ae=te=null,Ce=null,We=W;do{var tt=We.lane;if((Ol&tt)===tt)Ce!==null&&(Ce=Ce.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),k=We.hasEagerState?We.eagerState:g(k,We.action);else{var yt={lane:tt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Ce===null?(ae=Ce=yt,te=k):Ce=Ce.next=yt,Sn.lanes|=tt,Fl|=tt}We=We.next}while(We!==null&&We!==W);Ce===null?te=k:Ce.next=ae,J(k,y.memoizedState)||(tr=!0),y.memoizedState=k,y.baseState=te,y.baseQueue=Ce,L.lastRenderedState=k}if(g=L.interleaved,g!==null){N=g;do W=N.lane,Sn.lanes|=W,Fl|=W,N=N.next;while(N!==g)}else N===null&&(L.lanes=0);return[y.memoizedState,L.dispatch]}function dd(g){var y=us(),L=y.queue;if(L===null)throw Error(a(311));L.lastRenderedReducer=g;var k=L.dispatch,N=L.pending,W=y.memoizedState;if(N!==null){L.pending=null;var te=N=N.next;do W=g(W,te.action),te=te.next;while(te!==N);J(W,y.memoizedState)||(tr=!0),y.memoizedState=W,y.baseQueue===null&&(y.baseState=W),L.lastRenderedState=W}return[W,k]}function GS(){}function KS(g,y){var L=Sn,k=us(),N=y(),W=!J(k.memoizedState,N);if(W&&(k.memoizedState=N,tr=!0),k=k.queue,ku(XS.bind(null,L,k,g),[g]),k.getSnapshot!==y||W||Qn!==null&&Qn.memoizedState.tag&1){if(L.flags|=2048,Pu(9,YS.bind(null,L,k,N,y),void 0,null),Fn===null)throw Error(a(349));(Ol&30)!==0||jS(L,y,N)}return N}function jS(g,y,L){g.flags|=16384,g={getSnapshot:y,value:L},y=Sn.updateQueue,y===null?(y={lastEffect:null,stores:null},Sn.updateQueue=y,y.stores=[g]):(L=y.stores,L===null?y.stores=[g]:L.push(g))}function YS(g,y,L,k){y.value=L,y.getSnapshot=k,QS(y)&&br(g,1,-1)}function XS(g,y,L){return L(function(){QS(y)&&br(g,1,-1)})}function QS(g){var y=g.getSnapshot;g=g.value;try{var L=y();return!J(g,L)}catch{return!0}}function Pv(g){var y=Ls();return typeof g=="function"&&(g=g()),y.memoizedState=y.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:g},y.queue=g,g=g.dispatch=iL.bind(null,Sn,g),[y.memoizedState,g]}function Pu(g,y,L,k){return g={tag:g,create:y,destroy:L,deps:k,next:null},y=Sn.updateQueue,y===null?(y={lastEffect:null,stores:null},Sn.updateQueue=y,y.lastEffect=g.next=g):(L=y.lastEffect,L===null?y.lastEffect=g.next=g:(k=L.next,L.next=g,g.next=k,y.lastEffect=g)),g}function $S(){return us().memoizedState}function pd(g,y,L,k){var N=Ls();Sn.flags|=g,N.memoizedState=Pu(1|y,L,void 0,k===void 0?null:k)}function md(g,y,L,k){var N=us();k=k===void 0?null:k;var W=void 0;if(di!==null){var te=di.memoizedState;if(W=te.destroy,k!==null&&Tv(k,te.deps)){N.memoizedState=Pu(y,L,W,k);return}}Sn.flags|=g,N.memoizedState=Pu(1|y,L,W,k)}function kv(g,y){return pd(8390656,8,g,y)}function ku(g,y){return md(2048,8,g,y)}function qS(g,y){return md(4,2,g,y)}function JS(g,y){return md(4,4,g,y)}function ZS(g,y){if(typeof y=="function")return g=g(),y(g),function(){y(null)};if(y!=null)return g=g(),y.current=g,function(){y.current=null}}function e2(g,y,L){return L=L!=null?L.concat([g]):null,md(4,4,ZS.bind(null,y,g),L)}function Iv(){}function t2(g,y){var L=us();y=y===void 0?null:y;var k=L.memoizedState;return k!==null&&y!==null&&Tv(y,k[1])?k[0]:(L.memoizedState=[g,y],g)}function n2(g,y){var L=us();y=y===void 0?null:y;var k=L.memoizedState;return k!==null&&y!==null&&Tv(y,k[1])?k[0]:(g=g(),L.memoizedState=[g,y],g)}function tL(g,y){var L=Ct;Ct=L!==0&&4>L?L:4,g(!0);var k=_r.transition;_r.transition={};try{g(!1),y()}finally{Ct=L,_r.transition=k}}function i2(){return us().memoizedState}function nL(g,y,L){var k=uo(g);L={lane:k,action:L,hasEagerState:!1,eagerState:null,next:null},r2(g)?s2(y,L):(o2(g,y,L),L=Mi(),g=br(g,k,L),g!==null&&a2(g,y,k))}function iL(g,y,L){var k=uo(g),N={lane:k,action:L,hasEagerState:!1,eagerState:null,next:null};if(r2(g))s2(y,N);else{o2(g,y,N);var W=g.alternate;if(g.lanes===0&&(W===null||W.lanes===0)&&(W=y.lastRenderedReducer,W!==null))try{var te=y.lastRenderedState,ae=W(te,L);if(N.hasEagerState=!0,N.eagerState=ae,J(ae,te))return}catch{}finally{}L=Mi(),g=br(g,k,L),g!==null&&a2(g,y,k)}}function r2(g){var y=g.alternate;return g===Sn||y!==null&&y===Sn}function s2(g,y){Lu=hd=!0;var L=g.pending;L===null?y.next=y:(y.next=L.next,L.next=y),g.pending=y}function o2(g,y,L){Fn!==null&&(g.mode&1)!==0&&(Lt&2)===0?(g=y.interleaved,g===null?(L.next=L,ls===null?ls=[y]:ls.push(y)):(L.next=g.next,g.next=L),y.interleaved=L):(g=y.pending,g===null?L.next=L:(L.next=g.next,g.next=L),y.pending=L)}function a2(g,y,L){if((L&4194240)!==0){var k=y.lanes;k&=g.pendingLanes,L|=k,y.lanes=L,wu(g,L)}}var gd={readContext:ni,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},rL={readContext:ni,useCallback:function(g,y){return Ls().memoizedState=[g,y===void 0?null:y],g},useContext:ni,useEffect:kv,useImperativeHandle:function(g,y,L){return L=L!=null?L.concat([g]):null,pd(4194308,4,ZS.bind(null,y,g),L)},useLayoutEffect:function(g,y){return pd(4194308,4,g,y)},useInsertionEffect:function(g,y){return pd(4,2,g,y)},useMemo:function(g,y){var L=Ls();return y=y===void 0?null:y,g=g(),L.memoizedState=[g,y],g},useReducer:function(g,y,L){var k=Ls();return y=L!==void 0?L(y):y,k.memoizedState=k.baseState=y,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:y},k.queue=g,g=g.dispatch=nL.bind(null,Sn,g),[k.memoizedState,g]},useRef:function(g){var y=Ls();return g={current:g},y.memoizedState=g},useState:Pv,useDebugValue:Iv,useDeferredValue:function(g){var y=Pv(g),L=y[0],k=y[1];return kv(function(){var N=_r.transition;_r.transition={};try{k(g)}finally{_r.transition=N}},[g]),L},useTransition:function(){var g=Pv(!1),y=g[0];return g=tL.bind(null,g[1]),Ls().memoizedState=g,[y,g]},useMutableSource:function(){},useSyncExternalStore:function(g,y,L){var k=Sn,N=Ls();if(ln){if(L===void 0)throw Error(a(407));L=L()}else{if(L=y(),Fn===null)throw Error(a(349));(Ol&30)!==0||jS(k,y,L)}N.memoizedState=L;var W={value:L,getSnapshot:y};return N.queue=W,kv(XS.bind(null,k,W,g),[g]),k.flags|=2048,Pu(9,YS.bind(null,k,W,L,y),void 0,null),L},useId:function(){var g=Ls(),y=Fn.identifierPrefix;if(ln){var L=Ts,k=Es;L=(k&~(1<<32-Ji(k)-1)).toString(32)+L,y=":"+y+"R"+L,L=Ru++,0<L&&(y+="H"+L.toString(32)),y+=":"}else L=eL++,y=":"+y+"r"+L.toString(32)+":";return g.memoizedState=y},unstable_isNewReconciler:!1},sL={readContext:ni,useCallback:t2,useContext:ni,useEffect:ku,useImperativeHandle:e2,useInsertionEffect:qS,useLayoutEffect:JS,useMemo:n2,useReducer:fd,useRef:$S,useState:function(){return fd(fa)},useDebugValue:Iv,useDeferredValue:function(g){var y=fd(fa),L=y[0],k=y[1];return ku(function(){var N=_r.transition;_r.transition={};try{k(g)}finally{_r.transition=N}},[g]),L},useTransition:function(){var g=fd(fa)[0],y=us().memoizedState;return[g,y]},useMutableSource:GS,useSyncExternalStore:KS,useId:i2,unstable_isNewReconciler:!1},oL={readContext:ni,useCallback:t2,useContext:ni,useEffect:ku,useImperativeHandle:e2,useInsertionEffect:qS,useLayoutEffect:JS,useMemo:n2,useReducer:dd,useRef:$S,useState:function(){return dd(fa)},useDebugValue:Iv,useDeferredValue:function(g){var y=dd(fa),L=y[0],k=y[1];return ku(function(){var N=_r.transition;_r.transition={};try{k(g)}finally{_r.transition=N}},[g]),L},useTransition:function(){var g=dd(fa)[0],y=us().memoizedState;return[g,y]},useMutableSource:GS,useSyncExternalStore:KS,useId:i2,unstable_isNewReconciler:!1};function zv(g,y){try{var L="",k=y;do L+=nn(k),k=k.return;while(k);var N=L}catch(W){N=`
Error generating stack: `+W.message+`
`+W.stack}return{value:g,source:y,stack:N}}function Dv(g,y){try{console.error(y.value)}catch(L){setTimeout(function(){throw L})}}var aL=typeof WeakMap=="function"?WeakMap:Map;function l2(g,y,L){L=Ms(-1,L),L.tag=3,L.payload={element:null};var k=y.value;return L.callback=function(){kd||(kd=!0,Zv=k),Dv(g,y)},L}function c2(g,y,L){L=Ms(-1,L),L.tag=3;var k=g.type.getDerivedStateFromError;if(typeof k=="function"){var N=y.value;L.payload=function(){return k(N)},L.callback=function(){Dv(g,y)}}var W=g.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(L.callback=function(){Dv(g,y),typeof k!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var te=y.stack;this.componentDidCatch(y.value,{componentStack:te!==null?te:""})}),L}function u2(g,y,L){var k=g.pingCache;if(k===null){k=g.pingCache=new aL;var N=new Set;k.set(y,N)}else N=k.get(y),N===void 0&&(N=new Set,k.set(y,N));N.has(L)||(N.add(L),g=SL.bind(null,g,y,L),y.then(g,g))}function h2(g){do{var y;if((y=g.tag===13)&&(y=g.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return g;g=g.return}while(g!==null);return null}function f2(g,y,L,k,N){return(g.mode&1)===0?(g===y?g.flags|=65536:(g.flags|=128,L.flags|=131072,L.flags&=-52805,L.tag===1&&(L.alternate===null?L.tag=17:(y=Ms(-1,1),y.tag=2,ao(L,y))),L.lanes|=1),g):(g.flags|=65536,g.lanes=N,g)}function hs(g){g.flags|=4}function d2(g,y){if(g!==null&&g.child===y.child)return!0;if((y.flags&16)!==0)return!1;for(g=y.child;g!==null;){if((g.flags&12854)!==0||(g.subtreeFlags&12854)!==0)return!1;g=g.sibling}return!0}var Iu,zu,vd,yd;if(De)Iu=function(g,y){for(var L=y.child;L!==null;){if(L.tag===5||L.tag===6)Y(g,L.stateNode);else if(L.tag!==4&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===y)break;for(;L.sibling===null;){if(L.return===null||L.return===y)return;L=L.return}L.sibling.return=L.return,L=L.sibling}},zu=function(){},vd=function(g,y,L,k,N){if(g=g.memoizedProps,g!==k){var W=y.stateNode,te=cs(Sr.current);L=X(W,L,g,k,N,te),(y.updateQueue=L)&&hs(y)}},yd=function(g,y,L,k){L!==k&&hs(y)};else if(fe){Iu=function(g,y,L,k){for(var N=y.child;N!==null;){if(N.tag===5){var W=N.stateNode;L&&k&&(W=bt(W,N.type,N.memoizedProps,N)),Y(g,W)}else if(N.tag===6)W=N.stateNode,L&&k&&(W=Ni(W,N.memoizedProps,N)),Y(g,W);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)W=N.child,W!==null&&(W.return=N),Iu(g,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===y)break;for(;N.sibling===null;){if(N.return===null||N.return===y)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var p2=function(g,y,L,k){for(var N=y.child;N!==null;){if(N.tag===5){var W=N.stateNode;L&&k&&(W=bt(W,N.type,N.memoizedProps,N)),Vt(g,W)}else if(N.tag===6)W=N.stateNode,L&&k&&(W=Ni(W,N.memoizedProps,N)),Vt(g,W);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)W=N.child,W!==null&&(W.return=N),p2(g,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===y)break;for(;N.sibling===null;){if(N.return===null||N.return===y)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};zu=function(g,y){var L=y.stateNode;if(!d2(g,y)){g=L.containerInfo;var k=pt(g);p2(k,y,!1,!1),L.pendingChildren=k,hs(y),tn(g,k)}},vd=function(g,y,L,k,N){var W=g.stateNode,te=g.memoizedProps;if((g=d2(g,y))&&te===k)y.stateNode=W;else{var ae=y.stateNode,Ce=cs(Sr.current),We=null;te!==k&&(We=X(ae,L,te,k,N,Ce)),g&&We===null?y.stateNode=W:(W=qe(W,We,L,te,k,y,g,ae),K(W,L,k,N,Ce)&&hs(y),y.stateNode=W,g?hs(y):Iu(W,y,!1,!1))}},yd=function(g,y,L,k){L!==k?(g=cs(zl.current),L=cs(Sr.current),y.stateNode=q(k,g,L,y),hs(y)):y.stateNode=g.stateNode}}else zu=function(){},vd=function(){},yd=function(){};function Du(g,y){if(!ln)switch(g.tailMode){case"hidden":y=g.tail;for(var L=null;y!==null;)y.alternate!==null&&(L=y),y=y.sibling;L===null?g.tail=null:L.sibling=null;break;case"collapsed":L=g.tail;for(var k=null;L!==null;)L.alternate!==null&&(k=L),L=L.sibling;k===null?y||g.tail===null?g.tail=null:g.tail.sibling=null:k.sibling=null}}function mi(g){var y=g.alternate!==null&&g.alternate.child===g.child,L=0,k=0;if(y)for(var N=g.child;N!==null;)L|=N.lanes|N.childLanes,k|=N.subtreeFlags&14680064,k|=N.flags&14680064,N.return=g,N=N.sibling;else for(N=g.child;N!==null;)L|=N.lanes|N.childLanes,k|=N.subtreeFlags,k|=N.flags,N.return=g,N=N.sibling;return g.subtreeFlags|=k,g.childLanes=L,y}function lL(g,y,L){var k=y.pendingProps;switch(wv(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(y),null;case 1:return Dn(y.type)&&ra(),mi(y),null;case 3:return k=y.stateNode,Dl(),gt(zn),gt(Ft),Ev(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(g===null||g.child===null)&&(Cu(y)?hs(y):g===null||g.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Vr!==null&&(n0(Vr),Vr=null))),zu(g,y),mi(y),null;case 5:Cv(y),L=cs(zl.current);var N=y.type;if(g!==null&&y.stateNode!=null)vd(g,y,N,k,L),g.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!k){if(y.stateNode===null)throw Error(a(166));return mi(y),null}if(g=cs(Sr.current),Cu(y)){if(!xe)throw Error(a(175));g=lt(y.stateNode,y.type,y.memoizedProps,L,g,y,!Au),y.updateQueue=g,g!==null&&hs(y)}else{var W=j(N,k,L,g,y);Iu(W,y,!1,!1),y.stateNode=W,K(W,N,k,L,g)&&hs(y)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return mi(y),null;case 6:if(g&&y.stateNode!=null)yd(g,y,g.memoizedProps,k);else{if(typeof k!="string"&&y.stateNode===null)throw Error(a(166));if(g=cs(zl.current),L=cs(Sr.current),Cu(y)){if(!xe)throw Error(a(176));if(g=y.stateNode,k=y.memoizedProps,(L=dt(g,k,y,!Au))&&(N=Zi,N!==null))switch(W=(N.mode&1)!==0,N.tag){case 3:qi(N.stateNode.containerInfo,g,k,W);break;case 5:Fr(N.type,N.memoizedProps,N.stateNode,g,k,W)}L&&hs(y)}else y.stateNode=q(k,g,L,y)}return mi(y),null;case 13:if(gt(pn),k=y.memoizedState,ln&&er!==null&&(y.mode&1)!==0&&(y.flags&128)===0){for(g=er;g;)g=ve(g);return kl(),y.flags|=98560,y}if(k!==null&&k.dehydrated!==null){if(k=Cu(y),g===null){if(!k)throw Error(a(318));if(!xe)throw Error(a(344));if(g=y.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));ft(g,y)}else kl(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;return mi(y),null}return Vr!==null&&(n0(Vr),Vr=null),(y.flags&128)!==0?(y.lanes=L,y):(k=k!==null,L=!1,g===null?Cu(y):L=g.memoizedState!==null,k&&!L&&(y.child.flags|=8192,(y.mode&1)!==0&&(g===null||(pn.current&1)!==0?Vn===0&&(Vn=3):r0())),y.updateQueue!==null&&(y.flags|=4),mi(y),null);case 4:return Dl(),zu(g,y),g===null&&Re(y.stateNode.containerInfo),mi(y),null;case 10:return Hr(y.type._context),mi(y),null;case 17:return Dn(y.type)&&ra(),mi(y),null;case 19:if(gt(pn),N=y.memoizedState,N===null)return mi(y),null;if(k=(y.flags&128)!==0,W=N.rendering,W===null)if(k)Du(N,!1);else{if(Vn!==0||g!==null&&(g.flags&128)!==0)for(g=y.child;g!==null;){if(W=cd(g),W!==null){for(y.flags|=128,Du(N,!1),g=W.updateQueue,g!==null&&(y.updateQueue=g,y.flags|=4),y.subtreeFlags=0,g=L,k=y.child;k!==null;)L=k,N=g,L.flags&=14680066,W=L.alternate,W===null?(L.childLanes=0,L.lanes=N,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=W.childLanes,L.lanes=W.lanes,L.child=W.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=W.memoizedProps,L.memoizedState=W.memoizedState,L.updateQueue=W.updateQueue,L.type=W.type,N=W.dependencies,L.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),k=k.sibling;return It(pn,pn.current&1|2),y.child}g=g.sibling}N.tail!==null&&On()>Jv&&(y.flags|=128,k=!0,Du(N,!1),y.lanes=4194304)}else{if(!k)if(g=cd(W),g!==null){if(y.flags|=128,k=!0,g=g.updateQueue,g!==null&&(y.updateQueue=g,y.flags|=4),Du(N,!0),N.tail===null&&N.tailMode==="hidden"&&!W.alternate&&!ln)return mi(y),null}else 2*On()-N.renderingStartTime>Jv&&L!==1073741824&&(y.flags|=128,k=!0,Du(N,!1),y.lanes=4194304);N.isBackwards?(W.sibling=y.child,y.child=W):(g=N.last,g!==null?g.sibling=W:y.child=W,N.last=W)}return N.tail!==null?(y=N.tail,N.rendering=y,N.tail=y.sibling,N.renderingStartTime=On(),y.sibling=null,g=pn.current,It(pn,k?g&1|2:g&1),y):(mi(y),null);case 22:case 23:return i0(),k=y.memoizedState!==null,g!==null&&g.memoizedState!==null!==k&&(y.flags|=8192),k&&(y.mode&1)!==0?(nr&1073741824)!==0&&(mi(y),De&&y.subtreeFlags&6&&(y.flags|=8192)):mi(y),null;case 24:return null;case 25:return null}throw Error(a(156,y.tag))}var cL=l.ReactCurrentOwner,tr=!1;function Ci(g,y,L,k){y.child=g===null?WS(y,null,L,k):Il(y,g.child,L,k)}function m2(g,y,L,k,N){L=L.render;var W=y.ref;return Wr(y,N),k=Lv(g,y,L,k,W,N),L=Rv(),g!==null&&!tr?(y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~N,Rs(g,y,N)):(ln&&L&&xv(y),y.flags|=1,Ci(g,y,k,N),y.child)}function g2(g,y,L,k,N){if(g===null){var W=L.type;return typeof W=="function"&&!s0(W)&&W.defaultProps===void 0&&L.compare===null&&L.defaultProps===void 0?(y.tag=15,y.type=W,v2(g,y,W,k,N)):(g=Bd(L.type,null,k,y,y.mode,N),g.ref=y.ref,g.return=y,y.child=g)}if(W=g.child,(g.lanes&N)===0){var te=W.memoizedProps;if(L=L.compare,L=L!==null?L:wn,L(te,k)&&g.ref===y.ref)return Rs(g,y,N)}return y.flags|=1,g=fo(W,k),g.ref=y.ref,g.return=y,y.child=g}function v2(g,y,L,k,N){if(g!==null&&wn(g.memoizedProps,k)&&g.ref===y.ref)if(tr=!1,(g.lanes&N)!==0)(g.flags&131072)!==0&&(tr=!0);else return y.lanes=g.lanes,Rs(g,y,N);return Ov(g,y,L,k,N)}function y2(g,y,L){var k=y.pendingProps,N=k.children,W=g!==null?g.memoizedState:null;if(k.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null},It(Nl,nr),nr|=L;else if((L&1073741824)!==0)y.memoizedState={baseLanes:0,cachePool:null},k=W!==null?W.baseLanes:L,It(Nl,nr),nr|=k;else return g=W!==null?W.baseLanes|L:L,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:g,cachePool:null},y.updateQueue=null,It(Nl,nr),nr|=g,null;else W!==null?(k=W.baseLanes|L,y.memoizedState=null):k=L,It(Nl,nr),nr|=k;return Ci(g,y,N,L),y.child}function x2(g,y){var L=y.ref;(g===null&&L!==null||g!==null&&g.ref!==L)&&(y.flags|=512,y.flags|=2097152)}function Ov(g,y,L,k,N){var W=Dn(L)?Ui:Ft.current;return W=Ur(y,W),Wr(y,N),L=Lv(g,y,L,k,W,N),k=Rv(),g!==null&&!tr?(y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~N,Rs(g,y,N)):(ln&&k&&xv(y),y.flags|=1,Ci(g,y,L,N),y.child)}function w2(g,y,L,k,N){if(Dn(L)){var W=!0;Cl(y)}else W=!1;if(Wr(y,N),y.stateNode===null)g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),zS(y,L,k),yv(y,L,k,N),k=!0;else if(g===null){var te=y.stateNode,ae=y.memoizedProps;te.props=ae;var Ce=te.context,We=L.contextType;typeof We=="object"&&We!==null?We=ni(We):(We=Dn(L)?Ui:Ft.current,We=Ur(y,We));var tt=L.getDerivedStateFromProps,yt=typeof tt=="function"||typeof te.getSnapshotBeforeUpdate=="function";yt||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(ae!==k||Ce!==We)&&DS(y,te,k,We),oo=!1;var ut=y.memoizedState;te.state=ut,rd(y,k,te,N),Ce=y.memoizedState,ae!==k||ut!==Ce||zn.current||oo?(typeof tt=="function"&&(vv(y,L,tt,k),Ce=y.memoizedState),(ae=oo||IS(y,L,ae,k,ut,Ce,We))?(yt||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(y.flags|=4194308)):(typeof te.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=k,y.memoizedState=Ce),te.props=k,te.state=Ce,te.context=We,k=ae):(typeof te.componentDidMount=="function"&&(y.flags|=4194308),k=!1)}else{te=y.stateNode,LS(g,y),ae=y.memoizedProps,We=y.type===y.elementType?ae:rn(y.type,ae),te.props=We,yt=y.pendingProps,ut=te.context,Ce=L.contextType,typeof Ce=="object"&&Ce!==null?Ce=ni(Ce):(Ce=Dn(L)?Ui:Ft.current,Ce=Ur(y,Ce));var $t=L.getDerivedStateFromProps;(tt=typeof $t=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(ae!==yt||ut!==Ce)&&DS(y,te,k,Ce),oo=!1,ut=y.memoizedState,te.state=ut,rd(y,k,te,N);var st=y.memoizedState;ae!==yt||ut!==st||zn.current||oo?(typeof $t=="function"&&(vv(y,L,$t,k),st=y.memoizedState),(We=oo||IS(y,L,We,k,ut,st,Ce)||!1)?(tt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(k,st,Ce),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(k,st,Ce)),typeof te.componentDidUpdate=="function"&&(y.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof te.componentDidUpdate!="function"||ae===g.memoizedProps&&ut===g.memoizedState||(y.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||ae===g.memoizedProps&&ut===g.memoizedState||(y.flags|=1024),y.memoizedProps=k,y.memoizedState=st),te.props=k,te.state=st,te.context=Ce,k=We):(typeof te.componentDidUpdate!="function"||ae===g.memoizedProps&&ut===g.memoizedState||(y.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||ae===g.memoizedProps&&ut===g.memoizedState||(y.flags|=1024),k=!1)}return Nv(g,y,L,k,W,N)}function Nv(g,y,L,k,N,W){x2(g,y);var te=(y.flags&128)!==0;if(!k&&!te)return N&&ed(y,L,!1),Rs(g,y,W);k=y.stateNode,cL.current=y;var ae=te&&typeof L.getDerivedStateFromError!="function"?null:k.render();return y.flags|=1,g!==null&&te?(y.child=Il(y,g.child,null,W),y.child=Il(y,null,ae,W)):Ci(g,y,ae,W),y.memoizedState=k.state,N&&ed(y,L,!0),y.child}function S2(g){var y=g.stateNode;y.pendingContext?vu(g,y.pendingContext,y.pendingContext!==y.context):y.context&&vu(g,y.context,!1),Av(g,y.containerInfo)}function _2(g,y,L,k,N){return kl(),bv(N),y.flags|=256,Ci(g,y,L,k),y.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function wd(g){return{baseLanes:g,cachePool:null}}function b2(g,y,L){var k=y.pendingProps,N=pn.current,W=!1,te=(y.flags&128)!==0,ae;if((ae=te)||(ae=g!==null&&g.memoizedState===null?!1:(N&2)!==0),ae?(W=!0,y.flags&=-129):(g===null||g.memoizedState!==null)&&(N|=1),It(pn,N&1),g===null)return _v(y),g=y.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?((y.mode&1)===0?y.lanes=1:ro(g)?y.lanes=8:y.lanes=1073741824,null):(N=k.children,g=k.fallback,W?(k=y.mode,W=y.child,N={mode:"hidden",children:N},(k&1)===0&&W!==null?(W.childLanes=0,W.pendingProps=N):W=Ud(N,k,0,null),g=ya(g,k,L,null),W.return=y,g.return=y,W.sibling=g,y.child=W,y.child.memoizedState=wd(L),y.memoizedState=xd,g):Fv(y,N));if(N=g.memoizedState,N!==null){if(ae=N.dehydrated,ae!==null){if(te)return y.flags&256?(y.flags&=-257,Sd(g,y,L,Error(a(422)))):y.memoizedState!==null?(y.child=g.child,y.flags|=128,null):(W=k.fallback,N=y.mode,k=Ud({mode:"visible",children:k.children},N,0,null),W=ya(W,N,L,null),W.flags|=2,k.return=y,W.return=y,k.sibling=W,y.child=k,(y.mode&1)!==0&&Il(y,g.child,null,L),y.child.memoizedState=wd(L),y.memoizedState=xd,W);if((y.mode&1)===0)y=Sd(g,y,L,null);else if(ro(ae))y=Sd(g,y,L,Error(a(419)));else if(k=(L&g.childLanes)!==0,tr||k){if(k=Fn,k!==null){switch(L&-L){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}k=(W&(k.suspendedLanes|L))!==0?0:W,k!==0&&k!==N.retryLane&&(N.retryLane=k,br(g,k,-1))}r0(),y=Sd(g,y,L,Error(a(421)))}else Al(ae)?(y.flags|=128,y.child=g.child,y=_L.bind(null,g),Z(ae,y),y=null):(L=N.treeContext,xe&&(er=Pe(ae),Zi=y,ln=!0,Vr=null,Au=!1,L!==null&&(xr[wr++]=Es,xr[wr++]=Ts,xr[wr++]=ua,Es=L.id,Ts=L.overflow,ua=y)),y=Fv(y,y.pendingProps.children),y.flags|=4096);return y}return W?(k=C2(g,y,k.children,k.fallback,L),W=y.child,N=g.child.memoizedState,W.memoizedState=N===null?wd(L):{baseLanes:N.baseLanes|L,cachePool:null},W.childLanes=g.childLanes&~L,y.memoizedState=xd,k):(L=A2(g,y,k.children,L),y.memoizedState=null,L)}return W?(k=C2(g,y,k.children,k.fallback,L),W=y.child,N=g.child.memoizedState,W.memoizedState=N===null?wd(L):{baseLanes:N.baseLanes|L,cachePool:null},W.childLanes=g.childLanes&~L,y.memoizedState=xd,k):(L=A2(g,y,k.children,L),y.memoizedState=null,L)}function Fv(g,y){return y=Ud({mode:"visible",children:y},g.mode,0,null),y.return=g,g.child=y}function A2(g,y,L,k){var N=g.child;return g=N.sibling,L=fo(N,{mode:"visible",children:L}),(y.mode&1)===0&&(L.lanes=k),L.return=y,L.sibling=null,g!==null&&(k=y.deletions,k===null?(y.deletions=[g],y.flags|=16):k.push(g)),y.child=L}function C2(g,y,L,k,N){var W=y.mode;g=g.child;var te=g.sibling,ae={mode:"hidden",children:L};return(W&1)===0&&y.child!==g?(L=y.child,L.childLanes=0,L.pendingProps=ae,y.deletions=null):(L=fo(g,ae),L.subtreeFlags=g.subtreeFlags&14680064),te!==null?k=fo(te,k):(k=ya(k,W,N,null),k.flags|=2),k.return=y,L.return=y,L.sibling=k,y.child=L,k}function Sd(g,y,L,k){return k!==null&&bv(k),Il(y,g.child,null,L),g=Fv(y,y.pendingProps.children),g.flags|=2,y.memoizedState=null,g}function M2(g,y,L){g.lanes|=y;var k=g.alternate;k!==null&&(k.lanes|=y),Ll(g.return,y,L)}function Bv(g,y,L,k,N){var W=g.memoizedState;W===null?g.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:k,tail:L,tailMode:N}:(W.isBackwards=y,W.rendering=null,W.renderingStartTime=0,W.last=k,W.tail=L,W.tailMode=N)}function E2(g,y,L){var k=y.pendingProps,N=k.revealOrder,W=k.tail;if(Ci(g,y,k.children,L),k=pn.current,(k&2)!==0)k=k&1|2,y.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=y.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&M2(g,L,y);else if(g.tag===19)M2(g,L,y);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===y)break e;for(;g.sibling===null;){if(g.return===null||g.return===y)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}k&=1}if(It(pn,k),(y.mode&1)===0)y.memoizedState=null;else switch(N){case"forwards":for(L=y.child,N=null;L!==null;)g=L.alternate,g!==null&&cd(g)===null&&(N=L),L=L.sibling;L=N,L===null?(N=y.child,y.child=null):(N=L.sibling,L.sibling=null),Bv(y,!1,N,L,W);break;case"backwards":for(L=null,N=y.child,y.child=null;N!==null;){if(g=N.alternate,g!==null&&cd(g)===null){y.child=N;break}g=N.sibling,N.sibling=L,L=N,N=g}Bv(y,!0,L,null,W);break;case"together":Bv(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function Rs(g,y,L){if(g!==null&&(y.dependencies=g.dependencies),Fl|=y.lanes,(L&y.childLanes)===0)return null;if(g!==null&&y.child!==g.child)throw Error(a(153));if(y.child!==null){for(g=y.child,L=fo(g,g.pendingProps),y.child=L,L.return=y;g.sibling!==null;)g=g.sibling,L=L.sibling=fo(g,g.pendingProps),L.return=y;L.sibling=null}return y.child}function uL(g,y,L){switch(y.tag){case 3:S2(y),kl();break;case 5:VS(y);break;case 1:Dn(y.type)&&Cl(y);break;case 4:Av(y,y.stateNode.containerInfo);break;case 10:yr(y,y.type._context,y.memoizedProps.value);break;case 13:var k=y.memoizedState;if(k!==null)return k.dehydrated!==null?(It(pn,pn.current&1),y.flags|=128,null):(L&y.child.childLanes)!==0?b2(g,y,L):(It(pn,pn.current&1),g=Rs(g,y,L),g!==null?g.sibling:null);It(pn,pn.current&1);break;case 19:if(k=(L&y.childLanes)!==0,(g.flags&128)!==0){if(k)return E2(g,y,L);y.flags|=128}var N=y.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),It(pn,pn.current),k)break;return null;case 22:case 23:return y.lanes=0,y2(g,y,L)}return Rs(g,y,L)}function hL(g,y){switch(wv(y),y.tag){case 1:return Dn(y.type)&&ra(),g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 3:return Dl(),gt(zn),gt(Ft),Ev(),g=y.flags,(g&65536)!==0&&(g&128)===0?(y.flags=g&-65537|128,y):null;case 5:return Cv(y),null;case 13:if(gt(pn),g=y.memoizedState,g!==null&&g.dehydrated!==null){if(y.alternate===null)throw Error(a(340));kl()}return g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 19:return gt(pn),null;case 4:return Dl(),null;case 10:return Hr(y.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var _d=!1,da=!1,fL=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function bd(g,y){var L=g.ref;if(L!==null)if(typeof L=="function")try{L(null)}catch(k){Vi(g,y,k)}else L.current=null}function Uv(g,y,L){try{L()}catch(k){Vi(g,y,k)}}var T2=!1;function dL(g,y){for(U(g.containerInfo),Qe=y;Qe!==null;)if(g=Qe,y=g.child,(g.subtreeFlags&1028)!==0&&y!==null)y.return=g,Qe=y;else for(;Qe!==null;){g=Qe;try{var L=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var k=L.memoizedProps,N=L.memoizedState,W=g.stateNode,te=W.getSnapshotBeforeUpdate(g.elementType===g.type?k:rn(g.type,k),N);W.__reactInternalSnapshotBeforeUpdate=te}break;case 3:De&&Ye(g.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ae){Vi(g,g.return,ae)}if(y=g.sibling,y!==null){y.return=g.return,Qe=y;break}Qe=g.return}return L=T2,T2=!1,L}function pa(g,y,L){var k=y.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var N=k=k.next;do{if((N.tag&g)===g){var W=N.destroy;N.destroy=void 0,W!==void 0&&Uv(y,L,W)}N=N.next}while(N!==k)}}function Ou(g,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var L=y=y.next;do{if((L.tag&g)===g){var k=L.create;L.destroy=k()}L=L.next}while(L!==y)}}function Hv(g){var y=g.ref;if(y!==null){var L=g.stateNode;switch(g.tag){case 5:g=D(L);break;default:g=L}typeof y=="function"?y(g):y.current=g}}function L2(g,y,L){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ca,y)}catch{}switch(y.tag){case 0:case 11:case 14:case 15:if(g=y.updateQueue,g!==null&&(g=g.lastEffect,g!==null)){var k=g=g.next;do{var N=k,W=N.destroy;N=N.tag,W!==void 0&&((N&2)!==0||(N&4)!==0)&&Uv(y,L,W),k=k.next}while(k!==g)}break;case 1:if(bd(y,L),g=y.stateNode,typeof g.componentWillUnmount=="function")try{g.props=y.memoizedProps,g.state=y.memoizedState,g.componentWillUnmount()}catch(te){Vi(y,L,te)}break;case 5:bd(y,L);break;case 4:De?D2(g,y,L):fe&&fe&&(y=y.stateNode.containerInfo,L=pt(y),xn(y,L))}}function R2(g,y,L){for(var k=y;;)if(L2(g,k,L),k.child===null||De&&k.tag===4){if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return}k.sibling.return=k.return,k=k.sibling}else k.child.return=k,k=k.child}function P2(g){var y=g.alternate;y!==null&&(g.alternate=null,P2(y)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(y=g.stateNode,y!==null&&Ge(y)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function k2(g){return g.tag===5||g.tag===3||g.tag===4}function I2(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||k2(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function z2(g){if(De){e:{for(var y=g.return;y!==null;){if(k2(y))break e;y=y.return}throw Error(a(160))}var L=y;switch(L.tag){case 5:y=L.stateNode,L.flags&32&&(mt(y),L.flags&=-33),L=I2(g),Vv(g,L,y);break;case 3:case 4:y=L.stateNode.containerInfo,L=I2(g),Wv(g,L,y);break;default:throw Error(a(161))}}}function Wv(g,y,L){var k=g.tag;if(k===5||k===6)g=g.stateNode,y?Oe(L,g,y):Ie(L,g);else if(k!==4&&(g=g.child,g!==null))for(Wv(g,y,L),g=g.sibling;g!==null;)Wv(g,y,L),g=g.sibling}function Vv(g,y,L){var k=g.tag;if(k===5||k===6)g=g.stateNode,y?we(L,g,y):Be(L,g);else if(k!==4&&(g=g.child,g!==null))for(Vv(g,y,L),g=g.sibling;g!==null;)Vv(g,y,L),g=g.sibling}function D2(g,y,L){for(var k=y,N=!1,W,te;;){if(!N){N=k.return;e:for(;;){if(N===null)throw Error(a(160));switch(W=N.stateNode,N.tag){case 5:te=!1;break e;case 3:W=W.containerInfo,te=!0;break e;case 4:W=W.containerInfo,te=!0;break e}N=N.return}N=!0}if(k.tag===5||k.tag===6)R2(g,k,L),te?it(W,k.stateNode):Fe(W,k.stateNode);else if(k.tag===18)te?an(W,k.stateNode):Pt(W,k.stateNode);else if(k.tag===4){if(k.child!==null){W=k.stateNode.containerInfo,te=!0,k.child.return=k,k=k.child;continue}}else if(L2(g,k,L),k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return,k.tag===4&&(N=!1)}k.sibling.return=k.return,k=k.sibling}}function Gv(g,y){if(De){switch(y.tag){case 0:case 11:case 14:case 15:pa(3,y,y.return),Ou(3,y),pa(5,y,y.return);return;case 1:return;case 5:var L=y.stateNode;if(L!=null){var k=y.memoizedProps;g=g!==null?g.memoizedProps:k;var N=y.type,W=y.updateQueue;y.updateQueue=null,W!==null&&re(L,W,N,g,k,y)}return;case 6:if(y.stateNode===null)throw Error(a(162));L=y.memoizedProps,ue(y.stateNode,g!==null?g.memoizedProps:L,L);return;case 3:xe&&g!==null&&g.memoizedState.isDehydrated&&kt(y.stateNode.containerInfo);return;case 12:return;case 13:Ad(y);return;case 19:Ad(y);return;case 17:return}throw Error(a(163))}switch(y.tag){case 0:case 11:case 14:case 15:pa(3,y,y.return),Ou(3,y),pa(5,y,y.return);return;case 12:return;case 13:Ad(y);return;case 19:Ad(y);return;case 3:xe&&g!==null&&g.memoizedState.isDehydrated&&kt(y.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(y.tag){case 1:case 5:case 6:break e;case 3:case 4:y=y.stateNode,xn(y.containerInfo,y.pendingChildren);break e}throw Error(a(163))}}function Ad(g){var y=g.updateQueue;if(y!==null){g.updateQueue=null;var L=g.stateNode;L===null&&(L=g.stateNode=new fL),y.forEach(function(k){var N=bL.bind(null,g,k);L.has(k)||(L.add(k),k.then(N,N))})}}function pL(g,y){for(Qe=y;Qe!==null;){y=Qe;var L=y.deletions;if(L!==null)for(var k=0;k<L.length;k++){var N=L[k];try{var W=g;De?D2(W,N,y):R2(W,N,y);var te=N.alternate;te!==null&&(te.return=null),N.return=null}catch(rt){Vi(N,y,rt)}}if(L=y.child,(y.subtreeFlags&12854)!==0&&L!==null)L.return=y,Qe=L;else for(;Qe!==null;){y=Qe;try{var ae=y.flags;if(ae&32&&De&&mt(y.stateNode),ae&512){var Ce=y.alternate;if(Ce!==null){var We=Ce.ref;We!==null&&(typeof We=="function"?We(null):We.current=null)}}if(ae&8192)switch(y.tag){case 13:if(y.memoizedState!==null){var tt=y.alternate;(tt===null||tt.memoizedState===null)&&(qv=On())}break;case 22:var yt=y.memoizedState!==null,ut=y.alternate,$t=ut!==null&&ut.memoizedState!==null;if(L=y,De){e:if(k=L,N=yt,W=null,De)for(var st=k;;){if(st.tag===5){if(W===null){W=st;var gi=st.stateNode;N?Wt(gi):_e(st.stateNode,st.memoizedProps)}}else if(st.tag===6){if(W===null){var Cr=st.stateNode;N?se(Cr):Ne(Cr,st.memoizedProps)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===k)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===k)break;for(;st.sibling===null;){if(st.return===null||st.return===k)break e;W===st&&(W=null),st=st.return}W===st&&(W=null),st.sibling.return=st.return,st=st.sibling}}if(yt&&!$t&&(L.mode&1)!==0){Qe=L;for(var Se=L.child;Se!==null;){for(L=Qe=Se;Qe!==null;){k=Qe;var le=k.child;switch(k.tag){case 0:case 11:case 14:case 15:pa(4,k,k.return);break;case 1:bd(k,k.return);var be=k.stateNode;if(typeof be.componentWillUnmount=="function"){var $e=k.return;try{be.props=k.memoizedProps,be.state=k.memoizedState,be.componentWillUnmount()}catch(rt){Vi(k,$e,rt)}}break;case 5:bd(k,k.return);break;case 22:if(k.memoizedState!==null){F2(L);continue}}le!==null?(le.return=k,Qe=le):F2(L)}Se=Se.sibling}}}switch(ae&4102){case 2:z2(y),y.flags&=-3;break;case 6:z2(y),y.flags&=-3,Gv(y.alternate,y);break;case 4096:y.flags&=-4097;break;case 4100:y.flags&=-4097,Gv(y.alternate,y);break;case 4:Gv(y.alternate,y)}}catch(rt){Vi(y,y.return,rt)}if(L=y.sibling,L!==null){L.return=y.return,Qe=L;break}Qe=y.return}}}function mL(g,y,L){Qe=g,O2(g)}function O2(g,y,L){for(var k=(g.mode&1)!==0;Qe!==null;){var N=Qe,W=N.child;if(N.tag===22&&k){var te=N.memoizedState!==null||_d;if(!te){var ae=N.alternate,Ce=ae!==null&&ae.memoizedState!==null||da;ae=_d;var We=da;if(_d=te,(da=Ce)&&!We)for(Qe=N;Qe!==null;)te=Qe,Ce=te.child,te.tag===22&&te.memoizedState!==null?B2(N):Ce!==null?(Ce.return=te,Qe=Ce):B2(N);for(;W!==null;)Qe=W,O2(W),W=W.sibling;Qe=N,_d=ae,da=We}N2(g)}else(N.subtreeFlags&8772)!==0&&W!==null?(W.return=N,Qe=W):N2(g)}}function N2(g){for(;Qe!==null;){var y=Qe;if((y.flags&8772)!==0){var L=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:da||Ou(5,y);break;case 1:var k=y.stateNode;if(y.flags&4&&!da)if(L===null)k.componentDidMount();else{var N=y.elementType===y.type?L.memoizedProps:rn(y.type,L.memoizedProps);k.componentDidUpdate(N,L.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var W=y.updateQueue;W!==null&&PS(y,W,k);break;case 3:var te=y.updateQueue;if(te!==null){if(L=null,y.child!==null)switch(y.child.tag){case 5:L=D(y.child.stateNode);break;case 1:L=y.child.stateNode}PS(y,te,L)}break;case 5:var ae=y.stateNode;L===null&&y.flags&4&&Ke(ae,y.type,y.memoizedProps,y);break;case 6:break;case 4:break;case 12:break;case 13:if(xe&&y.memoizedState===null){var Ce=y.alternate;if(Ce!==null){var We=Ce.memoizedState;if(We!==null){var tt=We.dehydrated;tt!==null&&Rt(tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}da||y.flags&512&&Hv(y)}catch(yt){Vi(y,y.return,yt)}}if(y===g){Qe=null;break}if(L=y.sibling,L!==null){L.return=y.return,Qe=L;break}Qe=y.return}}function F2(g){for(;Qe!==null;){var y=Qe;if(y===g){Qe=null;break}var L=y.sibling;if(L!==null){L.return=y.return,Qe=L;break}Qe=y.return}}function B2(g){for(;Qe!==null;){var y=Qe;try{switch(y.tag){case 0:case 11:case 15:var L=y.return;try{Ou(4,y)}catch(Ce){Vi(y,L,Ce)}break;case 1:var k=y.stateNode;if(typeof k.componentDidMount=="function"){var N=y.return;try{k.componentDidMount()}catch(Ce){Vi(y,N,Ce)}}var W=y.return;try{Hv(y)}catch(Ce){Vi(y,W,Ce)}break;case 5:var te=y.return;try{Hv(y)}catch(Ce){Vi(y,te,Ce)}}}catch(Ce){Vi(y,y.return,Ce)}if(y===g){Qe=null;break}var ae=y.sibling;if(ae!==null){ae.return=y.return,Qe=ae;break}Qe=y.return}}var Cd=0,Md=1,Ed=2,Td=3,Ld=4;if(typeof Symbol=="function"&&Symbol.for){var Nu=Symbol.for;Cd=Nu("selector.component"),Md=Nu("selector.has_pseudo_class"),Ed=Nu("selector.role"),Td=Nu("selector.test_id"),Ld=Nu("selector.text")}function Kv(g){var y=Le(g);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(a(364));return y}if(g=ge(g),g===null)throw Error(a(362));return g.stateNode.current}function jv(g,y){switch(y.$$typeof){case Cd:if(g.type===y.value)return!0;break;case Md:e:{y=y.value,g=[g,0];for(var L=0;L<g.length;){var k=g[L++],N=g[L++],W=y[N];if(k.tag!==5||!ne(k)){for(;W!=null&&jv(k,W);)N++,W=y[N];if(N===y.length){y=!0;break e}else for(k=k.child;k!==null;)g.push(k,N),k=k.sibling}}y=!1}return y;case Ed:if(g.tag===5&&de(g.stateNode,y.value))return!0;break;case Ld:if((g.tag===5||g.tag===6)&&(g=G(g),g!==null&&0<=g.indexOf(y.value)))return!0;break;case Td:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Yv(g){switch(g.$$typeof){case Cd:return"<"+(R(g.value)||"Unknown")+">";case Md:return":has("+(Yv(g)||"")+")";case Ed:return'[role="'+g.value+'"]';case Ld:return'"'+g.value+'"';case Td:return'[data-testname="'+g.value+'"]';default:throw Error(a(365))}}function U2(g,y){var L=[];g=[g,0];for(var k=0;k<g.length;){var N=g[k++],W=g[k++],te=y[W];if(N.tag!==5||!ne(N)){for(;te!=null&&jv(N,te);)W++,te=y[W];if(W===y.length)L.push(N);else for(N=N.child;N!==null;)g.push(N,W),N=N.sibling}}return L}function Xv(g,y){if(!ot)throw Error(a(363));g=Kv(g),g=U2(g,y),y=[],g=Array.from(g);for(var L=0;L<g.length;){var k=g[L++];if(k.tag===5)ne(k)||y.push(k.stateNode);else for(k=k.child;k!==null;)g.push(k),k=k.sibling}return y}var gL=Math.ceil,Rd=l.ReactCurrentDispatcher,Qv=l.ReactCurrentOwner,Tn=l.ReactCurrentBatchConfig,Lt=0,Fn=null,Bn=null,ii=0,nr=0,Nl=Fi(0),Vn=0,Fu=null,Fl=0,Pd=0,$v=0,Bu=null,Hi=null,qv=0,Jv=1/0;function Bl(){Jv=On()+500}var kd=!1,Zv=null,lo=null,Id=!1,co=null,zd=0,Uu=0,e0=null,Dd=-1,Od=0;function Mi(){return(Lt&6)!==0?On():Dd!==-1?Dd:Dd=On()}function uo(g){return(g.mode&1)===0?1:(Lt&2)!==0&&ii!==0?ii&-ii:Nn.transition!==null?(Od===0&&(g=sa,sa<<=1,(sa&4194240)===0&&(sa=64),Od=g),Od):(g=Ct,g!==0?g:Ee())}function br(g,y,L){if(50<Uu)throw Uu=0,e0=null,Error(a(185));var k=Nd(g,y);return k===null?null:(oa(k,y,L),((Lt&2)===0||k!==Fn)&&(k===Fn&&((Lt&2)===0&&(Pd|=y),Vn===4&&ho(k,ii)),Wi(k,L),y===1&&Lt===0&&(g.mode&1)===0&&(Bl(),ze&&Dt())),k)}function Nd(g,y){g.lanes|=y;var L=g.alternate;for(L!==null&&(L.lanes|=y),L=g,g=g.return;g!==null;)g.childLanes|=y,L=g.alternate,L!==null&&(L.childLanes|=y),L=g,g=g.return;return L.tag===3?L.stateNode:null}function Wi(g,y){var L=g.callbackNode;as(g,y);var k=Ml(g,g===Fn?ii:0);if(k===0)L!==null&&aa(L),g.callbackNode=null,g.callbackPriority=0;else if(y=k&-k,g.callbackPriority!==y){if(L!=null&&aa(L),y===1)g.tag===0?vt(W2.bind(null,g)):Yt(W2.bind(null,g)),Ue?je(function(){Lt===0&&Dt()}):_u(El,Dt),L=null;else{switch(Su(k)){case 1:L=El;break;case 4:L=nd;break;case 16:L=Tl;break;case 536870912:L=la;break;default:L=Tl}L=q2(L,H2.bind(null,g))}g.callbackPriority=y,g.callbackNode=L}}function H2(g,y){if(Dd=-1,Od=0,(Lt&6)!==0)throw Error(a(327));var L=g.callbackNode;if(va()&&g.callbackNode!==L)return null;var k=Ml(g,g===Fn?ii:0);if(k===0)return null;if((k&30)!==0||(k&g.expiredLanes)!==0||y)y=Fd(g,k);else{y=k;var N=Lt;Lt|=2;var W=K2();(Fn!==g||ii!==y)&&(Bl(),ma(g,y));do try{xL();break}catch(ae){G2(g,ae)}while(1);vr(),Rd.current=W,Lt=N,Bn!==null?y=0:(Fn=null,ii=0,y=Vn)}if(y!==0){if(y===2&&(N=yu(g),N!==0&&(k=N,y=t0(g,N))),y===1)throw L=Fu,ma(g,0),ho(g,k),Wi(g,On()),L;if(y===6)ho(g,k);else{if(N=g.current.alternate,(k&30)===0&&!vL(N)&&(y=Fd(g,k),y===2&&(W=yu(g),W!==0&&(k=W,y=t0(g,W))),y===1))throw L=Fu,ma(g,0),ho(g,k),Wi(g,On()),L;switch(g.finishedWork=N,g.finishedLanes=k,y){case 0:case 1:throw Error(a(345));case 2:ga(g,Hi);break;case 3:if(ho(g,k),(k&130023424)===k&&(y=qv+500-On(),10<y)){if(Ml(g,0)!==0)break;if(N=g.suspendedLanes,(N&k)!==k){Mi(),g.pingedLanes|=g.suspendedLanes&N;break}g.timeoutHandle=pe(ga.bind(null,g,Hi),y);break}ga(g,Hi);break;case 4:if(ho(g,k),(k&4194240)===k)break;for(y=g.eventTimes,N=-1;0<k;){var te=31-Ji(k);W=1<<te,te=y[te],te>N&&(N=te),k&=~W}if(k=N,k=On()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*gL(k/1960))-k,10<k){g.timeoutHandle=pe(ga.bind(null,g,Hi),k);break}ga(g,Hi);break;case 5:ga(g,Hi);break;default:throw Error(a(329))}}}return Wi(g,On()),g.callbackNode===L?H2.bind(null,g):null}function t0(g,y){var L=Bu;return g.current.memoizedState.isDehydrated&&(ma(g,y).flags|=256),g=Fd(g,y),g!==2&&(y=Hi,Hi=L,y!==null&&n0(y)),g}function n0(g){Hi===null?Hi=g:Hi.push.apply(Hi,g)}function vL(g){for(var y=g;;){if(y.flags&16384){var L=y.updateQueue;if(L!==null&&(L=L.stores,L!==null))for(var k=0;k<L.length;k++){var N=L[k],W=N.getSnapshot;N=N.value;try{if(!J(W(),N))return!1}catch{return!1}}}if(L=y.child,y.subtreeFlags&16384&&L!==null)L.return=y,y=L;else{if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function ho(g,y){for(y&=~$v,y&=~Pd,g.suspendedLanes|=y,g.pingedLanes&=~y,g=g.expirationTimes;0<y;){var L=31-Ji(y),k=1<<L;g[L]=-1,y&=~k}}function W2(g){if((Lt&6)!==0)throw Error(a(327));va();var y=Ml(g,0);if((y&1)===0)return Wi(g,On()),null;var L=Fd(g,y);if(g.tag!==0&&L===2){var k=yu(g);k!==0&&(y=k,L=t0(g,k))}if(L===1)throw L=Fu,ma(g,0),ho(g,y),Wi(g,On()),L;if(L===6)throw Error(a(345));return g.finishedWork=g.current.alternate,g.finishedLanes=y,ga(g,Hi),Wi(g,On()),null}function V2(g){co!==null&&co.tag===0&&(Lt&6)===0&&va();var y=Lt;Lt|=1;var L=Tn.transition,k=Ct;try{if(Tn.transition=null,Ct=1,g)return g()}finally{Ct=k,Tn.transition=L,Lt=y,(Lt&6)===0&&Dt()}}function i0(){nr=Nl.current,gt(Nl)}function ma(g,y){g.finishedWork=null,g.finishedLanes=0;var L=g.timeoutHandle;if(L!==Ae&&(g.timeoutHandle=Ae,he(L)),Bn!==null)for(L=Bn.return;L!==null;){var k=L;switch(wv(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&ra();break;case 3:Dl(),gt(zn),gt(Ft),Ev();break;case 5:Cv(k);break;case 4:Dl();break;case 13:gt(pn);break;case 19:gt(pn);break;case 10:Hr(k.type._context);break;case 22:case 23:i0()}L=L.return}if(Fn=g,Bn=g=fo(g.current,null),ii=nr=y,Vn=0,Fu=null,$v=Pd=Fl=0,Hi=Bu=null,ls!==null){for(y=0;y<ls.length;y++)if(L=ls[y],k=L.interleaved,k!==null){L.interleaved=null;var N=k.next,W=L.pending;if(W!==null){var te=W.next;W.next=N,k.next=te}L.pending=k}ls=null}return g}function G2(g,y){do{var L=Bn;try{if(vr(),ud.current=gd,hd){for(var k=Sn.memoizedState;k!==null;){var N=k.queue;N!==null&&(N.pending=null),k=k.next}hd=!1}if(Ol=0,Qn=di=Sn=null,Lu=!1,Ru=0,Qv.current=null,L===null||L.return===null){Vn=1,Fu=y,Bn=null;break}e:{var W=g,te=L.return,ae=L,Ce=y;if(y=ii,ae.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var We=Ce,tt=ae,yt=tt.tag;if((tt.mode&1)===0&&(yt===0||yt===11||yt===15)){var ut=tt.alternate;ut?(tt.updateQueue=ut.updateQueue,tt.memoizedState=ut.memoizedState,tt.lanes=ut.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var $t=h2(te);if($t!==null){$t.flags&=-257,f2($t,te,ae,W,y),$t.mode&1&&u2(W,We,y),y=$t,Ce=We;var st=y.updateQueue;if(st===null){var gi=new Set;gi.add(Ce),y.updateQueue=gi}else st.add(Ce);break e}else{if((y&1)===0){u2(W,We,y),r0();break e}Ce=Error(a(426))}}else if(ln&&ae.mode&1){var Cr=h2(te);if(Cr!==null){(Cr.flags&65536)===0&&(Cr.flags|=256),f2(Cr,te,ae,W,y),bv(Ce);break e}}W=Ce,Vn!==4&&(Vn=2),Bu===null?Bu=[W]:Bu.push(W),Ce=zv(Ce,ae),ae=te;do{switch(ae.tag){case 3:ae.flags|=65536,y&=-y,ae.lanes|=y;var Se=l2(ae,Ce,y);RS(ae,Se);break e;case 1:W=Ce;var le=ae.type,be=ae.stateNode;if((ae.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(lo===null||!lo.has(be)))){ae.flags|=65536,y&=-y,ae.lanes|=y;var $e=c2(ae,W,y);RS(ae,$e);break e}}ae=ae.return}while(ae!==null)}Y2(L)}catch(rt){y=rt,Bn===L&&L!==null&&(Bn=L=L.return);continue}break}while(1)}function K2(){var g=Rd.current;return Rd.current=gd,g===null?gd:g}function r0(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Fn===null||(Fl&268435455)===0&&(Pd&268435455)===0||ho(Fn,ii)}function Fd(g,y){var L=Lt;Lt|=2;var k=K2();Fn===g&&ii===y||ma(g,y);do try{yL();break}catch(N){G2(g,N)}while(1);if(vr(),Lt=L,Rd.current=k,Bn!==null)throw Error(a(261));return Fn=null,ii=0,Vn}function yL(){for(;Bn!==null;)j2(Bn)}function xL(){for(;Bn!==null&&!dv();)j2(Bn)}function j2(g){var y=$2(g.alternate,g,nr);g.memoizedProps=g.pendingProps,y===null?Y2(g):Bn=y,Qv.current=null}function Y2(g){var y=g;do{var L=y.alternate;if(g=y.return,(y.flags&32768)===0){if(L=lL(L,y,nr),L!==null){Bn=L;return}}else{if(L=hL(L,y),L!==null){L.flags&=32767,Bn=L;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{Vn=6,Bn=null;return}}if(y=y.sibling,y!==null){Bn=y;return}Bn=y=g}while(y!==null);Vn===0&&(Vn=5)}function ga(g,y){var L=Ct,k=Tn.transition;try{Tn.transition=null,Ct=1,wL(g,y,L)}finally{Tn.transition=k,Ct=L}return null}function wL(g,y,L){do va();while(co!==null);if((Lt&6)!==0)throw Error(a(327));var k=g.finishedWork,N=g.finishedLanes;if(k===null)return null;if(g.finishedWork=null,g.finishedLanes=0,k===g.current)throw Error(a(177));g.callbackNode=null,g.callbackPriority=0;var W=k.lanes|k.childLanes;if(fv(g,W),g===Fn&&(Bn=Fn=null,ii=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||Id||(Id=!0,q2(Tl,function(){return va(),null})),W=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||W){W=Tn.transition,Tn.transition=null;var te=Ct;Ct=1;var ae=Lt;Lt|=4,Qv.current=null,dL(g,k),pL(g,k),H(g.containerInfo),g.current=k,mL(k),bu(),Lt=ae,Ct=te,Tn.transition=W}else g.current=k;if(Id&&(Id=!1,co=g,zd=N),W=g.pendingLanes,W===0&&(lo=null),pv(k.stateNode),Wi(g,On()),y!==null)for(L=g.onRecoverableError,k=0;k<y.length;k++)L(y[k]);if(kd)throw kd=!1,g=Zv,Zv=null,g;return(zd&1)!==0&&g.tag!==0&&va(),W=g.pendingLanes,(W&1)!==0?g===e0?Uu++:(Uu=0,e0=g):Uu=0,Dt(),null}function va(){if(co!==null){var g=Su(zd),y=Tn.transition,L=Ct;try{if(Tn.transition=null,Ct=16>g?16:g,co===null)var k=!1;else{if(g=co,co=null,zd=0,(Lt&6)!==0)throw Error(a(331));var N=Lt;for(Lt|=4,Qe=g.current;Qe!==null;){var W=Qe,te=W.child;if((Qe.flags&16)!==0){var ae=W.deletions;if(ae!==null){for(var Ce=0;Ce<ae.length;Ce++){var We=ae[Ce];for(Qe=We;Qe!==null;){var tt=Qe;switch(tt.tag){case 0:case 11:case 15:pa(8,tt,W)}var yt=tt.child;if(yt!==null)yt.return=tt,Qe=yt;else for(;Qe!==null;){tt=Qe;var ut=tt.sibling,$t=tt.return;if(P2(tt),tt===We){Qe=null;break}if(ut!==null){ut.return=$t,Qe=ut;break}Qe=$t}}}var st=W.alternate;if(st!==null){var gi=st.child;if(gi!==null){st.child=null;do{var Cr=gi.sibling;gi.sibling=null,gi=Cr}while(gi!==null)}}Qe=W}}if((W.subtreeFlags&2064)!==0&&te!==null)te.return=W,Qe=te;else e:for(;Qe!==null;){if(W=Qe,(W.flags&2048)!==0)switch(W.tag){case 0:case 11:case 15:pa(9,W,W.return)}var Se=W.sibling;if(Se!==null){Se.return=W.return,Qe=Se;break e}Qe=W.return}}var le=g.current;for(Qe=le;Qe!==null;){te=Qe;var be=te.child;if((te.subtreeFlags&2064)!==0&&be!==null)be.return=te,Qe=be;else e:for(te=le;Qe!==null;){if(ae=Qe,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Ou(9,ae)}}catch(rt){Vi(ae,ae.return,rt)}if(ae===te){Qe=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,Qe=$e;break e}Qe=ae.return}}if(Lt=N,Dt(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ca,g)}catch{}k=!0}return k}finally{Ct=L,Tn.transition=y}}return!1}function X2(g,y,L){y=zv(L,y),y=l2(g,y,1),ao(g,y),y=Mi(),g=Nd(g,1),g!==null&&(oa(g,1,y),Wi(g,y))}function Vi(g,y,L){if(g.tag===3)X2(g,g,L);else for(;y!==null;){if(y.tag===3){X2(y,g,L);break}else if(y.tag===1){var k=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(lo===null||!lo.has(k))){g=zv(L,g),g=c2(y,g,1),ao(y,g),g=Mi(),y=Nd(y,1),y!==null&&(oa(y,1,g),Wi(y,g));break}}y=y.return}}function SL(g,y,L){var k=g.pingCache;k!==null&&k.delete(y),y=Mi(),g.pingedLanes|=g.suspendedLanes&L,Fn===g&&(ii&L)===L&&(Vn===4||Vn===3&&(ii&130023424)===ii&&500>On()-qv?ma(g,0):$v|=L),Wi(g,y)}function Q2(g,y){y===0&&((g.mode&1)===0?y=1:(y=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var L=Mi();g=Nd(g,y),g!==null&&(oa(g,y,L),Wi(g,L))}function _L(g){var y=g.memoizedState,L=0;y!==null&&(L=y.retryLane),Q2(g,L)}function bL(g,y){var L=0;switch(g.tag){case 13:var k=g.stateNode,N=g.memoizedState;N!==null&&(L=N.retryLane);break;case 19:k=g.stateNode;break;default:throw Error(a(314))}k!==null&&k.delete(y),Q2(g,L)}var $2;$2=function(g,y,L){if(g!==null)if(g.memoizedProps!==y.pendingProps||zn.current)tr=!0;else{if((g.lanes&L)===0&&(y.flags&128)===0)return tr=!1,uL(g,y,L);tr=(g.flags&131072)!==0}else tr=!1,ln&&(y.flags&1048576)!==0&&OS(y,ad,y.index);switch(y.lanes=0,y.tag){case 2:var k=y.type;g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),g=y.pendingProps;var N=Ur(y,Ft.current);Wr(y,L),N=Lv(null,y,k,g,N,L);var W=Rv();return y.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,Dn(k)?(W=!0,Cl(y)):W=!1,y.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,gv(y),N.updater=sd,y.stateNode=N,N._reactInternals=y,yv(y,k,g,L),y=Nv(null,y,k,!0,W,L)):(y.tag=0,ln&&W&&xv(y),Ci(null,y,N,L),y=y.child),y;case 16:k=y.elementType;e:{switch(g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),g=y.pendingProps,N=k._init,k=N(k._payload),y.type=k,N=y.tag=CL(k),g=rn(k,g),N){case 0:y=Ov(null,y,k,g,L);break e;case 1:y=w2(null,y,k,g,L);break e;case 11:y=m2(null,y,k,g,L);break e;case 14:y=g2(null,y,k,rn(k.type,g),L);break e}throw Error(a(306,k,""))}return y;case 0:return k=y.type,N=y.pendingProps,N=y.elementType===k?N:rn(k,N),Ov(g,y,k,N,L);case 1:return k=y.type,N=y.pendingProps,N=y.elementType===k?N:rn(k,N),w2(g,y,k,N,L);case 3:e:{if(S2(y),g===null)throw Error(a(387));k=y.pendingProps,W=y.memoizedState,N=W.element,LS(g,y),rd(y,k,null,L);var te=y.memoizedState;if(k=te.element,xe&&W.isDehydrated)if(W={element:k,isDehydrated:!1,cache:te.cache,transitions:te.transitions},y.updateQueue.baseState=W,y.memoizedState=W,y.flags&256){N=Error(a(423)),y=_2(g,y,k,L,N);break e}else if(k!==N){N=Error(a(424)),y=_2(g,y,k,L,N);break e}else for(xe&&(er=ye(y.stateNode.containerInfo),Zi=y,ln=!0,Vr=null,Au=!1),L=WS(y,null,k,L),y.child=L;L;)L.flags=L.flags&-3|4096,L=L.sibling;else{if(kl(),k===N){y=Rs(g,y,L);break e}Ci(g,y,k,L)}y=y.child}return y;case 5:return VS(y),g===null&&_v(y),k=y.type,N=y.pendingProps,W=g!==null?g.memoizedProps:null,te=N.children,$(k,N)?te=null:W!==null&&$(k,W)&&(y.flags|=32),x2(g,y),Ci(g,y,te,L),y.child;case 6:return g===null&&_v(y),null;case 13:return b2(g,y,L);case 4:return Av(y,y.stateNode.containerInfo),k=y.pendingProps,g===null?y.child=Il(y,null,k,L):Ci(g,y,k,L),y.child;case 11:return k=y.type,N=y.pendingProps,N=y.elementType===k?N:rn(k,N),m2(g,y,k,N,L);case 7:return Ci(g,y,y.pendingProps,L),y.child;case 8:return Ci(g,y,y.pendingProps.children,L),y.child;case 12:return Ci(g,y,y.pendingProps.children,L),y.child;case 10:e:{if(k=y.type._context,N=y.pendingProps,W=y.memoizedProps,te=N.value,yr(y,k,te),W!==null)if(J(W.value,te)){if(W.children===N.children&&!zn.current){y=Rs(g,y,L);break e}}else for(W=y.child,W!==null&&(W.return=y);W!==null;){var ae=W.dependencies;if(ae!==null){te=W.child;for(var Ce=ae.firstContext;Ce!==null;){if(Ce.context===k){if(W.tag===1){Ce=Ms(-1,L&-L),Ce.tag=2;var We=W.updateQueue;if(We!==null){We=We.shared;var tt=We.pending;tt===null?Ce.next=Ce:(Ce.next=tt.next,tt.next=Ce),We.pending=Ce}}W.lanes|=L,Ce=W.alternate,Ce!==null&&(Ce.lanes|=L),Ll(W.return,L,y),ae.lanes|=L;break}Ce=Ce.next}}else if(W.tag===10)te=W.type===y.type?null:W.child;else if(W.tag===18){if(te=W.return,te===null)throw Error(a(341));te.lanes|=L,ae=te.alternate,ae!==null&&(ae.lanes|=L),Ll(te,L,y),te=W.sibling}else te=W.child;if(te!==null)te.return=W;else for(te=W;te!==null;){if(te===y){te=null;break}if(W=te.sibling,W!==null){W.return=te.return,te=W;break}te=te.return}W=te}Ci(g,y,N.children,L),y=y.child}return y;case 9:return N=y.type,k=y.pendingProps.children,Wr(y,L),N=ni(N),k=k(N),y.flags|=1,Ci(g,y,k,L),y.child;case 14:return k=y.type,N=rn(k,y.pendingProps),N=rn(k.type,N),g2(g,y,k,N,L);case 15:return v2(g,y,y.type,y.pendingProps,L);case 17:return k=y.type,N=y.pendingProps,N=y.elementType===k?N:rn(k,N),g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),y.tag=1,Dn(k)?(g=!0,Cl(y)):g=!1,Wr(y,L),zS(y,k,N),yv(y,k,N,L),Nv(null,y,k,!0,g,L);case 19:return E2(g,y,L);case 22:return y2(g,y,L)}throw Error(a(156,y.tag))};function q2(g,y){return _u(g,y)}function AL(g,y,L,k){this.tag=g,this.key=L,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(g,y,L,k){return new AL(g,y,L,k)}function s0(g){return g=g.prototype,!(!g||!g.isReactComponent)}function CL(g){if(typeof g=="function")return s0(g)?1:0;if(g!=null){if(g=g.$$typeof,g===m)return 11;if(g===w)return 14}return 2}function fo(g,y){var L=g.alternate;return L===null?(L=Ar(g.tag,y,g.key,g.mode),L.elementType=g.elementType,L.type=g.type,L.stateNode=g.stateNode,L.alternate=g,g.alternate=L):(L.pendingProps=y,L.type=g.type,L.flags=0,L.subtreeFlags=0,L.deletions=null),L.flags=g.flags&14680064,L.childLanes=g.childLanes,L.lanes=g.lanes,L.child=g.child,L.memoizedProps=g.memoizedProps,L.memoizedState=g.memoizedState,L.updateQueue=g.updateQueue,y=g.dependencies,L.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},L.sibling=g.sibling,L.index=g.index,L.ref=g.ref,L}function Bd(g,y,L,k,N,W){var te=2;if(k=g,typeof g=="function")s0(g)&&(te=1);else if(typeof g=="string")te=5;else e:switch(g){case c:return ya(L.children,N,W,y);case o:te=8,N|=8;break;case u:return g=Ar(12,L,y,N|2),g.elementType=u,g.lanes=W,g;case v:return g=Ar(13,L,y,N),g.elementType=v,g.lanes=W,g;case x:return g=Ar(19,L,y,N),g.elementType=x,g.lanes=W,g;case M:return Ud(L,N,W,y);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case d:te=10;break e;case p:te=9;break e;case m:te=11;break e;case w:te=14;break e;case A:te=16,k=null;break e}throw Error(a(130,g==null?g:typeof g,""))}return y=Ar(te,L,y,N),y.elementType=g,y.type=k,y.lanes=W,y}function ya(g,y,L,k){return g=Ar(7,g,k,y),g.lanes=L,g}function Ud(g,y,L,k){return g=Ar(22,g,k,y),g.elementType=M,g.lanes=L,g.stateNode={},g}function o0(g,y,L){return g=Ar(6,g,null,y),g.lanes=L,g}function a0(g,y,L){return y=Ar(4,g.children!==null?g.children:[],g.key,y),y.lanes=L,y.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},y}function ML(g,y,L,k,N){this.tag=y,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ae,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=k,this.onRecoverableError=N,xe&&(this.mutableSourceEagerHydrationData=null)}function J2(g,y,L,k,N,W,te,ae,Ce){return g=new ML(g,y,L,ae,Ce),y===1?(y=1,W===!0&&(y|=8)):y=0,W=Ar(3,null,null,y),g.current=W,W.stateNode=g,W.memoizedState={element:k,isDehydrated:L,cache:null,transitions:null},gv(W),g}function Z2(g){if(!g)return Bi;g=g._reactInternals;e:{if(_(g)!==g||g.tag!==1)throw Error(a(170));var y=g;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(Dn(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(a(171))}if(g.tag===1){var L=g.type;if(Dn(L))return Zf(g,L,y)}return y}function e_(g){var y=g._reactInternals;if(y===void 0)throw typeof g.render=="function"?Error(a(188)):(g=Object.keys(g).join(","),Error(a(268,g)));return g=P(y),g===null?null:g.stateNode}function t_(g,y){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var L=g.retryLane;g.retryLane=L!==0&&L<y?L:y}}function l0(g,y){t_(g,y),(g=g.alternate)&&t_(g,y)}function EL(g){return g=P(g),g===null?null:g.stateNode}function TL(){return null}return t.attemptContinuousHydration=function(g){if(g.tag===13){var y=Mi();br(g,134217728,y),l0(g,134217728)}},t.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var y=Mi(),L=uo(g);br(g,L,y),l0(g,L)}},t.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var y=g.stateNode;if(y.current.memoizedState.isDehydrated){var L=mr(y.pendingLanes);L!==0&&(wu(y,L|1),Wi(y,On()),(Lt&6)===0&&(Bl(),Dt()))}break;case 13:var k=Mi();V2(function(){return br(g,1,k)}),l0(g,1)}},t.batchedUpdates=function(g,y){var L=Lt;Lt|=1;try{return g(y)}finally{Lt=L,Lt===0&&(Bl(),ze&&Dt())}},t.createComponentSelector=function(g){return{$$typeof:Cd,value:g}},t.createContainer=function(g,y,L,k,N,W,te){return J2(g,y,!1,null,L,k,N,W,te)},t.createHasPseudoClassSelector=function(g){return{$$typeof:Md,value:g}},t.createHydrationContainer=function(g,y,L,k,N,W,te,ae,Ce){return g=J2(L,k,!0,g,N,W,te,ae,Ce),g.context=Z2(null),L=g.current,k=Mi(),N=uo(L),W=Ms(k,N),W.callback=y??null,ao(L,W),g.current.lanes=N,oa(g,N,k),Wi(g,k),g},t.createPortal=function(g,y,L){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:k==null?null:""+k,children:g,containerInfo:y,implementation:L}},t.createRoleSelector=function(g){return{$$typeof:Ed,value:g}},t.createTestNameSelector=function(g){return{$$typeof:Td,value:g}},t.createTextSelector=function(g){return{$$typeof:Ld,value:g}},t.deferredUpdates=function(g){var y=Ct,L=Tn.transition;try{return Tn.transition=null,Ct=16,g()}finally{Ct=y,Tn.transition=L}},t.discreteUpdates=function(g,y,L,k,N){var W=Ct,te=Tn.transition;try{return Tn.transition=null,Ct=1,g(y,L,k,N)}finally{Ct=W,Tn.transition=te,Lt===0&&Bl()}},t.findAllNodes=Xv,t.findBoundingRects=function(g,y){if(!ot)throw Error(a(363));y=Xv(g,y),g=[];for(var L=0;L<y.length;L++)g.push(V(y[L]));for(y=g.length-1;0<y;y--){L=g[y];for(var k=L.x,N=k+L.width,W=L.y,te=W+L.height,ae=y-1;0<=ae;ae--)if(y!==ae){var Ce=g[ae],We=Ce.x,tt=We+Ce.width,yt=Ce.y,ut=yt+Ce.height;if(k>=We&&W>=yt&&N<=tt&&te<=ut){g.splice(y,1);break}else if(k!==We||L.width!==Ce.width||ut<W||yt>te){if(!(W!==yt||L.height!==Ce.height||tt<k||We>N)){We>k&&(Ce.width+=We-k,Ce.x=k),tt<N&&(Ce.width=N-We),g.splice(y,1);break}}else{yt>W&&(Ce.height+=yt-W,Ce.y=W),ut<te&&(Ce.height=te-yt),g.splice(y,1);break}}}return g},t.findHostInstance=e_,t.findHostInstanceWithNoPortals=function(g){return g=T(g),g=g!==null?z(g):null,g===null?null:g.stateNode},t.findHostInstanceWithWarning=function(g){return e_(g)},t.flushControlled=function(g){var y=Lt;Lt|=1;var L=Tn.transition,k=Ct;try{Tn.transition=null,Ct=1,g()}finally{Ct=k,Tn.transition=L,Lt=y,Lt===0&&(Bl(),Dt())}},t.flushPassiveEffects=va,t.flushSync=V2,t.focusWithin=function(g,y){if(!ot)throw Error(a(363));for(g=Kv(g),y=U2(g,y),y=Array.from(y),g=0;g<y.length;){var L=y[g++];if(!ne(L)){if(L.tag===5&&ce(L.stateNode))return!0;for(L=L.child;L!==null;)y.push(L),L=L.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ct},t.getFindAllNodesFailureDescription=function(g,y){if(!ot)throw Error(a(363));var L=0,k=[];g=[Kv(g),0];for(var N=0;N<g.length;){var W=g[N++],te=g[N++],ae=y[te];if((W.tag!==5||!ne(W))&&(jv(W,ae)&&(k.push(Yv(ae)),te++,te>L&&(L=te)),te<y.length))for(W=W.child;W!==null;)g.push(W,te),W=W.sibling}if(L<y.length){for(g=[];L<y.length;L++)g.push(Yv(y[L]));return`findAllNodes was able to match part of the selector:
  `+(k.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},t.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return D(g.child.stateNode);default:return g.child.stateNode}},t.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:EL,findFiberByHostInstance:g.findFiberByHostInstance||TL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)g=!0;else{try{ca=y.inject(g),gr=y}catch{}g=!!y.checkDCE}}return g},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(g,y,L,k){if(!ot)throw Error(a(363));g=Xv(g,y);var N=Me(g,L,k).disconnect;return{disconnect:function(){N()}}},t.registerMutableSourceForHydration=function(g,y){var L=y._getVersion;L=L(y._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[y,L]:g.mutableSourceEagerHydrationData.push(y,L)},t.runWithPriority=function(g,y){var L=Ct;try{return Ct=g,y()}finally{Ct=L}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(g,y,L,k){var N=y.current,W=Mi(),te=uo(N);return L=Z2(L),y.context===null?y.context=L:y.pendingContext=L,y=Ms(W,te),y.payload={element:g},k=k===void 0?null:k,k!==null&&(y.callback=k),ao(N,y),g=br(N,te,W),g!==null&&id(g,N,te),te},t};k4.exports=xU;var wU=k4.exports,Ex={exports:{}},D4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,U){var H=F.length;F.push(U);e:for(;0<H;){var j=H-1>>>1,Y=F[j];if(0<r(Y,U))F[j]=U,F[H]=Y,H=j;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var U=F[0],H=F.pop();if(H!==U){F[0]=H;e:for(var j=0,Y=F.length,K=Y>>>1;j<K;){var X=2*(j+1)-1,$=F[X],q=X+1,pe=F[q];if(0>r($,H))q<Y&&0>r(pe,$)?(F[j]=pe,F[q]=H,j=q):(F[j]=$,F[X]=H,j=X);else if(q<Y&&0>r(pe,H))F[j]=pe,F[q]=H,j=q;else break e}}return U}function r(F,U){var H=F.sortIndex-U.sortIndex;return H!==0?H:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var h=[],f=[],c=1,o=null,u=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var U=t(f);U!==null;){if(U.callback===null)i(f);else if(U.startTime<=F)i(f),U.sortIndex=U.expirationTime,e(h,U);else break;U=t(f)}}function M(F){if(m=!1,A(F),!p)if(t(h)!==null)p=!0,D(C);else{var U=t(f);U!==null&&B(M,U.startTime-F)}}function C(F,U){p=!1,m&&(m=!1,x(b),b=-1),d=!0;var H=u;try{for(A(U),o=t(h);o!==null&&(!(o.expirationTime>U)||F&&!T());){var j=o.callback;if(typeof j=="function"){o.callback=null,u=o.priorityLevel;var Y=j(o.expirationTime<=U);U=n.unstable_now(),typeof Y=="function"?o.callback=Y:o===t(h)&&i(h),A(U)}else i(h);o=t(h)}if(o!==null)var K=!0;else{var X=t(f);X!==null&&B(M,X.startTime-U),K=!1}return K}finally{o=null,u=H,d=!1}}var E=!1,R=null,b=-1,_=5,S=-1;function T(){return!(n.unstable_now()-S<_)}function P(){if(R!==null){var F=n.unstable_now();S=F;var U=!0;try{U=R(!0,F)}finally{U?I():(E=!1,R=null)}}else E=!1}var I;if(typeof w=="function")I=function(){w(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=P,I=function(){O.postMessage(null)}}else I=function(){v(P,0)};function D(F){R=F,E||(E=!0,I())}function B(F,U){b=v(function(){F(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,D(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return u},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(F){switch(u){case 1:case 2:case 3:var U=3;break;default:U=u}var H=u;u=U;try{return F()}finally{u=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=u;u=F;try{return U()}finally{u=H}},n.unstable_scheduleCallback=function(F,U,H){var j=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,F={id:c++,callback:U,priorityLevel:F,startTime:H,expirationTime:Y,sortIndex:-1},H>j?(F.sortIndex=H,e(f,F),t(h)===null&&F===t(f)&&(m?(x(b),b=-1):m=!0,B(M,H-j))):(F.sortIndex=Y,e(h,F),p||d||(p=!0,D(C))),F},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(F){var U=u;return function(){var H=u;u=U;try{return F.apply(this,arguments)}finally{u=H}}}})(D4);Ex.exports=D4;const ES={},SU=n=>void Object.assign(ES,n);function _U(n,e){function t(c,{args:o=[],attach:u,...d},p){let m=`${c[0].toUpperCase()}${c.slice(1)}`,v;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=d.object;v=hc(x,{type:c,root:p,attach:u,primitive:!0})}else{const x=ES[m];if(!x)throw new Error(`R3F: ${m} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(o))throw new Error("R3F: The args prop must be an array!");v=hc(new x(...o),{type:c,root:p,attach:u,memoizedProps:{args:o}})}return v.__r3f.attach===void 0&&(v instanceof Tt?v.__r3f.attach="geometry":v instanceof ci&&(v.__r3f.attach="material")),m!=="inject"&&E1(v,d),v}function i(c,o){let u=!1;if(o){var d,p;(d=o.__r3f)!=null&&d.attach?M1(c,o,o.__r3f.attach):o.isObject3D&&c.isObject3D&&(c.add(o),u=!0),u||(p=c.__r3f)==null||p.objects.push(o),o.__r3f||hc(o,{}),o.__r3f.parent=c,Lx(o),fc(o)}}function r(c,o,u){let d=!1;if(o){var p,m;if((p=o.__r3f)!=null&&p.attach)M1(c,o,o.__r3f.attach);else if(o.isObject3D&&c.isObject3D){o.parent=c,o.dispatchEvent({type:"added"});const v=c.children.filter(w=>w!==o),x=v.indexOf(u);c.children=[...v.slice(0,x),o,...v.slice(x)],d=!0}d||(m=c.__r3f)==null||m.objects.push(o),o.__r3f||hc(o,{}),o.__r3f.parent=c,Lx(o),fc(o)}}function s(c,o,u=!1){c&&[...c].forEach(d=>a(o,d,u))}function a(c,o,u){if(o){var d,p,m;if(o.__r3f&&(o.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==o)),(p=o.__r3f)!=null&&p.attach)u3(c,o,o.__r3f.attach);else if(o.isObject3D&&c.isObject3D){var v;c.remove(o),(v=o.__r3f)!=null&&v.root&&LU(o.__r3f.root,o)}const w=(m=o.__r3f)==null?void 0:m.primitive,A=u===void 0?o.dispose!==null&&!w:u;if(!w){var x;s((x=o.__r3f)==null?void 0:x.objects,o,A),s(o.children,o,A)}o.__r3f&&(delete o.__r3f.root,delete o.__r3f.objects,delete o.__r3f.handlers,delete o.__r3f.memoizedProps,w||delete o.__r3f),A&&o.dispose&&o.type!=="Scene"&&Ex.exports.unstable_scheduleCallback(Ex.exports.unstable_IdlePriority,()=>{try{o.dispose()}catch{}}),fc(c)}}function l(c,o,u,d){var p;const m=(p=c.__r3f)==null?void 0:p.parent;if(!m)return;const v=t(o,u,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&i(v,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>i(v,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(m,c),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),i(m,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[d,d.alternate].forEach(x=>{x!==null&&(x.stateNode=v,x.ref&&(typeof x.ref=="function"?x.ref(v):x.ref.current=v))})}const h=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:wU({createInstance:t,removeChild:a,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,o)=>{if(!o)return;const u=c.getState().scene;!u.__r3f||(u.__r3f.root=c,i(u,o))},removeChildFromContainer:(c,o)=>{!o||a(c.getState().scene,o)},insertInContainerBefore:(c,o,u)=>{if(!o||!u)return;const d=c.getState().scene;!d.__r3f||r(d,o,u)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var o;const u=(o=c?.__r3f)!=null?o:{};return Boolean(u.handlers)},prepareUpdate(c,o,u,d){if(c.__r3f.primitive&&d.object&&d.object!==c)return[!0];{const{args:p=[],children:m,...v}=d,{args:x=[],children:w,...A}=u;if(!Array.isArray(p))throw new Error("R3F: the args prop must be an array!");if(p.some((C,E)=>C!==x[E]))return[!0];const M=W4(c,v,A,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[o,u],d,p,m,v){o?l(c,d,m,v):E1(c,u)},commitMount(c,o,u,d){var p;const m=(p=c.__r3f)!=null?p:{};c.raycast&&m.handlers&&m.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>hc(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var o;const{attach:u,parent:d}=(o=c.__r3f)!=null?o:{};u&&d&&u3(d,c,u),c.isObject3D&&(c.visible=!1),fc(c)},unhideInstance(c,o){var u;const{attach:d,parent:p}=(u=c.__r3f)!=null?u:{};d&&p&&M1(p,c,d),(c.isObject3D&&o.visible==null||o.visible)&&(c.visible=!0),fc(c)},createTextInstance:h,hideTextInstance:h,unhideTextInstance:h,getCurrentEventPriority:()=>e?e():Xa.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&cn.fun(performance.now)?performance.now:cn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:cn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:cn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:E1}}var o3,a3;const O4=()=>{var n;return(n=ES.ColorManagement)!=null?n:null},N4=n=>n&&n.isOrthographicCamera,bU=n=>n&&n.hasOwnProperty("current"),Jf=typeof window<"u"&&((o3=window.document)!=null&&o3.createElement||((a3=window.navigator)==null?void 0:a3.product)==="ReactNative")?ie.exports.useLayoutEffect:ie.exports.useEffect;function F4(n){const e=ie.exports.useRef(n);return Jf(()=>void(e.current=n),[n]),e}function AU({set:n}){return Jf(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class B4 extends ie.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}B4.getDerivedStateFromError=()=>({error:!0});const U4="__default",l3=new Map,CU=n=>n&&!!n.memoized&&!!n.changes;function H4(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const ah=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},cn={obj:n=>n===Object(n)&&!cn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(cn.str(n)||cn.num(n))return n===e;const s=cn.obj(n);if(s&&i==="reference")return n===e;const a=cn.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!cn.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(cn.und(l)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function MU(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function hc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function Tx(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,a)=>s[a],n),{target:t,key:r}}else return{target:t,key:e}}const c3=/-\d+$/;function M1(n,e,t){if(cn.str(t)){if(c3.test(t)){const s=t.replace(c3,""),{target:a,key:l}=Tx(n,s);Array.isArray(a[l])||(a[l]=[])}const{target:i,key:r}=Tx(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function u3(n,e,t){var i,r;if(cn.str(t)){const{target:s,key:a}=Tx(n,t),l=e.__r3f.previousAttach;l===void 0?delete s[a]:s[a]=l}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function W4(n,{children:e,key:t,ref:i,...r},{children:s,key:a,ref:l,...h}={},f=!1){var c;const o=(c=n?.__r3f)!=null?c:{},u=Object.entries(r),d=[];if(f){const m=Object.keys(h);for(let v=0;v<m.length;v++)r.hasOwnProperty(m[v])||u.unshift([m[v],U4+"remove"])}u.forEach(([m,v])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&m==="object"||cn.equ(v,h[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return d.push([m,v,!0,[]]);let w=[];m.includes("-")&&(w=m.split("-")),d.push([m,v,!1,w]);for(const A in r){const M=r[A];A.startsWith(`${m}-`)&&d.push([A,M,!1,A.split("-")])}});const p={...r};return o.memoizedProps&&o.memoizedProps.args&&(p.args=o.memoizedProps.args),o.memoizedProps&&o.memoizedProps.attach&&(p.attach=o.memoizedProps.attach),{memoized:p,changes:d}}function E1(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},a=s.root,l=(i=a==null||a.getState==null?void 0:a.getState())!=null?i:{},{memoized:h,changes:f}=CU(e)?e:W4(n,e),c=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=h);for(let u=0;u<f.length;u++){let[d,p,m,v]=f[u],x=n,w=x[d];if(v.length&&(w=v.reduce((A,M)=>A[M],n),!(w&&w.set))){const[A,...M]=v.reverse();x=M.reverse().reduce((C,E)=>C[E],n),d=A}if(p===U4+"remove")if(x.constructor){let A=l3.get(x.constructor);A||(A=new x.constructor,l3.set(x.constructor,A)),p=A[d]}else p=0;if(m)p?s.handlers[d]=p:delete s.handlers[d],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof tl)){if(Array.isArray(p))w.fromArray?w.fromArray(p):w.set(...p);else if(w.copy&&p&&p.constructor&&w.constructor===p.constructor)w.copy(p);else if(p!==void 0){const A=w instanceof Ze;!A&&w.setScalar?w.setScalar(p):w instanceof tl&&p instanceof tl?w.mask=p.mask:w.set(p),!O4()&&!l.linear&&A&&w.convertSRGBToLinear()}}else x[d]=p,!l.linear&&x[d]instanceof Cn&&x[d].format===ji&&x[d].type===Zs&&(x[d].encoding=Xt);fc(n)}if(s.parent&&l.internal&&n.raycast&&c!==s.eventCount){const u=l.internal.interaction.indexOf(n);u>-1&&l.internal.interaction.splice(u,1),s.eventCount&&l.internal.interaction.push(n)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(r=n.__r3f)!=null&&r.parent&&Lx(n),n}function fc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function Lx(n){n.onUpdate==null||n.onUpdate(n)}function EU(n,e){n.manual||(N4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Xp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function TU(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Xa.exports.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xa.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xa.exports.ContinuousEventPriority;default:return Xa.exports.DefaultEventPriority}}function V4(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function LU(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{V4(t.capturedMap,e,i,r)})}function RU(n){function e(h){const{internal:f}=n.getState(),c=h.offsetX-f.initialClick[0],o=h.offsetY-f.initialClick[1];return Math.round(Math.sqrt(c*c+o*o))}function t(h){return h.filter(f=>["Move","Over","Enter","Out","Leave"].some(c=>{var o;return(o=f.__r3f)==null?void 0:o.handlers["onPointer"+c]}))}function i(h,f){const c=n.getState(),o=new Set,u=[],d=f?f(c.internal.interaction):c.internal.interaction;for(let x=0;x<d.length;x++){const w=ah(d[x]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(h,c);function p(x){const w=ah(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var A;w.events.compute==null||w.events.compute(h,w,(A=w.previousRoot)==null?void 0:A.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let m=d.flatMap(p).sort((x,w)=>{const A=ah(x.object),M=ah(w.object);return!A||!M?x.distance-w.distance:M.events.priority-A.events.priority||x.distance-w.distance}).filter(x=>{const w=Xp(x);return o.has(w)?!1:(o.add(w),!0)});c.events.filter&&(m=c.events.filter(m,c));for(const x of m){let w=x.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&u.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in h&&c.internal.capturedMap.has(h.pointerId))for(let x of c.internal.capturedMap.get(h.pointerId).values())o.has(Xp(x.intersection))||u.push(x.intersection);return u}function r(h,f,c,o){const u=n.getState();if(h.length){const d={stopped:!1};for(const p of h){const m=ah(p.object)||u,{raycaster:v,pointer:x,camera:w,internal:A}=m,M=new ee(x.x,x.y,0).unproject(w),C=S=>{var T,P;return(T=(P=A.capturedMap.get(S))==null?void 0:P.has(p.eventObject))!=null?T:!1},E=S=>{const T={intersection:p,target:f.target};A.capturedMap.has(S)?A.capturedMap.get(S).set(p.eventObject,T):A.capturedMap.set(S,new Map([[p.eventObject,T]])),f.target.setPointerCapture(S)},R=S=>{const T=A.capturedMap.get(S);T&&V4(A.capturedMap,p.eventObject,T,S)};let b={};for(let S in f){let T=f[S];typeof T!="function"&&(b[S]=T)}let _={...p,...b,pointer:x,intersections:h,stopped:d.stopped,delta:c,unprojectedPoint:M,ray:v.ray,camera:w,stopPropagation(){const S="pointerId"in f&&A.capturedMap.get(f.pointerId);if((!S||S.has(p.eventObject))&&(_.stopped=d.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(T=>T.eventObject===p.eventObject))){const T=h.slice(0,h.indexOf(p));s([...T,p])}},target:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:R},nativeEvent:f};if(o(_),d.stopped===!0)break}}return h}function s(h){const{internal:f}=n.getState();for(const c of f.hovered.values())if(!h.length||!h.find(o=>o.object===c.object&&o.index===c.index&&o.instanceId===c.instanceId)){const u=c.eventObject.__r3f,d=u?.handlers;if(f.hovered.delete(Xp(c)),u!=null&&u.eventCount){const p={...c,intersections:h};d.onPointerOut==null||d.onPointerOut(p),d.onPointerLeave==null||d.onPointerLeave(p)}}}function a(h,f){for(let c=0;c<f.length;c++){const o=f[c].__r3f;o==null||o.handlers.onPointerMissed==null||o.handlers.onPointerMissed(h)}}function l(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:c}=n.getState();"pointerId"in f&&c.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(f.pointerId)&&(c.capturedMap.delete(f.pointerId),s([]))})}}return function(c){const{onPointerMissed:o,internal:u}=n.getState();u.lastEvent.current=c;const d=h==="onPointerMove",p=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",v=i(c,d?t:void 0),x=p?e(c):0;h==="onPointerDown"&&(u.initialClick=[c.offsetX,c.offsetY],u.initialHits=v.map(A=>A.eventObject)),p&&!v.length&&x<=2&&(a(c,u.interaction),o&&o(c)),d&&s(v);function w(A){const M=A.eventObject,C=M.__r3f,E=C?.handlers;if(!!(C!=null&&C.eventCount))if(d){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=Xp(A),b=u.hovered.get(R);b?b.stopped&&A.stopPropagation():(u.hovered.set(R,A),E.onPointerOver==null||E.onPointerOver(A),E.onPointerEnter==null||E.onPointerEnter(A))}E.onPointerMove==null||E.onPointerMove(A)}else{const R=E[h];R?(!p||u.initialHits.includes(M))&&(a(c,u.interaction.filter(b=>!u.initialHits.includes(b))),R(A)):p&&u.initialHits.includes(M)&&a(c,u.interaction.filter(b=>!u.initialHits.includes(b)))}}r(v,c,x,w)}}return{handlePointer:l}}const G4=n=>!!(n!=null&&n.render),K4=ie.exports.createContext(null),PU=(n,e)=>{const t=yU((l,h)=>{const f=new ee,c=new ee,o=new ee;function u(x=h().camera,w=c,A=h().size){const{width:M,height:C,top:E,left:R}=A,b=M/C;w instanceof ee?o.copy(w):o.set(...w);const _=x.getWorldPosition(f).distanceTo(o);if(N4(x))return{width:M/x.zoom,height:C/x.zoom,top:E,left:R,factor:1,distance:_,aspect:b};{const S=x.fov*Math.PI/180,T=2*Math.tan(S/2)*_,P=T*(M/C);return{width:P,height:T,top:E,left:R,factor:M/P,distance:_,aspect:b}}}let d;const p=x=>l(w=>({performance:{...w.performance,current:x}})),m=new ke;return{set:l,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(h(),x),advance:(x,w)=>e(x,w,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new sS,pointer:m,mouse:m,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=h();d&&clearTimeout(d),x.performance.current!==x.performance.min&&p(x.performance.min),d=setTimeout(()=>p(h().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:x=>l(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,A,M,C)=>{const E=h().camera,R={width:x,height:w,top:M||0,left:C||0,updateStyle:A};l(b=>({size:R,viewport:{...b.viewport,...u(E,c,R)}}))},setDpr:x=>l(w=>{const A=H4(x);return{viewport:{...w.viewport,dpr:A,initialDpr:w.viewport.initialDpr||A}}}),setFrameloop:(x="always")=>{const w=h().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ie.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,w,A)=>{const M=h().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:x,priority:w,store:A}),M.subscribers=M.subscribers.sort((C,E)=>C.priority-E.priority),()=>{const C=h().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(w>0?1:0),C.subscribers=C.subscribers.filter(E=>E.ref!==x))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:l,size:h,viewport:f,gl:c,set:o}=t.getState();if(h!==r||f.dpr!==s){var u;r=h,s=f.dpr,EU(l,h),c.setPixelRatio(f.dpr);const d=(u=h.updateStyle)!=null?u:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(h.width,h.height,d)}l!==a&&(a=l,o(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};let Qp,kU=new Set,IU=new Set,zU=new Set;function T1(n,e){if(!!n.size)for(const{callback:t}of n.values())t(e)}function lh(n,e){switch(n){case"before":return T1(kU,e);case"after":return T1(IU,e);case"tail":return T1(zU,e)}}let L1,R1;function P1(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),L1=e.internal.subscribers,Qp=0;Qp<L1.length;Qp++)R1=L1[Qp],R1.ref.current(R1.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function DU(n){let e=!1,t,i,r;function s(h){i=requestAnimationFrame(s),e=!0,t=0,lh("before",h);for(const c of n.values()){var f;r=c.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((f=r.gl.xr)!=null&&f.isPresenting)&&(t+=P1(h,r))}if(lh("after",h),t===0)return lh("tail",h),e=!1,cancelAnimationFrame(i)}function a(h,f=1){var c;if(!h)return n.forEach(o=>a(o.store.getState()),f);(c=h.gl.xr)!=null&&c.isPresenting||!h.internal.active||h.frameloop==="never"||(h.internal.frames=Math.min(60,h.internal.frames+f),e||(e=!0,requestAnimationFrame(s)))}function l(h,f=!0,c,o){if(f&&lh("before",h),c)P1(h,c,o);else for(const u of n.values())P1(h,u.store.getState());f&&lh("after",h)}return{loop:s,invalidate:a,advance:l}}function j4(){const n=ie.exports.useContext(K4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function _o(n=t=>t,e){return j4()(n,e)}function Y4(n,e=0){const t=j4(),i=t.getState().internal.subscribe,r=F4(n);return Jf(()=>i(r,e,t),[e,i,t]),null}const tu=new Map,{invalidate:h3,advance:f3}=DU(tu),{reconciler:Sg,applyProps:ch}=_U(tu,TU),oc={objects:"shallow",strict:!1},OU=(n,e)=>{const t=typeof n=="function"?n(e):n;return G4(t)?t:new Uw({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function NU(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function FU(n){const e=tu.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||PU(h3,f3),a=t||Sg.createContainer(s,Xa.exports.ConcurrentRoot,null,!1,null,"",r,null);e||tu.set(n,{fiber:a,store:s});let l,h=!1,f;return{configure(c={}){let{gl:o,size:u,scene:d,events:p,onCreated:m,shadows:v=!1,linear:x=!1,flat:w=!1,legacy:A=!1,orthographic:M=!1,frameloop:C="always",dpr:E=[1,2],performance:R,raycaster:b,camera:_,onPointerMissed:S}=c,T=s.getState(),P=T.gl;T.gl||T.set({gl:P=OU(o,n)});let I=T.raycaster;I||T.set({raycaster:I=new PT});const{params:z,...O}=b||{};if(cn.equ(O,I,oc)||ch(I,{...O}),cn.equ(z,I.params,oc)||ch(I,{params:{...I.params,...z}}),!T.camera||T.camera===f&&!cn.equ(f,_,oc)){f=_;const j=_ instanceof zf,Y=j?_:M?new Wo(0,0,0,0,.1,1e3):new hn(75,0,.1,1e3);j||(Y.position.z=5,_&&ch(Y,_),!T.camera&&!(_!=null&&_.rotation)&&Y.lookAt(0,0,0)),T.set({camera:Y})}if(!T.scene){let j;d instanceof Zm?j=d:(j=new Zm,d&&ch(j,d)),T.set({scene:hc(j)})}if(!T.xr){const j=(X,$)=>{const q=s.getState();q.frameloop!=="never"&&f3(X,!0,q,$)},Y=()=>{const X=s.getState();X.gl.xr.enabled=X.gl.xr.isPresenting,X.gl.xr.setAnimationLoop(X.gl.xr.isPresenting?j:null),X.gl.xr.isPresenting||h3(X)},K={connect(){const X=s.getState().gl;X.xr.addEventListener("sessionstart",Y),X.xr.addEventListener("sessionend",Y)},disconnect(){const X=s.getState().gl;X.xr.removeEventListener("sessionstart",Y),X.xr.removeEventListener("sessionend",Y)}};P.xr&&K.connect(),T.set({xr:K})}if(P.shadowMap){const j=P.shadowMap.enabled,Y=P.shadowMap.type;if(P.shadowMap.enabled=!!v,cn.boo(v))P.shadowMap.type=Mh;else if(cn.str(v)){var D;const K={basic:PM,percentage:Bg,soft:Mh,variance:Ha};P.shadowMap.type=(D=K[v])!=null?D:Mh}else cn.obj(v)&&Object.assign(P.shadowMap,v);(j!==P.shadowMap.enabled||Y!==P.shadowMap.type)&&(P.shadowMap.needsUpdate=!0)}const B=O4();B&&("enabled"in B?B.enabled=!A:"legacyMode"in B&&(B.legacyMode=A));const F=x?eo:Xt,U=w?is:Lw;P.outputEncoding!==F&&(P.outputEncoding=F),P.toneMapping!==U&&(P.toneMapping=U),T.legacy!==A&&T.set(()=>({legacy:A})),T.linear!==x&&T.set(()=>({linear:x})),T.flat!==w&&T.set(()=>({flat:w})),o&&!cn.fun(o)&&!G4(o)&&!cn.equ(o,P,oc)&&ch(P,o),p&&!T.events.handlers&&T.set({events:p(s)});const H=NU(n,u);return cn.equ(H,T.size,oc)||T.setSize(H.width,H.height,H.updateStyle,H.top,H.left),E&&T.viewport.dpr!==H4(E)&&T.setDpr(E),T.frameloop!==C&&T.setFrameloop(C),T.onPointerMissed||T.set({onPointerMissed:S}),R&&!cn.equ(R,T.performance,oc)&&T.set(j=>({performance:{...j.performance,...R}})),l=m,h=!0,this},render(c){return h||this.configure(),Sg.updateContainer(ie.exports.createElement(BU,{store:s,children:c,onCreated:l,rootElement:n}),a,null,()=>{}),s},unmount(){X4(n)}}}function BU({store:n,children:e,onCreated:t,rootElement:i}){return Jf(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ie.exports.createElement(K4.Provider,{value:n},e)}function X4(n,e){const t=tu.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),Sg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,l,h;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(h=r.gl)!=null&&h.xr&&r.xr.disconnect(),MU(r),tu.delete(n),e&&e(n)}catch{}},500)})}}Sg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ie.exports.version});function _f(){return _f=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_f.apply(this,arguments)}function Rx(n,e,t){var i,r,s,a,l;e==null&&(e=100);function h(){var c=Date.now()-a;c<e&&c>=0?i=setTimeout(h,e-c):(i=null,t||(l=n.apply(s,r),s=r=null))}var f=function(){s=this,r=arguments,a=Date.now();var c=t&&!i;return i||(i=setTimeout(h,e)),c&&(l=n.apply(s,r),s=r=null),l};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(l=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},f}Rx.debounce=Rx;var d3=Rx;function UU(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=ie.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=ie.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),f=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,o=ie.exports.useRef(!1);ie.exports.useEffect(()=>(o.current=!0,()=>void(o.current=!1)));const[u,d,p]=ie.exports.useMemo(()=>{const w=()=>{if(!h.current.element)return;const{left:A,top:M,width:C,height:E,bottom:R,right:b,x:_,y:S}=h.current.element.getBoundingClientRect(),T={left:A,top:M,width:C,height:E,bottom:R,right:b,x:_,y:S};h.current.element instanceof HTMLElement&&r&&(T.height=h.current.element.offsetHeight,T.width=h.current.element.offsetWidth),Object.freeze(T),o.current&&!GU(h.current.lastBounds,T)&&l(h.current.lastBounds=T)};return[w,c?d3(w,c):w,f?d3(w,f):w]},[l,r,f,c]);function m(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",p,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function v(){!h.current.element||(h.current.resizeObserver=new s(p),h.current.resizeObserver.observe(h.current.element),t&&h.current.scrollContainers&&h.current.scrollContainers.forEach(w=>w.addEventListener("scroll",p,{capture:!0,passive:!0})))}const x=w=>{!w||w===h.current.element||(m(),h.current.element=w,h.current.scrollContainers=Q4(w),v())};return WU(p,Boolean(t)),HU(d),ie.exports.useEffect(()=>{m(),v()},[t,p,d]),ie.exports.useEffect(()=>m,[]),[x,a,u]}function HU(n){ie.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function WU(n,e){ie.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Q4(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Q4(n.parentElement)]}const VU=["x","y","top","bottom","left","right","width","height"],GU=(n,e)=>VU.every(t=>n[t]===e[t]);var KU=Object.defineProperty,jU=Object.defineProperties,YU=Object.getOwnPropertyDescriptors,p3=Object.getOwnPropertySymbols,XU=Object.prototype.hasOwnProperty,QU=Object.prototype.propertyIsEnumerable,m3=(n,e,t)=>e in n?KU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,g3=(n,e)=>{for(var t in e||(e={}))XU.call(e,t)&&m3(n,t,e[t]);if(p3)for(var t of p3(e))QU.call(e,t)&&m3(n,t,e[t]);return n},$U=(n,e)=>jU(n,YU(e));function $4(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=$4(i,e,t);if(r)return r;i=e?null:i.sibling}}function q4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const TS=q4(ie.exports.createContext(null));class J4 extends ie.exports.Component{render(){return ie.exports.createElement(TS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:qU,ReactCurrentDispatcher:JU}=ie.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ZU(){const n=ie.exports.useContext(TS);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ie.exports.useId();return ie.exports.useMemo(()=>{var i;return(i=qU.current)!=null?i:$4(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function eH(){var n,e;const t=ZU(),[i]=ie.exports.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==TS&&!i.has(s)&&i.set(s,(e=JU.current)==null?void 0:e.readContext(q4(s))),r=r.return}return ie.exports.useMemo(()=>Array.from(i.keys()).reduce((s,a)=>l=>ie.exports.createElement(s,null,ie.exports.createElement(a.Provider,$U(g3({},l),{value:i.get(a)}))),s=>ie.exports.createElement(J4,g3({},s))),[i])}const k1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function tH(n){const{handlePointer:e}=RU(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(k1).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([a,l])=>{const[h,f]=k1[a];t.addEventListener(h,l,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,a])=>{if(i&&i.connected instanceof HTMLElement){const[l]=k1[s];i.connected.removeEventListener(l,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const nH=ie.exports.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:a=tH,eventSource:l,eventPrefix:h,shadows:f,linear:c,flat:o,legacy:u,orthographic:d,frameloop:p,dpr:m,performance:v,raycaster:x,camera:w,onPointerMissed:A,onCreated:M,...C},E){ie.exports.useMemo(()=>SU(CB),[]);const R=eH(),[b,_]=UU({scroll:!0,debounce:{scroll:50,resize:0},...i}),S=ie.exports.useRef(null),T=ie.exports.useRef(null);ie.exports.useImperativeHandle(E,()=>S.current);const P=F4(A),[I,z]=ie.exports.useState(!1),[O,D]=ie.exports.useState(!1);if(I)throw I;if(O)throw O;const B=ie.exports.useRef(null);Jf(()=>{const U=S.current;_.width>0&&_.height>0&&U&&(B.current||(B.current=FU(U)),B.current.configure({gl:s,events:a,shadows:f,linear:c,flat:o,legacy:u,orthographic:d,frameloop:p,dpr:m,performance:v,raycaster:x,camera:w,size:_,onPointerMissed:(...H)=>P.current==null?void 0:P.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(l?bU(l)?l.current:l:T.current),h&&H.setEvents({compute:(j,Y)=>{const K=j[h+"X"],X=j[h+"Y"];Y.pointer.set(K/Y.size.width*2-1,-(X/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),M?.(H)}}),B.current.render(ie.exports.createElement(R,null,ie.exports.createElement(B4,{set:D},ie.exports.createElement(ie.exports.Suspense,{fallback:ie.exports.createElement(AU,{set:z})},e)))))}),ie.exports.useEffect(()=>{const U=S.current;if(U)return()=>X4(U)},[]);const F=l?"none":"auto";return ie.exports.createElement("div",_f({ref:T,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...r}},C),ie.exports.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},ie.exports.createElement("canvas",{ref:S,style:{display:"block"}},t)))}),iH=ie.exports.forwardRef(function(e,t){return ie.exports.createElement(J4,null,ie.exports.createElement(nH,_f({},e,{ref:t})))});var Ti=`
#define SCALE 8.0
#define TILES 2.0
#define SHOW_TILING 1
#define ANIMATE 1
#ifndef QTR_PI
#define QTR_PI 0.78539816339
#endif
#ifndef HALF_PI
#define HALF_PI 1.5707963267948966192313216916398
#endif
#ifndef PI
#define PI 3.1415926535897932384626433832795
#endif
#ifndef TWO_PI
#define TWO_PI 6.2831853071795864769252867665590
#endif
#ifndef TAU
#define TAU 6.2831853071795864769252867665590
#endif
#ifndef ONE_OVER_PI
#define ONE_OVER_PI 0.31830988618
#endif
#ifndef SQRT_HALF_PI
#define SQRT_HALF_PI 1.25331413732
#endif
#ifndef PHI
#define PHI 1.618033988749894848204586834
#endif
#ifndef EPSILON
#define EPSILON 0.0000001
#endif
#ifndef GOLDEN_RATIO
#define GOLDEN_RATIO 1.6180339887
#endif
#ifndef GOLDEN_RATIO_CONJUGATE
#define GOLDEN_RATIO_CONJUGATE 0.61803398875
#endif
#ifndef GOLDEN_ANGLE
#define GOLDEN_ANGLE 2.39996323
#endif
uint ihash1D(uint q){q=(q<<13u)^ q;return q*(q*q*15731u+789221u)+1376312589u;}uvec4 ihash1D(uvec4 q){q=(q<<13u)^ q;return q*(q*q*15731u+789221u)+1376312589u;}float hash1D(vec2 x){uvec2 q=uvec2(x*65536.0);q=1103515245u*((q>>1u)^ q.yx);uint n=1103515245u*(q.x ^(q.y>>3u));return float(n)*(1.0/float(0xffffffffu));}vec2 hash2D(vec2 x){uvec4 q=uvec2(x*65536.0).xyyx+uvec2(0u,3115245u).xxyy;q=1103515245u*((q>>1u)^ q.yxwz);uvec2 n=1103515245u*(q.xz ^(q.yw>>3u));return vec2(n)*(1.0/float(0xffffffffu));}vec3 hash3D(vec2 x){uvec3 v=uvec3(x.xyx*65536.0)*1664525u+1013904223u;v+=v.yzx*v.zxy;v ^=v>>16u;v.x+=v.y*v.z;v.y+=v.z*v.x;v.z+=v.x*v.y;return vec3(v)*(1.0/float(0xffffffffu));}vec4 hash4D(vec2 x){uvec4 v=uvec4(x.xyyx*65536.0)*1664525u+1013904223u;v+=v.yzxy*v.wxyz;v.x+=v.y*v.w;v.y+=v.z*v.x;v.z+=v.x*v.y;v.w+=v.y*v.z;v.x+=v.y*v.w;v.w+=v.y*v.z;v ^=v>>16u;return vec4(v ^(v>>16u))*(1.0/float(0xffffffffu));}vec4 hash4D(vec4 x){uvec4 v=uvec4(x*65536.0)*1664525u+1013904223u;v+=v.yzxy*v.wxyz;v.x+=v.y*v.w;v.y+=v.z*v.x;v.z+=v.x*v.y;v.w+=v.y*v.z;v.x+=v.y*v.w;v.y+=v.z*v.x;v.z+=v.x*v.y;v.w+=v.y*v.z;v ^=v>>16u;return vec4(v ^(v>>16u))*(1.0/float(0xffffffffu));}vec2 betterHash2D(vec2 x){uvec2 q=uvec2(x);uint h0=ihash1D(ihash1D(q.x)+q.y);uint h1=h0*1933247u+~h0 ^ 230123u;return vec2(h0,h1)*(1.0/float(0xffffffffu));}vec4 betterHash2D(vec4 cell){uvec4 i=uvec4(cell)+101323u;uvec4 hash=ihash1D(ihash1D(i.xzxz)+i.yyww);return vec4(hash)*(1.0/float(0xffffffffu));}void betterHash2D(vec4 cell,out vec4 hashX,out vec4 hashY){uvec4 i=uvec4(cell)+101323u;uvec4 hash0=ihash1D(ihash1D(i.xzxz)+i.yyww);uvec4 hash1=ihash1D(hash0 ^ 1933247u);hashX=vec4(hash0)*(1.0/float(0xffffffffu));hashY=vec4(hash1)*(1.0/float(0xffffffffu));}void betterHash2D(vec4 coords0,vec4 coords1,out vec4 hashX,out vec4 hashY){uvec4 hash0=ihash1D(ihash1D(uvec4(coords0.xz,coords1.xz))+uvec4(coords0.yw,coords1.yw));uvec4 hash1=hash0*1933247u+~hash0 ^ 230123u;hashX=vec4(hash0)*(1.0/float(0xffffffffu));hashY=vec4(hash1)*(1.0/float(0xffffffffu));}void betterHash3D(vec3 cell,vec3 cellPlusOne,out vec4 lowHash,out vec4 highHash){uvec4 cells=uvec4(cell.xy,cellPlusOne.xy);uvec4 hash=ihash1D(ihash1D(cells.xzxz)+cells.yyww);lowHash=vec4(ihash1D(hash+uint(cell.z)))*(1.0/float(0xffffffffu));highHash=vec4(ihash1D(hash+uint(cellPlusOne.z)))*(1.0/float(0xffffffffu));}
#define multiHash2D betterHash2D
#define multiHash3D betterHash3D
void smultiHash2D(vec4 cell,out vec4 hashX,out vec4 hashY){multiHash2D(cell,hashX,hashY);hashX=hashX*2.0-1.0;hashY=hashY*2.0-1.0;}float noiseInterpolate(const in float x){float x2=x*x;return x2*x*(x*(x*6.0-15.0)+10.0);}vec2 noiseInterpolate(const in vec2 x){vec2 x2=x*x;return x2*x*(x*(x*6.0-15.0)+10.0);}vec3 noiseInterpolate(const in vec3 x){vec3 x2=x*x;return x2*x*(x*(x*6.0-15.0)+10.0);}vec4 noiseInterpolate(const in vec4 x){vec4 x2=x*x;return x2*x*(x*(x*6.0-15.0)+10.0);}vec2 noiseInterpolateDu(const in float x){float x2=x*x;float u=x2*x*(x*(x*6.0-15.0)+10.0);float du=30.0*x2*(x*(x-2.0)+1.0);return vec2(u,du);}vec4 noiseInterpolateDu(const in vec2 x){vec2 x2=x*x;vec2 u=x2*x*(x*(x*6.0-15.0)+10.0);vec2 du=30.0*x2*(x*(x-2.0)+1.0);return vec4(u,du);}void noiseInterpolateDu(const in vec3 x,out vec3 u,out vec3 du){vec3 x2=x*x;u=x2*x*(x*(x*6.0-15.0)+10.0);du=30.0*x2*(x*(x-2.0)+1.0);}float distanceMetric(vec2 pos,uint metric){switch(metric){case 0u:return dot(pos,pos);case 1u:return dot(abs(pos),vec2(1.0));case 2u:return max(abs(pos.x),abs(pos.y));default:return max(abs(pos.x)*0.866025+pos.y*0.5,-pos.y);}}vec4 distanceMetric(vec4 px,vec4 py,uint metric){switch(metric){case 0u:return px*px+py*py;case 1u:return abs(px)+abs(py);case 2u:return max(abs(px),abs(py));default:return max(abs(px)*0.866025+py*0.5,-py);}}float noise(vec2 pos,vec2 scale,float phase,float seed){const float kPI2=6.2831853071;pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec2 f=pos-i.xy;i=mod(i,scale.xyxy)+seed;vec4 hash=multiHash2D(i);hash=0.5*sin(phase+kPI2*hash)+0.5;float a=hash.x;float b=hash.y;float c=hash.z;float d=hash.w;vec2 u=noiseInterpolate(f);float value=mix(a,b,u.x)+(c-a)*u.y*(1.0-u.x)+(d-b)*u.x*u.y;return value*2.0-1.0;}vec3 noised(vec2 pos,vec2 scale,float phase,float seed){const float kPI2=6.2831853071;pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec2 f=pos-i.xy;i=mod(i,scale.xyxy)+seed;vec4 hash=multiHash2D(i);hash=0.5*sin(phase+kPI2*hash)+0.5;float a=hash.x;float b=hash.y;float c=hash.z;float d=hash.w;vec4 udu=noiseInterpolateDu(f);float abcd=a-b-c+d;float value=a+(b-a)*udu.x+(c-a)*udu.y+abcd*udu.x*udu.y;vec2 derivative=udu.zw*(udu.yx*abcd+vec2(b,c)-a);return vec3(value*2.0-1.0,derivative);}vec2 multiNoise(vec4 pos,vec4 scale,float phase,vec2 seed){const float kPI2=6.2831853071;pos*=scale;vec4 i=floor(pos);vec4 f=pos-i;vec4 i0=mod(i.xyxy+vec2(0.0,1.0).xxyy,scale.xyxy)+seed.x;vec4 i1=mod(i.zwzw+vec2(0.0,1.0).xxyy,scale.xyxy)+seed.y;vec4 hash0=multiHash2D(i0);hash0=0.5*sin(phase+kPI2*hash0)+0.5;vec4 hash1=multiHash2D(i1);hash1=0.5*sin(phase+kPI2*hash1)+0.5;vec2 a=vec2(hash0.x,hash1.x);vec2 b=vec2(hash0.y,hash1.y);vec2 c=vec2(hash0.z,hash1.z);vec2 d=vec2(hash0.w,hash1.w);vec4 u=noiseInterpolate(f);vec2 value=mix(a,b,u.xz)+(c-a)*u.yw*(1.0-u.xz)+(d-b)*u.xz*u.yw;return value*2.0-1.0;}vec3 gradientNoised(vec2 pos,vec2 scale,float seed){pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec4 f=(pos.xyxy-i.xyxy)-vec2(0.0,1.0).xxyy;i=mod(i,scale.xyxy)+seed;vec4 hashX,hashY;smultiHash2D(i,hashX,hashY);vec2 a=vec2(hashX.x,hashY.x);vec2 b=vec2(hashX.y,hashY.y);vec2 c=vec2(hashX.z,hashY.z);vec2 d=vec2(hashX.w,hashY.w);vec4 gradients=hashX*f.xzxz+hashY*f.yyww;vec4 udu=noiseInterpolateDu(f.xy);vec2 u=udu.xy;vec2 g=mix(gradients.xz,gradients.yw,u.x);vec2 dxdy=a+u.x*(b-a)+u.y*(c-a)+u.x*u.y*(a-b-c+d);dxdy+=udu.zw*(u.yx*(gradients.x-gradients.y-gradients.z+gradients.w)+gradients.yz-gradients.x);return vec3(mix(g.x,g.y,u.y)*1.4142135623730950,dxdy);}vec3 gradientNoised(vec2 pos,vec2 scale,mat2 transform,float seed){pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec4 f=(pos.xyxy-i.xyxy)-vec2(0.0,1.0).xxyy;i=mod(i,scale.xyxy)+seed;vec4 hashX,hashY;smultiHash2D(i,hashX,hashY);vec4 m=vec4(transform);vec4 rh=vec4(hashX.x,hashY.x,hashX.y,hashY.y);rh=rh.xxzz*m.xyxy+rh.yyww*m.zwzw;hashX.xy=rh.xz;hashY.xy=rh.yw;rh=vec4(hashX.z,hashY.z,hashX.w,hashY.w);rh=rh.xxzz*m.xyxy+rh.yyww*m.zwzw;hashX.zw=rh.xz;hashY.zw=rh.yw;vec2 a=vec2(hashX.x,hashY.x);vec2 b=vec2(hashX.y,hashY.y);vec2 c=vec2(hashX.z,hashY.z);vec2 d=vec2(hashX.w,hashY.w);vec4 gradients=hashX*f.xzxz+hashY*f.yyww;vec4 udu=noiseInterpolateDu(f.xy);vec2 u=udu.xy;vec2 g=mix(gradients.xz,gradients.yw,u.x);vec2 dxdy=a+u.x*(b-a)+u.y*(c-a)+u.x*u.y*(a-b-c+d);dxdy+=udu.zw*(u.yx*(gradients.x-gradients.y-gradients.z+gradients.w)+gradients.yz-gradients.x);return vec3(mix(g.x,g.y,u.y)*1.4142135623730950,dxdy);}vec3 gradientNoised(vec2 pos,vec2 scale,float rotation,float seed){vec2 sinCos=vec2(sin(rotation),cos(rotation));return gradientNoised(pos,scale,mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y),seed);}float perlinNoise(vec2 pos,vec2 scale,float seed){pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec4 f=(pos.xyxy-i.xyxy)-vec2(0.0,1.0).xxyy;i=mod(i,scale.xyxy)+seed;vec4 gradientX,gradientY;multiHash2D(i,gradientX,gradientY);gradientX-=0.49999;gradientY-=0.49999;vec4 gradients=inversesqrt(gradientX*gradientX+gradientY*gradientY)*(gradientX*f.xzxz+gradientY*f.yyww);gradients*=2.3703703703703703703703703703704;vec4 lengthSq=f*f;lengthSq=lengthSq.xzxz+lengthSq.yyww;vec4 xSq=1.0-min(vec4(1.0),lengthSq);xSq=xSq*xSq*xSq;return dot(xSq,gradients);}float perlinNoise(vec2 pos,vec2 scale,mat2 transform,float seed){pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec4 f=(pos.xyxy-i.xyxy)-vec2(0.0,1.0).xxyy;i=mod(i,scale.xyxy)+seed;vec4 gradientX,gradientY;multiHash2D(i,gradientX,gradientY);gradientX-=0.49999;gradientY-=0.49999;vec4 m=vec4(transform);vec4 rg=vec4(gradientX.x,gradientY.x,gradientX.y,gradientY.y);rg=rg.xxzz*m.xyxy+rg.yyww*m.zwzw;gradientX.xy=rg.xz;gradientY.xy=rg.yw;rg=vec4(gradientX.z,gradientY.z,gradientX.w,gradientY.w);rg=rg.xxzz*m.xyxy+rg.yyww*m.zwzw;gradientX.zw=rg.xz;gradientY.zw=rg.yw;vec4 gradients=inversesqrt(gradientX*gradientX+gradientY*gradientY)*(gradientX*f.xzxz+gradientY*f.yyww);gradients*=2.3703703703703703703703703703704;f=f*f;f=f.xzxz+f.yyww;vec4 xSq=1.0-min(vec4(1.0),f);return dot(xSq*xSq*xSq,gradients);}float perlinNoise(vec2 pos,vec2 scale,float rotation,float seed){vec2 sinCos=vec2(sin(rotation),cos(rotation));return perlinNoise(pos,scale,mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y),seed);}vec3 perlinNoised(vec2 pos,vec2 scale,mat2 transform,float seed){pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec4 f=(pos.xyxy-i.xyxy)-vec2(0.0,1.0).xxyy;i=mod(i,scale.xyxy)+seed;vec4 gradientX,gradientY;multiHash2D(i,gradientX,gradientY);gradientX-=0.49999;gradientY-=0.49999;vec4 mt=vec4(transform);vec4 rg=vec4(gradientX.x,gradientY.x,gradientX.y,gradientY.y);rg=rg.xxzz*mt.xyxy+rg.yyww*mt.zwzw;gradientX.xy=rg.xz;gradientY.xy=rg.yw;rg=vec4(gradientX.z,gradientY.z,gradientX.w,gradientY.w);rg=rg.xxzz*mt.xyxy+rg.yyww*mt.zwzw;gradientX.zw=rg.xz;gradientY.zw=rg.yw;vec4 gradients=inversesqrt(gradientX*gradientX+gradientY*gradientY)*(gradientX*f.xzxz+gradientY*f.yyww);vec4 m=f*f;m=m.xzxz+m.yyww;m=max(1.0-m,0.0);vec4 m2=m*m;vec4 m3=m*m2;vec4 m2Gradients=-6.0*m2*gradients;vec2 grad=vec2(dot(m2Gradients,f.xzxz),dot(m2Gradients,f.yyww))+vec2(dot(m3,gradientX),dot(m3,gradientY));return vec3(dot(m3,gradients),grad)*2.3703703703703703703703703703704;}float organicNoise(vec2 pos,vec2 scale,float density,vec2 phase,float contrast,float highlights,float shift,float seed){vec2 s=mix(vec2(1.0),scale-1.0,density);float nx=perlinNoise(pos+phase,scale,seed);float ny=perlinNoise(pos,s,seed);float n=length(vec2(nx,ny)*mix(vec2(2.0,0.0),vec2(0.0,2.0),shift));n=pow(n,1.0+8.0*contrast)+(0.15*highlights)/n;return n*0.5;}vec2 randomLines(vec2 pos,vec2 scale,float count,float width,float jitter,vec2 smoothness,float phase,float seed){float strength=jitter*1.25;vec2 grad;vec3 offsets=vec3(1.0,0.0,-1.0)/1024.0;vec4 p=pos.xyxy+offsets.xyzy;vec2 nv=count*(strength*multiNoise(p,scale.xyxy,phase,vec2(seed))+p.yw);grad.x=nv.x-nv.y;p=pos.xyxy+offsets.yxyz;nv=count*(strength*multiNoise(p,scale.xyxy,phase,vec2(seed))+p.yw);grad.y=nv.x-nv.y;float v=count*(strength*noise(pos,scale,phase,seed)+pos.y);float w=fract(v)/length(grad/(2.0*offsets.x));width*=0.1;smoothness*=width;smoothness+=max(abs(grad.x),abs(grad.y))*0.02;float d=smoothstep(0.0,smoothness.x,w)-smoothstep(max(width-smoothness.y,0.0),width,w);return vec2(d,mod(floor(v),count));}vec4 randomLines(vec2 pos,vec2 scale,float count,float width,float jitter,vec2 smoothness,float phase,float colorVariation,float seed){vec2 l=randomLines(pos,scale,count,width,jitter,smoothness,phase,seed);vec3 r=hash3D(l.yy+seed);return vec4(l.x*(r.x<colorVariation ? r : r.xxx),l.x);}vec4 fbmMulti(vec2 pos,vec2 scale,float lacunarity,int octaves,float phase,float seed){vec4 seeds=vec4(0.0,1031.0,537.0,23.0)+seed;float f=2.0/lacunarity;vec4 value=vec4(0.0);float w=1.0;float acc=0.0;for(int i=0;i<octaves;i++){vec2 ns=vec2(scale/w);vec4 n;n.xy=multiNoise(pos.xyxy,ns.xyxy,phase,seeds.xy);n.zw=multiNoise(pos.xyxy,ns.xyxy,phase,seeds.zw);value+=(n*0.5+0.5)*w;acc+=w;w*=0.5*f;}return value/acc;}float fbmGrid(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,vec3 translate,float warpStrength,float octaveFactor,vec2 seed){float amplitude=gain;float time=timeShift;vec2 frequency=scale;vec2 offset=vec2(shift,0.0);vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(shift),cos(shift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);float value=0.0;for(int i=0;i<octaves;i++){vec2 pi=p/frequency+value*warpStrength;vec4 mn;mn.xy=multiNoise(pi.xyxy+vec2(0.0,translate.x).xxyy,frequency.xyxy,time,seed);mn.zw=multiNoise(pi.xyxy+translate.yyzz,frequency.xyxy,time,seed);mn.xy=mn.xy*mn.zw;float n=pow(abs(mn.x*mn.y),0.25)*2.0-1.0;value+=amplitude*n;p=p*lacunarity+offset*float(1+i);frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);time+=timeShift;offset*=rotate;}value=value*0.5+0.5;return value*value;}float fbmGrid(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,float warpStrength,float octaveFactor,vec2 seed){vec3 translate=(hash3D(vec2(seed))*2.0-1.0)*scale.xyx;return fbmGrid(pos,scale,octaves,shift,timeShift,gain,lacunarity,translate,warpStrength,octaveFactor,seed);}vec3 dotsNoise(vec2 pos,vec2 scale,float density,float size,float sizeVariation,float roundness,float seed){pos*=scale;vec4 i=floor(pos).xyxy+vec2(0.0,1.0).xxyy;vec2 f=pos-i.xy;i=mod(i,scale.xyxy);vec4 hash=hash4D(i.xy+seed);if(hash.w>density)return vec3(0.0);float radius=clamp(size+(hash.z*2.0-1.0)*sizeVariation*0.5,0.0,1.0);float value=radius/size;radius=2.0/radius;f=f*radius-(radius-1.0);f+=hash.xy*(radius-2.0);f=pow(abs(f),vec2((mix(20.0,1.0,sqrt(roundness)))));float u=1.0-min(dot(f,f),1.0);return vec3(clamp(u*u*u*value,0.0,1.0),hash.w,hash.z);}vec2 cellularNoise(vec2 pos,vec2 scale,float jitter,float phase,uint metric,float seed){const float kPI2=6.2831853071;pos*=scale;vec2 i=floor(pos);vec2 f=pos-i;const vec3 offset=vec3(-1.0,0.0,1.0);vec4 cells=mod(i.xyxy+offset.xxzz,scale.xyxy)+seed;i=mod(i,scale)+seed;vec4 dx0,dy0,dx1,dy1;multiHash2D(vec4(cells.xy,vec2(i.x,cells.y)),vec4(cells.zyx,i.y),dx0,dy0);multiHash2D(vec4(cells.zwz,i.y),vec4(cells.xw,vec2(i.x,cells.w)),dx1,dy1);dx0=0.5*sin(phase+kPI2*dx0)+0.5;dy0=0.5*sin(phase+kPI2*dy0)+0.5;dx1=0.5*sin(phase+kPI2*dx1)+0.5;dy1=0.5*sin(phase+kPI2*dy1)+0.5;dx0=offset.xyzx+dx0*jitter-f.xxxx;dy0=offset.xxxy+dy0*jitter-f.yyyy;dx1=offset.zzxy+dx1*jitter-f.xxxx;dy1=offset.zyzz+dy1*jitter-f.yyyy;vec4 d0=distanceMetric(dx0,dy0,metric);vec4 d1=distanceMetric(dx1,dy1,metric);vec2 centerPos=(0.5*sin(phase+kPI2*multiHash2D(i))+0.5)*jitter-f;vec4 F=min(d0,d1);F=min(F,max(d0,d1).wzyx);F.xy=min(min(F.xy,F.zw),max(F.xy,F.zw).yx);F.zw=vec2(distanceMetric(centerPos,metric),1e+5);F.xy=min(min(F.xy,F.zw),max(F.xy,F.zw).yx);vec2 f12=vec2(min(F.x,F.y),max(F.x,F.y));return(metric==0u ? sqrt(f12): f12)*(1.0/1.125);}vec3 cellularNoised(vec2 pos,vec2 scale,float jitter,float phase,float seed){const float kPI2=6.2831853071;pos*=scale;vec2 i=floor(pos);vec2 f=pos-i;const vec3 offset=vec3(-1.0,0.0,1.0);vec4 cells=mod(i.xyxy+offset.xxzz,scale.xyxy)+seed;i=mod(i,scale)+seed;vec4 dx0,dy0,dx1,dy1;multiHash2D(vec4(cells.xy,vec2(i.x,cells.y)),vec4(cells.zyx,i.y),dx0,dy0);multiHash2D(vec4(cells.zwz,i.y),vec4(cells.xw,vec2(i.x,cells.w)),dx1,dy1);dx0=0.5*sin(phase+kPI2*dx0)+0.5;dy0=0.5*sin(phase+kPI2*dy0)+0.5;dx1=0.5*sin(phase+kPI2*dx1)+0.5;dy1=0.5*sin(phase+kPI2*dy1)+0.5;dx0=offset.xyzx+dx0*jitter-f.xxxx;dy0=offset.xxxy+dy0*jitter-f.yyyy;dx1=offset.zzxy+dx1*jitter-f.xxxx;dy1=offset.zyzz+dy1*jitter-f.yyyy;vec4 d0=dx0*dx0+dy0*dy0;vec4 d1=dx1*dx1+dy1*dy1;vec2 centerPos=(0.5*sin(phase+kPI2*multiHash2D(i))+0.5)*jitter-f;float dCenter=dot(centerPos,centerPos);vec4 d=min(d0,d1);vec4 less=step(d1,d0);vec4 dx=mix(dx0,dx1,less);vec4 dy=mix(dy0,dy1,less);vec3 t1=d.x<d.y ? vec3(d.x,dx.x,dy.x): vec3(d.y,dx.y,dy.y);vec3 t2=d.z<d.w ? vec3(d.z,dx.z,dy.z): vec3(d.w,dx.w,dy.w);t2=t2.x<dCenter ? t2 : vec3(dCenter,centerPos);vec3 t=t1.x<t2.x ? t1 : t2;t.x=sqrt(t.x);return t*vec3(1.0,-2.0,-2.0)*(1.0/1.125);}vec3 voronoi(vec2 pos,vec2 scale,float jitter,float phase,float seed){const float kPI2=6.2831853071;pos*=scale;vec2 i=floor(pos);vec2 f=pos-i;vec2 minPos,tilePos;float minDistance=1e+5;for(int y=-1;y<=1;y++){for(int x=-1;x<=1;x++){vec2 n=vec2(float(x),float(y));vec2 cPos=hash2D(mod(i+n,scale)+seed)*jitter;cPos=0.5*sin(phase+kPI2*cPos)+0.5;vec2 rPos=n+cPos-f;float d=dot(rPos,rPos);if(d<minDistance){minDistance=d;minPos=rPos;tilePos=cPos;}}}minDistance=1e+5;for(int y=-2;y<=2;y++){for(int x=-2;x<=2;x++){vec2 n=vec2(float(x),float(y));vec2 cPos=hash2D(mod(i+n,scale)+seed)*jitter;cPos=0.5*sin(phase+kPI2*cPos)+0.5;vec2 rPos=n+cPos-f;vec2 v=minPos-rPos;if(dot(v,v)>1e-5)minDistance=min(minDistance,dot(0.5*(minPos+rPos),normalize(rPos-minPos)));}}return vec3(minDistance,tilePos);}vec3 cracks(vec2 pos,vec2 scale,float jitter,float width,float smoothness,float warp,float warpScale,bool warpSmudge,float smudgePhase,float seed){vec3 g=gradientNoised(pos,scale*warpScale,smudgePhase,seed);pos+=(warpSmudge ? g.yz : g.xx)*0.1*warp;vec3 v=voronoi(pos,scale,jitter,0.0,seed);return vec3(smoothstep(max(width-smoothness,0.0),width+fwidth(v.x),v.x),v.yz);}float metaballs(vec2 pos,vec2 scale,float jitter,float phase,float seed){const float kPI2=6.2831853071;pos*=scale;vec2 i=floor(pos);vec2 f=pos-i;const vec3 offset=vec3(-1.0,0.0,1.0);vec4 cells=mod(i.xyxy+offset.xxzz,scale.xyxy)+seed;i=mod(i,scale)+seed;vec4 dx0,dy0,dx1,dy1;multiHash2D(vec4(cells.xy,vec2(i.x,cells.y)),vec4(cells.zyx,i.y),dx0,dy0);multiHash2D(vec4(cells.zwz,i.y),vec4(cells.xw,vec2(i.x,cells.w)),dx1,dy1);dx0=0.5*sin(phase+kPI2*dx0)+0.5;dy0=0.5*sin(phase+kPI2*dy0)+0.5;dx1=0.5*sin(phase+kPI2*dx1)+0.5;dy1=0.5*sin(phase+kPI2*dy1)+0.5;dx0=offset.xyzx+dx0*jitter-f.xxxx;dy0=offset.xxxy+dy0*jitter-f.yyyy;dx1=offset.zzxy+dx1*jitter-f.xxxx;dy1=offset.zyzz+dy1*jitter-f.yyyy;vec4 d0=dx0*dx0+dy0*dy0;vec4 d1=dx1*dx1+dy1*dy1;vec2 centerPos=(0.5*sin(phase+kPI2*multiHash2D(i))+0.5)*jitter-f;float d=min(1.0,dot(centerPos,centerPos));d=min(d,d*d0.x);d=min(d,d*d0.y);d=min(d,d*d0.z);d=min(d,d*d0.w);d=min(d,d*d1.x);d=min(d,d*d1.y);d=min(d,d*d1.z);d=min(d,d*d1.w);return sqrt(d);}float metaballs(vec2 pos,vec2 scale,float jitter,float phase,float width,float smoothness,float seed){float d=metaballs(pos,scale,jitter,phase,seed);return smoothstep(width,width+smoothness,d);}float fbm(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,float octaveFactor,float seed){float amplitude=gain;float time=timeShift;vec2 frequency=scale;vec2 offset=vec2(shift,0.0);vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(shift),cos(shift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);float value=0.0;for(int i=0;i<octaves;i++){float n=noise(p/frequency,frequency,time,seed);value+=amplitude*n;p=p*lacunarity+offset*float(1+i);frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);time+=timeShift;offset*=rotate;}return value*0.5+0.5;}vec3 fbmd(vec2 pos,vec2 scale,int octaves,vec2 shift,float timeShift,float gain,vec2 lacunarity,float slopeness,float octaveFactor,float seed){float amplitude=gain;float time=timeShift;vec2 frequency=scale;vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(shift.x),cos(shift.y));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);vec3 value=vec3(0.0);vec2 derivative=vec2(0.0);for(int i=0;i<octaves;i++){vec3 n=noised(p/frequency,frequency,time,seed).xyz;derivative+=n.yz;n*=amplitude;n.x/=(1.0+mix(0.0,dot(derivative,derivative),slopeness));value+=n;p=(p+shift)*lacunarity;frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);shift=shift*rotate;time+=timeShift;}value.x=value.x*0.5+0.5;return value;}vec3 fbmd(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,float slopeness,float octaveFactor,float seed){return fbmd(pos,scale,octaves,vec2(shift),timeShift,gain,vec2(lacunarity),slopeness,octaveFactor,seed);}vec3 fbmd(vec2 pos,vec2 scale,int octaves,vec2 shift,float timeShift,float gain,float lacunarity,float slopeness,float octaveFactor,float seed){return fbmd(pos,scale,octaves,shift,timeShift,gain,vec2(lacunarity),slopeness,octaveFactor,seed);}float fbmMetaballs(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,float octaveFactor,float jitter,float interpolate,vec2 width,float seed){float amplitude=gain;float time=timeShift;vec2 frequency=scale;vec2 offset=vec2(shift,0.0);vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(shift),cos(shift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);float n=1.0;float value=0.0;for(int i=0;i<octaves;i++){float cn=metaballs(p/frequency,frequency,jitter,timeShift,width.x,width.y,seed)*2.0-1.0;n*=cn;value+=amplitude*mix(n,abs(n),interpolate);p=p*lacunarity+offset*float(1+i);frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);time+=timeShift;offset*=rotate;}return value*0.5+0.5;}float fbmPerlin(vec2 pos,vec2 scale,int octaves,float shift,float axialShift,float gain,float lacunarity,uint mode,float factor,float offset,float seed){float amplitude=gain;vec2 frequency=floor(scale);float angle=axialShift;float n=1.0;vec2 p=fract(pos)*frequency;float value=0.0;for(int i=0;i<octaves;i++){float pn=perlinNoise(p/frequency,frequency,angle,seed)+offset;if(mode==0u){n*=abs(pn);}else if(mode==1u){n=abs(pn);}else if(mode==2u){n=pn;}else if(mode==3u){n*=pn;}else if(mode==4u){n=pn*0.5+0.5;}else{n*=pn*0.5+0.5;}n=pow(n<0.0 ? 0.0 : n,factor);value+=amplitude*n;p=p*lacunarity+shift;frequency*=lacunarity;amplitude*=gain;angle+=axialShift;}return value;}vec3 fbmdPerlin(vec2 pos,vec2 scale,int octaves,vec2 shift,mat2 transform,float gain,vec2 lacunarity,float slopeness,float octaveFactor,bool negative,float seed){float amplitude=gain;vec2 frequency=floor(scale);vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.3;vec3 value=vec3(0.0);vec2 derivative=vec2(0.0);for(int i=0;i<octaves;i++){vec3 n=perlinNoised(p/frequency,frequency,transform,seed);derivative+=n.yz;n.x=negative ? n.x : n.x*0.5+0.5;n*=amplitude;value.x+=n.x/(1.0+mix(0.0,dot(derivative,derivative),slopeness));value.yz+=n.yz;p=(p+shift)*lacunarity;frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);transform*=transform;}return clamp(value,-1.,1.);}vec3 fbmdPerlin(vec2 pos,vec2 scale,int octaves,vec2 shift,float axialShift,float gain,vec2 lacunarity,float slopeness,float octaveFactor,bool negative,float seed){vec2 cosSin=vec2(cos(axialShift),sin(axialShift));mat2 transform=mat2(cosSin.x,cosSin.y,-cosSin.y,cosSin.x)*mat2(0.8,-0.6,0.6,0.8);return fbmdPerlin(pos,scale,octaves,shift,transform,gain,lacunarity,slopeness,octaveFactor,negative,seed);}vec4 fbmVoronoi(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,float octaveFactor,float jitter,float interpolate,float seed){float amplitude=gain;float time=timeShift;vec2 frequency=scale;vec2 offset=vec2(shift,0.0);vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(shift),cos(shift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);float n=1.0;vec4 value=vec4(0.0);for(int i=0;i<octaves;i++){vec3 v=voronoi(p/frequency,frequency,jitter,timeShift,seed);v.x=v.x*2.0-1.0;n*=v.x;value+=amplitude*vec4(mix(v.x,n,interpolate),hash3D(v.yz));p=p*lacunarity+offset*float(1+i);frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);time+=timeShift;offset*=rotate;}value.x=value.x*0.5+0.5;return value;}vec4 fbmCellular(vec2 pos,vec2 scale,int octaves,float shift,float timeShift,float gain,float lacunarity,float octaveFactor,float jitter,float interpolate,float seed){float amplitude=gain;float time=timeShift;vec2 frequency=scale;vec2 offset=vec2(shift,0.0);vec2 p=pos*frequency;octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(shift),cos(shift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);float n=1.0;vec4 value=vec4(0.0);for(int i=0;i<octaves;i++){vec3 v=cellularNoised(p/frequency,frequency,jitter,timeShift,seed);v.x=v.x*2.0-1.0;n*=v.x;value+=amplitude*vec4(mix(v.x,n,interpolate),hash3D(v.yz));p=p*lacunarity+offset*float(1+i);frequency*=lacunarity;amplitude=pow(amplitude*gain,octaveFactor);time+=timeShift;offset*=rotate;}value.x=value.x*0.5+0.5;return value;}float fbmWarp(vec2 pos,vec2 scale,vec2 factors,int octaves,vec4 shifts,float timeShift,float gain,vec2 lacunarity,float slopeness,float octaveFactor,bool negative,float seed,out vec2 q,out vec2 r){float qfactor=factors.x;float rfactor=factors.y;q.x=fbmd(pos,scale,octaves,vec2(0.0),timeShift,gain,lacunarity,slopeness,octaveFactor,seed).x;q.y=fbmd(pos,scale,octaves,vec2(shifts.x),timeShift,gain,lacunarity,slopeness,octaveFactor,seed).x;q=negative ? q*2.0-1.0 : q;vec2 np=pos+qfactor*q;r.x=fbmd(np,scale,octaves,vec2(shifts.y),timeShift,gain,lacunarity,slopeness,octaveFactor,seed).x;r.y=fbmd(np,scale,octaves,vec2(shifts.z),timeShift,gain,lacunarity,slopeness,octaveFactor,seed).x;r=negative ? r*2.0-1.0 : r;return fbmd(pos+r*rfactor,scale,octaves,vec2(shifts.w),timeShift,gain,lacunarity,slopeness,octaveFactor,seed).x;}float perlinNoiseWarp(vec2 pos,vec2 scale,float strength,float phase,float factor,float spread,float seed){vec2 offset=vec2(spread,0.0);strength*=32.0/max(scale.x,scale.y);vec4 gp;gp.x=perlinNoise(pos-offset.xy,scale,phase,seed);gp.y=perlinNoise(pos+offset.xy,scale,phase,seed);gp.z=perlinNoise(pos-offset.yx,scale,phase,seed);gp.w=perlinNoise(pos+offset.yx,scale,phase,seed);gp=pow(gp,vec4(factor));vec2 warp=vec2(gp.y-gp.x,gp.w-gp.z);return pow(perlinNoise(pos+warp*strength,scale,phase,seed),factor);}float curlWarp(vec2 pos,vec2 scale,vec2 factors,vec4 seeds,float curl,float seed,out vec2 q,out vec2 r){float qfactor=factors.x;float rfactor=factors.y;vec2 curlFactor=vec2(1.0,-1.0)*vec2(curl,1.0-curl);vec2 n=gradientNoised(pos,scale,seed).zy*curlFactor;q.x=n.x+n.y;n=gradientNoised(pos+hash2D(seeds.xx),scale,seed).zy*curlFactor;q.x=n.x+n.y;vec2 np=pos+qfactor*q;n=gradientNoised(np+hash2D(seeds.yy),scale,seed).zy*curlFactor;r.x=n.x+n.y;n=gradientNoised(np+hash2D(seeds.zz),scale,seed).zy*curlFactor;r.y=n.x+n.y;return perlinNoise(pos+r*rfactor+hash2D(seeds.ww),scale,seed);}float sdfLens(vec2 p,float width,float height){float d=1.0/width-width/4.0;float r=width/2.0+d;p=abs(p);float b=sqrt(r*r-d*d);vec4 par=p.xyxy-vec4(0.0,b,-d,0.0);return(par.y*d>p.x*b)? length(par.xy): length(par.zw)-r;}vec3 tileWeave(vec2 pos,vec2 scale,float count,float width,float smoothness){vec2 i=floor(pos*scale);float c=mod(i.x+i.y,2.0);vec2 p=fract(pos.st*scale);p=mix(p.st,p.ts,c);p=fract(p*vec2(count,1.0));width*=2.0;p=p*2.0-1.0;float d=sdfLens(p,width,1.0);vec2 grad=vec2(dFdx(d),dFdy(d));float s=1.0-smoothstep(0.0,dot(abs(grad),vec2(1.0))+smoothness,-d);return vec3(s,normalize(grad)*smoothstep(1.0,0.99,s)*smoothstep(0.0,0.01,s));}vec3 checkers45(const in vec2 pos,const in vec2 scale,const in vec2 smoothness){vec2 numTiles=floor(scale);vec2 p=pos*numTiles*2.0;const float angle=3.14152/4.0;const float cosAngle=cos(angle);const float sinAngle=sin(angle);p*=1.0/sqrt(2.0);p=p*mat2(cosAngle,sinAngle,-sinAngle,cosAngle);p+=vec2(0.5,0.0);vec2 tile=mod(floor(p),numTiles);vec2 w=smoothness;vec2 s1=abs(fract((p-0.5*w)/2.0)-0.5);vec2 s2=abs(fract((p+0.5*w)/2.0)-0.5);vec2 i=2.0*(s1-s2)/w;float d=0.5-0.5*i.x*i.y;return vec3(d,tile);}float triangleWave(float x){const float pi=3.141592;float t=x/(pi*2.0)+pi/4.0;return abs(fract(t)*2.0-1.0)*2.0-1.0;}float wavePattern(vec2 pos,vec2 scale,float width,float smoothness,float amplitude,float interpolate){scale=floor(scale);const float pi=3.141592;vec2 p;p.x=pos.x*pi*scale.x;p.y=pos.y*scale.y;float sy=p.y+amplitude*mix(triangleWave(p.x),sin(p.x),interpolate);float t=triangleWave(sy*scale.y*pi*0.25);return 1.0-smoothstep(max(width-smoothness,0.0),width,t*0.5+0.5);}float stairsPattern(vec2 pos,vec2 scale,float width,float smoothness,float distance){vec2 p=pos*scale;vec2 f=fract(p);vec2 m=floor(mod(p,vec2(2.0)));float d=mix(f.x,f.y,abs(m.x-m.y));d=mix(d,abs(d*2.0-1.0),distance);return 1.0-smoothstep(max(width-smoothness,0.0),width,d);}float luma(const in vec4 color){return dot(vec3(0.2558,0.6511,0.0931),color.rgb);}vec2 sobel(sampler2D tex,vec2 uv,float spread){vec3 offset=vec3(1.0/vec2(textureSize(tex,0)),0.0)*spread;vec2 grad=vec2(0.0);grad.x-=luma(texture(tex,uv-offset.xy))*1.0;grad.x-=luma(texture(tex,uv-offset.xz))*2.0;grad.x-=luma(texture(tex,uv+offset.xy*vec2(-1.0,1.0)))*1.0;grad.x+=luma(texture(tex,uv+offset.xy*vec2(1.0,-1.0)))*1.0;grad.x+=luma(texture(tex,uv+offset.xz))*2.0;grad.x+=luma(texture(tex,uv+offset.xy))*1.0;grad.y-=luma(texture(tex,uv-offset.xy))*1.0;grad.y-=luma(texture(tex,uv-offset.zy))*2.0;grad.y-=luma(texture(tex,uv+offset.xy*vec2(1.0,-1.0)))*1.0;grad.y+=luma(texture(tex,uv+offset.xy*vec2(-1.0,1.0)))*1.0;grad.y+=luma(texture(tex,uv+offset.zy))*2.0;grad.y+=luma(texture(tex,uv+offset.xy))*1.0;return grad;}vec2 grayscaleSobel(sampler2D tex,vec2 uv,float spread){vec3 offset=vec3(1.0/vec2(textureSize(tex,0)),0.0)*spread;vec2 grad=vec2(0.0);grad.x-=texture(tex,uv-offset.xy).r*1.0;grad.x-=texture(tex,uv-offset.xz).r*2.0;grad.x-=texture(tex,uv+offset.xy*vec2(-1.0,1.0)).r*1.0;grad.x+=texture(tex,uv+offset.xy*vec2(1.0,-1.0)).r*1.0;grad.x+=texture(tex,uv+offset.xz).r*2.0;grad.x+=texture(tex,uv+offset.xy).r*1.0;grad.y-=texture(tex,uv-offset.xy).r*1.0;grad.y-=texture(tex,uv-offset.zy).r*2.0;grad.y-=texture(tex,uv+offset.xy*vec2(1.0,-1.0)).r*1.0;grad.y+=texture(tex,uv+offset.xy*vec2(-1.0,1.0)).r*1.0;grad.y+=texture(tex,uv+offset.zy).r*2.0;grad.y+=texture(tex,uv+offset.xy).r*1.0;return grad;}vec3 fbmImage(sampler2D tex,vec2 uv,vec2 scale,uint octaves,float shift,float axialShift,float gain,float lacunarity,float slopeness,float spread,float octaveFactor){vec3 value=vec3(0.0);vec2 derivative=vec2(0.0);float amplitude=gain;vec2 frequency=floor(scale);vec2 offset=vec2(shift,0.0);float angle=0.0;axialShift=3.1415926*0.5*floor(float(octaves)*axialShift);octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(axialShift),cos(axialShift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);vec2 p=uv*frequency;for(uint i=0u;i<octaves;i++){vec3 color=texture(tex,p).rgb;vec2 grad=sobel(tex,p,spread);derivative+=grad;value+=amplitude*color/(1.0+mix(0.0,dot(derivative,derivative),slopeness));amplitude=pow(amplitude*gain,octaveFactor);p=(p*lacunarity+offset)*rotate;frequency*=lacunarity;angle+=axialShift;offset*=rotate;}return value;}vec3 fbmGrayscaleImaged(sampler2D tex,vec2 uv,vec2 scale,uint octaves,float shift,float axialShift,float gain,float lacunarity,float slopeness,float spread,float octaveFactor){float value=0.0;vec2 derivative=vec2(0.0);float amplitude=gain;vec2 frequency=floor(scale);vec2 offset=vec2(shift,0.0);float angle=0.0;axialShift=3.1415926*0.5*floor(float(octaves)*axialShift);octaveFactor=1.0+octaveFactor*0.12;vec2 sinCos=vec2(sin(axialShift),cos(axialShift));mat2 rotate=mat2(sinCos.y,sinCos.x,sinCos.x,sinCos.y);vec2 p=uv*frequency;for(uint i=0u;i<octaves;i++){float lum=texture(tex,p).r;vec2 grad=grayscaleSobel(tex,p,spread);derivative+=grad;value+=amplitude*lum/(1.0+mix(0.0,dot(derivative,derivative),slopeness));amplitude=pow(amplitude*gain,octaveFactor);p=(p*lacunarity+offset)*rotate;frequency*=lacunarity;angle+=axialShift;offset*=rotate;}return vec3(value,derivative);}`;const rH={generative:{pnoise:`/*
original_author: [Stefan Gustavson, Ian McEwan]
description: modulus of 289
use: mod289(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_MOD289
#define FNC_MOD289

float mod289(const in float x) { return x - floor(x * (1. / 289.)) * 289.; }
vec2 mod289(const in vec2 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec3 mod289(const in vec3 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec4 mod289(const in vec4 x) { return x - floor(x * (1. / 289.)) * 289.; }

#endif



/*
original_author: [Stefan Gustavson, Ian McEwan]
description: permute
use: permute(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_PERMUTE
#define FNC_PERMUTE

float permute(const in float x) { return mod289(((x * 34.0) + 1.0) * x); }
vec2 permute(const in vec2 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec3 permute(const in vec3 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec4 permute(const in vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Fast, accurate inverse square root. 
use: <float|vec2|vec3|vec4> taylorInvSqrt(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_TAYLORINVSQRT
#define FNC_TAYLORINVSQRT
float taylorInvSqrt(in float r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec2 taylorInvSqrt(in vec2 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 taylorInvSqrt(in vec3 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec4 taylorInvSqrt(in vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
#endif
/*
original_author: Inigo Quiles
description: quintic polynomial https://iquilezles.org/articles/smoothsteps/
use: <float|vec2|vec3|vec4> quintic(<float|vec2|vec3|vec4> value);
*/

#ifndef FNC_QUINTIC
#define FNC_QUINTIC 

float quintic(const in float v) { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec2  quintic(const in vec2 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec3  quintic(const in vec3 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec4  quintic(const in vec4 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Classic Perlin Noise with periodic variant https://github.com/stegu/webgl-noise
use: pnoise(<vec2|vec3|vec4> pos, <vec2|vec3|vec4> periodic)
license: |
    Copyright 2021-2023 by Stefan Gustavson and Ian McEwan.
    Published under the terms of the MIT license:
    https://opensource.org/license/mit/
examples:
    - /shaders/generative_pnoise.frag
*/

#ifndef FNC_PNOISE
#define FNC_PNOISE
// Classic Perlin noise, periodic variant
float pnoise(in vec2 P, in vec2 rep) {
    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);
    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);
    Pi = mod(Pi, rep.xyxy); // To create noise with explicit period
    Pi = mod289(Pi);        // To avoid truncation effects in permutation
    vec4 ix = Pi.xzxz;
    vec4 iy = Pi.yyww;
    vec4 fx = Pf.xzxz;
    vec4 fy = Pf.yyww;

    vec4 i = permute(permute(ix) + iy);

    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;
    vec4 gy = abs(gx) - 0.5 ;
    vec4 tx = floor(gx + 0.5);
    gx = gx - tx;

    vec2 g00 = vec2(gx.x,gy.x);
    vec2 g10 = vec2(gx.y,gy.y);
    vec2 g01 = vec2(gx.z,gy.z);
    vec2 g11 = vec2(gx.w,gy.w);

    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));
    g00 *= norm.x;
    g01 *= norm.y;
    g10 *= norm.z;
    g11 *= norm.w;

    float n00 = dot(g00, vec2(fx.x, fy.x));
    float n10 = dot(g10, vec2(fx.y, fy.y));
    float n01 = dot(g01, vec2(fx.z, fy.z));
    float n11 = dot(g11, vec2(fx.w, fy.w));

    vec2 fade_xy = quintic(Pf.xy);
    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);
    return 2.3 * n_xy;
}

float pnoise(in vec3 P, in vec3 rep) {
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);

    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);

    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);

    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;

    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);

    vec3 fade_xyz = quintic(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}

float pnoise(in vec4 P, in vec4 rep) {
    vec4 Pi0 = mod(floor(P), rep); // Integer part modulo rep
    vec4 Pi1 = mod(Pi0 + 1.0, rep); // Integer part + 1 mod rep
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec4 Pf0 = fract(P); // Fractional part for interpolation
    vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = vec4(Pi0.zzzz);
    vec4 iz1 = vec4(Pi1.zzzz);
    vec4 iw0 = vec4(Pi0.wwww);
    vec4 iw1 = vec4(Pi1.wwww);

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 ixy00 = permute(ixy0 + iw0);
    vec4 ixy01 = permute(ixy0 + iw1);
    vec4 ixy10 = permute(ixy1 + iw0);
    vec4 ixy11 = permute(ixy1 + iw1);

    vec4 gx00 = ixy00 * (1.0 / 7.0);
    vec4 gy00 = floor(gx00) * (1.0 / 7.0);
    vec4 gz00 = floor(gy00) * (1.0 / 6.0);
    gx00 = fract(gx00) - 0.5;
    gy00 = fract(gy00) - 0.5;
    gz00 = fract(gz00) - 0.5;
    vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);
    vec4 sw00 = step(gw00, vec4(0.0));
    gx00 -= sw00 * (step(0.0, gx00) - 0.5);
    gy00 -= sw00 * (step(0.0, gy00) - 0.5);

    vec4 gx01 = ixy01 * (1.0 / 7.0);
    vec4 gy01 = floor(gx01) * (1.0 / 7.0);
    vec4 gz01 = floor(gy01) * (1.0 / 6.0);
    gx01 = fract(gx01) - 0.5;
    gy01 = fract(gy01) - 0.5;
    gz01 = fract(gz01) - 0.5;
    vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);
    vec4 sw01 = step(gw01, vec4(0.0));
    gx01 -= sw01 * (step(0.0, gx01) - 0.5);
    gy01 -= sw01 * (step(0.0, gy01) - 0.5);

    vec4 gx10 = ixy10 * (1.0 / 7.0);
    vec4 gy10 = floor(gx10) * (1.0 / 7.0);
    vec4 gz10 = floor(gy10) * (1.0 / 6.0);
    gx10 = fract(gx10) - 0.5;
    gy10 = fract(gy10) - 0.5;
    gz10 = fract(gz10) - 0.5;
    vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);
    vec4 sw10 = step(gw10, vec4(0.0));
    gx10 -= sw10 * (step(0.0, gx10) - 0.5);
    gy10 -= sw10 * (step(0.0, gy10) - 0.5);

    vec4 gx11 = ixy11 * (1.0 / 7.0);
    vec4 gy11 = floor(gx11) * (1.0 / 7.0);
    vec4 gz11 = floor(gy11) * (1.0 / 6.0);
    gx11 = fract(gx11) - 0.5;
    gy11 = fract(gy11) - 0.5;
    gz11 = fract(gz11) - 0.5;
    vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);
    vec4 sw11 = step(gw11, vec4(0.0));
    gx11 -= sw11 * (step(0.0, gx11) - 0.5);
    gy11 -= sw11 * (step(0.0, gy11) - 0.5);

    vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);
    vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);
    vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);
    vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);
    vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);
    vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);
    vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);
    vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);
    vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);
    vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);
    vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);
    vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);
    vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);
    vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);
    vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);
    vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);

    vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));
    g0000 *= norm00.x;
    g0100 *= norm00.y;
    g1000 *= norm00.z;
    g1100 *= norm00.w;

    vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));
    g0001 *= norm01.x;
    g0101 *= norm01.y;
    g1001 *= norm01.z;
    g1101 *= norm01.w;

    vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));
    g0010 *= norm10.x;
    g0110 *= norm10.y;
    g1010 *= norm10.z;
    g1110 *= norm10.w;

    vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));
    g0011 *= norm11.x;
    g0111 *= norm11.y;
    g1011 *= norm11.z;
    g1111 *= norm11.w;

    float n0000 = dot(g0000, Pf0);
    float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));
    float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));
    float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));
    float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));
    float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));
    float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));
    float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));
    float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));
    float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));
    float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));
    float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));
    float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));
    float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));
    float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));
    float n1111 = dot(g1111, Pf1);

    vec4 fade_xyzw = quintic(Pf0);
    vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);
    vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);
    vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);
    vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);
    float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);
    return 2.2 * n_xyzw;
}
#endif
`,random:`/*
original_author: Patricio Gonzalez Vivo
description: pass a value and get some random normalize value between 0 and 1
use: float random[2|3](<float|vec2|vec3> value)
options:
    - RANDOM_HIGHER_RANGE: for working with a range over 0 and 1
    - RANDOM_SINLESS: Use sin-less random, which tolerates bigger values before producing pattern. From https://www.shadertoy.com/view/4djSRW
    - RANDOM_SCALE: by default this scale if for number with a big range. For producing good random between 0 and 1 use bigger range
examples:
    - /shaders/generative_random.frag
*/

#ifndef RANDOM_SCALE
#if defined(RANDOM_HIGHER_RANGE)
#define RANDOM_SCALE vec4(.1031, .1030, .0973, .1099)
#else
#define RANDOM_SCALE vec4(443.897, 441.423, .0973, .1099)
#endif
#endif

#ifndef FNC_RANDOM
#define FNC_RANDOM
float random(in float x) {
#if defined(RANDOM_SINLESS)
    x = fract(x * RANDOM_SCALE.x);
    x *= x + 33.33;
    x *= x + x;
    return fract(x);
#else
    return fract(sin(x) * 43758.5453);
#endif
}

float random(in vec2 st) {
#if defined(RANDOM_SINLESS)
    vec3 p3  = fract(vec3(st.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 33.33);
    return fract((p3.x + p3.y) * p3.z);
#else
    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);
#endif
}

float random(in vec3 pos) {
#if defined(RANDOM_SINLESS)
    pos  = fract(pos * RANDOM_SCALE.xyz);
    pos += dot(pos, pos.zyx + 31.32);
    return fract((pos.x + pos.y) * pos.z);
#else
    return fract(sin(dot(pos.xyz, vec3(70.9898, 78.233, 32.4355))) * 43758.5453123);
#endif
}

float random(in vec4 pos) {
#if defined(RANDOM_SINLESS)
    pos = fract(pos * RANDOM_SCALE);
    pos += dot(pos, pos.wzxy+33.33);
    return fract((pos.x + pos.y) * (pos.z + pos.w));
#else
    float dot_product = dot(pos, vec4(12.9898,78.233,45.164,94.673));
    return fract(sin(dot_product) * 43758.5453);
#endif
}

vec2 random2(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec2 p) {
    vec3 p3 = fract(p.xyx * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec3 p3) {
    p3 = fract(p3 * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec3 random3(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx); 
}

vec3 random3(vec2 p) {
    vec3 p3 = fract(vec3(p.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yxz + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx);
}

vec3 random3(vec3 p) {
    p = fract(p * RANDOM_SCALE.xyz);
    p += dot(p, p.yxz + 19.19);
    return fract((p.xxy + p.yzz) * p.zyx);
}

vec4 random4(float p) {
    vec4 p4 = fract(p * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);   
}

vec4 random4(vec2 p) {
    vec4 p4 = fract(p.xyxy * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec3 p) {
    vec4 p4 = fract(p.xyzx  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec4 p4) {
    p4 = fract(p4  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}


#endif
`,snoise:`/*
original_author: [Stefan Gustavson, Ian McEwan]
description: modulus of 289
use: mod289(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_MOD289
#define FNC_MOD289

float mod289(const in float x) { return x - floor(x * (1. / 289.)) * 289.; }
vec2 mod289(const in vec2 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec3 mod289(const in vec3 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec4 mod289(const in vec4 x) { return x - floor(x * (1. / 289.)) * 289.; }

#endif



/*
original_author: [Stefan Gustavson, Ian McEwan]
description: permute
use: permute(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_PERMUTE
#define FNC_PERMUTE

float permute(const in float x) { return mod289(((x * 34.0) + 1.0) * x); }
vec2 permute(const in vec2 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec3 permute(const in vec3 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec4 permute(const in vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Fast, accurate inverse square root. 
use: <float|vec2|vec3|vec4> taylorInvSqrt(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_TAYLORINVSQRT
#define FNC_TAYLORINVSQRT
float taylorInvSqrt(in float r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec2 taylorInvSqrt(in vec2 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 taylorInvSqrt(in vec3 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec4 taylorInvSqrt(in vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
#endif
/*
original_author: [Stefan Gustavson, Ian McEwan]
description: grad4, used for snoise(vec4 v)
use: grad4(<float> j, <vec4> ip)
*/

#ifndef FNC_GRAD4
#define FNC_GRAD4
vec4 grad4(float j, vec4 ip) {
    const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);
    vec4 p,s;

    p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;
    p.w = 1.5 - dot(abs(p.xyz), ones.xyz);
    s = vec4(lessThan(p, vec4(0.0)));
    p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;

    return p;
}
#endif


/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Simplex Noise https://github.com/stegu/webgl-noise
use: snoise(<vec2|vec3|vec4> pos)
license: |
    Copyright 2021-2023 by Stefan Gustavson and Ian McEwan.
    Published under the terms of the MIT license:
    https://opensource.org/license/mit/
examples:
    - /shaders/generative_snoise.frag
*/

#ifndef FNC_SNOISE
#define FNC_SNOISE
float snoise(in vec2 v) {
    const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0
                        0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)
                        -0.577350269189626,  // -1.0 + 2.0 * C.x
                        0.024390243902439); // 1.0 / 41.0
    // First corner
    vec2 i  = floor(v + dot(v, C.yy) );
    vec2 x0 = v -   i + dot(i, C.xx);

    // Other corners
    vec2 i1;
    //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0
    //i1.y = 1.0 - i1.x;
    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
    // x0 = x0 - 0.0 + 0.0 * C.xx ;
    // x1 = x0 - i1 + 1.0 * C.xx ;
    // x2 = x0 - 1.0 + 2.0 * C.xx ;
    vec4 x12 = x0.xyxy + C.xxzz;
    x12.xy -= i1;

    // Permutations
    i = mod289(i); // Avoid truncation effects in permutation
    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
    + i.x + vec3(0.0, i1.x, 1.0 ));

    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);
    m = m*m ;
    m = m*m ;

    // Gradients: 41 points uniformly over a line, mapped onto a diamond.
    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)

    vec3 x = 2.0 * fract(p * C.www) - 1.0;
    vec3 h = abs(x) - 0.5;
    vec3 ox = floor(x + 0.5);
    vec3 a0 = x - ox;

    // Normalise gradients implicitly by scaling m
    // Approximation of: m *= inversesqrt( a0*a0 + h*h );
    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );

    // Compute final noise value at P
    vec3 g;
    g.x  = a0.x  * x0.x  + h.x  * x0.y;
    g.yz = a0.yz * x12.xz + h.yz * x12.yw;
    return 130.0 * dot(m, g);
}


float snoise(in vec3 v) {
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

    // First corner
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;

    // Other corners
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );

    //   x0 = x0 - 0.0 + 0.0 * C.xxx;
    //   x1 = x0 - i1  + 1.0 * C.xxx;
    //   x2 = x0 - i2  + 2.0 * C.xxx;
    //   x3 = x0 - 1.0 + 3.0 * C.xxx;
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

    // Permutations
    i = mod289(i);
    vec4 p = permute( permute( permute(
                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
            + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

    // Gradients: 7x7 points over a square, mapped onto an octahedron.
    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
    float n_ = 0.142857142857; // 1.0/7.0
    vec3  ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );

    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                dot(p2,x2), dot(p3,x3) ) );
}

float snoise(in vec4 v) {
    const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4
                        0.276393202250021,  // 2 * G4
                        0.414589803375032,  // 3 * G4
                        -0.447213595499958); // -1 + 4 * G4

    // First corner
    vec4 i  = floor(v + dot(v, vec4(.309016994374947451)) ); // (sqrt(5) - 1)/4
    vec4 x0 = v -   i + dot(i, C.xxxx);

    // Other corners

    // Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)
    vec4 i0;
    vec3 isX = step( x0.yzw, x0.xxx );
    vec3 isYZ = step( x0.zww, x0.yyz );
    //  i0.x = dot( isX, vec3( 1.0 ) );
    i0.x = isX.x + isX.y + isX.z;
    i0.yzw = 1.0 - isX;
    //  i0.y += dot( isYZ.xy, vec2( 1.0 ) );
    i0.y += isYZ.x + isYZ.y;
    i0.zw += 1.0 - isYZ.xy;
    i0.z += isYZ.z;
    i0.w += 1.0 - isYZ.z;

    // i0 now contains the unique values 0,1,2,3 in each channel
    vec4 i3 = clamp( i0, 0.0, 1.0 );
    vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );
    vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );

    //  x0 = x0 - 0.0 + 0.0 * C.xxxx
    //  x1 = x0 - i1  + 1.0 * C.xxxx
    //  x2 = x0 - i2  + 2.0 * C.xxxx
    //  x3 = x0 - i3  + 3.0 * C.xxxx
    //  x4 = x0 - 1.0 + 4.0 * C.xxxx
    vec4 x1 = x0 - i1 + C.xxxx;
    vec4 x2 = x0 - i2 + C.yyyy;
    vec4 x3 = x0 - i3 + C.zzzz;
    vec4 x4 = x0 + C.wwww;

    // Permutations
    i = mod289(i);
    float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);
    vec4 j1 = permute( permute( permute( permute (
                i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))
            + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))
            + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))
            + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));

    // Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope
    // 7*7*6 = 294, which is close to the ring size 17*17 = 289.
    vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;

    vec4 p0 = grad4(j0,   ip);
    vec4 p1 = grad4(j1.x, ip);
    vec4 p2 = grad4(j1.y, ip);
    vec4 p3 = grad4(j1.z, ip);
    vec4 p4 = grad4(j1.w, ip);

    // Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;
    p4 *= taylorInvSqrt(dot(p4,p4));

    // Mix contributions from the five corners
    vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);
    vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);
    m0 = m0 * m0;
    m1 = m1 * m1;
    return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))
                + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;
}

vec2 snoise2( vec2 x ){
    float s  = snoise(vec2( x ));
    float s1 = snoise(vec2( x.y - 19.1, x.x + 47.2 ));
    return vec2( s , s1 );
}

vec3 snoise3( vec3 x ){
    float s  = snoise(vec3( x ));
    float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));
    float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));
    return vec3( s , s1 , s2 );
}

vec3 snoise3( vec4 x ){
    float s  = snoise(vec4( x ));
    float s1 = snoise(vec4( x.y - 19.1 , x.z + 33.4 , x.x + 47.2, x.w ));
    float s2 = snoise(vec4( x.z + 74.2 , x.x - 124.5 , x.y + 99.4, x.w ));
    return vec3( s , s1 , s2 );
}

#endif
`,cnoise:`/*
original_author: [Stefan Gustavson, Ian McEwan]
description: modulus of 289
use: mod289(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_MOD289
#define FNC_MOD289

float mod289(const in float x) { return x - floor(x * (1. / 289.)) * 289.; }
vec2 mod289(const in vec2 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec3 mod289(const in vec3 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec4 mod289(const in vec4 x) { return x - floor(x * (1. / 289.)) * 289.; }

#endif



/*
original_author: [Stefan Gustavson, Ian McEwan]
description: permute
use: permute(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_PERMUTE
#define FNC_PERMUTE

float permute(const in float x) { return mod289(((x * 34.0) + 1.0) * x); }
vec2 permute(const in vec2 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec3 permute(const in vec3 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec4 permute(const in vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Fast, accurate inverse square root. 
use: <float|vec2|vec3|vec4> taylorInvSqrt(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_TAYLORINVSQRT
#define FNC_TAYLORINVSQRT
float taylorInvSqrt(in float r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec2 taylorInvSqrt(in vec2 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 taylorInvSqrt(in vec3 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec4 taylorInvSqrt(in vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
#endif
/*
original_author: Inigo Quiles
description: quintic polynomial https://iquilezles.org/articles/smoothsteps/
use: <float|vec2|vec3|vec4> quintic(<float|vec2|vec3|vec4> value);
*/

#ifndef FNC_QUINTIC
#define FNC_QUINTIC 

float quintic(const in float v) { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec2  quintic(const in vec2 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec3  quintic(const in vec3 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec4  quintic(const in vec4 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Classic Perlin Noise https://github.com/stegu/webgl-noise
use: cnoise(<vec2|vec3|vec4> pos)
license: |
    Copyright 2021-2023 by Stefan Gustavson and Ian McEwan.
    Published under the terms of the MIT license:
    https://opensource.org/license/mit/
examples:
    - /shaders/generative_cnoise.frag
*/

#ifndef FNC_CNOISE
#define FNC_CNOISE

float cnoise(in vec2 P) {
    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);
    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);
    Pi = mod289(Pi); // To avoid truncation effects in permutation
    vec4 ix = Pi.xzxz;
    vec4 iy = Pi.yyww;
    vec4 fx = Pf.xzxz;
    vec4 fy = Pf.yyww;

    vec4 i = permute(permute(ix) + iy);

    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;
    vec4 gy = abs(gx) - 0.5 ;
    vec4 tx = floor(gx + 0.5);
    gx = gx - tx;

    vec2 g00 = vec2(gx.x,gy.x);
    vec2 g10 = vec2(gx.y,gy.y);
    vec2 g01 = vec2(gx.z,gy.z);
    vec2 g11 = vec2(gx.w,gy.w);

    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));
    g00 *= norm.x;
    g01 *= norm.y;
    g10 *= norm.z;
    g11 *= norm.w;

    float n00 = dot(g00, vec2(fx.x, fy.x));
    float n10 = dot(g10, vec2(fx.y, fy.y));
    float n01 = dot(g01, vec2(fx.z, fy.z));
    float n11 = dot(g11, vec2(fx.w, fy.w));

    vec2 fade_xy = quintic(Pf.xy);
    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);
    return 2.3 * n_xy;
}

float cnoise(in vec3 P) {
    vec3 Pi0 = floor(P); // Integer part for indexing
    vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);

    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);

    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);

    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;

    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);

    vec3 fade_xyz = quintic(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}

float cnoise(in vec4 P) {
    vec4 Pi0 = floor(P); // Integer part for indexing
    vec4 Pi1 = Pi0 + 1.0; // Integer part + 1
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec4 Pf0 = fract(P); // Fractional part for interpolation
    vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = vec4(Pi0.zzzz);
    vec4 iz1 = vec4(Pi1.zzzz);
    vec4 iw0 = vec4(Pi0.wwww);
    vec4 iw1 = vec4(Pi1.wwww);

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 ixy00 = permute(ixy0 + iw0);
    vec4 ixy01 = permute(ixy0 + iw1);
    vec4 ixy10 = permute(ixy1 + iw0);
    vec4 ixy11 = permute(ixy1 + iw1);

    vec4 gx00 = ixy00 * (1.0 / 7.0);
    vec4 gy00 = floor(gx00) * (1.0 / 7.0);
    vec4 gz00 = floor(gy00) * (1.0 / 6.0);
    gx00 = fract(gx00) - 0.5;
    gy00 = fract(gy00) - 0.5;
    gz00 = fract(gz00) - 0.5;
    vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);
    vec4 sw00 = step(gw00, vec4(0.0));
    gx00 -= sw00 * (step(0.0, gx00) - 0.5);
    gy00 -= sw00 * (step(0.0, gy00) - 0.5);

    vec4 gx01 = ixy01 * (1.0 / 7.0);
    vec4 gy01 = floor(gx01) * (1.0 / 7.0);
    vec4 gz01 = floor(gy01) * (1.0 / 6.0);
    gx01 = fract(gx01) - 0.5;
    gy01 = fract(gy01) - 0.5;
    gz01 = fract(gz01) - 0.5;
    vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);
    vec4 sw01 = step(gw01, vec4(0.0));
    gx01 -= sw01 * (step(0.0, gx01) - 0.5);
    gy01 -= sw01 * (step(0.0, gy01) - 0.5);

    vec4 gx10 = ixy10 * (1.0 / 7.0);
    vec4 gy10 = floor(gx10) * (1.0 / 7.0);
    vec4 gz10 = floor(gy10) * (1.0 / 6.0);
    gx10 = fract(gx10) - 0.5;
    gy10 = fract(gy10) - 0.5;
    gz10 = fract(gz10) - 0.5;
    vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);
    vec4 sw10 = step(gw10, vec4(0.0));
    gx10 -= sw10 * (step(0.0, gx10) - 0.5);
    gy10 -= sw10 * (step(0.0, gy10) - 0.5);

    vec4 gx11 = ixy11 * (1.0 / 7.0);
    vec4 gy11 = floor(gx11) * (1.0 / 7.0);
    vec4 gz11 = floor(gy11) * (1.0 / 6.0);
    gx11 = fract(gx11) - 0.5;
    gy11 = fract(gy11) - 0.5;
    gz11 = fract(gz11) - 0.5;
    vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);
    vec4 sw11 = step(gw11, vec4(0.0));
    gx11 -= sw11 * (step(0.0, gx11) - 0.5);
    gy11 -= sw11 * (step(0.0, gy11) - 0.5);

    vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);
    vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);
    vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);
    vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);
    vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);
    vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);
    vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);
    vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);
    vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);
    vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);
    vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);
    vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);
    vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);
    vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);
    vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);
    vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);

    vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));
    g0000 *= norm00.x;
    g0100 *= norm00.y;
    g1000 *= norm00.z;
    g1100 *= norm00.w;

    vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));
    g0001 *= norm01.x;
    g0101 *= norm01.y;
    g1001 *= norm01.z;
    g1101 *= norm01.w;

    vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));
    g0010 *= norm10.x;
    g0110 *= norm10.y;
    g1010 *= norm10.z;
    g1110 *= norm10.w;

    vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));
    g0011 *= norm11.x;
    g0111 *= norm11.y;
    g1011 *= norm11.z;
    g1111 *= norm11.w;

    float n0000 = dot(g0000, Pf0);
    float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));
    float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));
    float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));
    float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));
    float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));
    float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));
    float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));
    float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));
    float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));
    float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));
    float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));
    float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));
    float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));
    float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));
    float n1111 = dot(g1111, Pf1);

    vec4 fade_xyzw = quintic(Pf0);
    vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);
    vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);
    vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);
    vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);
    float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);
    return 2.2 * n_xyzw;
}
#endif
`,psrdnoise:`/*
original_author: [Stefan Gustavson, Ian McEwan]
description: modulus of 289
use: mod289(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_MOD289
#define FNC_MOD289

float mod289(const in float x) { return x - floor(x * (1. / 289.)) * 289.; }
vec2 mod289(const in vec2 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec3 mod289(const in vec3 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec4 mod289(const in vec4 x) { return x - floor(x * (1. / 289.)) * 289.; }

#endif



/*
original_author: [Stefan Gustavson, Ian McEwan]
description: permute
use: permute(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_PERMUTE
#define FNC_PERMUTE

float permute(const in float x) { return mod289(((x * 34.0) + 1.0) * x); }
vec2 permute(const in vec2 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec3 permute(const in vec3 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec4 permute(const in vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Fast, accurate inverse square root. 
use: <float|vec2|vec3|vec4> taylorInvSqrt(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_TAYLORINVSQRT
#define FNC_TAYLORINVSQRT
float taylorInvSqrt(in float r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec2 taylorInvSqrt(in vec2 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 taylorInvSqrt(in vec3 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec4 taylorInvSqrt(in vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
#endif
/*
original_author: [Stefan Gustavson, Ian McEwan]
description: grad4, used for snoise(vec4 v)
use: grad4(<float> j, <vec4> ip)
*/

#ifndef FNC_GRAD4
#define FNC_GRAD4
vec4 grad4(float j, vec4 ip) {
    const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);
    vec4 p,s;

    p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;
    p.w = 1.5 - dot(abs(p.xyz), ones.xyz);
    s = vec4(lessThan(p, vec4(0.0)));
    p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;

    return p;
}
#endif


/*
original_author: [Stefan Gustavson, Ian McEwan]
description:  |
    Tiling simplex flow noise in 2-D and 3-D from https://github.com/stegu/psrdnoise
    "vec2/3 x" is the point to evaluate,
    "vec2/3 period" is the desired periods 
    "float alpha" is the rotation (in radians) for the swirling gradients.
    The "float" return value is the noise value n,
    the "out gradient" argument returns the first order derivatives,
    and "out dg" returns the second order derivatives as (dn2/dx2, dn2/dy2, dn2/dxy)
    For the original code please visit: https://github.com/stegu/psrdnoise

use: <float> psrdnoise(<vec2|vec3> x, <vec2|vec3> period, <float> alpha, out <vec2|vec3> gradient [, out <vec3> dg])
Options:
    - PSRDNOISE_PERLIN_GRID
    - PSRDNOISE_FAST_ROTATION
license: |
    Copyright 2021-2023 by Stefan Gustavson and Ian McEwan.
    Published under the terms of the MIT license:
    https://opensource.org/license/mit/
*/

#ifndef FNC_PSRFNOISE
#define FNC_PSRFNOISE

float psrdnoise(vec2 x, vec2 period, float alpha, out vec2 gradient) {

	// Transform to simplex space (axis-aligned hexagonal grid)
	vec2 uv = vec2(x.x + x.y*0.5, x.y);

	// Determine which simplex we're in, with i0 being the "base"
	vec2 i0 = floor(uv);
	vec2 f0 = fract(uv);
	// o1 is the offset in simplex space to the second corner
	float cmp = step(f0.y, f0.x);
	vec2 o1 = vec2(cmp, 1.0-cmp);

	// Enumerate the remaining simplex corners
	vec2 i1 = i0 + o1;
	vec2 i2 = i0 + vec2(1.0, 1.0);

	// Transform corners back to texture space
	vec2 v0 = vec2(i0.x - i0.y * 0.5, i0.y);
	vec2 v1 = vec2(v0.x + o1.x - o1.y * 0.5, v0.y + o1.y);
	vec2 v2 = vec2(v0.x + 0.5, v0.y + 1.0);

	// Compute vectors from v to each of the simplex corners
	vec2 x0 = x - v0;
	vec2 x1 = x - v1;
	vec2 x2 = x - v2;

	vec3 iu = vec3(0.0);
    vec3 iv = vec3(0.0);
	vec3 xw = vec3(0.0);
    vec3 yw = vec3(0.0);

	// Wrap to periods, if desired
	if(any(greaterThan(period, vec2(0.0)))) {
		xw = vec3(v0.x, v1.x, v2.x);
		yw = vec3(v0.y, v1.y, v2.y);
		if(period.x > 0.0)
			xw = mod(vec3(v0.x, v1.x, v2.x), period.x);
		if(period.y > 0.0)
			yw = mod(vec3(v0.y, v1.y, v2.y), period.y);
		// Transform back to simplex space and fix rounding errors
		iu = floor(xw + 0.5*yw + 0.5);
		iv = floor(yw + 0.5);
	} else { // Shortcut if neither x nor y periods are specified
		iu = vec3(i0.x, i1.x, i2.x);
		iv = vec3(i0.y, i1.y, i2.y);
	}

	// Compute one pseudo-random hash value for each corner
	vec3 hash = mod(iu, 289.0);
	hash = mod((hash*51.0 + 2.0)*hash + iv, 289.0);
	hash = mod((hash*34.0 + 10.0)*hash, 289.0);

	// Pick a pseudo-random angle and add the desired rotation
	vec3 psi = hash * 0.07482 + alpha;
	vec3 gx = cos(psi);
	vec3 gy = sin(psi);

	// Reorganize for dot products below
	vec2 g0 = vec2(gx.x,gy.x);
	vec2 g1 = vec2(gx.y,gy.y);
	vec2 g2 = vec2(gx.z,gy.z);

	// Radial decay with distance from each simplex corner
	vec3 w = 0.8 - vec3(dot(x0, x0), dot(x1, x1), dot(x2, x2));
	w = max(w, 0.0);
	vec3 w2 = w * w;
	vec3 w4 = w2 * w2;

	// The value of the linear ramp from each of the corners
	vec3 gdotx = vec3(dot(g0, x0), dot(g1, x1), dot(g2, x2));

	// Multiply by the radial decay and sum up the noise value
	float n = dot(w4, gdotx);

	// Compute the first order partial derivatives
	vec3 w3 = w2 * w;
	vec3 dw = -8.0 * w3 * gdotx;
	vec2 dn0 = w4.x * g0 + dw.x * x0;
	vec2 dn1 = w4.y * g1 + dw.y * x1;
	vec2 dn2 = w4.z * g2 + dw.z * x2;
	gradient = 10.9 * (dn0 + dn1 + dn2);

	// Scale the return value to fit nicely into the range [-1,1]
	return 10.9 * n;
}

float psrdnoise(vec2 x, vec2 period, float alpha, out vec2 gradient, out vec3 dg) {

	// Transform to simplex space (axis-aligned hexagonal grid)
	vec2 uv = vec2(x.x + x.y*0.5, x.y);

	// Determine which simplex we're in, with i0 being the "base"
	vec2 i0 = floor(uv);
	vec2 f0 = fract(uv);
	// o1 is the offset in simplex space to the second corner
	float cmp = step(f0.y, f0.x);
	vec2 o1 = vec2(cmp, 1.0-cmp);

	// Enumerate the remaining simplex corners
	vec2 i1 = i0 + o1;
	vec2 i2 = i0 + vec2(1.0, 1.0);

	// Transform corners back to texture space
	vec2 v0 = vec2(i0.x - i0.y * 0.5, i0.y);
	vec2 v1 = vec2(v0.x + o1.x - o1.y * 0.5, v0.y + o1.y);
	vec2 v2 = vec2(v0.x + 0.5, v0.y + 1.0);

	// Compute vectors from v to each of the simplex corners
	vec2 x0 = x - v0;
	vec2 x1 = x - v1;
	vec2 x2 = x - v2;

	vec3 iu, iv;
	vec3 xw, yw;

	// Wrap to periods, if desired
	if(any(greaterThan(period, vec2(0.0)))) {
		xw = vec3(v0.x, v1.x, v2.x);
		yw = vec3(v0.y, v1.y, v2.y);
		if(period.x > 0.0)
			xw = mod(vec3(v0.x, v1.x, v2.x), period.x);
		if(period.y > 0.0)
			yw = mod(vec3(v0.y, v1.y, v2.y), period.y);
		// Transform back to simplex space and fix rounding errors
		iu = floor(xw + 0.5*yw + 0.5);
		iv = floor(yw + 0.5);
	} else { // Shortcut if neither x nor y periods are specified
		iu = vec3(i0.x, i1.x, i2.x);
		iv = vec3(i0.y, i1.y, i2.y);
	}

	// Compute one pseudo-random hash value for each corner
	vec3 hash = mod(iu, 289.0);
	hash = mod((hash*51.0 + 2.0)*hash + iv, 289.0);
	hash = mod((hash*34.0 + 10.0)*hash, 289.0);

	// Pick a pseudo-random angle and add the desired rotation
	vec3 psi = hash * 0.07482 + alpha;
	vec3 gx = cos(psi);
	vec3 gy = sin(psi);

	// Reorganize for dot products below
	vec2 g0 = vec2(gx.x,gy.x);
	vec2 g1 = vec2(gx.y,gy.y);
	vec2 g2 = vec2(gx.z,gy.z);

	// Radial decay with distance from each simplex corner
	vec3 w = 0.8 - vec3(dot(x0, x0), dot(x1, x1), dot(x2, x2));
	w = max(w, 0.0);
	vec3 w2 = w * w;
	vec3 w4 = w2 * w2;

	// The value of the linear ramp from each of the corners
	vec3 gdotx = vec3(dot(g0, x0), dot(g1, x1), dot(g2, x2));

	// Multiply by the radial decay and sum up the noise value
	float n = dot(w4, gdotx);

	// Compute the first order partial derivatives
	vec3 w3 = w2 * w;
	vec3 dw = -8.0 * w3 * gdotx;
	vec2 dn0 = w4.x * g0 + dw.x * x0;
	vec2 dn1 = w4.y * g1 + dw.y * x1;
	vec2 dn2 = w4.z * g2 + dw.z * x2;
	gradient = 10.9 * (dn0 + dn1 + dn2);

	// Compute the second order partial derivatives
	vec3 dg0, dg1, dg2;
	vec3 dw2 = 48.0 * w2 * gdotx;
	// d2n/dx2 and d2n/dy2
	dg0.xy = dw2.x * x0 * x0 - 8.0 * w3.x * (2.0 * g0 * x0 + gdotx.x);
	dg1.xy = dw2.y * x1 * x1 - 8.0 * w3.y * (2.0 * g1 * x1 + gdotx.y);
	dg2.xy = dw2.z * x2 * x2 - 8.0 * w3.z * (2.0 * g2 * x2 + gdotx.z);
	// d2n/dxy
	dg0.z = dw2.x * x0.x * x0.y - 8.0 * w3.x * dot(g0, x0.yx);
	dg1.z = dw2.y * x1.x * x1.y - 8.0 * w3.y * dot(g1, x1.yx);
	dg2.z = dw2.z * x2.x * x2.y - 8.0 * w3.z * dot(g2, x2.yx);
	dg = 10.9 * (dg0 + dg1 + dg2);

	// Scale the return value to fit nicely into the range [-1,1]
	return 10.9 * n;
}

float psrdnoise(vec2 x, vec2 period, float alpha) {
    vec2 g = vec2(0.0);
    return psrdnoise(x, period, alpha, g);
}

float psrdnoise(vec2 x, vec2 period) {
    return psrdnoise(x, period, 0.0);
}

float psrdnoise(vec2 x) {
    return psrdnoise(x, vec2(0.0));
}

float psrdnoise(vec3 x, vec3 period, float alpha, out vec3 gradient) {

#ifndef PSRDNOISE_PERLIN_GRID
    // Transformation matrices for the axis-aligned simplex grid
    const mat3 M = mat3(0.0, 1.0, 1.0,
                        1.0, 0.0, 1.0,
                        1.0, 1.0, 0.0);

    const mat3 Mi = mat3(-0.5, 0.5, 0.5,
                            0.5,-0.5, 0.5,
                            0.5, 0.5,-0.5);
#endif

    vec3 uvw = vec3(0.0);

    // Transform to simplex space (tetrahedral grid)
#ifndef PSRDNOISE_PERLIN_GRID
    // Use matrix multiplication, let the compiler optimise
    uvw = M * x;
 #else
    // Optimised transformation to uvw (slightly faster than
    // the equivalent matrix multiplication on most platforms)
    uvw = x + dot(x, vec3(0.33333333));
 #endif

    // Determine which simplex we're in, i0 is the "base corner"
    vec3 i0 = floor(uvw);
    vec3 f0 = fract(uvw); // coords within "skewed cube"

    // To determine which simplex corners are closest, rank order the
    // magnitudes of u,v,w, resolving ties in priority order u,v,w,
    // and traverse the four corners from largest to smallest magnitude.
    // o1, o2 are offsets in simplex space to the 2nd and 3rd corners.
    vec3 g_ = step(f0.xyx, f0.yzz); // Makes comparison "less-than"
    vec3 l_ = 1.0 - g_;             // complement is "greater-or-equal"
    vec3 g = vec3(l_.z, g_.xy);
    vec3 l = vec3(l_.xy, g_.z);
    vec3 o1 = min( g, l );
    vec3 o2 = max( g, l );

    // Enumerate the remaining simplex corners
    vec3 i1 = i0 + o1;
    vec3 i2 = i0 + o2;
    vec3 i3 = i0 + vec3(1.0);

    vec3 v0 = vec3(0.0);
    vec3 v1 = vec3(0.0);
    vec3 v2 = vec3(0.0);
    vec3 v3 = vec3(0.0);

    // Transform the corners back to texture space
#ifndef PSRDNOISE_PERLIN_GRID
    v0 = Mi * i0;
    v1 = Mi * i1;
    v2 = Mi * i2;
    v3 = Mi * i3;
#else
    // Optimised transformation (mostly slightly faster than a matrix)
    v0 = i0 - dot(i0, vec3(1.0/6.0));
    v1 = i1 - dot(i1, vec3(1.0/6.0));
    v2 = i2 - dot(i2, vec3(1.0/6.0));
    v3 = i3 - dot(i3, vec3(1.0/6.0));
#endif

    // Compute vectors to each of the simplex corners
    vec3 x0 = x - v0;
    vec3 x1 = x - v1;
    vec3 x2 = x - v2;
    vec3 x3 = x - v3;

    if(any(greaterThan(period, vec3(0.0)))) {
        // Wrap to periods and transform back to simplex space
        vec4 vx = vec4(v0.x, v1.x, v2.x, v3.x);
        vec4 vy = vec4(v0.y, v1.y, v2.y, v3.y);
        vec4 vz = vec4(v0.z, v1.z, v2.z, v3.z);
        // Wrap to periods where specified
        if(period.x > 0.0) vx = mod(vx, period.x);
        if(period.y > 0.0) vy = mod(vy, period.y);
        if(period.z > 0.0) vz = mod(vz, period.z);
        // Transform back
#ifndef PSRDNOISE_PERLIN_GRID
        i0 = M * vec3(vx.x, vy.x, vz.x);
        i1 = M * vec3(vx.y, vy.y, vz.y);
        i2 = M * vec3(vx.z, vy.z, vz.z);
        i3 = M * vec3(vx.w, vy.w, vz.w);
#else
        v0 = vec3(vx.x, vy.x, vz.x);
        v1 = vec3(vx.y, vy.y, vz.y);
        v2 = vec3(vx.z, vy.z, vz.z);
        v3 = vec3(vx.w, vy.w, vz.w);
        // Transform wrapped coordinates back to uvw
        i0 = v0 + dot(v0, vec3(1.0/3.0));
        i1 = v1 + dot(v1, vec3(1.0/3.0));
        i2 = v2 + dot(v2, vec3(1.0/3.0));
        i3 = v3 + dot(v3, vec3(1.0/3.0));
#endif
        // Fix rounding errors
        i0 = floor(i0 + 0.5);
        i1 = floor(i1 + 0.5);
        i2 = floor(i2 + 0.5);
        i3 = floor(i3 + 0.5);
    }

    // Compute one pseudo-random hash value for each corner
    vec4 hash = permute( permute( permute( 
                vec4(i0.z, i1.z, i2.z, i3.z ))
                + vec4(i0.y, i1.y, i2.y, i3.y ))
                + vec4(i0.x, i1.x, i2.x, i3.x ));

    // Compute generating gradients from a Fibonacci spiral on the unit sphere
    vec4 theta = hash * 3.883222077;  // 2*pi/golden ratio
    vec4 sz    = hash * -0.006920415 + 0.996539792; // 1-(hash+0.5)*2/289
    vec4 psi   = hash * 0.108705628 ; // 10*pi/289, chosen to avoid correlation

    vec4 Ct = cos(theta);
    vec4 St = sin(theta);
    vec4 sz_prime = sqrt( 1.0 - sz*sz ); // s is a point on a unit fib-sphere

    vec4 gx = vec4(0.0);
    vec4 gy = vec4(0.0);
    vec4 gz = vec4(0.0);

    // Rotate gradients by angle alpha around a pseudo-random ortogonal axis
#ifdef PSRDNOISE_FAST_ROTATION
    // Fast algorithm, but without dynamic shortcut for alpha = 0
    vec4 qx = St;         // q' = norm ( cross(s, n) )  on the equator
    vec4 qy = -Ct; 
    vec4 qz = vec4(0.0);

    vec4 px =  sz * qy;   // p' = cross(q, s)
    vec4 py = -sz * qx;
    vec4 pz = sz_prime;

    psi += alpha;         // psi and alpha in the same plane
    vec4 Sa = sin(psi);
    vec4 Ca = cos(psi);

    gx = Ca * px + Sa * qx;
    gy = Ca * py + Sa * qy;
    gz = Ca * pz + Sa * qz;
#else
    // Slightly slower algorithm, but with g = s for alpha = 0, and a
    // useful conditional speedup for alpha = 0 across all fragments
    if(alpha != 0.0) {
        vec4 Sp = sin(psi);          // q' from psi on equator
        vec4 Cp = cos(psi);

        vec4 px = Ct * sz_prime;     // px = sx
        vec4 py = St * sz_prime;     // py = sy
        vec4 pz = sz;

        vec4 Ctp = St*Sp - Ct*Cp;    // q = (rotate( cross(s,n), dot(s,n))(q')
        vec4 qx = mix( Ctp*St, Sp, sz);
        vec4 qy = mix(-Ctp*Ct, Cp, sz);
        vec4 qz = -(py*Cp + px*Sp);

        vec4 Sa = vec4(sin(alpha));       // psi and alpha in different planes
        vec4 Ca = vec4(cos(alpha));

        gx = Ca * px + Sa * qx;
        gy = Ca * py + Sa * qy;
        gz = Ca * pz + Sa * qz;
    }
    else {
        gx = Ct * sz_prime;  // alpha = 0, use s directly as gradient
        gy = St * sz_prime;
        gz = sz;  
    }
#endif

    // Reorganize for dot products below
    vec3 g0 = vec3(gx.x, gy.x, gz.x);
    vec3 g1 = vec3(gx.y, gy.y, gz.y);
    vec3 g2 = vec3(gx.z, gy.z, gz.z);
    vec3 g3 = vec3(gx.w, gy.w, gz.w);

    // Radial decay with distance from each simplex corner
    vec4 w = 0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3));
    w = max(w, 0.0);
    vec4 w2 = w * w;
    vec4 w3 = w2 * w;

    // The value of the linear ramp from each of the corners
    vec4 gdotx = vec4(dot(g0,x0), dot(g1,x1), dot(g2,x2), dot(g3,x3));

    // Multiply by the radial decay and sum up the noise value
    float n = dot(w3, gdotx);

    // Compute the first order partial derivatives
    vec4 dw = -6.0 * w2 * gdotx;
    vec3 dn0 = w3.x * g0 + dw.x * x0;
    vec3 dn1 = w3.y * g1 + dw.y * x1;
    vec3 dn2 = w3.z * g2 + dw.z * x2;
    vec3 dn3 = w3.w * g3 + dw.w * x3;
    gradient = 39.5 * (dn0 + dn1 + dn2 + dn3);

    // Scale the return value to fit nicely into the range [-1,1]
    return 39.5 * n;
  
}

float psrdnoise(vec3 x, vec3 period, float alpha, out vec3 gradient, out vec3 dg, out vec3 dg2) {

#ifndef PSRDNOISE_PERLIN_GRID
    // Transformation matrices for the axis-aligned simplex grid
    const mat3 M = mat3(0.0, 1.0, 1.0,
                        1.0, 0.0, 1.0,
                        1.0, 1.0, 0.0);

    const mat3 Mi = mat3(-0.5, 0.5, 0.5,
                            0.5,-0.5, 0.5,
                            0.5, 0.5,-0.5);
#endif

    vec3 uvw = vec3(0.0);

    // Transform to simplex space (tetrahedral grid)
#ifndef PSRDNOISE_PERLIN_GRID
    // Use matrix multiplication, let the compiler optimise
    uvw = M * x;
#else
    // Optimised transformation to uvw (slightly faster than
    // the equivalent matrix multiplication on most platforms)
    uvw = x + dot(x, vec3(0.3333333));
#endif

    // Determine which simplex we're in, i0 is the "base corner"
    vec3 i0 = floor(uvw);
    vec3 f0 = fract(uvw); // coords within "skewed cube"

    // To determine which simplex corners are closest, rank order the
    // magnitudes of u,v,w, resolving ties in priority order u,v,w,
    // and traverse the four corners from largest to smallest magnitude.
    // o1, o2 are offsets in simplex space to the 2nd and 3rd corners.
    vec3 g_ = step(f0.xyx, f0.yzz); // Makes comparison "less-than"
    vec3 l_ = 1.0 - g_;             // complement is "greater-or-equal"
    vec3 g = vec3(l_.z, g_.xy);
    vec3 l = vec3(l_.xy, g_.z);
    vec3 o1 = min( g, l );
    vec3 o2 = max( g, l );

    // Enumerate the remaining simplex corners
    vec3 i1 = i0 + o1;
    vec3 i2 = i0 + o2;
    vec3 i3 = i0 + vec3(1.0);

    vec3 v0, v1, v2, v3;

    // Transform the corners back to texture space
#ifndef PSRDNOISE_PERLIN_GRID
    v0 = Mi * i0;
    v1 = Mi * i1;
    v2 = Mi * i2;
    v3 = Mi * i3;
#else
    // Optimised transformation (mostly slightly faster than a matrix)
    v0 = i0 - dot(i0, vec3(1.0/6.0));
    v1 = i1 - dot(i1, vec3(1.0/6.0));
    v2 = i2 - dot(i2, vec3(1.0/6.0));
    v3 = i3 - dot(i3, vec3(1.0/6.0));
#endif

    // Compute vectors to each of the simplex corners
    vec3 x0 = x - v0;
    vec3 x1 = x - v1;
    vec3 x2 = x - v2;
    vec3 x3 = x - v3;

    if(any(greaterThan(period, vec3(0.0)))) {
        // Wrap to periods and transform back to simplex space
        vec4 vx = vec4(v0.x, v1.x, v2.x, v3.x);
        vec4 vy = vec4(v0.y, v1.y, v2.y, v3.y);
        vec4 vz = vec4(v0.z, v1.z, v2.z, v3.z);
        // Wrap to periods where specified
        if(period.x > 0.0) vx = mod(vx, period.x);
        if(period.y > 0.0) vy = mod(vy, period.y);
        if(period.z > 0.0) vz = mod(vz, period.z);
        // Transform back
#ifndef PSRDNOISE_PERLIN_GRID
        i0 = M * vec3(vx.x, vy.x, vz.x);
        i1 = M * vec3(vx.y, vy.y, vz.y);
        i2 = M * vec3(vx.z, vy.z, vz.z);
        i3 = M * vec3(vx.w, vy.w, vz.w);
#else
        v0 = vec3(vx.x, vy.x, vz.x);
        v1 = vec3(vx.y, vy.y, vz.y);
        v2 = vec3(vx.z, vy.z, vz.z);
        v3 = vec3(vx.w, vy.w, vz.w);
        // Transform wrapped coordinates back to uvw
        i0 = v0 + dot(v0, vec3(0.3333333));
        i1 = v1 + dot(v1, vec3(0.3333333));
        i2 = v2 + dot(v2, vec3(0.3333333));
        i3 = v3 + dot(v3, vec3(0.3333333));
#endif
        // Fix rounding errors
        i0 = floor(i0 + 0.5);
        i1 = floor(i1 + 0.5);
        i2 = floor(i2 + 0.5);
        i3 = floor(i3 + 0.5);
    }

    // Compute one pseudo-random hash value for each corner
    vec4 hash = permute( permute( permute( 
                vec4(i0.z, i1.z, i2.z, i3.z ))
                + vec4(i0.y, i1.y, i2.y, i3.y ))
                + vec4(i0.x, i1.x, i2.x, i3.x ));

    // Compute generating gradients from a Fibonacci spiral on the unit sphere
    vec4 theta = hash * 3.883222077;  // 2*pi/golden ratio
    vec4 sz    = hash * -0.006920415 + 0.996539792; // 1-(hash+0.5)*2/289
    vec4 psi   = hash * 0.108705628 ; // 10*pi/289, chosen to avoid correlation

    vec4 Ct = cos(theta);
    vec4 St = sin(theta);
    vec4 sz_prime = sqrt( 1.0 - sz*sz ); // s is a point on a unit fib-sphere

    vec4 gx, gy, gz;

    // Rotate gradients by angle alpha around a pseudo-random ortogonal axis
#ifdef PSRDNOISE_FAST_ROTATION
    // Fast algorithm, but without dynamic shortcut for alpha = 0
    vec4 qx = St;         // q' = norm ( cross(s, n) )  on the equator
    vec4 qy = -Ct; 
    vec4 qz = vec4(0.0);

    vec4 px =  sz * qy;   // p' = cross(q, s)
    vec4 py = -sz * qx;
    vec4 pz = sz_prime;

    psi += alpha;         // psi and alpha in the same plane
    vec4 Sa = sin(psi);
    vec4 Ca = cos(psi);

    gx = Ca * px + Sa * qx;
    gy = Ca * py + Sa * qy;
    gz = Ca * pz + Sa * qz;
    #else
    // Slightly slower algorithm, but with g = s for alpha = 0, and a
    // strong conditional speedup for alpha = 0 across all fragments
    if(alpha != 0.0) {
        vec4 Sp = sin(psi);          // q' from psi on equator
        vec4 Cp = cos(psi);

        vec4 px = Ct * sz_prime;     // px = sx
        vec4 py = St * sz_prime;     // py = sy
        vec4 pz = sz;

        vec4 Ctp = St*Sp - Ct*Cp;    // q = (rotate( cross(s,n), dot(s,n))(q')
        vec4 qx = mix( Ctp*St, Sp, sz);
        vec4 qy = mix(-Ctp*Ct, Cp, sz);
        vec4 qz = -(py*Cp + px*Sp);

        vec4 Sa = vec4(sin(alpha));       // psi and alpha in different planes
        vec4 Ca = vec4(cos(alpha));

        gx = Ca * px + Sa * qx;
        gy = Ca * py + Sa * qy;
        gz = Ca * pz + Sa * qz;
    }
    else {
        gx = Ct * sz_prime;  // alpha = 0, use s directly as gradient
        gy = St * sz_prime;
        gz = sz;  
    }
#endif

    // Reorganize for dot products below
    vec3 g0 = vec3(gx.x, gy.x, gz.x);
    vec3 g1 = vec3(gx.y, gy.y, gz.y);
    vec3 g2 = vec3(gx.z, gy.z, gz.z);
    vec3 g3 = vec3(gx.w, gy.w, gz.w);

    // Radial decay with distance from each simplex corner
    vec4 w = 0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3));
    w = max(w, 0.0);
    vec4 w2 = w * w;
    vec4 w3 = w2 * w;

    // The value of the linear ramp from each of the corners
    vec4 gdotx = vec4(dot(g0,x0), dot(g1,x1), dot(g2,x2), dot(g3,x3));

    // Multiply by the radial decay and sum up the noise value
    float n = dot(w3, gdotx);

    // Compute the first order partial derivatives
    vec4 dw = -6.0 * w2 * gdotx;
    vec3 dn0 = w3.x * g0 + dw.x * x0;
    vec3 dn1 = w3.y * g1 + dw.y * x1;
    vec3 dn2 = w3.z * g2 + dw.z * x2;
    vec3 dn3 = w3.w * g3 + dw.w * x3;
    gradient = 39.5 * (dn0 + dn1 + dn2 + dn3);

    // Compute the second order partial derivatives
    vec4 dw2 = 24.0 * w * gdotx;
    vec3 dga0 = dw2.x * x0 * x0 - 6.0 * w2.x * (gdotx.x + 2.0 * g0 * x0);
    vec3 dga1 = dw2.y * x1 * x1 - 6.0 * w2.y * (gdotx.y + 2.0 * g1 * x1);
    vec3 dga2 = dw2.z * x2 * x2 - 6.0 * w2.z * (gdotx.z + 2.0 * g2 * x2);
    vec3 dga3 = dw2.w * x3 * x3 - 6.0 * w2.w * (gdotx.w + 2.0 * g3 * x3);
    dg = 35.0 * (dga0 + dga1 + dga2 + dga3); // (d2n/dx2, d2n/dy2, d2n/dz2)
    vec3 dgb0 = dw2.x * x0 * x0.yzx - 6.0 * w2.x * (g0 * x0.yzx + g0.yzx * x0);
    vec3 dgb1 = dw2.y * x1 * x1.yzx - 6.0 * w2.y * (g1 * x1.yzx + g1.yzx * x1);
    vec3 dgb2 = dw2.z * x2 * x2.yzx - 6.0 * w2.z * (g2 * x2.yzx + g2.yzx * x2);
    vec3 dgb3 = dw2.w * x3 * x3.yzx - 6.0 * w2.w * (g3 * x3.yzx + g3.yzx * x3);
    dg2 = 39.5 * (dgb0 + dgb1 + dgb2 + dgb3); // (d2n/dxy, d2n/dyz, d2n/dxz)

    // Scale the return value to fit nicely into the range [-1,1]
    return 39.5 * n;
}

float psrdnoise(vec3 x, vec3 period, float alpha) {
    vec3 g = vec3(0.0);
    return psrdnoise(x, period, alpha, g);
}

float psrdnoise(vec3 x, vec3 period) {
    return psrdnoise(x, period, 0.0);
}

float psrdnoise(vec3 x) {
    return psrdnoise(x, vec3(0.0));
}
#endif`,gnoise:`/*
original_author: Patricio Gonzalez Vivo
description: pass a value and get some random normalize value between 0 and 1
use: float random[2|3](<float|vec2|vec3> value)
options:
    - RANDOM_HIGHER_RANGE: for working with a range over 0 and 1
    - RANDOM_SINLESS: Use sin-less random, which tolerates bigger values before producing pattern. From https://www.shadertoy.com/view/4djSRW
    - RANDOM_SCALE: by default this scale if for number with a big range. For producing good random between 0 and 1 use bigger range
examples:
    - /shaders/generative_random.frag
*/

#ifndef RANDOM_SCALE
#if defined(RANDOM_HIGHER_RANGE)
#define RANDOM_SCALE vec4(.1031, .1030, .0973, .1099)
#else
#define RANDOM_SCALE vec4(443.897, 441.423, .0973, .1099)
#endif
#endif

#ifndef FNC_RANDOM
#define FNC_RANDOM
float random(in float x) {
#if defined(RANDOM_SINLESS)
    x = fract(x * RANDOM_SCALE.x);
    x *= x + 33.33;
    x *= x + x;
    return fract(x);
#else
    return fract(sin(x) * 43758.5453);
#endif
}

float random(in vec2 st) {
#if defined(RANDOM_SINLESS)
    vec3 p3  = fract(vec3(st.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 33.33);
    return fract((p3.x + p3.y) * p3.z);
#else
    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);
#endif
}

float random(in vec3 pos) {
#if defined(RANDOM_SINLESS)
    pos  = fract(pos * RANDOM_SCALE.xyz);
    pos += dot(pos, pos.zyx + 31.32);
    return fract((pos.x + pos.y) * pos.z);
#else
    return fract(sin(dot(pos.xyz, vec3(70.9898, 78.233, 32.4355))) * 43758.5453123);
#endif
}

float random(in vec4 pos) {
#if defined(RANDOM_SINLESS)
    pos = fract(pos * RANDOM_SCALE);
    pos += dot(pos, pos.wzxy+33.33);
    return fract((pos.x + pos.y) * (pos.z + pos.w));
#else
    float dot_product = dot(pos, vec4(12.9898,78.233,45.164,94.673));
    return fract(sin(dot_product) * 43758.5453);
#endif
}

vec2 random2(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec2 p) {
    vec3 p3 = fract(p.xyx * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec3 p3) {
    p3 = fract(p3 * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec3 random3(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx); 
}

vec3 random3(vec2 p) {
    vec3 p3 = fract(vec3(p.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yxz + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx);
}

vec3 random3(vec3 p) {
    p = fract(p * RANDOM_SCALE.xyz);
    p += dot(p, p.yxz + 19.19);
    return fract((p.xxy + p.yzz) * p.zyx);
}

vec4 random4(float p) {
    vec4 p4 = fract(p * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);   
}

vec4 random4(vec2 p) {
    vec4 p4 = fract(p.xyxy * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec3 p) {
    vec4 p4 = fract(p.xyzx  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec4 p4) {
    p4 = fract(p4  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}


#endif

/*
original_author: Patricio Gonzalez Vivo
description: Signed Random 
use: srandomX(<vec2|vec3> x)
*/

#ifndef FNC_SRANDOM
#define FNC_SRANDOM

float srandom(in float x) {
  return -1. + 2. * fract(sin(x) * 43758.5453);
}

float srandom(in vec2 st) {
  return -1. + 2. * fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

float srandom(in vec3 pos) {
  return -1. + 2. * fract(sin(dot(pos.xyz, vec3(70.9898, 78.233, 32.4355))) * 43758.5453123);
}

float srandom(in vec4 pos) {
    float dot_product = dot(pos, vec4(12.9898,78.233,45.164,94.673));
    return -1. + 2. * fract(sin(dot_product) * 43758.5453);
}

vec2 srandom2(in vec2 st) {
    const vec2 k = vec2(.3183099, .3678794);
    st = st * k + k.yx;
    return -1. + 2. * fract(16. * k * fract(st.x * st.y * (st.x + st.y)));
}

vec3 srandom3(in vec3 p) {
    p = vec3( dot(p, vec3(127.1, 311.7, 74.7)),
            dot(p, vec3(269.5, 183.3, 246.1)),
            dot(p, vec3(113.5, 271.9, 124.6)));
    return -1. + 2. * fract(sin(p) * 43758.5453123);
}

vec2 srandom2(in vec2 p, const in float tileLength) {
    p = mod(p, vec2(tileLength));
    return srandom2(p);
}

vec3 srandom3(in vec3 p, const in float tileLength) {
    p = mod(p, vec3(tileLength));
    return srandom3(p);
}

#endif
/*
original_author: Inigo Quiles
description: cubic polynomial https://iquilezles.org/articles/smoothsteps/
use: <float|vec2|vec3|vec4> cubic(<float|vec2|vec3|vec4> value[, <float> in, <float> out]);
*/

#ifndef FNC_CUBIC
#define FNC_CUBIC 
float cubic(const in float v) { return v*v*(3.0-2.0*v); }
vec2  cubic(const in vec2 v)  { return v*v*(3.0-2.0*v); }
vec3  cubic(const in vec3 v)  { return v*v*(3.0-2.0*v); }
vec4  cubic(const in vec4 v)  { return v*v*(3.0-2.0*v); }

float cubic(const in float value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    float value2 = value * value;
    float value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}

vec2 cubic(const in vec2 value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    vec2 value2 = value * value;
    vec2 value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}

vec3 cubic(const in vec3 value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    vec3 value2 = value * value;
    vec3 value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}

vec4 cubic(const in vec4 value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    vec4 value2 = value * value;
    vec4 value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}
#endif
/*
original_author: Inigo Quiles
description: quintic polynomial https://iquilezles.org/articles/smoothsteps/
use: <float|vec2|vec3|vec4> quintic(<float|vec2|vec3|vec4> value);
*/

#ifndef FNC_QUINTIC
#define FNC_QUINTIC 

float quintic(const in float v) { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec2  quintic(const in vec2 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec3  quintic(const in vec3 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec4  quintic(const in vec4 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }

#endif

/*
original_author: Patricio Gonzalez Vivo
description: gradient Noise 
use: gnoise(<float> x)
*/

#ifndef FNC_GNOISE
#define FNC_GNOISE

float gnoise(float x) {
    float i = floor(x);  // integer
    float f = fract(x);  // fraction
    return mix(random(i), random(i + 1.0), smoothstep(0.,1.,f)); 
}

float gnoise(vec2 st) {
    vec2 i = floor(st);
    vec2 f = fract(st);
    float a = random(i);
    float b = random(i + vec2(1.0, 0.0));
    float c = random(i + vec2(0.0, 1.0));
    float d = random(i + vec2(1.0, 1.0));
    vec2 u = cubic(f);
    return mix( a, b, u.x) +
                (c - a)* u.y * (1.0 - u.x) +
                (d - b) * u.x * u.y;
}

float gnoise(vec3 p) {
    vec3 i = floor(p);
    vec3 f = fract(p);
    vec3 u = quintic(f);
    return -1.0 + 2.0 * mix( mix( mix( random(i + vec3(0.0,0.0,0.0)), 
                                        random(i + vec3(1.0,0.0,0.0)), u.x),
                                mix( random(i + vec3(0.0,1.0,0.0)), 
                                        random(i + vec3(1.0,1.0,0.0)), u.x), u.y),
                            mix( mix( random(i + vec3(0.0,0.0,1.0)), 
                                        random(i + vec3(1.0,0.0,1.0)), u.x),
                                mix( random(i + vec3(0.0,1.0,1.0)), 
                                        random(i + vec3(1.0,1.0,1.0)), u.x), u.y), u.z );
}

float gnoise(vec3 p, float tileLength) {
    vec3 i = floor(p);
    vec3 f = fract(p);
            
    vec3 u = quintic(f);
        
    return mix( mix( mix( dot( srandom3(i + vec3(0.0,0.0,0.0), tileLength), f - vec3(0.0,0.0,0.0)), 
                            dot( srandom3(i + vec3(1.0,0.0,0.0), tileLength), f - vec3(1.0,0.0,0.0)), u.x),
                    mix( dot( srandom3(i + vec3(0.0,1.0,0.0), tileLength), f - vec3(0.0,1.0,0.0)), 
                            dot( srandom3(i + vec3(1.0,1.0,0.0), tileLength), f - vec3(1.0,1.0,0.0)), u.x), u.y),
                mix( mix( dot( srandom3(i + vec3(0.0,0.0,1.0), tileLength), f - vec3(0.0,0.0,1.0)), 
                            dot( srandom3(i + vec3(1.0,0.0,1.0), tileLength), f - vec3(1.0,0.0,1.0)), u.x),
                    mix( dot( srandom3(i + vec3(0.0,1.0,1.0), tileLength), f - vec3(0.0,1.0,1.0)), 
                            dot( srandom3(i + vec3(1.0,1.0,1.0), tileLength), f - vec3(1.0,1.0,1.0)), u.x), u.y), u.z );
}

vec3 gnoise3(vec3 x) {
    return vec3(gnoise(x+vec3(123.456, 0.567, 0.37)),
                gnoise(x+vec3(0.11, 47.43, 19.17)),
                gnoise(x) );
}

#endif`,worley:`/*
original_author: Patricio Gonzalez Vivo
description: pass a value and get some random normalize value between 0 and 1
use: float random[2|3](<float|vec2|vec3> value)
options:
    - RANDOM_HIGHER_RANGE: for working with a range over 0 and 1
    - RANDOM_SINLESS: Use sin-less random, which tolerates bigger values before producing pattern. From https://www.shadertoy.com/view/4djSRW
    - RANDOM_SCALE: by default this scale if for number with a big range. For producing good random between 0 and 1 use bigger range
examples:
    - /shaders/generative_random.frag
*/

#ifndef RANDOM_SCALE
#if defined(RANDOM_HIGHER_RANGE)
#define RANDOM_SCALE vec4(.1031, .1030, .0973, .1099)
#else
#define RANDOM_SCALE vec4(443.897, 441.423, .0973, .1099)
#endif
#endif

#ifndef FNC_RANDOM
#define FNC_RANDOM
float random(in float x) {
#if defined(RANDOM_SINLESS)
    x = fract(x * RANDOM_SCALE.x);
    x *= x + 33.33;
    x *= x + x;
    return fract(x);
#else
    return fract(sin(x) * 43758.5453);
#endif
}

float random(in vec2 st) {
#if defined(RANDOM_SINLESS)
    vec3 p3  = fract(vec3(st.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 33.33);
    return fract((p3.x + p3.y) * p3.z);
#else
    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);
#endif
}

float random(in vec3 pos) {
#if defined(RANDOM_SINLESS)
    pos  = fract(pos * RANDOM_SCALE.xyz);
    pos += dot(pos, pos.zyx + 31.32);
    return fract((pos.x + pos.y) * pos.z);
#else
    return fract(sin(dot(pos.xyz, vec3(70.9898, 78.233, 32.4355))) * 43758.5453123);
#endif
}

float random(in vec4 pos) {
#if defined(RANDOM_SINLESS)
    pos = fract(pos * RANDOM_SCALE);
    pos += dot(pos, pos.wzxy+33.33);
    return fract((pos.x + pos.y) * (pos.z + pos.w));
#else
    float dot_product = dot(pos, vec4(12.9898,78.233,45.164,94.673));
    return fract(sin(dot_product) * 43758.5453);
#endif
}

vec2 random2(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec2 p) {
    vec3 p3 = fract(p.xyx * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec3 p3) {
    p3 = fract(p3 * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec3 random3(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx); 
}

vec3 random3(vec2 p) {
    vec3 p3 = fract(vec3(p.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yxz + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx);
}

vec3 random3(vec3 p) {
    p = fract(p * RANDOM_SCALE.xyz);
    p += dot(p, p.yxz + 19.19);
    return fract((p.xxy + p.yzz) * p.zyx);
}

vec4 random4(float p) {
    vec4 p4 = fract(p * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);   
}

vec4 random4(vec2 p) {
    vec4 p4 = fract(p.xyxy * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec3 p) {
    vec4 p4 = fract(p.xyzx  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec4 p4) {
    p4 = fract(p4  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}


#endif


/*
original_author: Patricio Gonzalez Vivo
description: Worley noise
use: <vec2> worley(<vec2|vec3> pos)
examples:
    - /shaders/generative_worley.frag
*/

#ifndef FNC_WORLEY
#define FNC_WORLEY

float worley(vec2 p){
    vec2 n = floor( p );
    vec2 f = fract( p );

    float dis = 1.0;
    for( int j= -1; j <= 1; j++ )
        for( int i=-1; i <= 1; i++ ) {	
                vec2  g = vec2(i,j);
                vec2  o = random2( n + g );
                vec2  delta = g + o - f;
                float d = length(delta);
                dis = min(dis,d);
    }

    return 1.0-dis;
}

float worley(vec3 p) {
    vec3 n = floor( p );
    vec3 f = fract( p );

    float dis = 1.0;
    for( int k = -1; k <= 1; k++ )
        for( int j= -1; j <= 1; j++ )
            for( int i=-1; i <= 1; i++ ) {	
                vec3  g = vec3(i,j,k);
                vec3  o = random3( n + g );
                vec3  delta = g+o-f;
                float d = length(delta);
                dis = min(dis,d);
    }

    return 1.0-dis;
}

#endif`,fbm:`/*
original_author: [Stefan Gustavson, Ian McEwan]
description: modulus of 289
use: mod289(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_MOD289
#define FNC_MOD289

float mod289(const in float x) { return x - floor(x * (1. / 289.)) * 289.; }
vec2 mod289(const in vec2 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec3 mod289(const in vec3 x) { return x - floor(x * (1. / 289.)) * 289.; }
vec4 mod289(const in vec4 x) { return x - floor(x * (1. / 289.)) * 289.; }

#endif



/*
original_author: [Stefan Gustavson, Ian McEwan]
description: permute
use: permute(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_PERMUTE
#define FNC_PERMUTE

float permute(const in float x) { return mod289(((x * 34.0) + 1.0) * x); }
vec2 permute(const in vec2 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec3 permute(const in vec3 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec4 permute(const in vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }

#endif

/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Fast, accurate inverse square root. 
use: <float|vec2|vec3|vec4> taylorInvSqrt(<float|vec2|vec3|vec4> x)
*/

#ifndef FNC_TAYLORINVSQRT
#define FNC_TAYLORINVSQRT
float taylorInvSqrt(in float r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec2 taylorInvSqrt(in vec2 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 taylorInvSqrt(in vec3 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec4 taylorInvSqrt(in vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
#endif
/*
original_author: [Stefan Gustavson, Ian McEwan]
description: grad4, used for snoise(vec4 v)
use: grad4(<float> j, <vec4> ip)
*/

#ifndef FNC_GRAD4
#define FNC_GRAD4
vec4 grad4(float j, vec4 ip) {
    const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);
    vec4 p,s;

    p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;
    p.w = 1.5 - dot(abs(p.xyz), ones.xyz);
    s = vec4(lessThan(p, vec4(0.0)));
    p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;

    return p;
}
#endif


/*
original_author: [Stefan Gustavson, Ian McEwan]
description: Simplex Noise https://github.com/stegu/webgl-noise
use: snoise(<vec2|vec3|vec4> pos)
license: |
    Copyright 2021-2023 by Stefan Gustavson and Ian McEwan.
    Published under the terms of the MIT license:
    https://opensource.org/license/mit/
examples:
    - /shaders/generative_snoise.frag
*/

#ifndef FNC_SNOISE
#define FNC_SNOISE
float snoise(in vec2 v) {
    const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0
                        0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)
                        -0.577350269189626,  // -1.0 + 2.0 * C.x
                        0.024390243902439); // 1.0 / 41.0
    // First corner
    vec2 i  = floor(v + dot(v, C.yy) );
    vec2 x0 = v -   i + dot(i, C.xx);

    // Other corners
    vec2 i1;
    //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0
    //i1.y = 1.0 - i1.x;
    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
    // x0 = x0 - 0.0 + 0.0 * C.xx ;
    // x1 = x0 - i1 + 1.0 * C.xx ;
    // x2 = x0 - 1.0 + 2.0 * C.xx ;
    vec4 x12 = x0.xyxy + C.xxzz;
    x12.xy -= i1;

    // Permutations
    i = mod289(i); // Avoid truncation effects in permutation
    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
    + i.x + vec3(0.0, i1.x, 1.0 ));

    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);
    m = m*m ;
    m = m*m ;

    // Gradients: 41 points uniformly over a line, mapped onto a diamond.
    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)

    vec3 x = 2.0 * fract(p * C.www) - 1.0;
    vec3 h = abs(x) - 0.5;
    vec3 ox = floor(x + 0.5);
    vec3 a0 = x - ox;

    // Normalise gradients implicitly by scaling m
    // Approximation of: m *= inversesqrt( a0*a0 + h*h );
    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );

    // Compute final noise value at P
    vec3 g;
    g.x  = a0.x  * x0.x  + h.x  * x0.y;
    g.yz = a0.yz * x12.xz + h.yz * x12.yw;
    return 130.0 * dot(m, g);
}


float snoise(in vec3 v) {
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

    // First corner
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;

    // Other corners
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );

    //   x0 = x0 - 0.0 + 0.0 * C.xxx;
    //   x1 = x0 - i1  + 1.0 * C.xxx;
    //   x2 = x0 - i2  + 2.0 * C.xxx;
    //   x3 = x0 - 1.0 + 3.0 * C.xxx;
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

    // Permutations
    i = mod289(i);
    vec4 p = permute( permute( permute(
                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
            + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

    // Gradients: 7x7 points over a square, mapped onto an octahedron.
    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
    float n_ = 0.142857142857; // 1.0/7.0
    vec3  ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );

    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                dot(p2,x2), dot(p3,x3) ) );
}

float snoise(in vec4 v) {
    const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4
                        0.276393202250021,  // 2 * G4
                        0.414589803375032,  // 3 * G4
                        -0.447213595499958); // -1 + 4 * G4

    // First corner
    vec4 i  = floor(v + dot(v, vec4(.309016994374947451)) ); // (sqrt(5) - 1)/4
    vec4 x0 = v -   i + dot(i, C.xxxx);

    // Other corners

    // Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)
    vec4 i0;
    vec3 isX = step( x0.yzw, x0.xxx );
    vec3 isYZ = step( x0.zww, x0.yyz );
    //  i0.x = dot( isX, vec3( 1.0 ) );
    i0.x = isX.x + isX.y + isX.z;
    i0.yzw = 1.0 - isX;
    //  i0.y += dot( isYZ.xy, vec2( 1.0 ) );
    i0.y += isYZ.x + isYZ.y;
    i0.zw += 1.0 - isYZ.xy;
    i0.z += isYZ.z;
    i0.w += 1.0 - isYZ.z;

    // i0 now contains the unique values 0,1,2,3 in each channel
    vec4 i3 = clamp( i0, 0.0, 1.0 );
    vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );
    vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );

    //  x0 = x0 - 0.0 + 0.0 * C.xxxx
    //  x1 = x0 - i1  + 1.0 * C.xxxx
    //  x2 = x0 - i2  + 2.0 * C.xxxx
    //  x3 = x0 - i3  + 3.0 * C.xxxx
    //  x4 = x0 - 1.0 + 4.0 * C.xxxx
    vec4 x1 = x0 - i1 + C.xxxx;
    vec4 x2 = x0 - i2 + C.yyyy;
    vec4 x3 = x0 - i3 + C.zzzz;
    vec4 x4 = x0 + C.wwww;

    // Permutations
    i = mod289(i);
    float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);
    vec4 j1 = permute( permute( permute( permute (
                i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))
            + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))
            + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))
            + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));

    // Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope
    // 7*7*6 = 294, which is close to the ring size 17*17 = 289.
    vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;

    vec4 p0 = grad4(j0,   ip);
    vec4 p1 = grad4(j1.x, ip);
    vec4 p2 = grad4(j1.y, ip);
    vec4 p3 = grad4(j1.z, ip);
    vec4 p4 = grad4(j1.w, ip);

    // Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;
    p4 *= taylorInvSqrt(dot(p4,p4));

    // Mix contributions from the five corners
    vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);
    vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);
    m0 = m0 * m0;
    m1 = m1 * m1;
    return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))
                + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;
}

vec2 snoise2( vec2 x ){
    float s  = snoise(vec2( x ));
    float s1 = snoise(vec2( x.y - 19.1, x.x + 47.2 ));
    return vec2( s , s1 );
}

vec3 snoise3( vec3 x ){
    float s  = snoise(vec3( x ));
    float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));
    float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));
    return vec3( s , s1 , s2 );
}

vec3 snoise3( vec4 x ){
    float s  = snoise(vec4( x ));
    float s1 = snoise(vec4( x.y - 19.1 , x.z + 33.4 , x.x + 47.2, x.w ));
    float s2 = snoise(vec4( x.z + 74.2 , x.x - 124.5 , x.y + 99.4, x.w ));
    return vec3( s , s1 , s2 );
}

#endif

/*
original_author: Patricio Gonzalez Vivo
description: pass a value and get some random normalize value between 0 and 1
use: float random[2|3](<float|vec2|vec3> value)
options:
    - RANDOM_HIGHER_RANGE: for working with a range over 0 and 1
    - RANDOM_SINLESS: Use sin-less random, which tolerates bigger values before producing pattern. From https://www.shadertoy.com/view/4djSRW
    - RANDOM_SCALE: by default this scale if for number with a big range. For producing good random between 0 and 1 use bigger range
examples:
    - /shaders/generative_random.frag
*/

#ifndef RANDOM_SCALE
#if defined(RANDOM_HIGHER_RANGE)
#define RANDOM_SCALE vec4(.1031, .1030, .0973, .1099)
#else
#define RANDOM_SCALE vec4(443.897, 441.423, .0973, .1099)
#endif
#endif

#ifndef FNC_RANDOM
#define FNC_RANDOM
float random(in float x) {
#if defined(RANDOM_SINLESS)
    x = fract(x * RANDOM_SCALE.x);
    x *= x + 33.33;
    x *= x + x;
    return fract(x);
#else
    return fract(sin(x) * 43758.5453);
#endif
}

float random(in vec2 st) {
#if defined(RANDOM_SINLESS)
    vec3 p3  = fract(vec3(st.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 33.33);
    return fract((p3.x + p3.y) * p3.z);
#else
    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);
#endif
}

float random(in vec3 pos) {
#if defined(RANDOM_SINLESS)
    pos  = fract(pos * RANDOM_SCALE.xyz);
    pos += dot(pos, pos.zyx + 31.32);
    return fract((pos.x + pos.y) * pos.z);
#else
    return fract(sin(dot(pos.xyz, vec3(70.9898, 78.233, 32.4355))) * 43758.5453123);
#endif
}

float random(in vec4 pos) {
#if defined(RANDOM_SINLESS)
    pos = fract(pos * RANDOM_SCALE);
    pos += dot(pos, pos.wzxy+33.33);
    return fract((pos.x + pos.y) * (pos.z + pos.w));
#else
    float dot_product = dot(pos, vec4(12.9898,78.233,45.164,94.673));
    return fract(sin(dot_product) * 43758.5453);
#endif
}

vec2 random2(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec2 p) {
    vec3 p3 = fract(p.xyx * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec2 random2(vec3 p3) {
    p3 = fract(p3 * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xx + p3.yz) * p3.zy);
}

vec3 random3(float p) {
    vec3 p3 = fract(vec3(p) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yzx + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx); 
}

vec3 random3(vec2 p) {
    vec3 p3 = fract(vec3(p.xyx) * RANDOM_SCALE.xyz);
    p3 += dot(p3, p3.yxz + 19.19);
    return fract((p3.xxy + p3.yzz) * p3.zyx);
}

vec3 random3(vec3 p) {
    p = fract(p * RANDOM_SCALE.xyz);
    p += dot(p, p.yxz + 19.19);
    return fract((p.xxy + p.yzz) * p.zyx);
}

vec4 random4(float p) {
    vec4 p4 = fract(p * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);   
}

vec4 random4(vec2 p) {
    vec4 p4 = fract(p.xyxy * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec3 p) {
    vec4 p4 = fract(p.xyzx  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}

vec4 random4(vec4 p4) {
    p4 = fract(p4  * RANDOM_SCALE);
    p4 += dot(p4, p4.wzxy + 19.19);
    return fract((p4.xxyz + p4.yzzw) * p4.zywx);
}


#endif

/*
original_author: Patricio Gonzalez Vivo
description: Signed Random 
use: srandomX(<vec2|vec3> x)
*/

#ifndef FNC_SRANDOM
#define FNC_SRANDOM

float srandom(in float x) {
  return -1. + 2. * fract(sin(x) * 43758.5453);
}

float srandom(in vec2 st) {
  return -1. + 2. * fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

float srandom(in vec3 pos) {
  return -1. + 2. * fract(sin(dot(pos.xyz, vec3(70.9898, 78.233, 32.4355))) * 43758.5453123);
}

float srandom(in vec4 pos) {
    float dot_product = dot(pos, vec4(12.9898,78.233,45.164,94.673));
    return -1. + 2. * fract(sin(dot_product) * 43758.5453);
}

vec2 srandom2(in vec2 st) {
    const vec2 k = vec2(.3183099, .3678794);
    st = st * k + k.yx;
    return -1. + 2. * fract(16. * k * fract(st.x * st.y * (st.x + st.y)));
}

vec3 srandom3(in vec3 p) {
    p = vec3( dot(p, vec3(127.1, 311.7, 74.7)),
            dot(p, vec3(269.5, 183.3, 246.1)),
            dot(p, vec3(113.5, 271.9, 124.6)));
    return -1. + 2. * fract(sin(p) * 43758.5453123);
}

vec2 srandom2(in vec2 p, const in float tileLength) {
    p = mod(p, vec2(tileLength));
    return srandom2(p);
}

vec3 srandom3(in vec3 p, const in float tileLength) {
    p = mod(p, vec3(tileLength));
    return srandom3(p);
}

#endif
/*
original_author: Inigo Quiles
description: cubic polynomial https://iquilezles.org/articles/smoothsteps/
use: <float|vec2|vec3|vec4> cubic(<float|vec2|vec3|vec4> value[, <float> in, <float> out]);
*/

#ifndef FNC_CUBIC
#define FNC_CUBIC 
float cubic(const in float v) { return v*v*(3.0-2.0*v); }
vec2  cubic(const in vec2 v)  { return v*v*(3.0-2.0*v); }
vec3  cubic(const in vec3 v)  { return v*v*(3.0-2.0*v); }
vec4  cubic(const in vec4 v)  { return v*v*(3.0-2.0*v); }

float cubic(const in float value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    float value2 = value * value;
    float value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}

vec2 cubic(const in vec2 value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    vec2 value2 = value * value;
    vec2 value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}

vec3 cubic(const in vec3 value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    vec3 value2 = value * value;
    vec3 value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}

vec4 cubic(const in vec4 value, in float slope0, in float slope1) {
    float a = slope0 + slope1 - 2.;
    float b = -2. * slope0 - slope1 + 3.;
    float c = slope0;
    vec4 value2 = value * value;
    vec4 value3 = value * value2;
    return a * value3 + b * value2 + c * value;
}
#endif
/*
original_author: Inigo Quiles
description: quintic polynomial https://iquilezles.org/articles/smoothsteps/
use: <float|vec2|vec3|vec4> quintic(<float|vec2|vec3|vec4> value);
*/

#ifndef FNC_QUINTIC
#define FNC_QUINTIC 

float quintic(const in float v) { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec2  quintic(const in vec2 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec3  quintic(const in vec3 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }
vec4  quintic(const in vec4 v)  { return v*v*v*(v*(v*6.0-15.0)+10.0); }

#endif

/*
original_author: Patricio Gonzalez Vivo
description: gradient Noise 
use: gnoise(<float> x)
*/

#ifndef FNC_GNOISE
#define FNC_GNOISE

float gnoise(float x) {
    float i = floor(x);  // integer
    float f = fract(x);  // fraction
    return mix(random(i), random(i + 1.0), smoothstep(0.,1.,f)); 
}

float gnoise(vec2 st) {
    vec2 i = floor(st);
    vec2 f = fract(st);
    float a = random(i);
    float b = random(i + vec2(1.0, 0.0));
    float c = random(i + vec2(0.0, 1.0));
    float d = random(i + vec2(1.0, 1.0));
    vec2 u = cubic(f);
    return mix( a, b, u.x) +
                (c - a)* u.y * (1.0 - u.x) +
                (d - b) * u.x * u.y;
}

float gnoise(vec3 p) {
    vec3 i = floor(p);
    vec3 f = fract(p);
    vec3 u = quintic(f);
    return -1.0 + 2.0 * mix( mix( mix( random(i + vec3(0.0,0.0,0.0)), 
                                        random(i + vec3(1.0,0.0,0.0)), u.x),
                                mix( random(i + vec3(0.0,1.0,0.0)), 
                                        random(i + vec3(1.0,1.0,0.0)), u.x), u.y),
                            mix( mix( random(i + vec3(0.0,0.0,1.0)), 
                                        random(i + vec3(1.0,0.0,1.0)), u.x),
                                mix( random(i + vec3(0.0,1.0,1.0)), 
                                        random(i + vec3(1.0,1.0,1.0)), u.x), u.y), u.z );
}

float gnoise(vec3 p, float tileLength) {
    vec3 i = floor(p);
    vec3 f = fract(p);
            
    vec3 u = quintic(f);
        
    return mix( mix( mix( dot( srandom3(i + vec3(0.0,0.0,0.0), tileLength), f - vec3(0.0,0.0,0.0)), 
                            dot( srandom3(i + vec3(1.0,0.0,0.0), tileLength), f - vec3(1.0,0.0,0.0)), u.x),
                    mix( dot( srandom3(i + vec3(0.0,1.0,0.0), tileLength), f - vec3(0.0,1.0,0.0)), 
                            dot( srandom3(i + vec3(1.0,1.0,0.0), tileLength), f - vec3(1.0,1.0,0.0)), u.x), u.y),
                mix( mix( dot( srandom3(i + vec3(0.0,0.0,1.0), tileLength), f - vec3(0.0,0.0,1.0)), 
                            dot( srandom3(i + vec3(1.0,0.0,1.0), tileLength), f - vec3(1.0,0.0,1.0)), u.x),
                    mix( dot( srandom3(i + vec3(0.0,1.0,1.0), tileLength), f - vec3(0.0,1.0,1.0)), 
                            dot( srandom3(i + vec3(1.0,1.0,1.0), tileLength), f - vec3(1.0,1.0,1.0)), u.x), u.y), u.z );
}

vec3 gnoise3(vec3 x) {
    return vec3(gnoise(x+vec3(123.456, 0.567, 0.37)),
                gnoise(x+vec3(0.11, 47.43, 19.17)),
                gnoise(x) );
}

#endif


/*
original_author: Patricio Gonzalez Vivo
description: Fractal Brownian Motion
use: fbm(<vec2> pos)
options:
    FBM_OCTAVES: numbers of octaves. Default is 4.
    FBM_NOISE_FNC(UV): noise function to use Default 'snoise(UV)' (simplex noise)
    FBM_VALUE_INITIAL: initial value. Default is 0.
    FBM_SCALE_SCALAR: scalar. Defualt is 2.
    FBM_AMPLITUD_INITIAL: initial amplitud value. Default is 0.5
    FBM_AMPLITUD_SCALAR: amplitud scalar. Default is 0.5
examples:
    - /shaders/generative_fbm.frag
*/

#ifndef FBM_OCTAVES
#define FBM_OCTAVES 4
#endif

#ifndef FBM_NOISE_FNC
#define FBM_NOISE_FNC(UV) snoise(UV)
#endif

#ifndef FBM_NOISE2_FNC
#define FBM_NOISE2_FNC(UV) FBM_NOISE_FNC(UV)
#endif

#ifndef FBM_NOISE3_FNC
#define FBM_NOISE3_FNC(UV) FBM_NOISE_FNC(UV)
#endif

#ifndef FBM_NOISE_TILABLE_FNC
#define FBM_NOISE_TILABLE_FNC(UV, TILE) gnoise(UV, TILE)
#endif

#ifndef FBM_NOISE3_TILABLE_FNC
#define FBM_NOISE3_TILABLE_FNC(UV, TILE) FBM_NOISE_TILABLE_FNC(UV, TILE)
#endif

#ifndef FBM_NOISE_TYPE
#define FBM_NOISE_TYPE float
#endif

#ifndef FBM_VALUE_INITIAL
#define FBM_VALUE_INITIAL 0.0
#endif

#ifndef FBM_SCALE_SCALAR
#define FBM_SCALE_SCALAR 2.0
#endif

#ifndef FBM_AMPLITUD_INITIAL
#define FBM_AMPLITUD_INITIAL 0.5
#endif

#ifndef FBM_AMPLITUD_SCALAR
#define FBM_AMPLITUD_SCALAR 0.5
#endif

#ifndef FNC_FBM
#define FNC_FBM
FBM_NOISE_TYPE fbm(in vec2 st) {
    // Initial values
    FBM_NOISE_TYPE value = FBM_NOISE_TYPE(FBM_VALUE_INITIAL);
    float amplitud = FBM_AMPLITUD_INITIAL;

    // Loop of octaves
    for (int i = 0; i < FBM_OCTAVES; i++) {
        value += amplitud * FBM_NOISE2_FNC(st);
        st *= FBM_SCALE_SCALAR;
        amplitud *= FBM_AMPLITUD_SCALAR;
    }
    return value;
}

FBM_NOISE_TYPE fbm(in vec3 pos) {
    // Initial values
    FBM_NOISE_TYPE value = FBM_NOISE_TYPE(FBM_VALUE_INITIAL);
    float amplitud = FBM_AMPLITUD_INITIAL;

    // Loop of octaves
    for (int i = 0; i < FBM_OCTAVES; i++) {
        value += amplitud * FBM_NOISE3_FNC(pos);
        pos *= FBM_SCALE_SCALAR;
        amplitud *= FBM_AMPLITUD_SCALAR;
    }
    return value;
}

FBM_NOISE_TYPE fbm(vec3 p, float tileLength) {
    const float persistence = 0.5;
    const float lacunarity = 2.0;

    float amplitude = 0.5;
    FBM_NOISE_TYPE total = FBM_NOISE_TYPE(0.0);
    float normalization = 0.0;

    for (int i = 0; i < FBM_OCTAVES; ++i) {
        float noiseValue = FBM_NOISE3_TILABLE_FNC(p, tileLength * lacunarity * 0.5) * 0.5 + 0.5;
        total += noiseValue * amplitude;
        normalization += amplitude;
        amplitude *= persistence;
        p = p * lacunarity;
    }

    return total / normalization;
}
#endif
`},color:{mixOklab:`/*
original_author: Patricio Gonzalez Vivo  
description: sRGB to linear RGB conversion.
use: <float|vec3\vec4> srgb2rgb(<float|vec3|vec4> srgb)
*/

#ifndef SRGB_EPSILON 
#define SRGB_EPSILON 0.00000001
#endif

#ifndef FNC_SRGB2RGB
#define FNC_SRGB2RGB

// 1.0 / 12.92 = 0.0773993808
// 1.0 / (1.0 + 0.055) = 0.947867298578199

float srgb2rgb(float channel) {
    return (channel < 0.04045) ? channel * 0.0773993808 : pow((channel + 0.055) * 0.947867298578199, 2.4);
}

vec3 srgb2rgb(vec3 srgb) {
    return vec3(srgb2rgb(srgb.r + SRGB_EPSILON), 
                srgb2rgb(srgb.g + SRGB_EPSILON),                 srgb2rgb(srgb.b + SRGB_EPSILON));
}

vec4 srgb2rgb(vec4 srgb) {
    return vec4(srgb2rgb(srgb.rgb), srgb.a);
}

#endif
/*
original_author: Patricio Gonzalez Vivo
description: clamp a value between 0 and 1
use: saturation(<float|vec2|vec3|vec4> value)
*/

#if !defined(FNC_SATURATE) && !defined(saturate)
#define FNC_SATURATE
#define saturate(x) clamp(x, 0.0, 1.0)
#endif

/*
original_author: Patricio Gonzalez Vivo  
description: Converts a linear RGB color to sRGB.
use: <float|vec3\vec4> rgb2srgb(<float|vec3|vec4> srgb)
*/

#ifndef SRGB_EPSILON 
#define SRGB_EPSILON 0.00000001
#endif

#ifndef FNC_RGB2SRGB
#define FNC_RGB2SRGB

// 1.0 / 2.4 = 0.4166666666666667 
float rgb2srgb(float channel) {
    return (channel < 0.0031308) ? channel * 12.92 : 1.055 * pow(channel, 0.4166666666666667) - 0.055;
}

vec3 rgb2srgb(vec3 rgb) {
    return saturate(vec3(rgb2srgb(rgb.r - SRGB_EPSILON), rgb2srgb(rgb.g - SRGB_EPSILON), rgb2srgb(rgb.b - SRGB_EPSILON)));
}

vec4 rgb2srgb(vec4 rgb) {
    return vec4(rgb2srgb(rgb.rgb), rgb.a);
}

#endif

/*
original_author: Bjorn Ottosson (@bjornornorn), Inigo Quiles
description: |
    Mix function by Inigo Quiles (https://www.shadertoy.com/view/ttcyRS) 
    utilizing Bjorn Ottosso's OkLab color space, which is provide smooth stransitions 
    Learn more about it [his article](https://bottosson.github.io/posts/oklab/)
use: <vec3\vec4> mixOklab(<vec3|vec4> colorA, <vec3|vec4> colorB, float pct)
options:
    - MIXOKLAB_COLORSPACE_SRGB: by default colA and colB use linear RGB. If you want to use sRGB define this flag
examples:
    - /shaders/color_mix.frag
*/

#ifndef FNC_MIXOKLAB
#define FNC_MIXOKLAB
vec3 mixOklab( vec3 colA, vec3 colB, float h ) {

    #ifdef MIXOKLAB_COLORSPACE_SRGB
    colA = srgb2rgb(colA);
    colB = srgb2rgb(colB);
    #endif

    // https://bottosson.github.io/posts/oklab
    const mat3 kCONEtoLMS = mat3(                
         0.4121656120,  0.2118591070,  0.0883097947,
         0.5362752080,  0.6807189584,  0.2818474174,
         0.0514575653,  0.1074065790,  0.6302613616);
    const mat3 kLMStoCONE = mat3(
         4.0767245293, -1.2681437731, -0.0041119885,
        -3.3072168827,  2.6093323231, -0.7034763098,
         0.2307590544, -0.3411344290,  1.7068625689);
                    
    // rgb to cone (arg of pow can't be negative)
    vec3 lmsA = pow( kCONEtoLMS * colA, vec3(1.0/3.0) );
    vec3 lmsB = pow( kCONEtoLMS * colB, vec3(1.0/3.0) );
    // lerp
    vec3 lms = mix( lmsA, lmsB, h );
    
    // cone to rgb
    vec3 rgb = kLMStoCONE*(lms*lms*lms);

    #ifdef MIXOKLAB_COLORSPACE_SRGB
    return rgb2srgb(rgb);
    #else
    return rgb;
    #endif
}

vec4 mixOklab( vec4 colA, vec4 colB, float h ) {
    return vec4( mixOklab(colA.rgb, colB.rgb, h), mix(colA.a, colB.a, h) );
}
#endif`},distort:{chromaAB:`/*
original_author: Patricio Gonzalez Vivo
description: Squared length
use: lengthSq(<vec4|vec3|vec2> v)
*/

#ifndef FNC_LENGTHSQ
#define FNC_LENGTHSQ

float lengthSq(in vec2 v) { return dot(v, v); }
float lengthSq(in vec3 v) { return dot(v, v); }
float lengthSq(in vec4 v) { return dot(v, v); }

#endif

#ifndef SAMPLER_FNC
#if __VERSION__ >= 300
#define SAMPLER_FNC(TEX, UV) texture(TEX, UV)
#else
#define SAMPLER_FNC(TEX, UV) texture2D(TEX, UV)
#endif
#endif

#ifndef SAMPLER_TYPE
#define SAMPLER_TYPE sampler2D
#endif
/*
original_author: Patricio Gonzalez Vivo, Johan Ismael
description: Chroma Aberration inspired by https://www.shadertoy.com/view/4sX3z4
use: chromaAB(<SAMPLER_TYPE> texture, <vec2> st [, <float|vec2> sdf|offset, <float> pct])
options:
    CHROMAAB_TYPE: return type, defauls to vec3
    CHROMAAB_PCT: amount of aberration, defaults to 1.5
    CHROMAAB_SAMPLER_FNC: function used to sample the input texture, defaults to texture2D(TEX, UV)
    CHROMAAB_CENTER_BUFFER: scalar to attenuate the sdf passed in   
*/

#ifndef CHROMAAB_PCT
#define CHROMAAB_PCT 1.5
#endif

#ifndef CHROMAAB_TYPE
#define CHROMAAB_TYPE vec3
#endif

#ifndef CHROMAAB_SAMPLER_FNC
#define CHROMAAB_SAMPLER_FNC(TEX, UV) SAMPLER_FNC(TEX, UV)
#endif

#ifndef FNC_CHROMAAB
#define FNC_CHROMAAB

CHROMAAB_TYPE chromaAB(in SAMPLER_TYPE tex, in vec2 st, in vec2 direction, in vec3 distortion ) {
    vec2 offset = vec2(0.0);
    CHROMAAB_TYPE c = CHROMAAB_TYPE(1.);
    c.r = CHROMAAB_SAMPLER_FNC(tex, st + direction * distortion.r).r;
    c.g = CHROMAAB_SAMPLER_FNC(tex, st + direction * distortion.g).g;
    c.b = CHROMAAB_SAMPLER_FNC(tex, st + direction * distortion.b).b;
    return c;
}

CHROMAAB_TYPE chromaAB(in SAMPLER_TYPE tex, in vec2 st, in vec2 offset, in float pct) {

  #ifdef CHROMAAB_CENTER_BUFFER
    // modify the distance from the center, so that only the edges are affected
    offset = max(offset - CHROMAAB_CENTER_BUFFER, 0.);
  #endif

  // Distort the UVs
  vec2 stR = st * (1.0 + offset * 0.02 * pct),
       stB = st * (1.0 - offset * 0.02 * pct);

  // Get the individual channels using the modified UVs
  CHROMAAB_TYPE c = CHROMAAB_TYPE(1.);
  c.r = CHROMAAB_SAMPLER_FNC(tex, stR).r;
  c.g = CHROMAAB_SAMPLER_FNC(tex, st).g;
  c.b = CHROMAAB_SAMPLER_FNC(tex, stB).b;
  return c;
}

CHROMAAB_TYPE chromaAB(in SAMPLER_TYPE tex, in vec2 st, in float sdf, in float pct) {
  return chromaAB(tex, st, vec2(sdf), pct);
}

CHROMAAB_TYPE chromaAB(in SAMPLER_TYPE tex, in vec2 st, in float sdf) {
  return chromaAB(tex, st, sdf, CHROMAAB_PCT);
}

CHROMAAB_TYPE chromaAB(in SAMPLER_TYPE tex, in vec2 st, in vec2 offset) {
  return chromaAB(tex, st, offset, CHROMAAB_PCT);
}

CHROMAAB_TYPE chromaAB(in SAMPLER_TYPE tex, in vec2 st) {
  return chromaAB(tex, st, lengthSq(st - .5), CHROMAAB_PCT);
}

#endif
`},math:{decimate:`/*
original_author: Patricio Gonzalez Vivo
description: decimate a value with an specific presicion 
use: decimate(<float|vec2|vec3|vec4> value, <float|vec2|vec3|vec4> presicion)
*/

#ifndef FNC_DECIMATE
#define FNC_DECIMATE

#define decimate(value, presicion) (floor(value * presicion)/presicion)

#endif`}};function sH(n){let e=n.trim().replace(".glsl","").split("/");return rH[e[0]][e[1]]}function _g(n){Array.isArray(n)||(n=n.split(/\r?\n/));let e="";return n.forEach((t,i)=>{const r=t.trim();if(r.startsWith('#include "lygia')){let s=r.substring(16);e+=sH(s.replace(/\"|\;|\s/g,""))}else e+=t+`
`}),e}const Px={global:`
      #ifdef GL_ES
      precision mediump float;
      #endif

      uniform vec2 u_resolution;
      uniform vec2 u_mouse;
      uniform float u_time;
      uniform vec3 u_color;
      uniform float u_size;  
      uniform float u_distribution;
      uniform bool u_randomize;
      uniform bool u_random_rotation;
      uniform bool u_multicolor;
      uniform float u_gain;
      uniform float u_lacunarity;
      uniform float u_octaves;
      uniform float u_frequency;
      uniform float u_rotation;
      uniform float u_multiplier;
      uniform float u_smoothness;
      uniform float u_interpolate;
      uniform float u_distance;
      uniform sampler2D u_image;
      uniform vec2 u_image_resolution;
      uniform float u_phase;
      uniform float u_count;
      uniform float u_width;
      uniform float u_jitter;
      uniform float u_factor;
      uniform float u_spread;
      uniform float u_strength;
      uniform float u_random_seed;
      uniform float u_vignette;
      uniform float u_aa_passes;

      #define PI 3.14159265358979323846
      #define TWO_PI 6.28318530718
      #define MAX_OCTAVES 8

      float vignette(float amount){
          vec2 position = (gl_FragCoord.xy / u_resolution) - vec2(0.5);           
          float dist = length(position * vec2(u_resolution.x/u_resolution.y, 1.0));

          float radius = 1.0*amount;
          float softness = 1.0-radius;
          float v = smoothstep(radius, radius - softness, dist);

          return v;
      }

      float aspectScale(inout vec2 st,float xRes, float yRes){
          float aspect = xRes/yRes;
          float diff = (1.0 - aspect)/2.0;
          float vis = 1.0;
          
          if(aspect > 1.){
            st.y *= aspect;
            st.y += diff;
            vis = (1.0 - step(1.0,st.y)) * (step(0.0,st.y)) * (1.0 - step(1.0,st.x)) * (step(0.0,st.x));
          } else {
              st.x *= yRes/xRes;
              st.x += (1.0 - yRes/xRes)/2.0;
              vis = (1.0 - step(1.0,st.x)) *(step(0.0,st.x)) * (1.0 - step(1.0,st.y)) *(step(0.0,st.y));
          }        
          return vis;
      }

      float circle(vec2 st, float radius) {
        vec2 d = st - vec2(0.5);
        return 1.0 - smoothstep(radius,radius+0.005, length(d));
      }
      
      float sdCircle( vec2 p, float r )
      {
          return length(p) - r;
      }

      float sdPentagon( in vec2 p, in float r )
      {
          const vec3 k = vec3(0.809016994,0.587785252,0.726542528); // pi/5: cos, sin, tan
          p.y = -p.y;
          p.x = abs(p.x);
          p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
          p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
        p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);    
          return length(p)*sign(p.y);
      }

      float sdHexagon( in vec2 p, in float r )
      {
          const vec3 k = vec3(-0.866025404,0.5,0.577350269);
          p = abs(p);
          p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
          p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
          return length(p)*sign(p.y);
      }

      float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }
      float sdRhombus( in vec2 p, in vec2 b ) 
      {
          p = abs(p);
          float h = clamp( ndot(b-2.0*p,b)/dot(b,b), -1.0, 1.0 );
          float d = length( p-0.5*b*vec2(1.0-h,1.0+h) );
          return d * sign( p.x*b.y + p.y*b.x - b.x*b.y );
      }

      float sdSegment( in vec2 p, in vec2 a, in vec2 b )
      {
          vec2 pa = p-a, ba = b-a;
          float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );
          return length( pa - ba*h );
      }

      float sdTriangleIsosceles( in vec2 p, in vec2 q )
      {
          p.x = abs(p.x);
          vec2 a = p - q*clamp( dot(p,q)/dot(q,q), 0.0, 1.0 );
          vec2 b = p - q*vec2( clamp( p.x/q.x, 0.0, 1.0 ), 1.0 );
          float s = -sign( q.y );
          vec2 d = min( vec2( dot(a,a), s*(p.x*q.y-p.y*q.x) ),
                        vec2( dot(b,b), s*(p.y-q.y)  ));
          return -sqrt(d.x)*sign(d.y);
      }

      float sdBox( in vec2 p, in vec2 b )
      {
          vec2 d = abs(p)-b;
          return length(max(d,0.0)) + min(max(d.x,d.y),0.0);
      }

      float diagonal (vec2 st, float pct, float thickness, float feather){
        return  smoothstep( pct-feather, pct, st.y+thickness) -
                smoothstep( pct, pct+feather, st.y-thickness);
      }

      float blur(float distance, float amount) {
        return smoothstep(0., amount, distance);
      }

      vec2 rotate2D(vec2 _st, float _angle){
          _st -= 0.5;
          _st =  mat2(cos(_angle),-sin(_angle),
                      sin(_angle),cos(_angle)) * _st;
          _st += 0.5;
          return _st;
      }

      highp float rand(vec2 co)
      {
          highp float a = 12.9898;
          highp float b = 78.233;
          highp float c = 43758.5453;
          highp float dt= dot(co.xy ,vec2(a,b));
          highp float sn= mod(dt,3.14);
          return fract(sin(sn) * c);
      }

      mat2 rotate2d(float angle){
          return mat2(cos(angle),-sin(angle),
                      sin(angle),cos(angle));
      }

    `,random:n=>{let e="";switch(n.shape){case"square":e=`
            gl_FragColor = vec4(vec3(color),step(1.0 - distribution,amt) * opacity);`;break;case"circle":e=`
            float blurAmount = (u_resolution.x / scale)*0.001; // The higher the blur is the smaller you should make the shape
            float shapeScale = 1.2; // make me bigger to make the shape smaller.  2.0 should fill frame.

            shape = blur(sdCircle ( (st-0.5) * (shapeScale + blurAmount), 0.5), blurAmount);

            gl_FragColor = vec4(vec3(color),step(1.0 - distribution,amt) * opacity * (1.-shape));`;break;case"triangle":e=`
            float blurAmount = (u_resolution.x / scale)*0.001; // The higher the blur is the smaller you should make the shape
            float shapeScale = 1.2; // make me bigger to make the shape smaller.  2.0 should fill frame.

            shape = blur(sdTriangleIsosceles(((st-0.5)-vec2(0.0,0.5-blurAmount))*(shapeScale+blurAmount), vec2(.5-blurAmount,-1. + blurAmount)), blurAmount);

            gl_FragColor = vec4(vec3(color),step(1.0 - distribution,amt) * opacity * (1.-shape));`;break;case"diamond":e=`
            float blurAmount = (u_resolution.x / scale)*0.001; // The higher the blur is the smaller you should make the shape
            float shapeScale = 1.2; // make me bigger to make the shape smaller.  2.0 should fill frame.

            shape = blur(sdRhombus(((st-0.5)-blurAmount)*(shapeScale+blurAmount), vec2(.5-blurAmount,0.5 + blurAmount)), blurAmount);

            gl_FragColor = vec4(vec3(color),step(1.0 - distribution,amt) * opacity * (1.-shape));`;break;case"line":e=`
            float thickness = 0.02;
            float feather = (u_resolution.x / scale)*0.001;
            shape = diagonal(st,st.x,thickness, feather);
            gl_FragColor = vec4(vec3(color),step(1.0 - distribution,amt) * opacity * shape);
          `;break;case"image":e=`
                     
            float vis = aspectScale(st, u_image_resolution.x, u_image_resolution.y);

            vec4 image = vec4(1.0);
            image = texture(u_image, st);
            image.a *= step(1.0 - distribution,amt) * vis;

          gl_FragColor = image; `;break}return`  
        ${Ti}

        void staticNoise(vec3 color, float scale, float distribution, float rotation, bool randomize, bool random_rotation, bool multicolor){
          vec2 st = gl_FragCoord.xy / u_resolution.x;
          st *= u_resolution / scale; // Scale the coordinate system

          vec2 ipos = floor(st);  // get the integer coords
          vec2 fpos = fract(st);  // get the fractional coords
          st = fpos;

          // Use a matrix to rotate the space
          if (random_rotation == true) {
            rotation = rand(ipos);
          }
          st = rotate2D(st, PI * rotation);

          // opacity
          float opacity = 1.0;
          if (randomize == true) {
            opacity = rand(ipos * u_random_seed);
          }

          // amount of visible fragments
          float amt = hash3D(hash3D(ipos).xy).x;

          // vignette
          vec2 center = vec2(u_resolution / scale*0.5 - 0.5);
          float dist = distance(ipos,center);
          float v = (1.0 - (dist/center.x*(u_vignette)));
          opacity *= pow(v,20.);

          // color | multicolor
          if (multicolor == true){
            color = hash3D(ipos);
          }

          // shape
          float shape = 1.;
          ${e}
          
        }

          void main() {
            staticNoise(u_color, u_size, u_distribution, u_rotation, u_randomize, u_random_rotation, u_multicolor);
          }
        `},get randomStatic(){return this.random()},perlin:n=>`    
      
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));

        // FBM implementation using Perlin noise, can also be used to create ridges based on the mode used.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param octaves Number of octaves for the fbm, range: [1, inf]
        // @param shift Position shift for each octave, range: [0, inf]
        // @param axialShift Axial or rotational shift for each octave, range: [-inf, inf]
        // @param gain Gain for each fbm octave, range: [0, 2], default: 0.5
        // @param lacunarity Frequency of the fbm, must be integer for tileable results, range: [1, 32]
        // @param mode Mode used in combining the noise for the ocatves, range: [0, 5]
        // @param factor Pow intensity factor, range: [0, 10], default: 1.0
        // @param offset Offsets the value of the noise, range: [-1, 1], default: 0.0
        // @param octaveFactor The octave intensity factor, the lower the more pronounced the lower octaves will be, range: [-1, 1], default: 0.0
        // @param seed Seed to randomize result, range: [0, inf], default: 0.0
        // @return value of the noise, range: [0, inf]
        //float fbmPerlin(vec2 pos, vec2 scale, int octaves, float shift, float axialShift, float gain, float lacunarity, uint mode, float factor, float offset, float octaveFactor, float seed) 
        float value = fbmPerlin(p, scale, int(u_octaves), /*shift*/ u_phase *100., u_phase, u_gain*2., floor(u_lacunarity), 4u, /*factor*/ u_factor, /*offset*/ 0.0, 0.0);
        
        return vec4(u_color,value);
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        vec2 fragCoord = gl_FragCoord.xy;
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+fragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,perlinContour:()=>`    
      
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));

        // FBM implementation using Perlin noise, can also be used to create ridges based on the mode used.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param octaves Number of octaves for the fbm, range: [1, inf]
        // @param shift Position shift for each octave, range: [0, inf]
        // @param axialShift Axial or rotational shift for each octave, range: [-inf, inf]
        // @param gain Gain for each fbm octave, range: [0, 2], default: 0.5
        // @param lacunarity Frequency of the fbm, must be integer for tileable results, range: [1, 32]
        // @param mode Mode used in combining the noise for the ocatves, range: [0, 5]
        // @param factor Pow intensity factor, range: [0, 10], default: 1.0
        // @param offset Offsets the value of the noise, range: [-1, 1], default: 0.0
        // @param octaveFactor The octave intensity factor, the lower the more pronounced the lower octaves will be, range: [-1, 1], default: 0.0
        // @param seed Seed to randomize result, range: [0, inf], default: 0.0
        // @return value of the noise, range: [0, inf]
        //float fbmPerlin(vec2 pos, vec2 scale, int octaves, float shift, float axialShift, float gain, float lacunarity, uint mode, float factor, float offset, float octaveFactor, float seed) 
        float value = fbmPerlin(p, scale, int(u_octaves), /*shift*/ u_phase *100., u_phase, u_gain*2., floor(u_lacunarity), 4u, /*factor*/ u_factor, /*offset*/ 0.0, 0.0);

        float f  = fract(value * 10.0);  
        value = step(1.-u_width, f);

        return vec4(u_color,value);
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,perlinWarp:()=>`    
      
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));

        // Domain warping using the derivatives of perlin noise.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param strength Controls the warp strength, range: [-1, 1]
        // @param phase Noise phase, range: [-inf, inf]
        // @param spread The gradient spread, range: [0.001, inf], default: 0.001
        // @param factor Pow intensity factor, range: [0, 10]
        float value = perlinNoiseWarp(p, scale, /*strength*/ u_strength, /*phase*/ u_phase, u_factor, 0.001, 0.0);

        return vec4(u_color,value);
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,voronoi:()=>`    
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));

        // FBM implementation using Voronoi.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param octaves Number of octaves for the fbm, range: [1, inf]
        // @param shift Position shift for each octave, range: [0, inf]
        // @param timeShift Time shift for each octave, range: [-inf, inf]
        // @param gain Gain for each fbm octave, range: [0, 2], default: 0.5
        // @param lacunarity Frequency of the fbm, must be integer for tileable results, range: [1, 32]
        // @param octaveFactor The octave intensity factor, the lower the more pronounced the lower octaves will be, range: [-1, 1], default: 0.0
        // @param jitter Jitter factor for the cells, if zero then it will result in a square grid, range: [0, 1], default: 1.0
        // @param interpolate Interpolate factor between the multiplication mode and normal mode, default: 0.0
        // @param seed Seed to randomize result, range: [0, inf], default: 0.0
        // @return value of the noise, range: [0, inf]
        vec4 value = fbmVoronoi(p, scale, int(u_octaves), /*shift*/ 0., /*timeShift*/ u_phase, /*gain*/ u_gain, /*lacunarity*/ u_lacunarity, /*octaveFactor [-1, 1]*/ u_factor, /*jitter*/ u_jitter, /*interpolate*/ 0., /*seed*/ 0.);

        return vec4(u_color,value.x);
      }

      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,voronoiFlat:()=>`    
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));
        
        /* 3d cells */
        //vec3 value = cellularNoised(p, scale, /*jitter:*/ 1.0, /*phase*/ u_phase * 0.5, 23.0).yzx * 0.5 + 0.5;
        //vec2 value = cellularNoise(p, scale, /*jitter:*/ 1.0, /*phase:*/ u_phase * 0.5, /*metric*/ 0u, 0.0) * 0.5 + 0.5;;
        
        // FBM implementation using Voronoi.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param octaves Number of octaves for the fbm, range: [1, inf]
        // @param shift Position shift for each octave, range: [0, inf]
        // @param timeShift Time shift for each octave, range: [-inf, inf]
        // @param gain Gain for each fbm octave, range: [0, 2], default: 0.5
        // @param lacunarity Frequency of the fbm, must be integer for tileable results, range: [1, 32]
        // @param octaveFactor The octave intensity factor, the lower the more pronounced the lower octaves will be, range: [-1, 1], default: 0.0
        // @param jitter Jitter factor for the cells, if zero then it will result in a square grid, range: [0, 1], default: 1.0
        // @param interpolate Interpolate factor between the multiplication mode and normal mode, default: 0.0
        // @param seed Seed to randomize result, range: [0, inf], default: 0.0
        // @return value of the noise, range: [0, inf]
        vec4 value = fbmVoronoi(p, scale, int(u_octaves), /*shift*/ 0., /*timeShift*/ u_phase, /*gain*/ u_gain, /*lacunarity*/ u_lacunarity, /*factor*/ u_factor, /*jitter*/ u_jitter, /*interpolate*/ 0., /*seed*/ 0.);    

        return vec4(u_color,value.y);
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }

    `,value:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));
        
        // Classic FBM implementation using Value noise.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param octaves Number of octaves for the fbm, range: [1, inf]
        // @param shift Position shift for each octave, range: [0, inf]
        // @param timeShift Time shift for each octave, range: [-inf, inf]
        // @param gain Gain for each fbm octave, range: [0, 2], default: 0.5
        // @param lacunarity Frequency of the fbm, must be integer for tileable results, range: [1, 32]
        // @param octaveFactor The octave intensity factor, the lower the more pronounced the lower octaves will be, range: [-1, 1], default: 0.0
        // @param seed Seed to randomize result, range: [0, inf], default: 0.0
        // @return value of the noise, range: [0, inf]
        //float fbm(vec2 pos, vec2 scale, int octaves, float shift, float timeShift, float gain, float lacunarity, float octaveFactor, float seed) 

        float value = fbm(p, scale, int(u_octaves), /*shift*/ 1., /*timeShift*/ u_phase, /*gain*/ u_gain, /*lacunarity*/ u_lacunarity, /*octaveFactor*/ u_factor, /*seed*/ 0.);

        return vec4(u_color,value);
      }

      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,valueGrid:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));
        
        // FBM implementation using a variation of Value noise.
        // @param scale Number of tiles, must be  integer for tileable results, range: [2, inf]
        // @param octaves Number of octaves for the fbm, range: [1, inf]
        // @param shift Position shift for each octave, range: [0, inf], default: 100.0
        // @param timeShift Time shift for each octave, range: [-inf, inf]
        // @param gain Gain for each fbm octave, range: [0, 2], default: 0.5
        // @param lacunarity Frequency of the fbm, must be integer for tileable results, range: [1, 32]
        // @param translate Translate factors for the value noise , range: [-inf, inf], default: {0.5, -0.25, 0.15}
        // @param warpStrength The warp factor used for domain warping, range: [-10, 10], default: 0.5
        // @param octaveFactor The octave intensity factor, the lower the more pronounced the lower octaves will be, range: [-1, 1], default: 0.0
        // @param seed Seed to randomize result, range: [0, inf], default: 0.0
        // @return value of the noise, range: [0, inf]
        //float fbmGrid(vec2 pos, vec2 scale, int octaves, float shift, float timeShift, float gain, float lacunarity, float warpStrength, float octaveFactor, float seed) 

        float value = fbmGrid(p, scale, int(u_octaves), /*shift*/ 100., /*timeShift*/ u_phase, /*gain*/ u_gain, /*lacunarity*/ u_lacunarity, /*warpStrength*/ 0.5, /*octaveFactor*/ u_factor, /*seed*/ vec2(0.));

        return vec4(u_color,value);
      }

      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,cellular:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));
        
        vec4 value = fbmCellular(p, scale, int(u_octaves), /*shift*/ 0., /*timeShift*/ u_phase, /*gain*/ u_gain, /*lacunarity*/ u_lacunarity, /*factor*/ u_factor, /*jitter*/ u_jitter, /*interpolate*/ 0.5, /*seed*/ 0.);

        return vec4(u_color,value);
      }

      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,valueMulti:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));
        
        vec4 n = fbmMulti(p, floor(scale * vec2(0.5, 1.)), u_lacunarity, int(u_octaves), u_phase, 0.0);
        n.xy = n.xz - n.yw;
        vec2 v = 1.0 - pow(abs(n.xy) * 4.0, vec2(0.1));
        float value = pow(1.0 - v.x * v.y, 3.0);

        return vec4(u_color,1.-value);
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,metaBalls:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));

        //float fbmMetaballs(vec2 pos, vec2 scale, int octaves, float shift, float timeShift, float gain, float lacunarity, float octaveFactor, float jitter, float interpolate, vec2 width, float seed) 
        float value = fbmMetaballs(p, scale, int(u_octaves), 0.0, /*timeShift:*/ u_phase, /*gain*/ u_gain, /*lacunarity*/ u_lacunarity, /*octaveFactor*/ 0.0, /*jitter*/ u_jitter, /*interpolate*/ 0., vec2(u_width, u_width*0.1), 0.0); 
        
        return vec4(u_color,1.-value); 
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,wave:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));        

        float value = wavePattern(p, scale, u_width, /* float smoothness*/ u_smoothness, u_gain, /* float interpolate*/ u_interpolate);
        
        return vec4(u_color,value); 
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,stairs:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));    
        
        //float stairsPattern(vec2 pos, vec2 scale, float width, float smoothness, float distance)   

        float value = stairsPattern(p, scale, u_width, /* float smoothness*/ u_smoothness, u_distance);
        
        return vec4(u_color,value); 
      }
      
      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,randomLines:()=>`
      ${Ti}

      vec4 fragmentColor(in vec2 fragCoord){
        vec2 uv = fragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));


        //randomLines(vec2 pos, vec2 scale, float count, float width, float jitter, vec2 smoothness, float phase, float seed)
        vec3 value = randomLines(p, scale, /*count*/ u_count, /*width*/ u_width, u_jitter, /*smoothness*/ vec2(u_smoothness), /*phase*/ u_phase * 0.5, /*colorVariation*/ 0., 0.).rgb;
        return vec4(u_color,value);
      }

      void main()
      {
        // Antialiasing code
        vec4 fragColor = vec4(0.0);
        float A = u_aa_passes,  // Change A to define the level of anti-aliasing (1 to 16) ... higher numbers are REALLY slow!
              s = 1./A, x, y;
        for (x=-.5; x<.5; x+=s) for (y=-.5; y<.5; y+=s) fragColor += min ( fragmentColor(vec2(x,y)+gl_FragCoord.xy), 1.0);
            
        fragColor /= A*A;
        
        gl_FragColor = fragColor;
      }
    `,warp:()=>`
      ${Ti}

      void main()
      {
        vec2 uv = gl_FragCoord.xy / u_resolution.x;
        vec2 p = fract(uv);
        vec2 scale = vec2(int(u_resolution.x / u_size));

        vec2 factors = vec2(1.25);
        vec4 shifts = vec4(123.0, 235.0, 53.0, 511.0);
        float curl = abs(sin(u_phase * 0.5));
        vec2 q;
        vec2 r;

        //float fbmWarp(vec2 pos, vec2 scale, vec2 factors, int octaves, vec4 shifts, float timeShift, float gain, vec2 lacunarity, float slopeness, float octaveFactor, bool negative, float seed, out vec2 q, out vec2 r) 

        float value = fbmWarp(p, scale, factors, int(u_octaves), shifts, u_phase, /*gain*/ u_gain, /*lacunarity*/ vec2(u_lacunarity), /*float slopeness*/ 0.0, /*octaveFactor*/ 1.5, true, 0.0, q, r); 
        float f = value;
        vec3 col;
        col = mix(vec3(0.1,0.4,0.7), vec3(0.6,0.5,0.3), clamp((f * f) * 1.0, 6.0, 3.0));
        col = mix(col, vec3(0.0, 0.1, 0.05), length(q));
        col = mix(col, vec3(0.1), r.x);
        col = mix(col, col * vec3(1.8, 0.4, 0.2), 0.75 * pow(length(r), 10.0)) * 0.95;

        gl_FragColor = vec4(u_color,f);
      }    
    `,custom:n=>n.search('#include "lygia')>-1?_g(n):n,default:()=>`
// UNIFORMS
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform vec3 u_color;
uniform sampler2D u_image;
uniform float u_scale; 
uniform float amount;
    
void main() {
  vec2 st = gl_FragCoord.xy/u_resolution;
  
  //Scale from 
  st *= 1.0 + 1.0/u_scale;      
  st = fract(st);
  
  gl_FragColor = vec4(st.x,st.y,u_time,amount);
}`,getShader(n="random",e){return n==="custom"||n==="default"?this[n](e):this.global+this[n](e)}};function bf(n){return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(n)}function oH(n,e){if(bf(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(bf(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aH(n){var e=oH(n,"string");return bf(e)==="symbol"?e:String(e)}function wt(n,e,t){return e=aH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const v3=(n,e)=>(n%e+e)%e;class lH extends _s{constructor(e,t){super(),wt(this,"object",void 0),wt(this,"domElement",void 0),wt(this,"enabled",!0),wt(this,"target",new ee),wt(this,"minDistance",0),wt(this,"maxDistance",1/0),wt(this,"minZoom",0),wt(this,"maxZoom",1/0),wt(this,"minPolarAngle",0),wt(this,"maxPolarAngle",Math.PI),wt(this,"minAzimuthAngle",-1/0),wt(this,"maxAzimuthAngle",1/0),wt(this,"enableDamping",!1),wt(this,"dampingFactor",.05),wt(this,"enableZoom",!0),wt(this,"zoomSpeed",1),wt(this,"enableRotate",!0),wt(this,"rotateSpeed",1),wt(this,"enablePan",!0),wt(this,"panSpeed",1),wt(this,"screenSpacePanning",!0),wt(this,"keyPanSpeed",7),wt(this,"autoRotate",!1),wt(this,"autoRotateSpeed",2),wt(this,"reverseOrbit",!1),wt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),wt(this,"mouseButtons",{LEFT:Ra.ROTATE,MIDDLE:Ra.DOLLY,RIGHT:Ra.PAN}),wt(this,"touches",{ONE:Pa.ROTATE,TWO:Pa.DOLLY_PAN}),wt(this,"target0",void 0),wt(this,"position0",void 0),wt(this,"zoom0",void 0),wt(this,"_domElementKeyEvents",null),wt(this,"getPolarAngle",void 0),wt(this,"getAzimuthalAngle",void 0),wt(this,"setPolarAngle",void 0),wt(this,"setAzimuthalAngle",void 0),wt(this,"getDistance",void 0),wt(this,"listenToKeyEvents",void 0),wt(this,"saveState",void 0),wt(this,"reset",void 0),wt(this,"update",void 0),wt(this,"connect",void 0),wt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof hn?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=re=>{let we=v3(re,2*Math.PI),Oe=c.phi;Oe<0&&(Oe+=2*Math.PI),we<0&&(we+=2*Math.PI);let Fe=Math.abs(we-Oe);2*Math.PI-Fe<Fe&&(we<Oe?we+=2*Math.PI:Oe+=2*Math.PI),o.phi=we-Oe,i.update()},this.setAzimuthalAngle=re=>{let we=v3(re,2*Math.PI),Oe=c.theta;Oe<0&&(Oe+=2*Math.PI),we<0&&(we+=2*Math.PI);let Fe=Math.abs(we-Oe);2*Math.PI-Fe<Fe&&(we<Oe?we+=2*Math.PI:Oe+=2*Math.PI),o.theta=we-Oe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=re=>{re.addEventListener("keydown",ne),this._domElementKeyEvents=re},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof hn?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof hn&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),h=l.NONE},this.update=(()=>{const re=new ee,we=new bi().setFromUnitVectors(e.up,new ee(0,1,0)),Oe=we.clone().invert(),Fe=new ee,it=new bi,mt=2*Math.PI;return function(){const se=i.object.position;re.copy(se).sub(i.target),re.applyQuaternion(we),c.setFromVector3(re),i.autoRotate&&h===l.NONE&&P(S()),i.enableDamping?(c.theta+=o.theta*i.dampingFactor,c.phi+=o.phi*i.dampingFactor):(c.theta+=o.theta,c.phi+=o.phi);let _e=i.minAzimuthAngle,Ne=i.maxAzimuthAngle;return isFinite(_e)&&isFinite(Ne)&&(_e<-Math.PI?_e+=mt:_e>Math.PI&&(_e-=mt),Ne<-Math.PI?Ne+=mt:Ne>Math.PI&&(Ne-=mt),_e<=Ne?c.theta=Math.max(_e,Math.min(Ne,c.theta)):c.theta=c.theta>(_e+Ne)/2?Math.max(_e,c.theta):Math.min(Ne,c.theta)),c.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=u,c.radius=Math.max(i.minDistance,Math.min(i.maxDistance,c.radius)),i.enableDamping===!0?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),re.setFromSpherical(c),re.applyQuaternion(Oe),se.copy(i.target).add(re),i.object.lookAt(i.target),i.enableDamping===!0?(o.theta*=1-i.dampingFactor,o.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(o.set(0,0,0),d.set(0,0,0)),u=1,p||Fe.distanceToSquared(i.object.position)>f||8*(1-it.dot(i.object.quaternion))>f?(i.dispatchEvent(r),Fe.copy(i.object.position),it.copy(i.object.quaternion),p=!1,!0):!1}})(),this.connect=re=>{re===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=re,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Me),i.domElement.addEventListener("pointerdown",Ge),i.domElement.addEventListener("pointercancel",ot),i.domElement.addEventListener("wheel",G)},this.dispose=()=>{var re,we,Oe,Fe,it,mt;(re=i.domElement)===null||re===void 0||re.removeEventListener("contextmenu",Me),(we=i.domElement)===null||we===void 0||we.removeEventListener("pointerdown",Ge),(Oe=i.domElement)===null||Oe===void 0||Oe.removeEventListener("pointercancel",ot),(Fe=i.domElement)===null||Fe===void 0||Fe.removeEventListener("wheel",G),(it=i.domElement)===null||it===void 0||it.ownerDocument.removeEventListener("pointermove",Ue),(mt=i.domElement)===null||mt===void 0||mt.ownerDocument.removeEventListener("pointerup",je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ne)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=l.NONE;const f=1e-6,c=new hx,o=new hx;let u=1;const d=new ee;let p=!1;const m=new ke,v=new ke,x=new ke,w=new ke,A=new ke,M=new ke,C=new ke,E=new ke,R=new ke,b=[],_={};function S(){return 2*Math.PI/60/60*i.autoRotateSpeed}function T(){return Math.pow(.95,i.zoomSpeed)}function P(re){i.reverseOrbit?o.theta+=re:o.theta-=re}function I(re){i.reverseOrbit?o.phi+=re:o.phi-=re}const z=(()=>{const re=new ee;return function(Oe,Fe){re.setFromMatrixColumn(Fe,0),re.multiplyScalar(-Oe),d.add(re)}})(),O=(()=>{const re=new ee;return function(Oe,Fe){i.screenSpacePanning===!0?re.setFromMatrixColumn(Fe,1):(re.setFromMatrixColumn(Fe,0),re.crossVectors(i.object.up,re)),re.multiplyScalar(Oe),d.add(re)}})(),D=(()=>{const re=new ee;return function(Oe,Fe){const it=i.domElement;if(it&&i.object instanceof hn&&i.object.isPerspectiveCamera){const mt=i.object.position;re.copy(mt).sub(i.target);let Wt=re.length();Wt*=Math.tan(i.object.fov/2*Math.PI/180),z(2*Oe*Wt/it.clientHeight,i.object.matrix),O(2*Fe*Wt/it.clientHeight,i.object.matrix)}else it&&i.object instanceof Wo&&i.object.isOrthographicCamera?(z(Oe*(i.object.right-i.object.left)/i.object.zoom/it.clientWidth,i.object.matrix),O(Fe*(i.object.top-i.object.bottom)/i.object.zoom/it.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function B(re){i.object instanceof hn&&i.object.isPerspectiveCamera?u/=re:i.object instanceof Wo&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*re)),i.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function F(re){i.object instanceof hn&&i.object.isPerspectiveCamera?u*=re:i.object instanceof Wo&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/re)),i.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function U(re){m.set(re.clientX,re.clientY)}function H(re){C.set(re.clientX,re.clientY)}function j(re){w.set(re.clientX,re.clientY)}function Y(re){v.set(re.clientX,re.clientY),x.subVectors(v,m).multiplyScalar(i.rotateSpeed);const we=i.domElement;we&&(P(2*Math.PI*x.x/we.clientHeight),I(2*Math.PI*x.y/we.clientHeight)),m.copy(v),i.update()}function K(re){E.set(re.clientX,re.clientY),R.subVectors(E,C),R.y>0?B(T()):R.y<0&&F(T()),C.copy(E),i.update()}function X(re){A.set(re.clientX,re.clientY),M.subVectors(A,w).multiplyScalar(i.panSpeed),D(M.x,M.y),w.copy(A),i.update()}function $(re){re.deltaY<0?F(T()):re.deltaY>0&&B(T()),i.update()}function q(re){let we=!1;switch(re.code){case i.keys.UP:D(0,i.keyPanSpeed),we=!0;break;case i.keys.BOTTOM:D(0,-i.keyPanSpeed),we=!0;break;case i.keys.LEFT:D(i.keyPanSpeed,0),we=!0;break;case i.keys.RIGHT:D(-i.keyPanSpeed,0),we=!0;break}we&&(re.preventDefault(),i.update())}function pe(){if(b.length==1)m.set(b[0].pageX,b[0].pageY);else{const re=.5*(b[0].pageX+b[1].pageX),we=.5*(b[0].pageY+b[1].pageY);m.set(re,we)}}function he(){if(b.length==1)w.set(b[0].pageX,b[0].pageY);else{const re=.5*(b[0].pageX+b[1].pageX),we=.5*(b[0].pageY+b[1].pageY);w.set(re,we)}}function Ae(){const re=b[0].pageX-b[1].pageX,we=b[0].pageY-b[1].pageY,Oe=Math.sqrt(re*re+we*we);C.set(0,Oe)}function me(){i.enableZoom&&Ae(),i.enablePan&&he()}function De(){i.enableZoom&&Ae(),i.enableRotate&&pe()}function fe(re){if(b.length==1)v.set(re.pageX,re.pageY);else{const Oe=Ke(re),Fe=.5*(re.pageX+Oe.x),it=.5*(re.pageY+Oe.y);v.set(Fe,it)}x.subVectors(v,m).multiplyScalar(i.rotateSpeed);const we=i.domElement;we&&(P(2*Math.PI*x.x/we.clientHeight),I(2*Math.PI*x.y/we.clientHeight)),m.copy(v)}function xe(re){if(b.length==1)A.set(re.pageX,re.pageY);else{const we=Ke(re),Oe=.5*(re.pageX+we.x),Fe=.5*(re.pageY+we.y);A.set(Oe,Fe)}M.subVectors(A,w).multiplyScalar(i.panSpeed),D(M.x,M.y),w.copy(A)}function Le(re){const we=Ke(re),Oe=re.pageX-we.x,Fe=re.pageY-we.y,it=Math.sqrt(Oe*Oe+Fe*Fe);E.set(0,it),R.set(0,Math.pow(E.y/C.y,i.zoomSpeed)),B(R.y),C.copy(E)}function Re(re){i.enableZoom&&Le(re),i.enablePan&&xe(re)}function Ee(re){i.enableZoom&&Le(re),i.enableRotate&&fe(re)}function Ge(re){if(i.enabled!==!1){if(b.length===0){var we,Oe;(we=i.domElement)===null||we===void 0||we.ownerDocument.addEventListener("pointermove",Ue),(Oe=i.domElement)===null||Oe===void 0||Oe.ownerDocument.addEventListener("pointerup",je)}Be(re),re.pointerType==="touch"?de(re):ge(re)}}function Ue(re){i.enabled!==!1&&(re.pointerType==="touch"?ce(re):V(re))}function je(re){if(Ie(re),b.length===0){var we,Oe,Fe;(we=i.domElement)===null||we===void 0||we.releasePointerCapture(re.pointerId),(Oe=i.domElement)===null||Oe===void 0||Oe.ownerDocument.removeEventListener("pointermove",Ue),(Fe=i.domElement)===null||Fe===void 0||Fe.ownerDocument.removeEventListener("pointerup",je)}i.dispatchEvent(a),h=l.NONE}function ot(re){Ie(re)}function ge(re){let we;switch(re.button){case 0:we=i.mouseButtons.LEFT;break;case 1:we=i.mouseButtons.MIDDLE;break;case 2:we=i.mouseButtons.RIGHT;break;default:we=-1}switch(we){case Ra.DOLLY:if(i.enableZoom===!1)return;H(re),h=l.DOLLY;break;case Ra.ROTATE:if(re.ctrlKey||re.metaKey||re.shiftKey){if(i.enablePan===!1)return;j(re),h=l.PAN}else{if(i.enableRotate===!1)return;U(re),h=l.ROTATE}break;case Ra.PAN:if(re.ctrlKey||re.metaKey||re.shiftKey){if(i.enableRotate===!1)return;U(re),h=l.ROTATE}else{if(i.enablePan===!1)return;j(re),h=l.PAN}break;default:h=l.NONE}h!==l.NONE&&i.dispatchEvent(s)}function V(re){if(i.enabled!==!1)switch(h){case l.ROTATE:if(i.enableRotate===!1)return;Y(re);break;case l.DOLLY:if(i.enableZoom===!1)return;K(re);break;case l.PAN:if(i.enablePan===!1)return;X(re);break}}function G(re){i.enabled===!1||i.enableZoom===!1||h!==l.NONE&&h!==l.ROTATE||(re.preventDefault(),i.dispatchEvent(s),$(re),i.dispatchEvent(a))}function ne(re){i.enabled===!1||i.enablePan===!1||q(re)}function de(re){switch(ue(re),b.length){case 1:switch(i.touches.ONE){case Pa.ROTATE:if(i.enableRotate===!1)return;pe(),h=l.TOUCH_ROTATE;break;case Pa.PAN:if(i.enablePan===!1)return;he(),h=l.TOUCH_PAN;break;default:h=l.NONE}break;case 2:switch(i.touches.TWO){case Pa.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;me(),h=l.TOUCH_DOLLY_PAN;break;case Pa.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;De(),h=l.TOUCH_DOLLY_ROTATE;break;default:h=l.NONE}break;default:h=l.NONE}h!==l.NONE&&i.dispatchEvent(s)}function ce(re){switch(ue(re),h){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;fe(re),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;xe(re),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Re(re),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ee(re),i.update();break;default:h=l.NONE}}function Me(re){i.enabled!==!1&&re.preventDefault()}function Be(re){b.push(re)}function Ie(re){delete _[re.pointerId];for(let we=0;we<b.length;we++)if(b[we].pointerId==re.pointerId){b.splice(we,1);return}}function ue(re){let we=_[re.pointerId];we===void 0&&(we=new ke,_[re.pointerId]=we),we.set(re.pageX,re.pageY)}function Ke(re){const we=re.pointerId===b[0].pointerId?b[1]:b[0];return _[we.pointerId]}t!==void 0&&this.connect(t),this.update()}}const cH=ie.exports.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:a,onEnd:l,...h},f)=>{const c=_o(C=>C.invalidate),o=_o(C=>C.camera),u=_o(C=>C.gl),d=_o(C=>C.events),p=_o(C=>C.setEvents),m=_o(C=>C.set),v=_o(C=>C.get),x=_o(C=>C.performance),w=e||o,A=i||d.connected||u.domElement,M=ie.exports.useMemo(()=>new lH(w),[w]);return Y4(()=>{M.enabled&&M.update()},-1),ie.exports.useEffect(()=>(M.connect(A),()=>void M.dispose()),[A,t,M,c]),ie.exports.useEffect(()=>{const C=b=>{c(),t&&x.regress(),s&&s(b)},E=b=>{a&&a(b)},R=b=>{l&&l(b)};return M.addEventListener("change",C),M.addEventListener("start",E),M.addEventListener("end",R),()=>{M.removeEventListener("start",E),M.removeEventListener("end",R),M.removeEventListener("change",C)}},[s,a,l,M,c,p]),ie.exports.useEffect(()=>{if(n){const C=v().controls;return m({controls:M}),()=>m({controls:C})}},[n,M]),ie.exports.createElement("primitive",_f({ref:f,object:M,enableDamping:r},h))}),uH=n=>{const e=ie.exports.useRef(),t=ie.exports.useRef();let{vertexShader:i,fragmentShader:r,uniforms:s,width:a,height:l,playing:h=!0,meta:f={},onFrameEnter:c=()=>{}}=n,o={u_time:{value:0},u_mouse:{value:[0,0]},u_resolution:{value:[a,l]}};const u=ie.exports.useMemo(()=>({...o,...s,u_resolution:{value:[a,l]}}),[]);let d=async()=>{if(e.current){e.current.material.uniforms.u_resolution={value:[a,l]};for(var A in s)e.current.material.uniforms[A]=s[A]}};Y4(A=>{const{clock:M,mouse:C,gl:E,scene:R,camera:b}=A;e.current&&(e.current.material.uniforms.u_mouse.value=[C.x,C.y],h&&(e.current.material.uniforms.u_time.value=M.getElapsedTime()));let _=f["camera-position"];f.orbitcontrols!==!0&&(_=Array.isArray(_)?_:[0,0,5],b.position.set(_[0],_[1],_[2]))}),ie.exports.useEffect(()=>{d(),e.current&&(e.current.material.fragmentShader=v(r),e.current.material.needsUpdate=!0)},[r,s,a,l]);let p=A=>/#version 300 es|#version 330 core/.test(A),m=(A="")=>p(A)?$m:CE,v=A=>A.replace(/#version 300 es|#version 330 core|#version 100/,""),x,w=Array.isArray(f["geometry-args"])?f["geometry-args"]:[1,1];switch(f.geometry){case"icosahedron":x=Q.createElement("icosahedronGeometry",{args:w});break;case"tetrahedron":x=Q.createElement("tetrahedronGeometry",{args:w});break;case"polyhedron":x=Q.createElement("polyhedronGeometry",{args:w});break;case"dodecahedron":x=Q.createElement("dodecahedronGeometry",{args:w});break;case"torus":x=Q.createElement("torusGeometry",{args:w});break;case"torusKnot":x=Q.createElement("torusKnotGeometry",{args:w});break;case"cylinder":x=Q.createElement("cylinderGeometry",{args:w});break;case"sphere":x=Q.createElement("sphereGeometry",{args:w});break;case"box":x=Q.createElement("boxGeometry",{args:w});break;case"plane":x=Q.createElement("planeGeometry",{args:w});break;case"ring":x=Q.createElement("ringGeometry",{args:w});break;case"capsule":x=Q.createElement("capsuleGeometry",{args:w});break;default:x=Q.createElement("planeGeometry",{args:[a,l]});break}return Q.createElement("mesh",{ref:e,position:f["mesh-position"]||[0,0,0],scale:f["mesh-scale"]||1,rotation:f["mesh-rotation"]||[0,0,0]},x,Q.createElement("shaderMaterial",{fragmentShader:v(r),vertexShader:i,ref:t,uniforms:u,wireframe:f["shader-wireframe"]||!1,wireframeLinewidth:f["shader-wireframe-linewidth"]||0,dithering:!1,flatShading:!0,doubleSided:!0,side:Rf,glslVersion:m(r)}))};function hH(n){let{width:e=128,height:t=128,viewerWidth:i=220,viewerHeight:r=220,opacity:s=1,showActions:a=!0,animated:l=!1,play:h=!0,onFrameEnter:f=()=>{},name:c="texture",options:o={u_scale:.5,blue:.5,alpha:.75},type:u="custom"}=n,[d,p]=ie.exports.useState(""),[m,v]=ie.exports.useState(""),[x,w]=ie.exports.useState({}),[A,M]=ie.exports.useState(h),[C,E]=ie.exports.useState({}),R=ie.exports.useRef(),b=ie.exports.useRef();function _(){return{width:e,height:t,viewerWidth:i,viewerHeight:r}}async function S(){let P="";u==="custom"?P=Px.getShader(u,o.shader):P=Px.getShader(u,o),p(P);let I=o.vertex||`
void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`;E(IT(I)),I.search('#include "lygia')>-1&&(I=_g(I)),v(I);let z;u==="custom"?z=await OT(P,o):z=await DT(o,e);let O=await NT(z);w(O)}let T=Q.createElement(iH,{displayName:"Canvas",gl:{preserveDrawingBuffer:!0,premultipliedAlpha:!1,alpha:!0,transparent:!0,antialias:C.antialias||!0,precision:"highp",powerPreference:"high-performance"},ref:R,dpr:[1,1],camera:{fov:C["camera-fov"]||75,near:C["camera-near"]||.1,far:C["camera-far"]||1e3,position:C["camera-position"]||[0,0,5]},style:{height:_().height,width:_().width,opacity:s,"--transform":`scale(${_().viewerWidth/_().width})`}},Q.createElement(cH,{enabled:C.orbitcontrols,ref:b}),d&&Q.createElement(uH,{displayName:"TextureMesh",width:_().width,height:_().height,playing:A,meta:C,onFrameEnter:f,vertexShader:m,fragmentShader:d,uniforms:x}));return ie.exports.useEffect(()=>{S()},[]),ie.exports.useEffect(()=>{S()},[o]),Q.createElement("div",{className:"texture-viewer",style:{width:_().viewerWidth,height:_().viewerHeight}},T,a&&l&&Q.createElement("div",{className:"texture-viewer-actions"},!A&&Q.createElement("button",{className:"icon tip-right button button--secondary",title:"Play (u_time)",onClick:()=>M(!0)},Q.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 2.0979L4.765 2.57603L12.765 7.57602L13.4434 8.00002L12.765 8.42402L4.765 13.424L4 13.9021V13V3.00002V2.0979ZM5 3.90215V12.0979L11.5566 8.00002L5 3.90215Z",fill:"currentColor"}))),A&&Q.createElement("button",{className:"icon tip-right button button--secondary",title:"Pause (u_time)",onClick:()=>M(!1)},Q.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("rect",{x:"3.5",y:"3.5",width:"9",height:"9",stroke:"currentColor","stroke-linecap":"square"})))))}function Af(n){let{className:e="",choices:t=[],name:i,style:r={},sizing:s="auto"}=n,[a,l]=ie.exports.useState({}),h=ie.exports.useRef(),f=(o,u)=>{let d=o.currentTarget;c(d),u.props&&u.props.onClick&&u.props.onClick(o)},c=o=>{let u=o.getBoundingClientRect();l({width:u.width,transform:`translateX(${o.offsetLeft}px)`})};return ie.exports.useLayoutEffect(()=>{if(h.current){let o=t.indexOf(t.find(d=>d.selected)),u=h.current.querySelector(`label[for="${i}-${o}"]`);c(u)}},[t]),Q.createElement("div",{className:`segmented-control ${e} segmented-control--${s}`,style:r,ref:h},t.map((o,u)=>Q.createElement(Q.Fragment,null,Q.createElement("input",{id:`${i}-${u}`,type:"radio",name:i,defaultChecked:o.selected,checked:o.selected}),Q.createElement("label",{for:`${i}-${u}`,...o.props,onClick:d=>f(d,o)},o.label))),Q.createElement("div",{className:"segmented-control-focus",style:a}))}var Z4="data:image/png;base64,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";function fH(n){return[Q.createElement(qf,{modal:!1,trigger:Q.createElement("div",null,Q.createElement("span",null,"About this plugin")),className:"about",clickOutsideToClose:!0},Q.createElement("main",null,Q.createElement("h3",null,"About this plugin"),Q.createElement(yx,{user:{avatar_url:Z4,name:"Rogie King"},attributes:{style:{width:48,height:48,margin:"0 0.5rem 0.5rem 0",background:"#fff"}}}),Q.createElement("p",null,"This plugin was developed and designed by me, ",Q.createElement("a",{href:"https://twitter.com/intent/follow?screen_name=rogie",target:"_blank"},"Rogie"),". It was coded using React, Three.js, React Three Fiber and WebGL, using GLSL shaders and Noise and randomization functions created by ",Q.createElement("a",{href:"https://twitter.com/patriciogv",target:"_blank"},"Patricio Gonzalez Vivo"),"."),Q.createElement("h3",null,"Support me"),Q.createElement("p",null,Q.createElement("a",{className:"button button--small",style:{marginBottom:"0.5rem"},target:"_blank",href:"https://www.buymeacoffee.com/rogie"},"Buy me a cocktail"),Q.createElement("a",{href:"https://twitter.com/intent/follow?screen_name=rogie",target:"_blank",className:"button button--small"},"Follow me on x.com"))))]}function dH(n){let{value:e,onChange:t=()=>{}}=n;const[i,r]=ie.exports.useState(e),s=[512,1024,2048],a=async o=>{await An.setClientStorage("preferences",o),r(o),t(o)},l=o=>{i.resolution=o,a({...i})},h=o=>{i.blend=!i.blend,a({...i})},f=o=>{i.opacity=!i.opacity,a({...i})},c=o=>{i.strokes=!i.strokes,a({...i})};return ie.exports.useEffect(()=>{r({...e})},[e]),[Q.createElement(qf,{modal:!1,trigger:Q.createElement("div",null,"Preferences"),className:"preferenes",title:"Preferences",clickOutsideToClose:!0},Q.createElement("main",null,Q.createElement("div",{className:"field field--horizontal"},Q.createElement("label",null,"Resolution"),Q.createElement(Sm,{buttonClass:"button button--small button--secondary",direction:"up",align:"right",onChoose:o=>l(o.value),label:`${i.resolution}\xD7${i.resolution}`,choices:s.map(o=>({value:o,checked:i.resolution===o,label:o<2048?`${o}\xD7${o}`:`${o}\xD7${o} (laggy)`}))})),Q.createElement(vm,{label:"Show blend",name:"show_blend",checked:i.blend,onChange:h}),Q.createElement(vm,{label:"Show opacity",name:"show_opacity",checked:i.opacity,onChange:f}),Q.createElement(vm,{label:"Add to strokes",name:"apply_strokes",checked:i.strokes,onChange:c})))]}function pH(n){let{checked:e,disabled:t,name:i}=n;const r=n.label||n.name.replace(/u_/,"").replace(/_/," "),s=a=>{a.target.valueAsNumber,n.onChange(a)};return Q.createElement("div",{className:`field field--horizontal ${t?"disabled":""}`},Q.createElement("label",null,r),Q.createElement("input",{type:"checkbox",name:i,checked:e,onChange:s}))}function mH(n){let{canvasContainer:e,texture:t}=n;ie.exports.useState(!0);const[i,r]=ie.exports.useState(5),[s,a]=ie.exports.useState(!1),[l,h]=ie.exports.useState(!1);async function f(c){if(c.preventDefault(),e){a(!0);let o=e?.querySelector("canvas"),u=await fU(o,i*1e3);l?An.run(async d=>{let p=!1,m,v;try{m=await figma.createVideoAsync(d.webm),v={videoHash:m.hash,type:"VIDEO",scaleMode:"FILL"}}catch(x){p=!0,figma.notify(x.toString(),{error:!0})}if(!p){let x=figma.createRectangle();x.resize(2048,2048),x.x=Math.round(figma.viewport.center.x-x.width/2),x.y=Math.round(figma.viewport.center.y-x.height/2),x.fills=[v],figma.currentPage.appendChild(x),figma.currentPage.selection=[x],figma.viewport.scrollAndZoomIntoView(figma.currentPage.selection)}return p},d=>{a(!1),d||close()},{webm:new Uint8Array(await u.arrayBuffer())}):(a(!1),pU(u,t.label))}}return Q.createElement("form",{className:"export-video",onSubmit:f},Q.createElement("main",null,Q.createElement(Tr,{name:"duration",min:1,step:1,max:10,showLabels:!0,units:"s",value:i,onInput:c=>r(c.target.valueAsNumber)}),Q.createElement(pH,{name:"canvas",label:"Add to canvas",checked:l,onChange:c=>h(c.target.checked)})),Q.createElement("footer",null,s&&Q.createElement(sv,null),Q.createElement("button",{type:"submit",className:"button button--small",disabled:s,onClick:f},s?"Exporting...":"Export")))}function gH(n){let{texture:e}=n,[t,i]=ie.exports.useState(""),[r,s]=ie.exports.useState(""),[a,l]=ie.exports.useState(""),[h,f]=ie.exports.useState({width:512,height:512,widthUnits:"px",heightUnits:"px"});const c=ie.exports.useRef(null),o=ie.exports.useRef(null),u=ie.exports.useRef(null),d=async()=>{let w=h,A={width:512,height:512},M,C=H=>/#version 300 es|#version 330 core/.test(H),E=H=>H.replace(/#version 300 es|#version 330 core|#version 100/,"");e.noise.value==="custom"?M=await OT(e.noise.options.shader,e.noise.options):M=await DT({...e.noise.options,color:e.color},A.width);let R={...await NT(M),u_time:{value:0},u_mouse:{value:[0,0]},u_resolution:{value:[A.height*window.devicePixelRatio,A.width*window.devicePixelRatio]}},b=e.noise.options.vertex||`
            void main() {
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }`;b&&b.search('#include "lygia')>-1&&(b=_g(b));let _="";e.noise.value==="custom"?_=e.noise.options.shader:_=Px.getShader(e.noise.value,e.noise.options),_&&_.search('#include "lygia')>-1&&(_=_g(_)),_=E(_);let S=IT(b),T=Array.isArray(S["geometry-args"])?S["geometry-args"]:[A.width*window.devicePixelRatio,A.height*window.devicePixelRatio],P=S.geometry||"plane";function I(H){let j="";if(Array.isArray(H))j+="["+H.map(K=>typeof K=="object"?K?.constructor===Gt?`new THREE.Vector4(${K.x},${K.y},${K.z},${K.w})`:K?.constructor===ee?`new THREE.Vector3(${K.x},${K.y},${K.z})`:I(K):K)+"]";else{for(var Y in H){let K=H[Y];typeof K=="object"?j+=(j.trim()===""?"":",")+`${Y}: ${I(K)}`:j+=(j.trim()===""?"":",")+`${Y}: ${JSON.stringify(K)}`}j=`{${j}}`}return j}let z=I(R);function O(H){return`<script type="importmap">
{
    "imports": {
        "react": "https://cdn.skypack.dev/react@18.0.2",
        "react-dom": "https://cdn.skypack.dev/react-dom@18.0.2",
        "three": "https://cdn.skypack.dev/three@0.148.0",
        "react-three/fiber": "https://cdn.skypack.dev/@react-three/fiber@7.0.24"
    }
}
<\/script>
<style>
    html, body{
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }
    .nt-embed{
        width: ${H.width}${H.widthUnits};
        height: ${H.height}${H.heightUnits};
    }
    .nt-embed canvas{
        width: 100%;
        height: 100%;
    }
</style>
<script type="module">
    import React, {useRef} from 'react';
    import ReactDOM from 'react-dom';
    import * as THREE from 'three';
    import {Canvas, useFrame} from 'react-three/fiber';

    let embedRoot = document.createElement('div')
    embedRoot.className = "nt-embed"
    document.body.appendChild(embedRoot)

    const TextureMesh = () => {
        const mesh = useRef(null)
        useFrame(state => {
            const { clock, mouse, gl, scene, camera } = state
            if(mesh.current){
                mesh.current.material.uniforms.u_mouse.value = [mouse.x, mouse.y]
                mesh.current.material.uniforms.u_time.value = clock.getElapsedTime()
            }
        })
        
        return React.createElement('mesh',
            {
                ref:mesh,
                position: ${JSON.stringify(S["mesh-position"]||[0,0,0])},
                scale: ${S["mesh-scale"]||1},
                rotation: ${JSON.stringify(S["mesh-rotation"]||[0,0,0])}
            },
            React.createElement('${P}Geometry',{args:${JSON.stringify(T)}}), 
            React.createElement('shaderMaterial',{
                fragmentShader: \`${_}\`,
                vertexShader: \`${b}\`,
                uniforms: ${z},
                wireframe: ${S["shader-wireframe"]||"false"}, 
                wireframeLinewidth: ${S["shader-wireframe-linewidth"]||0},
                dithering: false,
                flatShading: true,
                doubleSided: true,
                glslVersion: "${C(_)?"300 es":"100"}"
            })
        );  
    }

    ReactDOM.render(React.createElement(Canvas,{
            gl: {
                preserveDrawingBuffer: true,
                premultipliedAlpha: false,
                alpha: true,
                transparent: true,
                antialias: ${S.antialias||"true"},
                precision: "highp",
                powerPreference: "high-performance"
            },
            dpr: [${window.devicePixelRatio},${window.devicePixelRatio}],
            camera: {
                fov: ${S["camera-fov"]||75},
                near: ${S["camera-near"]||.1},
                far: ${S["camera-far"]||1e3},
                position: ${JSON.stringify(S["camera-position"]||[0,0,5])}
            },
            style:{ height: "${H.height}${H.heightUnits}", width: "${H.width}${H.widthUnits}" }
        },
        React.createElement(TextureMesh)                           
    ), embedRoot);
<\/script>`}function D(H){let j=`<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        html, body{
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        .nt-embed{
            width: ${H.width}${H.widthUnits};
            height: ${H.height}${H.heightUnits};
        }
        .nt-embed div,
        .nt-embed div canvas{
            width: 100% !important;
            height: 100% !important;
        }
    </style>
    ${O({width:100,height:100,widthUnits:"%",heightUnits:"%"})}
</head>
<body>
<!-- ASSET NOT INLINED: assets/add.a55240dd.svg -->

<!-- ASSET NOT INLINED: assets/book.5fb11b8d.svg -->

<!-- ASSET NOT INLINED: assets/lygia.f7490594.svg -->

<!-- ASSET NOT INLINED: assets/overflow.8d50415d.svg -->

<!-- ASSET NOT INLINED: assets/close.64b80d00.svg -->

<!-- ASSET NOT INLINED: assets/sig.850a85e7.svg -->

<!-- ASSET NOT INLINED: assets/trash.524dbcd3.svg -->
</body>
</html>`;return`<iframe src="data:text/html;base64,${btoa(j)}" style="border:0;margin:0;width: ${H.width}${H.widthUnits};height:${H.height}${H.heightUnits};" />`}let B=D(w),F=O(w),U=JSON.stringify({uniforms:M,fragmentShader:_,vertexShader:b},null,2);return i(B),s(F),l(U),{react:F,iframe:B,json:U}};async function p(){let w=c.current,A=await d();w.value=A.react,x(w,"Copied React to clipboard")}async function m(){let w=u.current,A=await d();w.value=A.iframe,x(w,"Copied iFrame HTML to clipboard")}async function v(){let w=o.current,A=await d();w.value=A.json,x(w,"Copied JSON to clipboard")}async function x(w,A){w.focus(),w.select(),document.execCommand("copy"),An.notify(A,{timeout:1e3})}return ie.exports.useEffect(()=>{d()},[]),[Q.createElement("div",{className:"embed-code"},Q.createElement("div",{className:"field field--horizontal"},Q.createElement("label",null,"Width"),Q.createElement("div",{className:"input-combo input--small"},Q.createElement("input",{type:"number",placeholder:"Width",className:"input--small",defaultValue:h.width,required:!0,value:h.width,onInput:w=>f({...h,width:w.target.valueAsNumber})}),Q.createElement(Af,{name:"width-dimensions",className:"segmented-control--small",choices:[{label:"PX",selected:h.widthUnits==="px",props:{onClick:()=>{f({...h,widthUnits:"px"})}}},{label:"%",selected:h.widthUnits==="%",props:{onClick:()=>{f({...h,widthUnits:"%"})}}}]}))),Q.createElement("div",{className:"field field--horizontal"},Q.createElement("label",null,"Height"),Q.createElement("div",{className:"input-combo input--small"},Q.createElement("input",{type:"number",placeholder:"Width",className:"input--small",defaultValue:h.height,required:!0,value:h.height,onInput:w=>f({...h,height:w.target.valueAsNumber})}),Q.createElement(Af,{name:"height-dimensions",className:"segmented-control--small",choices:[{label:"PX",selected:h.heightUnits==="px",props:{onClick:()=>{f({...h,heightUnits:"px"})}}},{label:"%",selected:h.heightUnits==="%",props:{onClick:()=>{f({...h,heightUnits:"%"})}}}]}))),Q.createElement("div",{className:"field field--textarea"},Q.createElement("label",null,"iFrame embed",Q.createElement("button",{className:"button button--link",onClick:m},"Copy")),Q.createElement("textarea",{placeholder:"Embed code",rows:1,ref:u,style:{resize:"none"},autoFocus:!0,className:"code",onClick:m,defaultValue:t})),Q.createElement("div",{className:"field field--textarea"},Q.createElement("label",null,"React",Q.createElement("button",{className:"button button--link",onClick:p},"Copy")),Q.createElement("textarea",{placeholder:"Embed code",rows:1,ref:c,style:{resize:"none"},autoFocus:!0,className:"code",onClick:p,defaultValue:r})),Q.createElement("div",{className:"field field--textarea"},Q.createElement("label",null,"JSON",Q.createElement("button",{className:"button button--link",onClick:v},"Copy")),Q.createElement("textarea",{placeholder:"Embed code",rows:1,ref:o,style:{resize:"none"},autoFocus:!0,className:"code",onClick:v,defaultValue:a})))]}function vH(n){let{canvas:e,options:t}=n;async function i(){if(e.current){let h=e.current?.querySelector("canvas");dU(h,t.noise.label)}}const[r,s]=ie.exports.useState("embed"),[a,l]=ie.exports.useState("Export to...");return[Q.createElement(qf,{modal:!1,className:"export",clickOutsideToClose:!0,trigger:Q.createElement("button",{className:"button button--small button--secondary"},"Export")},Q.createElement(Af,{name:"export-type",sizing:"full",className:"segmented-control-export",choices:[{label:"Code",selected:r==="embed",props:{onClick:()=>{s("embed"),l("Embed code")}}},{label:"Video",selected:r==="video",props:{onClick:()=>{s("video"),l("Embed video")}}},{label:"Image",selected:r==="image",props:{onClick:()=>{s("image"),l("Export image")}}}]}),r==="image"&&Q.createElement("button",{className:"button button--small",onClick:i},"Download PNG"),r==="video"&&Q.createElement(mH,{canvasContainer:e.current,texture:t.noise}),r==="embed"&&Q.createElement(gH,{texture:t}))]}const yH=n=>ie.exports.createElement("svg",{width:52,height:28,viewBox:"0 0 52 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("path",{d:"M23.9999 16.5002C20.4999 19.0002 23.0776 21.4486 27.4999 18.5002C30.5 16.5002 27.4999 15.5 25 17.5",stroke:"currentColor"}),ie.exports.createElement("path",{d:"M18.5233 10.5957C4.39088 38.1965 -11.5715 10.0408 15.4101 2.19623C30.8064 -2.28009 33.9383 13.4721 16.2025 16.8222C0.296739 19.8266 7.3612 6.12402 15.4101 18.1241C18.3451 22.5 21 20.5 21 20.5",stroke:"currentColor"}),ie.exports.createElement("path",{d:"M37.0001 17.5005C40.5001 15.5006 40.5001 20.5005 44 19C47.9229 17.3182 46.8228 19.5004 51.5001 19.5004M30 18.4996C36 13 34.0976 23.4024 31 26.4999C28 29.4999 27.5 22.4999 35.5 17.9999",stroke:"currentColor"}));function xH(n){let{onFinish:e=()=>{}}=n;const[t,i]=ie.exports.useState("intro"),[r,s]=ie.exports.useState(),a=ie.exports.useRef(null),l=()=>{a.current&&a.current.close(),e()};return ie.exports.useEffect(()=>{(async()=>{let f=await An.getCurrentUser();var c=f.name.split(" ").slice(0,-1).join(" "),o=f.name.split(" ").slice(-1).join(" ");s({...f,firstName:c,lastName:o})})()},[]),[Q.createElement(qf,{modal:!0,open:!0,ref:a,className:"welcome",clickOutsideToClose:!1},Q.createElement("main",null,t==="intro"&&Q.createElement(Q.Fragment,null,r&&Q.createElement("h3",null,"Yo, ",r.firstName,"\u2026"),Q.createElement("p",null,"What initially started as a simple plugin has expanded into full web embeds, video export, awesome animated gradients, effects and more. If you dig this, buying me a drink is a rad way to keep me building! Enjoy!"),Q.createElement("p",null,Q.createElement("a",{className:"button button--small",target:"_blank",href:"https://www.buymeacoffee.com/rogie"},"Buy me a drink")),Q.createElement("footer",null,Q.createElement("a",{className:"signature",href:"https://twitter.com/intent/follow?screen_name=rogie",target:"_blank"},Q.createElement("img",{src:Z4,style:{width:40,height:40}}),Q.createElement(yH,{style:{marginTop:5}})),Q.createElement("button",{className:"button button--small button--secondary",onClick:l},"Cool")))))]}const wH=n=>ie.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 8.5V13H8.5V8.5H13V7.5H8.5V3H7.5V7.5H3L3 8.5H7.5Z",fill:"currentColor"})),SH=n=>ie.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.47458 13H8.50906C8.54577 12.958 8.58364 12.917 8.62263 12.8769C8.8283 12.6652 9.06505 12.4797 9.32729 12.3268C10.543 11.6176 12.6207 11.5792 13.7568 12.416H13.9801H14.9801V11.416V4.85031C14.9801 4.85031 14.3248 3 11.3453 3C9.94041 3 9.11442 3.41136 8.63375 3.84616C8.21762 4.22258 8.06029 4.61657 8.01023 4.77642H7.96986C7.9198 4.61657 7.76247 4.22258 7.34634 3.84616C6.86567 3.41136 6.03968 3 4.63482 3C1.65532 3 1 4.85031 1 4.85031V11.4078V12.4078H2H2.22326C3.36036 11.5702 5.4398 11.6102 6.65472 12.3219C6.91744 12.4758 7.15444 12.6623 7.36011 12.8751C7.39942 12.9158 7.4376 12.9574 7.47458 13ZM8.49004 5.0493V11.6784C8.59743 11.6018 8.70866 11.5299 8.82342 11.463C9.6193 10.9987 10.6288 10.7842 11.5797 10.7917C12.3836 10.7979 13.2513 10.9642 13.9801 11.3728V5.0863C13.917 4.98563 13.8058 4.83674 13.6268 4.68237C13.2821 4.38502 12.6087 4 11.3453 4C10.0809 4 9.50799 4.38376 9.25456 4.63514C9.11677 4.7718 9.04006 4.90227 8.99983 4.98762C8.97967 5.03038 8.96906 5.06103 8.96496 5.07391L8.96306 5.08018L8.96358 5.07819L8.96598 5.06824L8.96782 5.05994L8.96889 5.05492L8.96946 5.05218L8.96975 5.05076C8.96977 5.05063 8.9698 5.05051 8.9645 5.0493H8.49004ZM7.49004 5.0493H7.01559C7.01029 5.05051 7.01032 5.05063 7.01034 5.05076L7.01064 5.05218L7.0112 5.05492L7.01227 5.05994L7.01411 5.06824L7.01651 5.07819L7.01703 5.08018L7.01513 5.07391C7.01103 5.06103 7.00042 5.03038 6.98026 4.98762C6.94003 4.90227 6.86332 4.7718 6.72553 4.63514C6.4721 4.38376 5.89922 4 4.63482 4C3.37135 4 2.69798 4.38502 2.35326 4.68237C2.1743 4.83674 2.06308 4.98563 2 5.0863V11.3646C2.72951 10.9556 3.59819 10.7896 4.40276 10.7839C5.3543 10.7772 6.36444 10.9929 7.16017 11.4591C7.2737 11.5256 7.38376 11.5969 7.49004 11.6728V5.0493Z",fill:"currentColor"})),_H=n=>ie.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("rect",{x:11.5354,y:4.53564,width:5,height:5,transform:"rotate(45 11.5354 4.53564)",fill:"currentColor"}),ie.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5357 4.53575L8.00021 1.00021L4.46479 4.53564L4.46457 4.53543L0.929039 8.07096L0.929252 8.07117L0.929145 8.07128L4.46468 11.6068L4.46479 11.6067L8.00011 15.142L11.5356 11.6065L8.00032 8.07117L11.5357 4.53575Z",fill:"currentColor",fillOpacity:.5})),y3=n=>ie.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},ie.exports.createElement("circle",{cx:4,cy:8,r:1,fill:"currentColor"}),ie.exports.createElement("circle",{cx:8,cy:8,r:1,fill:"currentColor"}),ie.exports.createElement("circle",{cx:12,cy:8,r:1,fill:"currentColor"}));function bH(n,e="download.json"){let t=document.createElement("a"),i=JSON.stringify(n,null,4);t.setAttribute("href",`data:text/json;charset=utf-8,${encodeURIComponent(i)}`),t.setAttribute("download",e),t.click()}var AH="data:image/png;base64,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",CH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAOV0lEQVR4AWyE1YHDUADD/PiFOSvc/ksdtQ0zw29rSyJf9g/TtTJzbWWW/XTdZ+A+Iu+RuK/EzVInT6wyNBtf96YYFVsJ2fG+nWDmaCxULvIQWYwsRZagTFDFaEK0AQYXk4VFYWMAwadt9GJl+ywwy33U6PXem3tr7a291c5eu1vp7qW3nRR3KeUjFz0Tg5C9kIMUgxKj5NMFmwVd+MFnFejIisMwkgLv/792791AfIndiTriZpFVVdXStWMnzIhhYRvMtq8P+M9hWueRJ+43rrmxeJLvIjyvzTPTTWG8wMa97VfhIFLAP8k+NRzHz3n+/JkaUsDr3K9j3MMTcINt+K7ANmpcDkCuMXkPajAK2BK/Pa1Q7HWTxzaC7Osy2y/bXwVP9ir/eSbvZl8CjnHtKcDCLZScrw9aA9ECXAI+UVfhiwlE8xd7OSANyT6ptwOvzfez2BPS8DdBDVcJ8Hsne/udPcS+8yPjW8AlKEIE/o/64kDvpwPGmzpC04HjKgd+doaHtS8Bx6Hyv3a/hocntk0O4JvlEPu1/MKHA4uG3xzoxwSYg2s6kKAGOmDHy9KByZ7p/5v4k+kflZ+D5XfDr/lZvSf0dH60NownWwLPt8WXm3e51lKgqLcDkuEzPD1/2AAH23cfLL8tsSh8YR/WFPiHbw3Wtb9aw3pTv4QFwfNFYrcBNRC7HDg7P0r/u30Pv4ZFwsi8co533J8PmkJXdh0f0rDKmJ2gy0AsGpYeMDUx1xBssr9q9Rqdh6ZnYqaf7RtD5acDQOdaDBfqsTqwuvWZopZhApBo0r6FJRD2yOPifrdBjyM/lZ9lep7jYvvemp4mxnQgQCWJZxNP6ABCp6jZN+ChmjR7KHj+8GG1EyqIPgVshhSg8Jx74t8aPpmfLr/8hQVhCatb5HvuTaRr/eZArCOIIAXcSRaoK8W+ZCSoBw8ZlKZ5CvUANWBncjR/XpWfvYYPy4+EdUaZ2R5IK1ODfzrQbwgfraz/jLgB2gnE9jahYQnAn1daHcPoAPb6KtvO2c/eZfn54+dm+UPsFwe8DgJoyiwJIbfWioGItQG0R2LczGMEnKm0Zk9QTzuwXOkfPysw0tQ/Z83+d/s2+yJb4pt9eERpoBKBJ+EJJOALewFk3GDdiBgRrrUkiPQCTA2OqaGf9ZfFbZUisT9U/nHvfmt6KisBhgd+q+6hGxEKGEvnMVDrO3QdLp8mPNkDFaGwO8w3NkS4rewFmACuTxP4NVB4zjHLr+kpFkp7ldmoITY4Sn2tCFOJPaQB7rDWYDLBQQSEUYiUgULw7qxSKIkr+3X/MOHtAAXM8OyXyq9Ksvxg7d/lDyZchxoSBgoYxonlWrcEBTBIrUHUpwP7HQhsgfsOHwCwIYx0H3h+E9R4bcL+kX7mp9kr/bdazDfAVA7H/LoV15RcttE5JDwhBxL0qICpgWtEIO28YdpH1cE+W3m0HsA/NaA0tAm72Gt0vmc/luHjUWYrfpWaWXu2uFcl9F5hRAmw1QTnCwOJ/+q0Al3JVZ5nAz1n3/9175D8jbEy7e73z7UiNLo6a2OHMlCIvRogvARFC4gAk1AnmPqeiIIlmX1raAcup/88epP9ky8Zwo4Bmn3PvWtSoVtHw84xDjhIFQlFaYgjIJcYO0JahSxgJMy10WLUx6pW0SZw9dLpX15eRB7sBzMlAmYPVfq52BFaM1alCErR+QygkNbg/Ig9hSxEpr4pR814pE0YRgp4P2ZGOdA7nyF+z7U/BwKJlAVmD/+6bwGKkJbfTlGJxltDRQh5oz5vAfWRA0wt0G8TJuzD/9jeFaul8IQfvTzsnf6tQflr0u4goudAi1YJ0PTLgYLbwFHChDWsSH3AlwNOESkNNN1O0fSgNbwcWCN65/PoEEI9lcwI/n/nEcW+UAKeGuZp5XaA0rCzamY+F4hIsU/DWadTxPbBKfr3qbx8asIwS6+ep/UyHHqcTz6FJEt19cCkqCs/xsAcfKWIEynm0HwjnH9JioJTRFUx5v9+NjtCsACHh6aoCYgBin222sOeaZEWYAcKj1bGSZECRJVJxPnrRzsO55Sequ2ANaAw0lmykn93R1zT7P2t4glqgDR15LHr8WumajldyOkUxVUCyoG3htEmPJ8xirDZF7IkevpfaCtOi7+3vKvS7x5VMAFRM3v/U84VNBD6KMUOKEXbDjxTNL4mDCQwNTF8Jr8F9Cz5QWNAD39RxxDMTgLoU5qEwpNFrdkzE2H2Q1Vj9HPl4UAsHgFZ9WsCS8UIygG4o+LGi71hDQQ7KtYAC/DPnU7R8sYzRVvsw83Q7Ed4yegxU2MINiFXVWuYLxNADm8RJYAUlf6tTVN/azBvE33o8ZcW4JTDTRAaPH+FnVqIHtuQFHuIK6MwNP32QQJkwpQCBUmc6CZzSNmVLQZfYpbRSoyvAEhswMuLE2+MbepjV/XYGrw4O0U8pEPdnA8N6uIx/HhmkDQlV7PXwD6Qb/JWY7L2wQK8PqbZN3WRdtVgVrUA/8JETqhSGMcEo8YTpUEOlAQmSdVmLzFVmRo0SZz/zZmCqz/dxB50siXAvJt6zE9MjaeoW1jeCAsAygfzfmmY0iAT1NOiJZh3s0/VfuDShIyXGIu3Awa9BSqwWIp0URc+/mZGVccpxV4YhEyABGB1nQ7SJIaVgP0ZFlAY9BaAZs8RLSBrDH6tUF0yi+n1kTtveI4P4xKw77o0sBgJmBKg306QD1A339VYE9KA7uYCwfFkP0ArA+XjQJ//ZAyM4HnoAa4l4ghzhNKlw/1k/9miflfJ2A8ZlaKqjhAOe44WMLhUpYQyQRpUZcSAK0WdGoh91SgHkjWgtznZh+UW8Hq4f1eeZm8NheJdg61vTpBSPlhAQSxVh+qkZIh9+yD6/nCe5rAGWclp9jm3fBFzPn8WCyO43B1x2COLuiLkxK+9FaHCJTf0jesMOzBS0w8Oes2ZxlhTdWTJEMxc1DnmjRIwpSGAmRlJHfuILAj3wGvuT4esfmL0wyu9CnXvrsJ+4lKQVgvImIBNKF6sKpZahaaXJpFsYfosjil4ufUmQz/9zba7OQl/Hnd+azBhBUy8ngD2Yc8Oj3C1hpAGt3I+BIyHgDma9zwa6A3SoT4XxsKc8LEuMpK5cUMfc32u/b4y25ADTPKfNnilqKN/2LtuIWKFfMj0jhk+kigBVfKuIi037MCwurE4F6tOHgdW0UgQN0aeUxYWr356v286lo+VrYH53e00ey87Xwc+R8AlASXPAjALxf6AYl8jn9vN7uMpc6pYwMI6G6sEAhBbrYnFz+jpD/pw96NVSOwtLqzhESFr6N4VygQJ2MsCOkUWoBBpYfSSEze8Cpl9O3BhLcTEYhadDWoxLYqPtxeYj9PpvuMg43VolxZgHPZGafj28ec6JljADVgAjoBz3NsChuIkbl6Ipub+KsTCmkhq/gYITbB/yCfQ6w8ZYt8vTQz3gE3ohai3Eh7sg9WQAzYhbMLfApgcpPs1OfyNt9ZefEoD1sWcohiSGD4RUnL4vhkoiD1LgGwu8K/F9OHA3z6EqR8Tiv22gJQAUhvQlAaK7+YIjuJSJog9Chfixg/zQo4joIRsn6MwnncmURjB6VtKaRjnrJrWaak5vBalHRCW5ts+hDSUADuwMiQAo0imBFBct3wPUvr0ZbFnLaA5L8wfxJUlNnMGP1nZcPT5Wj37XsO3lP9hTUY5gE4R89kGUSYYe4Y1FGoQl2SUmAwfn78FFN+YkAOeJVpAcuWo6c8beaESlpzFSflxa77f3el7DU1/4XsuRPRtfKRl+E5CMtqHdqOtKMgBp2gQYQcw/HpEZAsoriwBMS7sn1w/yMsrz0psTb9jzdfOZ27hcwN2YDCm14sEv4IdIUHsbYKqG9fU/xUQeiadya5EIwJqLG9rJCB4cfzk+EH+AFcOYm3urQbgjTyE6Pxwdvu6g/W2gV+ooTQj7UI3cafIUHhU3zIsoOBbDVEdxKeyji1DFVTNZGKlBGD8In+zBCQ+9PQ/XzGx5Gb/gfHfDUVIKUoH6a/ddVSKWoN9aDFS0oOUBmDkEQDwo6ezph/hG2EMpp5AKPY3Mn+TCxWeG6PbV3i/dqTw+GWzq0w4p9MsdOT4TdHI40Ae9qtNcC3SqjW4JGCoj4nJc4cvUhD7EB2eo/a8ghf4g/mLUrLyszX9U/3f+XHi4Pcj/nXAV2MHffiUhczW0CglWUo839bwdKBYDx+dDVEPIMInukSOwFLuNf3xm/iTk/kB9mQ8HHjd5z3Xfr0pVBrsgF+OiG+KNAGFVw8so7vZMoyXABAbQt7IIhU1KodGLuZVAvgH80/yJydyae9pBmLvB7PYr/DSqbn3eG4JWCzIh+TzBcVkfrt5ppWMpwntiTAloDRk9hkoMqLY5/l7I2bERTmQ/I38uWuuQHzSi0kR4OsdIb8n8mV/lQAZMunb+XJPIP7eVpi6KLYJ+aYuLNzV13HMwEm/GmOfVGpLyrgqQtW7fzL/JFcq/WafPYXF3uvP2hRv9e5/fhTMoBwY+6BvWt8aRiGcpWyYtwHhRCglAHFSA9/kIYNRM7SwVz2A8VvI33Je6w8dodcvL028k3NT7/zIFkVor2n2k1EanKKEU4Q4GvK1hv6tIV0Rh70cCBR1J0j5GWa/f1MOBH4iavl/NYA+nZ9Cayic6d8cCTnQsAZ3wvvWrKd/CSXDjP29klN1lnA5ICT037mHjCkHjoA/USb8YO90dseLPbPZF65a+3H19IcUzhE24RmkkW1C32Xc8GlcYRpHg5A5VOk2COb3jUzxkbpY2kL/xv6N+NFDZSD/eSeCbgD2m9JX5cdx6tfoV025NRTmdJupGWAN8B20qHd+evoVMLMgYAoaqInNBxZ4RfzeyLviJ7kQGzGEZn/Dr5aduS9Yw2P6AfwfGZ9qO5NytjIAAAAASUVORK5CYII=",MH="data:image/png;base64,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",EH="data:image/png;base64,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",TH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAYjUlEQVR4AURRxaEVQRCs7tHv/+HuEMMLgNCIgkAIAztzw91XRrrpXaym7DJO1+7dlxa1JpTfnqQkLVmmrGVH54x5p087POc+MSb0j+jfUAUExH2AYSCBCNCADjXiP/0J5DuF0sh5QB44j0aNI6WJ44QwU6jsm1KHMmr68WA7PboGAkVwBmXwiTndeuFOv7XpNovixKHA6Co78VKy1ig12mSysp4exXpa75PtDlxyn1lnaAEdzuni5+gnFeZht745lsmrghXmggWKP2CPeBKYoigICy1F11gKsbKKk9aVhNTJuFtfnQBAChTAqbs0pBvvsDf07rh557xyEBImXYaIX45YIjW7Q7KCmvqcuGapdvREJfWSUJgK6MyrfPuZO/8O3KHEwtJC/3FQHt0cn1zqs1vPh9XXwggnoA06QiQS6Pdv4bcrqRgZ3otrjhXNy7dN/7GvgABhH+F28ScGAVPz5AN6s0EstNwdBhX1Ou+gBl1/wFyW4ya1vrosX+GFx7R97E+/g+vrNOY4h9tP+cQ7+KJ3T/xqyyuAI8mRrt/LlKrbbXtmcXaP8WO4n5mZmZmZmTHoZwj4mZmZmRmP+W4ZB+xxu6tKyvxKqfJ03MZNZGg00Or3kvRS3v7Pb/fgz3+/+eWnHrlfCN1FRh1QK2gAsvtuJeCoDjrNRau6WgUwD/WNZ/JtsQFyBn0CuqGVpCUhZZQiWlwqtWIxL07jMCYbt95qIDfojcbAqASsTLJw2n7o/8j5JWqCE2Lp6ZdOv8/fkPP7ThPCncOH/svtn/DHL//uD7j7x35aeeVZIZoVwFALZIiNQzwTZARIQILuUmuCVDfxw66+/pQ75BSyASrmKSXNdc4iBVpMC5e1qjogVfKI3WXCeIKSm0Ui1ebytso8eMleyLe9glQxD24KKXzszdPv/TeWTxpcCAMcLmLYXZ3/mL999oP+2cVf+TEXf/bH1zcfswondIYvVkHv2ZWInTLSzEEXlORiXpJd3a5vnvoE5PiIAio+D5qKa2GZkdVNhHCpkgrzTK1RxFVYs9RUg4nPjUnbV6WDp3tOW6uFWqll913+oeeJLjQFLCAAKw2vu/3tn/oXT7/nv7n/Z3/C5d/8wV61WpSMQR3mAKBIFScKeESAmkn3eah3n7B7wgkCQACFKDwlK5k5eVWYkM7IIpFwCTzpM8/b/gzXp359ipocQAPXDABvXdGSH06YWgSH93wq3X6zERMPHxJ0rLVLA4ROrfldLz716//g7Z/wt+/90Z929U++hxk4whwCkDBCmCvQOBglFYB2OPE3T+wyPGHBs6GHVPGqHYyLUSqamXP9+iTD6CZwejQ1mLgpTeECMWhdiNWamCamkt/1mVqySHVQlB4HNXMn0evBADQaJb37uTu/7Xdffof/+eYf+ln+xhMYURzphgOZnfAqlgpM6tWuvkGfwhOE63qrWIV6uFKcNIiBzkg/Bd2Z3NmAgPHHFh2XYlJJc0ir7OgPzBOHUe681ApDjC7VhGLNuJgb4XAS1aEAANJN6ul3/w/De1565Vf9ZnvtSZmBA0zAKOGKDGtlaUVwkerFmotWILWtDTDgbI53dkgA2MzFTMQ1oaqZwAV9dfFIBDPxkmCsc25llCe5dU+1trsZMFUm9TWaxnAM6CVKwoEeVQBG17e/fOe3/uFXfvWvr/utHyACJJhCBfDkhM+oD2D1Bp3D65pvFITXTYhAv94eEkVoRdpJrK1EvLa9V0HsvSSfiQqYuA5ImbR2x+lsgKTiFo2ZRq0WHCpNIhQKuK9fg0gqfcfLt37UP7//538IHD4BI5BQCRYQ8An28HgJinfckUg9c0gH6II406taaR6kpQYUAZemKMlqYmtHie0/ARO8RgtPzHKwcSdiblLzhFKQCqVa9AQXg5jRQK9OgDCpcRpcxXn6Xf7n/t9+u+m5O1IgMzgCHoE38AA7AB09YIQqoFEMhHf4Lm4iJlYVtlg7mSUlr9lK0Gh9s5k39GlFP0ZLNrgAk+N6V2k0QSvrGbVAC6JsXOuXFhlhiqr9fFQFuPuOH5mf+x50YAakfZoEKuoBMBxlhjYDwQgA4iivyjgQzSnqzZq7k8+5Oal9TV5ptI023AWYYSNYYA4f6denTleLfEuT51KlMBVZaVSuDS4IuKA0AlKyN9fo8L5XuSk+JhZUiyRxsAIGB44EuG4QxcAauAO0BXqtkTUR3sQGvV26LCk4ZG+haeg5w2ZgWhPJZvrhlEStKkOypk9mTzPrjNRC4T2RHhEwQaSld4lesoHb9z+4/viTNULVf1msR/SAezMa3AADTd2ku7+tAR2BHj0Ci9mcUZoQQln2iTMwo3b0QcMBnpZ6fUqjBFXm0crEPFueUIvrDKmiRroD5qQR1s5HaMTFWIb0dJFPHIX3UXsfaQT02qG3taP3uKDEGgerKjeNp7nHG+7BYm0ZNcODQEQg9vEr3T7Y9U6reA0Cw4B51GFspZ8npgQtEKuMEnb6GoFcx3WuaKFAckZC4kjg6PtHf4wg4Nj2SSejjhHmJlIbq1THE0xN9yPUW8vaAis30EucBaSvfhW7GYeTWpUlN6k3DxxyS0pLzdNlZiqld1IA1r8vWUlN1R5OfFxsa1PiEfoRPd7ylwLpjUjhq3yIrGIwcqFLW03TUpcsuU6byNSMG9xSUGawwnPdfO0rJ9/iOdSE6SS094yywXxgSRIEvCpz8pg2DB6YWEN+oTSh3qr/cIqFQ0xnBvgR8dH92vcZ3MQwuXM5G3l6ye0Vt9eSJ08ztISWgXcCeHi7thrPPidOYla428vtPdNhOLmW29fy1EMmR7ROq5lwY8U0y7D2R5p4FSlzT6EIfpcW6rWlUETg1K939XrHmD/9y6W+AA5IBs8gtyGPFd5+oMv1f/bATy9k91C318gTgHrY8vrcAZgkNwzv/bg++Rpv3V24ap4tqtkX6+URe/OBJVqvkYTPpfWumtCvfJNSZtFCNXcAjBrQ9Zactt7U7tlCwyapOI7OsqJfCXCAPg550uXxfX78jQUSzu/L+QPdXS4EYqi/5jANabZpmL741X55Oz3+i36LVWWLQO5YRXqNMW4+rdXJKMqqUSTJXVwMZUxO0A3tz9FSQ1PEZ60KLTUOc14I4Pqs7hcCO6/Ct6ZNoCd4An0K+mTRJ+5LoNfz+zy9aCl08pAne273sjlgGCVN1Lq78/Lhv3/3xDwTgCnETUzEaxR8l5a2NmbSWkWiRMOtCXTWZAClNsJO5oRSe52ZSb+GrWqr9Wlr12dRBjt3EugGQMJUoI8t6F2eOOjjb/Kxu3J+V88ueHax+N5PrmRBv1nQX2MzSp4sTZoK6Pm9n0xmCKjrgGchkM0lEEukvliVkEYJzQYviWDQrUizayWAqqLmNHR9XpWrIhza0BcE6rgVaXDdbtAT3LbHCzxh+vilPnaXLenvL9AX36fdFU+uuL3C5prbg+fWtT1NmmdKgTjylBCBtptmAkvNSloF6Xpj51a+0f6ltCnbneI0rZonzLPBNYlXI70RM2F8sL84+bjtRcxpaAROgSuQYIaeg7ehtwtuP1jkOpeMP7uQKFlu99jsfTgsoDlMTDctSCtZIQawPPfBhBrWXLWsvRLyjSLK7PdoL+VYa4gCOKsLtTA+C6kGQIyOtfnUfge3BzI7BIFWwRo3OtIACOSk7eV8bqly/oC7Sz25WkAjXuy8zYDzYiaVzW6UIkNnOeuDJ6dPfbMUsFaUXIFuLK42b7a1aSvzul8Mi5Xc65tp6sJbqpIOFwAI9HXOiE+h5c9uqQEuNEZYBQW+gQzgFjgx2V635M6j5NXBWCwQS/iD7OfCnNolFhQ27P/BT7Gr84QGcRVCtkBvr3HbxWp7FQ2447I/scMJ4yptmOZkDq+S8tgSzMWdXFUoxdVNUZtTMDXf21K++5N6RRxCFz5qnwKRVfhJFCEAB2k0k4RIRZd2mklzk6iV/qI4PPxnP648/xWQkur1SZdAKO1pkeHpGtD7/d9u3+u28cPOpsFH8RlwsGodtloyqyI4gN1PcJPec23c2n7H/Yk9pF0B17CC/nBbBdq0lqAJk4SaI5P7NJJhyeYsOrNklwoOBijoVe2wu/wHP7k8/5Wq5fCpbeL+rNbU8qfRGCJJWhBsbARs9f0uyAx2IEZ4ASrqhJw3Pm6wy7QRLkR1gKsUFStJ5g0WDle0C/gV7AAa4h6EGIz95WfjeTm89KTXNJuWpBU0E3NAsXpkAWmv37n4mz/Vrp5y+P7zwCX17Gt/LimhFk9wY/Ww8zAsNu6WHLDDgGvigGYjLGhQBBtwMzIViAFO0Iy03DJtIb8/rw839RL2ANjDDe7NEC5g0KUImSBONnsURiHZpyLTWpNMm6t/+V0f/I0fjatzHzF+gbhmVMOn/hyyy85s3DasC4EF+uryHVoEdnbIzfGHZutmBKZw5yYzV6Yi0tLTnV1CY24eqftTe6i4QL06Sui+sjbz/odo6SQBBn6KS4ced/lQPvfu+3/2B47/8+tR1ArmN+Az+v/WofzO8ZPPehn0lmPaBvqWOQG9GabsMRw3i41NQAELohjoeZBkpr1pSDwRZB83LYBL+V7RHsLG4/B1lNMW52DlQAwC9cAdllpfuTh/+K+/2eU/+TZ+cQq7CV18SvpNMuC3uaO8cktPiay9V0YNnKA9UydMx/kGc1AvWBWlRUxMKVsRgA4TWNzW4Qu73tY9fQ/MK0x+ueGL7IJF3LNbYkwRnDbLE8bFP/26+cUnjj95iN90AwxdbweB7ph6tcl3Cmru15mvdxksSHtf+w1oKwF0BHvYQckTSnYn6/rTBhtb3aPn2/zWAVJuNmvaC7gOKwMs+7yZnn/88n8/aUU6Z7lZmdZpgbtm6dGR9TLBdHURw+AUShQSI6qiqALwqCUNwecu/KDp8Fh6cltPrkXMIweE8akNrMfQjvrZYn2U9TBYBWeowDA48/UXiOB2VK/dGDxyxGGD5MBKcWNIczjJZJ1KCSTvUs9unglqmIE3zNfxao/yArxs02ND3c49nYzAAJxCFTZB5ghj8E7d3QRTQ+MZqgBhgDrciPrlhmaCAhOkqBHNSI/+k9weZTg4iCpeK8RIBwdiCA7r/2OkE6VtOvRjNA7AXYgIsJGhkC7ZAEECNpCyutkdbBDX/Om9EAmyaTQkB3FCtmLTyuEYhOAs/e08PpUe/ePw9gs52buLFWWpHqKvhhPDjfRecAmewLlBkTUTbpxEsKIWaHdemhfTgSFyxY3uIckcZiQIW8lAmjEb1VY5BOrZtl7II/QSKwkqKLEqoJbANRnkmXtNdrtQE7WiVIN3VA2YDVLXn/yIxFphhmOFEZIhWyDF6Wlu8dTKON1unvPZ9qJON/aXWjQLEKHhXIqIAcy3OL90cqz47iM9GgSUmiSSzcXznXuiBhdogprTBbQYbaFJNFehKIzw+DwTWMOdCMQ5+tppW7mZYgTZN3XQjjKlg97ZpuCASBM3uZFSN22VjVY1pidF0AgwbOWRb1KgY9CajCBAtTZuirs12ADE4fG4Sa1OM5pQjf1j4IDgF46XINPl8Q56WnCylxhhdRihs2gFK8W9iwUHe/32ua8RUL/pbp2IWJQznuQj3wukt//FMrBYqtSSCLgAs/qkcnrtFMbRbsp1RDZv6L13ANdwAIGMRBihaW0I2EJOZts9TKcP2yC73XM4sFVCgcQTPPtEAvOAFfljMU6YJcYop4CZiEmkgnkRdPQDEO0fQUMbgdnTnKpBFHQcPvzO3Xf4lMBjMO7KxR3eW28lOgFR2AA4JJhLAjr6bNyMi+OxvWIMhOwE8iS5uBZKqB+6yJpL8CiDEDxS+uyq9IYeNYEkAekBD9BbWNOOPRSTbCZpM7FAN3DB+P/eO7zvdXn6Ag6Gr6Snn9Ocxx6cwuWxp0KyQytT4TA267hPrnS79yCANobPkmb2GqWJoPsFHsXQE7XG3V9DRISawjRwI3SYQgf4YpsGNWps5uaAOFy3579NBjiAKuNH3+H7jWyNiSztSbnL7DYNXmUfyV7B0a25qdzOsj1wc+2bQxsLt9eyXbMfwUS317o9yLZ92fqksxkZm27Mi03Is+aZizVfdLmC8voz5eVnqZDu9YYb2lJoakdtDtoIHJI+Dp/QexFHzh951/jhd0GN2+r9hXmStaECnrB7J9JTFt/aIthTXLS6zkjNMb6gHBqftl/WyKLFoEVSIc3FJCrBHQRu3v4T5hyPSBvKFiaH15/lFhIRkKhaDs6OPo/LymGxMckWEBghbCsITEAVu3rLE1rsCw7P4+zpeUkShPNSKiYGiV657OnSO3oq7WuG5u/gMDPN3t9l4z+Da9MRFzexmiReUaHVgPrms/XunZ4a7DEfDMPUEnI46OYgyyY3JolBQDoHAAyb4XWFfhRLnUbF9JrvnmoOZkMfYzaopnV/Oj/39vpa4q2rk2/87PbrP400oXEYkUekuQfBaCpmAOiI6qJJz3tJBeLLZvz4t6DR+qWbFzMfJskH2YzodZXbGhHYzJHyhAdWQgEnyggx8PgKe/w1vzjg62cZJpc5HEifsz28PT93p3wulQP8xccOH3/H5sPvfexH/ot0dmFpTMOINEk844lWiAl8vSsNhKCqlGxSq3F+4ZvVl5/FDKxdztGScOxel6gc2UweZ6YlTYVbYxYQXNUSejQmSEUBgKPsifqS8fnTk6+9hBpBL8mvbs+v3an3ktlRAI8fe/cbL//op3/Fn08fuGCePI9oZRoFIxWRbO4QkCYwsZJBk5Kv/+W3KW+satkBF0upeJqRJx2inIYWUkltn0KBQoDqWZxYgd4kzAStsQHkGAocPvHk5t339fwaNdvVmT143PZJCGxQK7zenHDv1mu/+6ff+ZV/Wr/Zh5lnaYlUqAVcn9kE8MAI08YNGD/+leOHn5UT1HOIRPbTncZIP2hBPNdBW/MwLXr21b8E/RRIGEl8yQuyHefAYzFUKS/cSs8UlMH3Z/X6VGaxwA1CgjH7R6Zh/1++hb7t9eEDn+9PnGhMZqbCACSpQitlVV/3/8yPnT7/bkTtaoJnIKG1u6F9ylsuNejMjY8XTRxGgBK3lYLG7IRxhbtqlgksKya74YBDri8/g6cesmZR86yyhWHV9xyBR+PLmO/+3p9tbzx++6f/RWrp1exipMlaZERNQq8Xt/b/4xtXSWTwiBOMbkoTOLmCAuY8Pv/O+uL79NY3/DyA4bX+QZJCtj1lrQfKmtdHvwJyAn2bcZhA836CCHW9/FVhAsp6qADj//3a+uaTm2/xYT3dMxdIoRqioNnIuIMP/+4P3P/b7whA+nzTNU+mZHOdGYECUO8+PX706/3B056oZx/6OZGCdBd2KhKQSXb065/C7bERtE16GunOFZqGNWkg4gChyk3765Jbjx+cPvWB/T//rpuv/WR6x0tRDNXERBt6gPPz73z9t/0a7HfK9ed83Ty7RP6wsXW4sg6wDYTtpj/7Zj+bLh19KGiHeE8TSsAORxohGpj6NLOFPlvyE/ebLtACNcQjuLQNoUIlE9A55FgTIPDLswd/5/vPL7wjv/8L6cmYQDr6l5598ef8ofLS27oTMUBOVvkgG3ukOEQj/fIk24Obchj1/Jv9LJiiESDF5eYNXsS9O1/gApGVwDq/niC945K37i0EJKQE1JaVai5V1VyFkVHs/1/hse/vNNMnP3j5l3/09b//jtMX3n346Ndc/sPv9+pv//X11TsEmjH0z0lHv6xTV4q9jUY1T3HBTwT1/Bt/DuYN9mc+bZsYDgIQ9y5KBQ2HsM99be2ZvfXhna/p+QWGMZpJjQStiHvKY4W6KBE00NEznnjrWlAL4v3/+mZX/+nbjf//6zFuehPEIwJboK3Wrt4Gd5TgsOCWEIKy28OR7Oq83n/Kr275Pus7Rz27cjFEi6CYqVGqSxZNUNgMCspDcJ7bD0B3D10qQa+CmmtKLNnT3MI9DzJPnAfLG1nWWWWmz6jjsQ0gwmlv7dFBVSFdroesklyie87N6zlopBliabNPi2ZCzQQ8eX3p7fL+z0meQDcANKUZokXQgSQTx9dQrzC8fZLTC26vGlUQVWj9dT+3rynZ+nUTz+XI8YOfw9Yu5C1Pi/6lj1xdy3hCyjdBU9MW4dnSlIcJDX3T5IjzKZZ4suc8VDqw9et8+NhXyeYqfuxTQDidOtssdpnml2kPVg28hE9OL1sFsxPQRrZkluSpqWJpuGfMi002b1TnehC7v13dz9XMYA694SMCJOhmnVEtedKmYZnmFO5gy/7Ru86N+yTpZm80cdBoIc1tf1runWKExWXkE1D6xXJUpjxvY1fLS7o5+xDYTiwtDsvGa+Y8W1psoBaXWl45h64o16cNgTgwRlUQol30wzdIG3gCU2W4nylSKMSPpBaHpkqGyXX+Jm3O21wQXrGZAAAAAElFTkSuQmCC",LH="data:image/png;base64,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",RH="data:image/png;base64,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",PH="data:image/png;base64,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",kH="data:image/png;base64,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",IH="data:image/png;base64,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";const I1=[{name:"Flow",thumbnail:kH,data:{value:"custom",label:"Flow",uuid:"flow",options:{u_phase:.5,u_scale:.66,u_glow:.524,u_distort_scale:.5,u_power:.482,u_speed:.2,u_iterations:4,u_brightness:.5,shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform float u_phase; //units:%
uniform float u_scale; //units:%
uniform float u_glow; //units:%
uniform float u_distort_scale; //units:%
uniform float u_power; //units:%
uniform float u_speed; //units:%
uniform int u_iterations; //max:20
uniform float u_brightness; //units:%
    
#define power 1.
#define zoomOut 10.
#define rot 1.
#define huePower 0.7
#define Speed 1.5
#define WaveSpeed 2.
#define Brightness 2.

void main()
{
  // Normalized pixel coordinates (from 0 to 1)
  vec2 uv = gl_FragCoord.xy/u_resolution.xy;

	vec2 XYScale = vec2(1.0,1.0);
	vec2 XYMove = vec2(0.0,0.0);
	
	//Centered pixel coordinates
  uv -= vec2(0.5,0.5);
  
  float t = u_time;
  
  //Phase
  float phase = (u_phase * 10.) * u_speed * sin(t);
  
  //Scaling
  uv *= zoomOut*(1.0-u_scale);
	uv.xy = uv.xy * XYScale;
	uv.xy = uv.xy + XYMove;
	vec4 finalCol = vec4(0.);
	float halfDistort = u_distort_scale / 0.5;
	float distortsc2 = u_distort_scale / u_distort_scale + halfDistort;
    
	for(float i = 1.0; i < float(u_iterations); i++){
		uv.x += u_power / i * sin(i * u_distort_scale * uv.y - phase);
		uv.y += u_power / i * sin(i * distortsc2 * uv.x + phase);
	}
    
	vec4 col = vec4(vec4(u_glow)/sin((t*WaveSpeed*u_speed)-length(uv.yx) - uv.y));
	
	finalCol = vec4(col*col);
  
  vec4 Color = vec4(1.) * Brightness*u_brightness;
	Color = Color*Color * 0.5 + 0.5*cos(phase+uv.xyxy +vec4(0,2,4,1.0)) * huePower;

  // Output to screen
  gl_FragColor = finalCol * Color * power;
  
}`,vertex:`// Vertex shader

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`}}},{name:"Vijay",thumbnail:IH,data:{value:"custom",label:"Vijay",uuid:"vijay",options:{u_scale:.25,u_spread:.5,u_density:.5,u_speed:.5,u_brightness:.621,u_particles:51,u_rotate:!0,shader:`/// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;

// Custom uniforms
uniform float u_scale; //units:%
uniform float u_spread; //units:%
uniform float u_density; //units:%
uniform float u_speed; //units:%
uniform float u_brightness; //units:%
uniform int u_particles; //max: 100
uniform bool u_rotate;

vec3 hsv2rgb(vec3 c) {
    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

vec2 rotateUV(vec2 uv, float rotation)
{
    float mid = 0.5;
    return vec2(
        cos(rotation) * (uv.x - mid) + sin(rotation) * (uv.y - mid) + mid,
        cos(rotation) * (uv.y - mid) - sin(rotation) * (uv.x - mid) + mid
    );
}

vec2 rotateUV(vec2 uv, float rotation, vec2 mid)
{
    return vec2(
      cos(rotation) * (uv.x - mid.x) + sin(rotation) * (uv.y - mid.y) + mid.x,
      cos(rotation) * (uv.y - mid.y) - sin(rotation) * (uv.x - mid.x) + mid.y
    );
}

vec2 rotateUV(vec2 uv, float rotation, float mid)
{
    return vec2(
      cos(rotation) * (uv.x - mid) + sin(rotation) * (uv.y - mid) + mid,
      cos(rotation) * (uv.y - mid) - sin(rotation) * (uv.x - mid) + mid
    );
}

void main() {

    float t = u_time*u_speed+5.;
        
    // vars
    float z =  (1.0 - (u_scale*0.95)) * 2.0;
    float u_duration = u_spread + 0.1;
    const int n = 100; // particle count
    
    vec3 startColor = normalize(vec3(0.,0.,0.));
    
    float startRadius = 0.01;
    float endRadius = 0.08;
    
    float power = 0.1 + u_speed;

    vec2 s = u_resolution.xy;
    vec2 v = z*(2.*gl_FragCoord.xy-s)/s.y;
    if(u_rotate){
      v = rotateUV(v,u_time*0.1*u_speed,0.);
    }

    vec4 col = vec4(0.);
    
    vec2 pm = v.yx*1.2;
    
    float dMax = u_duration;
    
    float mb = 0.;
    float mbRadius = 0.;
    float sum = 0.;
    
    for(int i=0;i<u_particles;i++)
    {
      float d = fract(t*power+48934.4238*sin(float(i)*692.7398))*u_duration;
    float a = 6.28*float(i)/float(n);
         
      float x = d*cos(a);
      float y = d*sin(a);
        
        float distRatio = d/dMax;
        
        mbRadius = mix(startRadius, endRadius, distRatio); 
        
        v = mod(v,pm) - 0.5*pm;
        
        vec2 p = v - vec2(x,y);
    
        p = mod(p,pm) - u_density*pm;
        
        mb = mbRadius/dot(p,p);
    
        sum += mb;
        
      // Define a harmonious color scheme (analogous colors)
    float hue = fract(float(i) / float(n) + u_time); // Use time to animate the colors
    vec4 analogousColor1 = vec4(hsv2rgb(vec3(hue, 1.0, 1.0)),1.); // One color
    vec4 analogousColor2 = vec4(hsv2rgb(vec3(hue + 0.05, 1.0, 1.0)),1.); // Adjacent color
    vec4 analogousColor3 = vec4(hsv2rgb(vec3(hue + 0.1, 1.0, 1.0)),1.); // Another adjacent color

    // Mix the analogous colors based on distance ratio
    col = mix(col, analogousColor1, mb / sum);
    col = mix(col, analogousColor2, mb / sum);
    col = mix(col, analogousColor3, mb / sum);

    }
  
   sum /= float(n);
    
    col = normalize(col) * sum;
    
    sum = clamp(sum, 1.2, 0.4);
    
    vec4 tex = vec4(1.0);
     
    col *= smoothstep(tex, vec4(0.), vec4(sum));

    float brightness = 1.5 * (u_brightness +0.1);  // Adjust this value for desired brightness
    col *= brightness;
    
    // Output final color
    gl_FragColor = col;
    
}`,vertex:`// Vertex shader

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`}}},{name:"God rays",thumbnail:PH,data:{value:"custom",label:"God rays",uuid:"587dca6c-ec15-410f-a06a-7e63234ed576",options:{u_colors:["#9f00ff","#5660ff"],u_intensity:.946,u_rays:.094,u_reach:.211,u_noise:!1,u_noise_color:"#ffffffbf",shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform vec4 u_colors[2];
uniform float u_intensity;
uniform float u_rays;
uniform float u_reach;
uniform bool u_noise;
uniform vec4 u_noise_color;

#include "lygia/generative/pnoise.glsl";
#include "lygia/generative/random.glsl";
#include "lygia/color/mixOklab.glsl";
    
float rayStrength(vec2 raySource, vec2 rayRefDirection, vec2 coord, float seedA, float seedB, float speed)
{
	vec2 sourceToCoord = coord - raySource;
	float cosAngle = dot(normalize(sourceToCoord), rayRefDirection);
	
	return clamp(
		(.45 + 0.15 * sin(cosAngle * seedA + u_time * speed)) +
		(0.3 + 0.2 * cos(-cosAngle * seedB + u_time * speed)),
		u_reach, 1.0) *
		clamp((u_resolution.x - length(sourceToCoord)) / u_resolution.x, u_reach, 1.0);
}

void main()
{
	vec2 uv = gl_FragCoord.xy / u_resolution.xy;
	uv.y = 1.0 - uv.y;
	vec2 coord = vec2(gl_FragCoord.x, u_resolution.y - gl_FragCoord.y);
	float speed = u_rays * 10.0;
	
	// Set the parameters of the sun rays
	vec2 rayPos1 = vec2(u_resolution.x * 0.7, u_resolution.y * -0.4);
	vec2 rayRefDir1 = normalize(vec2(1.0, -0.116));
	float raySeedA1 = 36.2214*speed;
	float raySeedB1 = 21.11349*speed;
	float raySpeed1 = 1.5*speed;
	
	vec2 rayPos2 = vec2(u_resolution.x * 0.8, u_resolution.y * -0.6);
	vec2 rayRefDir2 = normalize(vec2(1.0, 0.241));
	float raySeedA2 = 22.39910*speed;
	float raySeedB2 = 18.0234*speed;
	float raySpeed2 = 1.1*speed;
	
	// Calculate the colour of the sun rays on the current fragment
	vec4 rays1 =
		vec4(0.,0.,0., .0) +
		rayStrength(rayPos1, rayRefDir1, coord, raySeedA1, raySeedB1, raySpeed1) * u_colors[0];
	 
	vec4 rays2 =
		vec4(0.,0.,0., .0) +
		rayStrength(rayPos2, rayRefDir2, coord, raySeedA2, raySeedB2, raySpeed2) * u_colors[1];
	
	vec4 fragColor = (rays1) + (rays2);
	
	// Attenuate brightness towards the bottom, simulating light-loss due to depth.
	float brightness = 1.0*u_reach - (coord.y / u_resolution.y);
	fragColor *= (brightness + (0.5+ u_intensity));
	//fragColor = pow(fragColor,u_brightness*10.0);
	if(u_noise == true){
    
    // animate noise with vUv/static with st
    float noise = random(uv*sin(u_time));
    vec4 noiseColored = vec4(u_noise_color.rgb,noise*u_noise_color.a);
    //color = mixOklab(color,noiseColored,0.1);
    fragColor *= noiseColored;
  }
	
	
	gl_FragColor = fragColor;
}
`,vertex:`// Vertex shader

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`}}},{data:{value:"custom",label:"Mesh",options:{u_colors:["#00ff8f","#ffdf00","#cf4ad8","#ff5e5e"],u_blur:.646,u_animate:!0,u_animate_speed:1,u_frequency:.5,shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform vec4 u_colors[4];
uniform float u_blur; 
uniform bool u_animate;
uniform float u_animate_speed;
uniform float u_frequency;
    
#define S(a,b,t) smoothstep(a,b,t)
#include "lygia/color/mixOklab.glsl"

mat2 Rot(float a)
{
    float s = sin(a);
    float c = cos(a);
    return mat2(c, -s, s, c);
}


// Created by inigo quilez - iq/2014
// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.
vec2 hash( vec2 p )
{
    p = vec2( dot(p,vec2(2127.1,81.17)), dot(p,vec2(1269.5,283.37)) );
	return fract(sin(p)*43758.5453);
}

float noise( in vec2 p )
{
    vec2 i = floor( p );
    vec2 f = fract( p );
	
	vec2 u = f*f*(3.0-2.0*f);

    float n = mix( mix( dot( -1.0+2.0*hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), 
                        dot( -1.0+2.0*hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),
                   mix( dot( -1.0+2.0*hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), 
                        dot( -1.0+2.0*hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);
	return 0.5 + 0.5*n;
}

void main(){
  
    vec2 uv = gl_FragCoord.xy/u_resolution.xy;
    float ratio = u_resolution.x / u_resolution.y;

    vec2 tuv = uv;
    tuv -= .5;
    
    //animation
    float speed = u_time * 10. * u_animate_speed;
    if(u_animate == false){
      speed = 0.0;
    }

    // rotate with Noise
    float degree = noise(vec2(speed/100.0, tuv.x*tuv.y));

    tuv.y *= 1./ratio;
    tuv *= Rot(radians((degree-.5)*720.+180.));
	tuv.y *= ratio;
    
    // Wave warp with sin
    float frequency = 20. * u_frequency;
    float amplitude = 30. * (10.*(0.01+u_blur));
    
    tuv.x += sin(tuv.y*frequency+speed)/amplitude;
   	tuv.y += sin(tuv.x*frequency*1.5+speed)/(amplitude*.5);
    
    
    // draw the image
    vec4 layer1 = mixOklab(u_colors[0], u_colors[1], S(-.3, .2, (tuv*Rot(radians(-5.))).x));
    vec4 layer2 = mixOklab(u_colors[2], u_colors[3], S(-.3, .2, (tuv*Rot(radians(-5.))).x));
    
    vec4 finalComp = mixOklab(layer1, layer2, S(.5, -.3, tuv.y));
    
    
    gl_FragColor = finalComp;
    
}`,vertex:`// Vertex shader

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`},uuid:"c7be487e-9db0-4b59-bd7a-f0e39314bd37"},name:"Mesh",thumbnail:CH},{data:{value:"custom",label:"Stripe",options:{u_intensity:.242,u_colors:["#9a36a8","#3000ff"],u_speed:.318,u_scale:.632,u_noise:!0,u_noise_color:"#ff0000",shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform float u_intensity;
uniform vec4 u_colors[2];
uniform float u_speed;
uniform float u_scale;
uniform bool u_noise;
uniform vec3 u_noise_color;

varying vec2 vUv;
varying float vDisplacement;
varying vec3 pos;

#include "lygia/generative/pnoise.glsl";
#include "lygia/generative/random.glsl";
#include "lygia/color/mixOklab.glsl";


void main() {
  vec2 pixel = 1.0/u_resolution.xy;
  vec2 st = gl_FragCoord.xy * pixel;
    
  float distort = vDisplacement * u_intensity;
  vec2 val = abs(vUv - 0.5) * 3.0  * (1.0 - distort);
  
  vec4 color = vec4(vec3(val,u_colors[0].b),1.0);
  color = mixOklab(u_colors[0], u_colors[1], vDisplacement);
  
  //float frequency = 100.0;
  //float stripes = frequency * pos.y;
  //float rounded = floor(stripes);
  
  if(u_noise == true){
    
    // animate noise with vUv/static with st
    float noise = random(st*vDisplacement) * 0.5;
    vec4 noiseColored = vec4(u_noise_color*noise,noise);
    //color = mixOklab(color,noiseColored,0.1);
    color += noiseColored;
  }
  
  //if (mod(rounded, 4.0) == 0.0){
  //  color -= 0.2;
  //}
  
  gl_FragColor = color;
}`,vertex:`//Geometry: plane
//OrbitControls: false
//Geometry-args: [3,1,2048]
//Mesh-scale: 1.5
//Mesh-rotation: [-0.75,0.25,-0.25]
//camera-position: [0.0, 0.0, 2.0]
//shader-wireframe: false 

uniform float u_intensity;
uniform float u_time;
uniform float u_speed;
uniform bool u_rotate;
uniform float u_scale;

varying vec2 vUv;
varying float vDisplacement;
varying vec3 pos;

#include "lygia/generative/cnoise.glsl";
#include "lygia/generative/gnoise.glsl";
#include "lygia/generative/psrdnoise.glsl";
#include "lygia/generative/worley.glsl";
#include "lygia/generative/snoise.glsl";
#include "lygia/generative/fbm.glsl";


void main() {
  vUv = uv;
  pos = position;
  
  vDisplacement = cnoise(position*(0.0 + 1.0/u_scale) + vec3(u_time*u_speed));
  
  float frequency = 4.0;
  float stripes = frequency * position.y;
  float rounded = floor(stripes);
  
  if (mod(rounded, 2.0) == 0.0){
    vDisplacement *= 2.2;
  }
  
  vec3 newPosition = position + normal * vDisplacement*u_intensity;
  
  vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);
  vec4 viewPosition = viewMatrix * modelPosition;
  vec4 projectedPosition = projectionMatrix * viewPosition;

  gl_Position = projectedPosition;
  
  //gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  
}`},uuid:"4b262dcd-d75f-46f5-97aa-18909f1d10a3"},name:"Stripe",thumbnail:LH},{data:{value:"custom",label:"Rolling plane",uuid:"587dca6c-ec15-410f-a06a-7e63234ed999",options:{u_intensity:.062,u_colors:["#9978ff","#70ff00"],u_speed:.25,u_scale:.2,shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform float u_intensity;
uniform vec4 u_colors[2];
uniform float u_speed;
uniform float u_scale;

varying vec2 vUv;
varying float vDisplacement;

#include "lygia/generative/pnoise.glsl";
#include "lygia/generative/random.glsl";
#include "lygia/color/mixOklab.glsl";
    
void main() {
  float distort = vDisplacement * u_intensity;
  vec2 val = abs(vUv - 0.5) * 3.0  * (1.0 - distort);
  
  vec4 color = vec4(vec3(val,u_colors[0].b),1.0);
  color = mixOklab(u_colors[0], u_colors[1], vDisplacement);
  
  
  gl_FragColor = color;
}`,vertex:`//Geometry: plane
//OrbitControls: false
//Geometry-args: [1,1, 1024, 1024]
//Mesh-scale: 26
//Mesh-rotation: [-0.8,0,0]
//camera-position: [0.0, 0.0, 2.0]
//camera-fov: 90
//camera-far: 2000
//camera-near: 0.01

uniform float u_intensity;
uniform float u_time;
uniform float u_speed;
uniform bool u_rotate;
uniform float u_scale;

varying vec2 vUv;
varying float vDisplacement;

#include "lygia/generative/cnoise.glsl";
#include "lygia/generative/gnoise.glsl";
#include "lygia/generative/psrdnoise.glsl";
#include "lygia/generative/worley.glsl";
#include "lygia/generative/snoise.glsl";
#include "lygia/generative/fbm.glsl";


void main() {
  vUv = uv;
  
  vDisplacement = fbm(position*(0.0 + 1.0/u_scale) + vec3(u_time*u_speed/4.));
  

  vec3 newPosition = position + normal * vDisplacement*u_intensity;
  
  float frequency = 400.0;
  float stripes = frequency * position.y;
  float rounded = floor(stripes);
  vDisplacement *= 3.2;
  
  
  vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);
  vec4 viewPosition = viewMatrix * modelPosition;
  vec4 projectedPosition = projectionMatrix * viewPosition;

  gl_Position = projectedPosition;  
}`}},name:"Rolling plane",thumbnail:EH},{id:64,created_at:"2023-04-07T16:59:04.82538+00:00",data:{value:"custom",label:"Spherical",options:{u_intensity:.764,u_speed:.056,u_colors:["#002fff","#20ff00"],u_noise:!0,u_noise_color:"#ff0000",u_rotate:!0,shader:`
// UNIFORMS
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform float u_intensity;
uniform float u_speed;
uniform vec4 u_colors[2];
uniform bool u_noise;
uniform vec3 u_noise_color;
uniform bool u_rotate;
    
varying vec2 vUv;
varying float vDisplacement;

#include "lygia/generative/pnoise.glsl";
#include "lygia/generative/random.glsl";


void main() {
  float distort = vDisplacement * u_intensity;
  vec2 val = abs(vUv - 0.5) * 3.0  * (1.0 - distort);
  
  vec4 color = vec4(vec3(val,u_colors[0].b),1.0);
  color = mix(u_colors[0], u_colors[1], vDisplacement);
  
  
  if(u_noise == true){
    vec2 pixel = 1.0/u_resolution.xy;
    vec2 st = gl_FragCoord.xy * pixel;
    
    // animate noise with vUv/static with st
    float noise = random(st) * 0.15;
    vec4 noiseColored = vec4(u_noise_color*noise,noise);
    color += noiseColored;
  }
  
  gl_FragColor = color;
}`,vertex:`//Geometry: sphere
//Geometry-args: [4, 1024, 1024]
//OrbitControls: false  
//Mesh-position: [0, 0, 0]
//Mesh-rotation: [-1.5707963267948966, 0, -1.5]
//Mesh-scale: 5
//camera-position: [0.0, 0.0, 32.0]

uniform float u_intensity;
uniform float u_time;
uniform float u_speed;
uniform bool u_rotate;

varying vec2 vUv;
varying float vDisplacement;

#include "lygia/generative/cnoise.glsl";
#include "lygia/generative/gnoise.glsl";
#include "lygia/generative/psrdnoise.glsl";

mat4 rotationMatrix(vec3 axis, float angle)
{
    axis = normalize(axis);
    float s = sin(angle);
    float c = cos(angle);
    float oc = 1.0 - c;
    
    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,
                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,
                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,
                0.0,                                0.0,                                0.0,                                1.0);
}

mat3 rotAxis(vec3 axis, float a) {
  float s=sin(a);
  float c=cos(a);
  float oc=1.0-c;
  vec3 as=axis*s;
  mat3 p=mat3(axis.x*axis,axis.y*axis,axis.z*axis);
  mat3 q=mat3(c,-as.z,as.y,as.z,c,-as.x,-as.y,as.x,c);
  return p*oc+q;
}

vec3 rotateAxis(vec3 p, vec3 axis, float angle) {
  return mix(dot(axis, p)*axis, p, cos(angle)) + cross(axis,p)*sin(angle);
}

void main() {
  vUv = uv;

  vDisplacement = psrdnoise(position + vec3((u_speed*1.0)*u_time));

  vec3 newPosition = position + normal * vDisplacement*u_intensity;
  
  if(u_rotate == true){
    newPosition = rotateAxis(newPosition,vec3(0.,1.,0.5), u_time*u_speed*0.25);
  }
  vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);
  vec4 viewPosition = viewMatrix * modelPosition;
  vec4 projectedPosition = projectionMatrix * viewPosition;

  gl_Position = projectedPosition;
}`},uuid:"f0f2359e-351e-40fa-ab84-cf59a942bcb8"},name:"Spherical",thumbnail:TH},{data:{value:"custom",label:"Mountains",options:{u_intensity:.404,u_colors:["#8181d2","#ffffff"],u_speed:.029,u_scale:.334,shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform float u_intensity;
uniform vec4 u_colors[2];
uniform float u_speed;
uniform float u_scale;

varying vec2 vUv;
varying float vDisplacement;

#include "lygia/generative/pnoise.glsl";
#include "lygia/generative/random.glsl";
    
void main() {
  float distort = vDisplacement * u_intensity;
  vec2 val = abs(vUv - 0.5) * 3.0  * (1.0 - distort);
  
  vec4 color = vec4(vec3(val,u_colors[0].b),1.0);
  color = mix(u_colors[0], u_colors[1], vDisplacement);
  
  
  gl_FragColor = color;
}`,vertex:`//Geometry: plane
//OrbitControls: false
//Geometry-args: [1,1, 1024, 1024]
//Mesh-scale: 50
//camera-position: [0.0, 0.0, 24.0]

uniform float u_intensity;
uniform float u_time;
uniform float u_speed;
uniform bool u_rotate;
uniform float u_scale;

varying vec2 vUv;
varying float vDisplacement;

#include "lygia/generative/cnoise.glsl";
#include "lygia/generative/gnoise.glsl";
#include "lygia/generative/psrdnoise.glsl";
#include "lygia/generative/worley.glsl";
#include "lygia/generative/snoise.glsl";
#include "lygia/generative/fbm.glsl";


void main() {
  vUv = uv;
  
  vDisplacement = fbm(position*(0.0 + 1.0/u_scale) + vec3(u_time*u_speed));
  

  vec3 newPosition = position + normal * vDisplacement*u_intensity;
  
  vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);
  vec4 viewPosition = viewMatrix * modelPosition;
  vec4 projectedPosition = projectionMatrix * viewPosition;

  gl_Position = projectedPosition;
  
  //gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  
}`},uuid:"6dc5ebb3-9b53-4801-864f-5fd36df8ccdd"},name:"Mountains",updated_at:"2023-04-05T16:28:46.959+00:00",thumbnail:MH},{data:{value:"custom",label:"Aura",options:{u_color:"#5000ff",u_background:"#000000",u_speed:.1,u_detail:.1,shader:`uniform vec2 u_resolution;
uniform float u_time;
uniform vec3 u_color;
uniform vec4 u_background;
uniform float u_speed;
uniform float u_detail;

/*
* @author Hazsi (kinda)
*/
mat2 m(float a) {
    float c=cos(a), s=sin(a);
    return mat2(c,-s,s,c);
}

float luma(vec3 color) {
  return dot(color, vec3(0.299, 0.587, 0.114));
}

float luma(vec4 color) {
  return dot(color.rgb, vec3(0.299, 0.587, 0.114));
}


float map(vec3 p) {
    float t = u_time * u_speed;
    p.xz *= m(t * 0.4);p.xy*= m(t * 0.1);
    vec3 q = p * 2.0 + t;
    return length(p+vec3(sin((t*u_speed) * 0.1))) * log(length(p) + 0.9) + cos(q.x + sin(q.z + cos(q.y))) * 0.5 - 1.0;
}

void main() {
    vec2 a = gl_FragCoord.xy / u_resolution.x - vec2(0.5, 0.5);
    vec3 cl = vec3(0.0);
    float d = 2.5;

    for (float i = 0.; i <= (1. + 20. * u_detail); i++) {
        vec3 p = vec3(0, 0, 4.0) + normalize(vec3(a, -1.0)) * d;
        float rz = map(p);
        float f =  clamp((rz - map(p + 0.1)) * 0.5, -0.1, 1.0);
        vec3 l = vec3(0.1, 0.3, 0.4) + vec3(5.0, 2.5, 3.0) * f;
        cl = cl * l + smoothstep(2.5, 0.0, rz) * 0.6 * l;
        d += min(rz, 1.0);
    }
    
    vec4 color = vec4(min(u_color, cl),1.0);
    //color = min(u_background, u_color);
    color.r = max(u_background.r,color.r);
    color.g = max(u_background.g,color.g);
    color.b = max(u_background.b,color.b);
    

    gl_FragColor = color;
}`},uuid:"66ac8579-e118-4691-bbeb-893278fa87d5"},name:"Aura",thumbnail:AH},{name:"Clouds",thumbnail:RH,data:{value:"custom",label:"Clouds",options:{u_speed:.196,u_scale:0,u_colors:["#ffffff00","#00000000"],light:.5,shadow:.5,tint:.596,coverage:.276,alpha:1,shader:`#ifdef GL_ES
  precision mediump float;
#endif

// UNIFORMS
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform vec4 u_colors[2];
uniform float u_speed;
uniform float u_time;
uniform float u_scale; 
uniform float light;
uniform float shadow;
uniform float tint;
uniform float coverage;
uniform float alpha;
    
const float cloudalpha = 20.;
const mat2 m = mat2( 1.6,  1.2, -1.2,  1.6 );

vec2 hash( vec2 p ) {
	p = vec2(dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)));
	return -1.0 + 2.0*fract(sin(p)*43758.5453123);
}

float noise( in vec2 p ) {
    const float K1 = 0.366025404; // (sqrt(3)-1)/2;
    const float K2 = 0.211324865; // (3-sqrt(3))/6;
	vec2 i = floor(p + (p.x+p.y)*K1);	
    vec2 a = p - i + (i.x+i.y)*K2;
    vec2 o = (a.x>a.y) ? vec2(1.0,0.0) : vec2(0.0,1.0); //vec2 of = 0.5 + 0.5*vec2(sign(a.x-a.y), sign(a.y-a.x));
    vec2 b = a - o + K2;
	vec2 c = a - 1.0 + 2.0*K2;
    vec3 h = max(0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );
	vec3 n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));
    return dot(n, vec3(70.0));	
}

float fbm(vec2 n) {
	float total = 0.0, amplitude = 0.1;
	for (int i = 0; i < 7; i++) {
		total += noise(n) * amplitude;
		n = m * n;
		amplitude *= 0.4;
	}
	return total;
}

// -----------------------------------------------

void main( ) {
    vec2 p = gl_FragCoord.xy / u_resolution.xy;
	vec2 uv = p*vec2(u_resolution.x/u_resolution.y,1.0);    
	  float speed = u_speed * 0.1;
    float time = u_time * speed;
    float scale = (1. - u_scale);
    float q = fbm(uv * scale * 0.5);
    
    
    
    //ridged noise shape
	float r = 0.0;
	uv *= scale;
    uv -= q - time;
    float weight = 0.8;
    for (int i=0; i<8; i++){
		r += abs(weight*noise( uv ));
        uv = m*uv + time;
		weight *= 0.7;
    }
    
    //noise shape
	float f = 0.0;
    uv = p*vec2(u_resolution.x/u_resolution.y,1.0);
	uv *= scale;
    uv -= q - time;
    weight = 0.7;
    for (int i=0; i<8; i++){
		f += weight*noise( uv );
        uv = m*uv + time;
		weight *= 0.6;
    }
    
    f *= r + f;
    
    //noise colour
    float c = 0.0;
    time = u_time * speed * 2.0;
    uv = p*vec2(u_resolution.x/u_resolution.y,1.0);
	uv *= scale*2.0;
    uv -= q - time;
    weight = 0.4;
    for (int i=0; i<7; i++){
		c += weight*noise( uv );
        uv = m*uv + time;
		weight *= 0.6;
    }
    
    //noise ridge colour
    float c1 = 0.0;
    time = u_time * speed * 3.0;
    uv = p*vec2(u_resolution.x/u_resolution.y,1.0);
	uv *= scale*3.0;
    uv -= q - time;
    weight = 0.4;
    for (int i=0; i<7; i++){
		c1 += abs(weight*noise( uv ));
        uv = m*uv + time;
		weight *= 0.6;
    }
	
    c += c1;
    
    vec4 skycolour = mix(u_colors[1], u_colors[0], p.y);
    vec4 cloudcolour = vec4(1.0, 1.0, 1.0,1.0) * clamp(((1.0-shadow) + light*c), 0.0, 1.0);
   
    f = coverage + cloudalpha*alpha*f*r;
    
    vec4 result = mix(skycolour, clamp(tint * skycolour + cloudcolour, 0.0, 1.0), clamp(f + c, 0.0, 1.0));
    
	  gl_FragColor = result;
	
}`},uuid:"6dc5ebb3-9b53-4801-864f-5fd36df8AABB"}}];An.init();let z1={};const zH="data:image/png;base64",$p=JSON.parse(JSON.stringify($T)),ac={value:"custom",label:"New",options:{shader:`// Fragment shader

// Uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform vec3 u_color;
uniform float u_scale; 
    
void main() {
  vec2 st = gl_FragCoord.xy/u_resolution;
  
  //Scale from 
  st *= 1.0 + 1.0/u_scale;      
  st = fract(st);
  
  gl_FragColor = vec4(st.x,st.y,sin(u_time),1.0);
}`,vertex:`// Vertex shader

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`}};function DH(){const[n,e]=ie.exports.useState([]);let[t,i]=ie.exports.useState([]),[r,s]=ie.exports.useState("noise"),[a,l]=ie.exports.useState({resolution:1024,blend:!0,opacity:!0,strokes:!0,onboarded:!1,uses:0}),[h,f]=ie.exports.useState(null),[c,o]=ie.exports.useState(!0),[u,d]=ie.exports.useState(null),[p,m]=ie.exports.useState({color:document.documentElement.classList.contains("figma-light")?"#000000":"#FFFFFF",blendMode:"NORMAL",strokes:!0,opacity:1,noise:JSON.parse(JSON.stringify($p[0]))});const[v,x]=ie.exports.useState("home"),[w,A]=ie.exports.useState(!1),[M,C]=ie.exports.useState(!1),E=ie.exports.useRef(null),R=ie.exports.useRef(null),b=ie.exports.useRef(null),_=ie.exports.useRef(null),S=ie.exports.useRef(null),T=ie.exports.useRef(),P=ie.exports.useRef(),I=async V=>{p.strokes=V.strokes,D(p),await An.setClientStorage("preferences",V),l({...V})},z=V=>{let G=$T.find(ne=>ne.value===p.noise.value);H(G)},O=V=>{R.current&&(R.current.querySelectorAll("input[type=range]").forEach(ne=>{if(!["opacity"].includes(ne.name)){let de=Number(ne.getAttribute("min")),ce=Number(ne.getAttribute("max")),Me=Number(ne.getAttribute("step"))||.001,Be=Number(Math.random()*(ce-de)+de);Be=Be-Be%Me,p.noise.options[ne.name]=Be}}),D(p))},D=(V,G=!0)=>{let ne={...V};m(ne),G&&q(ne)},B=(V,G)=>{H(V),i(G)},F=(V,G)=>{p.noise={...$p[0]},m(p),i(G)},U=V=>{let G=V.target,ne=G.value;G.type==="checkbox"?ne=G.checked:(G.type==="range"||G.type==="number")&&(ne=Number(G.value)),p.hasOwnProperty(G.name)?p[G.name]=ne:p.noise.options[G.name]=ne,D(p)},H=V=>{let G={};V.value==="custom"&&(G=K(V.options?.shader,V.options)),V.options={...V.options,...G},p.noise={...V},D(p)},j=(V,G)=>{X(V,G)},Y=(V,G)=>{$(V,G)},K=(V,G)=>{let ne=uS(V),de={};return ne.forEach(ce=>{["u_resolution","u_time","u_mouse","shader"].includes(ce.name)||["float","sampler2D","vec3","vec4","bool","int"].includes(ce.type)&&(G.hasOwnProperty(ce.name)?de[ce.name]=G[ce.name]:ce.type==="float"?de[ce.name]=.5:ce.type==="int"?de[ce.name]=1:ce.type==="sampler2D"?de[ce.name]="data:image/png;base64":ce.type==="vec3"?ce.length?de[ce.name]=new Array(ce.length).fill("#ff0000"):de[ce.name]="#ff0000":ce.type==="vec4"?ce.length?de[ce.name]=new Array(ce.length).fill("#ff0000ff"):de[ce.name]="#ff0000ff":ce.type==="bool"&&(de[ce.name]=!0))}),de},X=(V,G)=>{let ne=G.noise.options.vertex;G.noise.options=K(V,G.noise.options),G.noise.options.shader=V,G.noise.options.vertex=ne,D(G)},$=(V,G)=>{G.noise.options.vertex=V,D(G)};ie.exports.useCallback(db(X,100),[]);const q=ie.exports.useCallback(db(De,300),[]);function pe(V){let G="noise";return G=I1.find(ne=>ne.data.uuid===V?.noise?.uuid)?"gradient":G,G=t.find(ne=>ne.noise.uuid===V?.noise?.uuid)?"saved":G,(G==="gradient"||G==="noise")&&A(!1),G}async function he(V,G=!0){let ne=V.options[0];s(pe(ne)),D(ne,G)}async function Ae(V=64,G="image/png",ne=1,de=!0){if(E.current){let ce=E.current?.querySelector("canvas");return await hU(ce,p.noise.value,{...p.noise.options,color:p.color},V,G,ne,de)}}async function me(V){let G=JSON.parse(JSON.stringify(V));if(delete G.noise.options.shapeImage,E.current){let ne=E.current?.querySelector("canvas"),de=await Mx(ne,V.noise.value,{...V.noise.options,color:V.color});An.run(ce=>{if(figma.currentPage.selection.length===0){let Me=figma.createRectangle();Me.resize(ce.width,ce.height),Me.x=Math.round(figma.viewport.center.x-Me.width/2),Me.y=Math.round(figma.viewport.center.y-Me.height/2),Me.name="Noise & Texture",Me.fills=[],figma.currentPage.selection=[Me],figma.viewport.scrollAndZoomIntoView(figma.currentPage.selection)}return scene.applyNoiseToSelection(ce.tile,ce.options)},ce=>{e(ce)},{tile:de,options:G,width:ne.width,height:ne.height})}}async function De(V){if(E.current?.classList.contains("has-noise")){let G=JSON.parse(JSON.stringify(V));if(delete G.noise.options.shapeImage,E.current){let ne=E.current?.querySelector("canvas"),de=await Mx(ne,V.noise.value,{...V.noise.options,color:V.color});An.run(ce=>{let Me=scene.getSelectedNodes();return Me.length&&Me[0].options&&scene.applyNoiseToSelection(ce.tile,ce.options),Me},ce=>{e(ce)},{tile:de,options:G})}}}ie.exports.useEffect(()=>{let V=()=>scene.getSelectedNodes(),G=ce=>{e(ce),ce.length&&ce[0].options&&he(ce[0],!1)};An.on("selectionchange",V,G),An.run(V,G),async function(){let ce=await An.runWithPromise(async()=>{let Me=await figma.clientStorage.getAsync("saved-shaders");return Me=Me||[],Me});i(ce)}(),(async()=>{let ce=await An.getClientStorage("preferences");ce?ce={...a,...ce}:ce={...a},I({...ce,uses:ce.uses+1}),o(!1)})()},[]),ie.exports.useEffect(()=>{if(S.current){let V=S.current.querySelector(".noise-swatch :checked");V&&V.click()}},[t,p.noise.value]),ie.exports.useEffect(()=>{p.noise.value!=="custom"&&A(!1),An.run(V=>{figma.ui.resize(V.width,V.height)},()=>{},{width:R.current?.clientWidth,height:b.current?.clientHeight})},[p.noise.value,p.noise.options.shader,p,v,w,a]),ie.exports.useEffect(()=>{P.current&&P.current.editor.session.getUndoManager().reset()},[M]);const fe=V=>{u===null&&V.clock.elapsedTime>4&&d(V.fps)},xe=V=>{switch(s(V),V){case"noise":H($p[0]),A(!1);break;case"gradient":H(I1[0].data),A(!1);break;case"saved":H(t[0]),A(!0);break}},Le=()=>n&&n.length&&n[0]&&n[0].options,Re=V=>{let G=V.target.parentNode,ne=G.parentNode;ne.scrollLeft=G.offsetLeft-ne.offsetLeft-(ne.offsetWidth/2-G.offsetWidth/2)},Ee=V=>p.noise.options.hasOwnProperty(V),Ge=V=>V===zH,Ue=(V="rgba(0,0,0,0.25)")=>{var G=V;if(n.length&&n[0]&&n[0].node&&n[0].node.fills&&n[0].node.fills.length){let ne=n[0].node.fills[0],de=ne.color||(ne.gradientStops?ne.gradientStops[0].color:null),ce=de?ne.opacity:.1;de=de||{r:0,g:0,b:0},de&&(G=`rgba(${de.r*255},${de.g*255},${de.b*255},${ce})`)}return G},je=V=>{H(V.data)},ot=V=>V.thumbnail_id&&z1.storageUrl?`${z1.storageUrl}/object/public/textures/thumbnails/${V.thumbnail_id}.png`:V.thumbnail,ge=()=>a.onboarded===!1&&a.uses>1&&c===!1;return Q.createElement(Q.Fragment,null,c&&Q.createElement(sv,{className:"app-loader"}),Q.createElement("main",{ref:R,className:`location-${v} ${w?"show-editor":""} ${c?"app-loading":""}`},ge()&&Q.createElement(xH,{onFinish:()=>I({...a,onboarded:!0})}),Q.createElement("section",{className:"visualizer",ref:b},!1,Q.createElement("div",{className:`preview ${Le()?"has-noise":""}`,ref:E},Q.createElement(hH,{width:a.resolution,height:a.resolution,viewerWidth:w?480:240,viewerHeight:w?480:240,opacity:p.opacity,ref:T,onFrameEnter:fe,showActions:!0,animated:p.noise.value==="custom",type:p.noise.value,name:p.noise.label,options:{...p.noise.options,color:p.color}})),Q.createElement("div",{className:"control-panel",ref:_},Q.createElement("nav",{className:"nav-textures",ref:S},Q.createElement(Af,{name:"texture-category",sizing:"full",choices:[{label:"Noise",selected:r==="noise",props:{onClick:()=>{xe("noise")}}},{label:"Gradients",selected:r==="gradient",props:{onClick:()=>{xe("gradient")}}},{label:"Saved",selected:r==="saved",props:{onClick:()=>{xe("saved")}}}]}),Q.createElement("div",{className:`nav-texture-list ${r!=="noise"?"hidden":""}`},$p.map(V=>Q.createElement(gh,{align:"bottom",text:V.label},Q.createElement("div",{className:"noise-swatch tip-right",title:V.label,onClick:Re},Q.createElement("input",{type:"radio",name:"type-noise",onChange:()=>H(V),checked:V.value===p.noise.value,value:V.value}),Q.createElement("div",{className:"noise-swatch-pattern",style:{maskImage:`url(${V.thumbnail})`,WebkitMaskImage:`url(${V.thumbnail})`,backgroundColor:p.color}}))))),Q.createElement("div",{className:`nav-texture-list ${r!=="saved"?"hidden":""}`},Q.createElement(gh,{text:ac.label,align:"bottom"},Q.createElement("div",{className:"noise-swatch noise-swatch--custom",title:ac.label,onClick:Re},Q.createElement("input",{type:"radio",name:"type-saved",onChange:()=>{H(ac),A(!0)},checked:ac.value===p.noise.value&&!p.noise.uuid,value:ac.value}),Q.createElement("div",{className:"noise-swatch-icon"},Q.createElement(wH,null)))),t.map(V=>Q.createElement(gh,{align:"bottom",text:V.label},Q.createElement("div",{className:"noise-swatch",title:V.noise?V.noise.label:V.label,onClick:Re},Q.createElement("input",{type:"radio",name:"type-saved",onChange:()=>H(V.noise?V.noise:V),checked:V.noise?V.noise.uuid===p.noise.uuid:V.uuid===p.noise.uuid,value:V.noise?V.noise.uuid:V.uuid}),Q.createElement("div",{className:"noise-swatch-thumbnail",style:{backgroundImage:`url(${V.noise?V.noise.thumbnail:V.thumbnail})`}}))))),Q.createElement("div",{className:`nav-texture-list ${r!=="gradient"?"hidden":""}`},I1.map(V=>Q.createElement(gh,{align:"bottom",text:V.data.label},Q.createElement("div",{className:"noise-swatch",title:V.data.label,onClick:Re},Q.createElement("input",{type:"radio",name:"type-gradient",onChange:()=>H(V.data),checked:V.data.uuid===p.noise.uuid,value:V.data.uuid}),Q.createElement("div",{className:"noise-swatch-thumbnail",style:{backgroundImage:`url(${ot(V)})`}})))))),Q.createElement("div",{className:"options"},p.noise.value!=="custom"&&Q.createElement("div",null,Ee("size")&&Q.createElement(Tr,{name:"size",min:0,step:.002,max:1,transform:V=>Math.ceil(Math.max(V*a.resolution/16,1)),units:"px",value:p.noise.options.size,onInput:U}),Ee("gain")&&Q.createElement(Tr,{name:"gain",min:0,step:.001,max:2,value:p.noise.options.gain,onInput:U}),Ee("octaves")&&Q.createElement(Tr,{name:"octaves",min:1,step:1,max:8,value:p.noise.options.octaves,onInput:U}),Ee("lacunarity")&&Q.createElement(Tr,{name:"lacunarity",min:1,step:.001,max:32,disabled:p.noise.options.hasOwnProperty("octaves")&&p.noise.options.octaves<2,value:p.noise.options.lacunarity,onInput:U}),Ee("factor")&&Q.createElement(Tr,{name:"factor",min:-1,step:.001,max:1,disabled:p.noise.options.hasOwnProperty("octaves")&&p.noise.options.octaves<2,value:p.noise.options.factor,onInput:U}),["amount","vignette","jitter","smoothness","interpolate","width","phase","distance"].map(V=>Ee(V)&&Q.createElement(Tr,{name:V,min:0,step:.001,max:1,value:p.noise.options[V],transform:G=>Math.floor(G*100),units:"%",onInput:U})),Ee("count")&&Q.createElement(Tr,{name:"count",min:1,step:1,max:64,value:p.noise.options.count,onInput:U}),Ee("strength")&&Q.createElement(Tr,{name:"strength",min:-1,step:.1,max:1,value:p.noise.options.strength,onInput:U}),Ee("rotation")&&Q.createElement(Tr,{name:"rotation",min:0,label:"Rotate",max:360,units:"\xB0",after:Q.createElement("datalist",{id:"rotation-snaps"},Q.createElement("option",{value:"0"}),Q.createElement("option",{value:"90"}),Q.createElement("option",{value:"180"}),Q.createElement("option",{value:"270"}),Q.createElement("option",{value:"360"})),before:Ee("randomRotation")&&Q.createElement("input",{type:"checkbox",className:"disable random",name:"randomRotation",title:"Randomize rotations",checked:p.noise.options.randomRotation,onChange:U}),list:"rotation-snaps",value:p.noise.options.rotation,onInput:U}),Ee("shape")&&Q.createElement("div",{className:"field field--horizontal field--radio"},Q.createElement(JT,{name:"image",value:p.noise.options.image,onInput:U,content:Q.createElement("input",{type:"checkbox",className:"target",name:"shape",value:"image",title:"Choose Figma layer for image",onChange:()=>p.noise.options.shape="image",checked:p.noise.options.shape==="image"})}),Q.createElement("label",null,"Shape"),Q.createElement("div",{className:"radio-group"},Q.createElement("input",{type:"radio",name:"shape",value:"square",checked:p.noise.options.shape==="square",onChange:U}),Q.createElement("input",{type:"radio",name:"shape",value:"circle",checked:p.noise.options.shape==="circle",onChange:U}),Q.createElement("input",{type:"radio",name:"shape",value:"triangle",checked:p.noise.options.shape==="triangle",onChange:U}),Q.createElement("input",{type:"radio",name:"shape",value:"diamond",checked:p.noise.options.shape==="diamond",onChange:U}),Q.createElement("input",{type:"radio",name:"shape",value:"line",checked:p.noise.options.shape==="line",onChange:U}),!Ge(p.noise.options.image)&&Q.createElement("input",{type:"radio",name:"shape",value:"image",style:{backgroundImage:`url(${p.noise.options.image})`},checked:p.noise.options.shape==="image",onChange:U})))),p.noise.value==="custom"&&Q.createElement(M8,{options:p.noise.options,onOptionInput:U}),p.noise.value!=="custom"&&Q.createElement(vx,{name:"color",value:p.color,before:Ee("multicolor")&&Q.createElement("input",{type:"checkbox",className:"disable random",name:"multicolor",title:"Randomize colors",checked:p.noise.options.multicolor,onChange:U}),disabled:p.noise.options.shape==="image",onInput:U}),a.opacity&&Q.createElement(Tr,{name:"opacity",min:0,max:1,step:.05,units:"%",transform:V=>Math.floor(V*100),before:Ee("randomOpacity")&&Q.createElement("input",{type:"checkbox",className:"random",name:"randomOpacity",title:"Randomize opacities",checked:p.noise.options.randomOpacity,onChange:U}),value:p.opacity,onInput:U}),a.blend&&Q.createElement("div",{className:"field field--horizontal field--blend"},Q.createElement("label",null,"Blend"),Q.createElement(Sm,{buttonClass:"button button--small button--secondary",menuClass:"blend-modes-menu",align:"right",direction:"up",onChoose:V=>{p.blendMode=V.value,D(p)},label:VA.find(V=>p.blendMode===V.value).label,choices:VA.map(V=>({checked:V.value===p.blendMode,value:V.value,label:Q.createElement(Q.Fragment,null,V.label,Q.createElement("svg",{className:`blend-${V.value.toLowerCase().replace("_","-")}`,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1",fill:Ue()}),Q.createElement("circle",{cx:"9.5",cy:"9.5",r:"4.5",fill:p.color,style:{"mix-blend-mode":V.value.toLowerCase().replace("_","-")}})))}))}))),Q.createElement("footer",null,Q.createElement("button",{id:"apply",className:`button button--small ${Le()?"disabled":""}`,disabled:Le(),onClick:()=>{me(p)}},"Add to ",n.length>0?"layer":"canvas"),Q.createElement(vH,{canvas:E,options:p}),Q.createElement(Sm,{buttonClass:"button button--small button--secondary icon",className:"actions-overflow-menu",showCaret:!1,direction:"up",align:"right",label:Q.createElement(y3,null),choices:[{label:Q.createElement(fH,null)},{label:Q.createElement(dH,{value:a,onChange:V=>I(V)})},{separator:!0},{label:"Randomize options",function:O},{label:"Reset options to default",function:z}]})))),v==="community"&&Q.createElement(mU,{onSelect:je,onSave:B,session:h,supabase:z1}),v!=="community"&&w&&Q.createElement("section",{className:"shader-editor"},Q.createElement("div",{className:"section-heading"},Q.createElement("h3",null,p.noise.label||"Shader.frag"),Q.createElement("span",null,Q.createElement(Af,{name:"shader-editor-type",choices:[{label:"Fragment",props:{onClick:()=>C(!1)},selected:!M},{label:"Vertex",props:{onClick:()=>{C(!0)}},selected:M}]}),Q.createElement(T8,{generateThumbnail:Ae,type:p.noise.value,shader:p.noise,onSave:B}),Q.createElement(Sm,{buttonClass:"button button--small button--secondary",className:"editor-overflow-menu",align:"right",direction:"down",label:Q.createElement(y3,null),choices:[{label:"The book of shaders",href:"https://thebookofshaders.com/?rogie",icon:Q.createElement(SH,null)},{label:"LYGIA shader library",href:"https://lygia.xyz?rogie",icon:Q.createElement(_H,null)},{separator:!0},{label:Q.createElement(L8,{className:"dropdown-item",options:p,onRemove:F}),className:"delete"},{label:"Download texture",function:()=>{bH(p.noise,`${p.noise.label}.json`)}}]}))),Q.createElement(X6,{placeholder:"Shader glsl",mode:"glsl",ref:P,theme:"tomorrow_night_eighties",name:"shader",onLoad:function(V){V.session.getUndoManager().reset(),V.renderer.setPadding(8),V.renderer.setScrollMargin(8)},style:{width:"100%",height:"100%",fontWeight:100},height:"100%",fontSize:11,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,onChange:V=>{M?Y(V,p):j(V,p)},value:M?p.noise.options.vertex||ac.options.vertex:p.noise.options.shader||"",setOptions:{wrap:!0,readOnly:!1,highlightSelectedWord:!0,showLineNumbers:!0,tabSize:2}}))))}const OH=TM(document.getElementById("root"));OH.render(Q.createElement(DH,null));

</script>
  <!-- assets/style.2a160c6c.css --><style type="text/css">
:root{--figma-color-bg-popup: #191919;--figma-color-bg-tooltip: #1E1E1E;--control-radius-lg: 12px;--control-radius: 6px;--control-radius-sm: 4px;--z-index-dialog: 999;--z-index-tooltip: 1000;--color-white: #FFFFFF;--color-black: #000000;--color-grey: #565656;--transition-timing-function: cubic-bezier(.075, .82, .165, 1);--transition-duration: .2s;--control-outset: inset 0 .75px .25px rgba(255,255,255,.15), 0 0 0 .75px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.1);--control-inset: 0 -1px .5px -.25px rgb(0 0 0 / 15%);--border-color-alpha: -1px 0 0 0 rgba(255, 255, 255, .1);--app-width-default: 240px;--app-width-expanded: 1200px;--canvas-width-expanded: 480px;--swatch-size: 2rem;--root-font: 400 11px/16px Inter,sans-serif;--figma-color-bg-popup: #1E1E1E;--figma-color-bg-input: var(--figma-color-bg-secondary)}.figma-dark:root{--figma-color-bg-input: #222}.figma-light:root{--color-grey: #ddd;--border-color-alpha: -1px 0 0 0 rgba(0, 0, 0, .1);--figma-color-bg-input: #f1f1f1;--figma-color-bg-secondary: var( --figma-color-bg-input)}.figma-light:root{--figma-color-bg-popup: var(--figma-color-bg)}*,*:before,*:after{box-sizing:border-box}html{font-family:Inter,sans-serif;font-size:16px;background-color:var(--figma-color-bg);-webkit-font-smoothing:antialiased;color:var(--figma-color-text);font-weight:500}a{color:inherit;text-decoration:none}a:hover{color:var(--figma-color-text)}a[href]{cursor:pointer}footer{padding:0 .5rem .5rem;color:var(--figma-color-text-disabled)}footer>section{display:flex;align-items:center;justify-content:space-between}.footer-actions button.icon{color:inherit;margin:0}footer .footer-actions{opacity:0}footer:hover .footer-actions{opacity:1}html,body,main,#root{height:100%;width:100%;padding:0;margin:0;overflow:hidden}#root{font:var(--root-font)}main{display:flex;align-items:flex-start;font-size:11px;color:var(--figma-color-text)}main.app-loading{opacity:0;pointer-events:none}.app-loader{position:fixed;left:50vw;top:50vh;transform:translate(-100%,-100%);z-index:2000}.visualizer{order:2;min-height:var(--canvas-width-expanded)}.control-panel{display:flex;flex-direction:column;width:var(--app-width-default)}.control-panel>footer{padding:1rem;padding-top:0;display:flex;column-gap:.5rem;margin-top:auto}.control-panel>footer .button:first-child{flex-grow:1}.visualizer,.shader-editor{display:flex;flex-direction:column;width:var(--app-width-default);box-shadow:var(--border-color-alpha)}.visualizer{position:relative;z-index:1}.shader-editor{width:620px;align-self:stretch}.beta-locked{position:fixed;inset:0;background:rgba(33,33,33,.9);z-index:999;text-align:center;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:2rem;backdrop-filter:blur(10px);line-height:1.4;-webkit-backdrop-filter:blur(10px)}.beta-locked input[type=text]{border:1px solid var(--figma-color-border);border-radius:2px;padding:.25rem .5rem;text-align:center}.figma-light .beta-locked{background:rgb(255,255,255,.9)}.beta-locked a{display:inline;color:#f0f}main{height:auto}section>main{width:100%;display:block;height:100%}section>main::-webkit-scrollbar{background-color:transparent}section>header,.section-heading{padding:.5rem 1rem;display:flex;min-height:calc(3rem + 1px);justify-content:space-between;align-items:center;color:var(--figma-color-text-secondary);border-bottom:1px solid var(--figma-color-border)}section>header h3,.section-heading h3{margin:0 auto 0 0;padding:0;color:var(--figma-color-text);font-weight:700;font-size:inherit}section>header .button+h3,.section-heading .button+h3,.section-heading button+h3{margin-left:.5rem}.section-heading span *{vertical-align:middle}.section-heading span .button{margin-left:.25rem}.section-content{padding:.5rem 0}.options,.preview{width:100%}.preview{position:relative;overflow:hidden;flex:0;width:var(--app-width-default);height:160px;flex-basis:160px;background:rgba(0,0,0,.2);display:flex;align-items:center}.preview>.texture-viewer{position:static}.show-editor .preview{height:var(--app-width-default);flex-basis:var(--app-width-default)}.show-editor .options{max-height:none}.show-editor .visualizer{flex-direction:row-reverse;width:calc(var(----canvas-width-expanded) + var(--app-width-default));height:var(--canvas-width-expanded)}.show-editor .preview{width:var(--canvas-width-expanded);height:var(--canvas-width-expanded);flex-basis:var(--canvas-width-expanded)}.options{padding:.5rem 0;-webkit-mask-image:linear-gradient(to bottom,transparent,black 1rem,black calc(100% - 1rem),transparent);mask-image:linear-gradient(to bottom,transparent,black 1rem,black calc(100% - 1rem),transparent);max-height:300px;overflow:hidden;overflow-y:auto;flex-grow:1}.field{padding:0 1rem;min-height:2rem}.field.field--horizontal{display:flex;align-items:center}.field.field--horizontal .dropdown{width:100%}.field>label{color:var(--figma-color-text-secondary)}.field.field--horizontal>label{width:5rem;flex-shrink:0;margin-right:1rem;min-height:1.5rem;align-items:center}.field.field--horizontal.field--textarea{align-items:flex-start}.field.field--horizontal textarea,.field.field--horizontal input[type=text],.field.field--horizontal input[type=number],.field.field--horizontal input[type=password],.field.field--horizontal.field--textarea textarea,.field.field--horizontal.field--text input{width:100%}.field.field--horizontal.field--textarea>label{padding-top:.45rem}.field.field--textarea{padding:.5rem 0}.field.field--textarea label{margin-bottom:.25rem}.field.field--textarea textarea{width:100%}.field label,.field input,.field select{display:block}input[type=checkbox]{display:inline-flex;vertical-align:middle;padding:.25rem;width:.75rem;height:.75rem;margin:0;box-shadow:inset 0 0 0 1px var(--figma-color-border);background:transparent;appearance:none;-moz-appearance:none;-webkit-appearance:none;border-radius:2px;outline:none;color:var(--figma-color-text);accent-color:var(--figma-color-bg-brand)}input[type=checkbox]:hover{box-shadow:inset 0 0 0 1px var(--figma-color-text)}input[type=checkbox]:checked{color:var(--figma-color-text);background:var(--figma-color-text) center center no-repeat url("data:image/svg+xml,%3Csvg class='svg' width='8' height='8' viewBox='0 0 8 8' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z' fill-rule='evenodd' fill-opacity='1' fill='currentColor' stroke='none'%3E%3C/path%3E%3C/svg%3E");box-shadow:inset 0 0 0 1px var(--figma-color-text)}.figma-light .field input[type=checkbox]:checked{background-image:url("data:image/svg+xml,%3Csvg class='svg' width='8' height='8' viewBox='0 0 8 8' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z' fill-rule='evenodd' fill-opacity='1' fill='white' stroke='none'%3E%3C/path%3E%3C/svg%3E")}.field input[type=checkbox]:focus:checked{color:#fff;background-color:var(--figma-color-bg-brand);box-shadow:inset 0 0 0 1px var(--figma-color-brand)}.field input[type=checkbox]~label{display:inline-flex;margin:0 0 0 .5rem;vertical-align:middle}.field>input[type=checkbox].disable,.field>input[type=checkbox].random,.field>input[type=checkbox].target{order:3;margin-left:1rem;flex-shrink:0}.figma-light .field>input[type=checkbox].disable,.figma-light .field>input[type=checkbox].random,.figma-light .field>input[type=checkbox].target{filter:invert(100%)}.field.field--horizontal>input[type=checkbox].random~label,.field.field--horizontal>input[type=checkbox].disable~label,.field.field--horizontal>input[type=checkbox].target~label{margin-left:0;margin-right:1rem}input[type=checkbox].multicolor{box-shadow:none;background:conic-gradient(from 90deg,cyan,magenta,yellow,cyan)}input[type=checkbox].multicolor:checked{background:center center no-repeat url("data:image/svg+xml,%3Csvg class='svg' width='8' height='8' viewBox='0 0 8 8' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z' fill-rule='evenodd' fill-opacity='1' fill='currentColor' stroke='none'%3E%3C/path%3E%3C/svg%3E"),conic-gradient(from 90deg,cyan,magenta,yellow,cyan)}.field.field--image img{max-width:100%;max-height:1.5rem}.field.field--image img+button{margin-left:.5rem}.input,.input-combo,textarea,input[type=text],input[type=number],input[type=password]{appearance:none;border:none;background-color:var(--figma-color-bg-input);border-radius:var(--control-radius);outline:none;font-size:inherit;font-family:inherit;display:flex;width:auto;color:inherit;padding:.5rem;font:var(--root-font);-moz-appearance:textfield}.input-combo.input--small,.input.input--small,input.input--small{padding:.25rem .5rem;border-radius:var(--control-radius-sm)}.input-combo,.input-combo.input--small{padding:0;background-color:var(--figma-color-bg-input)}.input-combo .segmented-control{margin:1px}.input-combo input,.input-combo:focus input,.input-combo:active input,.input-combo:has(:focus) input,.input-combo:focus-within input{box-shadow:none!important;background:none!important}.input-combo:hover,.input-combo:focus,.input-combo:has(:focus),.input-combo:focus-within,.input:hover,.input:focus,input[type=password]:hover,input[type=text]:hover,input[type=text]:focus,textarea:hover,textarea:focus{box-shadow:inset 0 0 0 1px var(--figma-color-border)}.input-combo:focus,.input-combo:focus-within,.input:focus,.input:focus-within,.input:active,textarea:focus,input[type=password]:focus,input[type=password]:active,input[type=text]:focus,input[type=number]:focus,input[type=number]:active,input[type=text]:active{outline:none;color:var(--figma-color-text);box-shadow:inset 0 0 0 1px var(--figma-color-border-selected)}.input>input{padding:0!important;box-shadow:none!important}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}textarea.shader{width:100%;height:6rem}textarea.code{white-space:pre-wrap}.field input[type=checkbox].random{box-shadow:none;border:0;opacity:.3;cursor:pointer;background-color:transparent!important;background-position:center center;background-repeat:no-repeat;background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3 5L4.76393 5C5.52148 5 6.214 5.428 6.55279 6.10557L8.44721 9.89443C8.786 10.572 9.47852 11 10.2361 11H12.5' stroke='white' stroke-linecap='round'/%3E%3Cpath d='M11.5 12.1678V9.83225C11.5 9.49685 11.888 9.31038 12.1499 9.5199L13.6096 10.6877C13.8097 10.8478 13.8097 11.1522 13.6096 11.3123L12.1499 12.4801C11.888 12.6896 11.5 12.5032 11.5 12.1678Z' fill='white'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.5 3.83225V4.5H10.2361C9.33247 4.5 8.50288 4.98716 8.06089 5.76767L8.61803 6.88197L8.89443 6.32918C9.14852 5.82101 9.66791 5.5 10.2361 5.5H11.5V6.16775C11.5 6.50316 11.888 6.68963 12.1499 6.4801L13.6096 5.31235C13.8097 5.15222 13.8097 4.84779 13.6096 4.68766L12.1499 3.51991C11.888 3.31038 11.5 3.49685 11.5 3.83225ZM6.93912 10.2323L6.38197 9.11804L6.10557 9.67082C5.85148 10.179 5.33209 10.5 4.76393 10.5H3C2.72386 10.5 2.5 10.7239 2.5 11C2.5 11.2761 2.72386 11.5 3 11.5H4.76393C5.66753 11.5 6.49712 11.0128 6.93912 10.2323Z' fill='white'/%3E%3C/svg%3E%0A")!important}.field input[type=checkbox].random:hover,.field input[type=checkbox].random:checked{opacity:1}.field input[type=checkbox].random--grayscale{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='8' cy='8' r='5' stroke='white'/%3E%3Cpath d='M8 3C9.32608 3 10.5979 3.52678 11.5355 4.46447C12.4732 5.40215 13 6.67392 13 8C13 9.32608 12.4732 10.5979 11.5355 11.5355C10.5979 12.4732 9.32608 13 8 13L8 8L8 3Z' fill='white'/%3E%3C/svg%3E%0A")!important}select.random{background:none!important;width:1rem;height:1rem;color:transparent!important;overflow:hidden}select.random[data-chosen="b&w"]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='8' cy='8' r='5' stroke='white'/%3E%3Cpath d='M8 3C9.32608 3 10.5979 3.52678 11.5355 4.46447C12.4732 5.40215 13 6.67392 13 8C13 9.32608 12.4732 10.5979 11.5355 11.5355C10.5979 12.4732 9.32608 13 8 13L8 8L8 3Z' fill='white'/%3E%3C/svg%3E%0A")!important}input[type=radio][name=shape],input[type=radio][name^=type]{width:1rem;height:1rem;padding:0;background-position:center center;background-repeat:no-repeat;border:0;color:transparent;overflow:visible;margin:0 auto 0 0;opacity:.25;font-size:inherit;appearance:none;-moz-appearance:none;-webkit-appearance:none;flex-shrink:0;background-size:contain}input[type=radio][name^=type]{opacity:1;position:relative}[tip]:not([type=range]){position:relative;display:inline-block}[tip]:not([type=range]):after{content:attr(tip);padding:.125rem .35rem;margin:0;font-size:11px;color:var(--figma-color-text-onbrand);opacity:0;pointer-events:none;display:block;text-align:center;border-radius:2px;position:absolute;background-color:var(--figma-color-bg-brand);transform:translate(-50%,-135%);top:0;left:50%;display:none;white-space:nowrap;transition:transform .35s ease-in-out}.tip-right[tip]:after{left:100%;top:50%;transform:translate(-1rem,-50%)}.tip-left[tip]:after{right:100%;top:50%;left:auto;transform:translate(1rem,-50%)}[tip]:not([type=range]):hover:after{display:block;transform:translate(-50%,-140%);opacity:1}.tip-right[tip]:hover:after{transform:translate(.25rem,-50%)}.tip-left[tip]:hover:after{transform:translate(-.25rem,-50%)}.nav-textures{display:flex;flex-direction:column;height:auto;position:relative;flex-shrink:0;padding:1rem 1rem 0;width:var(--app-width-default)}.nav-texture-list{padding:.5rem 0;display:block;display:flex;overflow:hidden;overflow-x:auto;scroll-behavior:smooth;flex-shrink:0;-webkit-mask-image:linear-gradient(to right,transparent,black 1rem,black calc(100% - 1rem),transparent);mask-image:linear-gradient(to right,transparent,black 1rem,black calc(100% - 1rem),transparent)}.nav-textures .nav-texture-list{margin:0 -1rem -.5rem;padding-left:1rem;padding-right:1rem}.nav-texture-list.hidden{display:none}.nav-texture-list .noise-swatch{flex-shrink:0}.nav-texture-list::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}.nav-menu{flex-shrink:0;margin-bottom:auto;border-bottom:1px solid var(--figma-color-border)}.create-menu{border-top:1px solid var(--figma-color-border);margin-top:auto;flex-shrink:0;width:3.75rem;height:3rem}.create-menu>.button--toggle{width:100%;height:100%;border-radius:0}.location-home{width:var(--app-width-default)}.location-community,.location-community.show-editor,.show-editor{width:calc(420px + var(--app-width-default))}.show-editor{width:var(--app-width-expanded);height:var(--canvas-width-expanded)}.show-editor .control-panel{height:var(--canvas-width-expanded)}.noise-swatch{display:block;margin-right:.5rem;border-radius:var(--control-radius);width:var(--swatch-size);height:var(--swatch-size);min-width:var(--swatch-size);min-height:var(--swatch-size);cursor:pointer;position:relative;background-color:#0000001a}.noise-swatch:last-of-type{margin-bottom:0}.noise-swatch-label{position:absolute;inset:.5rem;line-height:1.2;text-align:center;display:flex;align-items:center;justify-content:center;opacity:0}.noise-swatch:hover .noise-swatch-label{opacity:1}.figma-light .noise-swatch{background-color:#fff3}.noise-swatch>input[type=radio],.noise-swatch-pattern,.noise-swatch-icon,.noise-swatch-thumbnail{width:100%;height:100%;border-radius:var(--control-radius);cursor:pointer;display:block;position:absolute;left:0;top:0;background-size:cover;background-position:center center}.noise-swatch>input[type=radio]{z-index:1;box-shadow:inset 0 0 0 1px #ffffff1a,0 0 0 2px var(--figma-color-bg),0 0 0 3.5px transparent}.noise-swatch:hover>input[type=radio],.noise-swatch:hover>input[type=radio]:checked,.noise-swatch>input[type=radio]:focus{box-shadow:inset 0 0 0 1px #ffffff1a,inset 0 0 0 1.5px var(--figma-color-bg-brand),inset 0 0 0 3.5px var(--figma-color-bg)}.noise-swatch>input[type=radio]:checked{box-shadow:inset 0 0 0 1px #ffffff1a,inset 0 0 0 1.5px var(--figma-color-text),inset 0 0 0 3.5px var(--figma-color-bg)}.figma-light .noise-swatch>input[type=radio]{box-shadow:inset 0 0 0 1px #0000001a,0 0 0 2px var(--figma-color-bg),0 0 0 3.5px transparent}.figma-light .noise-swatch:hover>input[type=radio],.figma-light .noise-swatch:hover>input[type=radio]:checked,.figma-light .noise-swatch>input[type=radio]:focus{box-shadow:inset 0 0 0 1px #0000001a,inset 0 0 0 2px var(--figma-color-bg),0 0 0 1.5px var(--figma-color-bg-brand)}.figma-light .noise-swatch>input[type=radio]:checked{box-shadow:inset 0 0 0 1px #0000001a,inset 0 0 0 2px var(--figma-color-bg),0 0 0 1.5px var(--figma-color-text)}.noise-swatch-pattern{background-image:linear-gradient(rgba(0,0,0,.25),rgba(0,0,0,.25))!important;opacity:1;-webkit-mask-position:center;-webkit-mask-size:100%;mask-position:center;mask-size:100%}.noise-swatch-icon{display:flex;align-items:center;justify-content:center;background:var(--figma-color-bg-secondary)}.noise-swatch.noise-swatch--custom,.noise-swatch.noise-swatch--custom>input[type=checkbox]{background:none;box-shadow:none}.noise-swatch.noise-swatch--custom .noise-swatch-icon{border:1px dashed var(--figma-color-border);background:none}.ace_editor{font-family:Roboto Mono,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.ace_scrollbar::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}input[type=radio][name=shape]:hover,input[type=radio][name=shape]:checked{opacity:1}.figma-light input[type=radio][name=shape]{filter:invert(100%)}input[type=radio][name=shape][value=square]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='3' y='3' width='10' height='10' rx='2' fill='white'/%3E%3C/svg%3E%0A")}input[type=radio][name=shape][value=circle]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='8' cy='8' r='5' fill='white'/%3E%3C/svg%3E%0A")}input[type=radio][name=shape][value=triangle]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.70433 4.22115C7.28315 3.22889 8.71685 3.22889 9.29567 4.22115L13.1841 10.887C13.7674 11.887 13.0461 13.1429 11.8884 13.1429H4.11156C2.95387 13.1429 2.23256 11.887 2.81589 10.8871L6.70433 4.22115Z' fill='white'/%3E%3C/svg%3E%0A")}input[type=radio][name=shape][value=hexagon]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.1858 8.75L11.3405 11.9462C11.0726 12.4103 10.5774 12.6962 10.0415 12.6962L6.35087 12.6962C5.81497 12.6962 5.31978 12.4103 5.05183 11.9462L3.20653 8.75C2.93858 8.2859 2.93858 7.7141 3.20653 7.25L5.05183 4.05385C5.31978 3.58975 5.81497 3.30385 6.35087 3.30385L10.0415 3.30385C10.5774 3.30385 11.0726 3.58975 11.3405 4.05385L13.1858 7.25C13.4538 7.7141 13.4538 8.2859 13.1858 8.75Z' fill='white'/%3E%3C/svg%3E%0A")}input[type=radio][name=shape][value=diamond]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='8' y='1.98959' width='8.5' height='8.5' rx='1.5' transform='rotate(45 8 1.98959)' fill='white'/%3E%3C/svg%3E%0A")}input[type=radio][name=shape][value=line]{background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 4L12 12' stroke='white' stroke-linecap='round'/%3E%3C/svg%3E%0A")}input[type=radio][name=shape][value=image]{display:none}input[type=radio][name=shape][value=image][style]{display:block;background-size:75%}.field input[type=checkbox].target,.field input[type=checkbox].target:active,.field input[type=checkbox].target:focus{background-color:transparent;box-shadow:none;border:0;background-position:center center;background-repeat:no-repeat;opacity:.25;background-image:url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cmask id='path-1-inside-1_1527_384' fill='white'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11 1H1V7.81476L3.32483 5.63523L3.6668 5.31463L4.00877 5.63523L9.3421 10.6352L9.70687 10.9772L9.6855 11H11V1ZM1 11V9.18549L1.34211 8.86477L3.6668 6.68537L8.26908 11H1ZM1 0H0V1V11V12H1H11H12V11V1V0H11H1ZM9 4C9 4.55228 8.55228 5 8 5C7.44772 5 7 4.55228 7 4C7 3.44772 7.44772 3 8 3C8.55228 3 9 3.44772 9 4ZM10 4C10 5.10457 9.10457 6 8 6C6.89543 6 6 5.10457 6 4C6 2.89543 6.89543 2 8 2C9.10457 2 10 2.89543 10 4Z'/%3E%3C/mask%3E%3Cpath d='M1 1V0H0V1H1ZM11 1H12V0H11V1ZM1 7.81476H0V10.123L1.68394 8.5443L1 7.81476ZM3.32483 5.63523L4.00877 6.36477L4.00877 6.36477L3.32483 5.63523ZM3.6668 5.31463L4.35074 4.5851L3.6668 3.9439L2.98286 4.5851L3.6668 5.31463ZM4.00877 5.63523L3.32483 6.36477L3.32483 6.36477L4.00877 5.63523ZM9.3421 10.6352L8.65816 11.3648L8.65816 11.3648L9.3421 10.6352ZM9.70687 10.9772L10.4364 11.6611L11.1204 10.9316L10.3908 10.2477L9.70687 10.9772ZM9.6855 11L8.95596 10.3161L7.37726 12H9.6855V11ZM11 11V12H12V11H11ZM1 9.18549L0.316059 8.45596L0 8.75226V9.18549H1ZM1 11H0V12H1V11ZM1.34211 8.86477L2.02605 9.59431L2.02605 9.59431L1.34211 8.86477ZM3.6668 6.68537L4.35074 5.95583L3.6668 5.31463L2.98286 5.95583L3.6668 6.68537ZM8.26908 11V12H10.7979L8.95302 10.2705L8.26908 11ZM0 0V-1H-1V0H0ZM0 12H-1V13H0V12ZM12 12V13H13V12H12ZM12 0H13V-1H12V0ZM1 2H11V0H1V2ZM2 7.81476V1H0V7.81476H2ZM2.64089 4.90569L0.316059 7.08522L1.68394 8.5443L4.00877 6.36477L2.64089 4.90569ZM2.98286 4.5851L2.64089 4.90569L4.00877 6.36477L4.35074 6.04417L2.98286 4.5851ZM4.69271 4.90569L4.35074 4.5851L2.98286 6.04417L3.32483 6.36477L4.69271 4.90569ZM10.026 9.90569L4.69271 4.90569L3.32483 6.36477L8.65816 11.3648L10.026 9.90569ZM10.3908 10.2477L10.026 9.90569L8.65816 11.3648L9.02293 11.7067L10.3908 10.2477ZM10.415 11.6839L10.4364 11.6611L8.97734 10.2933L8.95596 10.3161L10.415 11.6839ZM11 10H9.6855V12H11V10ZM10 1V11H12V1H10ZM0 9.18549V11H2V9.18549H0ZM0.658164 8.13523L0.316059 8.45596L1.68394 9.91503L2.02605 9.59431L0.658164 8.13523ZM2.98286 5.95583L0.658164 8.13523L2.02605 9.59431L4.35074 7.4149L2.98286 5.95583ZM8.95302 10.2705L4.35074 5.95583L2.98286 7.4149L7.58514 11.7295L8.95302 10.2705ZM1 12H8.26908V10H1V12ZM0 1H1V-1H0V1ZM1 1V0H-1V1H1ZM1 11V1H-1V11H1ZM1 12V11H-1V12H1ZM1 11H0V13H1V11ZM11 11H1V13H11V11ZM12 11H11V13H12V11ZM11 11V12H13V11H11ZM11 1V11H13V1H11ZM11 0V1H13V0H11ZM11 1H12V-1H11V1ZM1 1H11V-1H1V1ZM8 6C9.10457 6 10 5.10457 10 4H8V6ZM6 4C6 5.10457 6.89543 6 8 6V4H6ZM8 2C6.89543 2 6 2.89543 6 4H8V2ZM10 4C10 2.89543 9.10457 2 8 2V4H10ZM8 7C9.65685 7 11 5.65685 11 4H9C9 4.55228 8.55228 5 8 5V7ZM5 4C5 5.65685 6.34315 7 8 7V5C7.44772 5 7 4.55228 7 4H5ZM8 1C6.34315 1 5 2.34315 5 4H7C7 3.44772 7.44772 3 8 3V1ZM11 4C11 2.34315 9.65685 1 8 1V3C8.55228 3 9 3.44772 9 4H11Z' fill='white' mask='url(%23path-1-inside-1_1527_384)'/%3E%3C/svg%3E%0A")}.field input[type=checkbox].target:hover,.field input[type=checkbox].target:active,.field input[type=checkbox].target:focus{background-color:transparent;opacity:1}.radio-group{display:flex;min-width:1.5rem;width:100%;justify-content:flex-start;padding:.25rem;border-radius:3px;margin:0 -.5rem;transition:all .1s ease-in-out}.field>.disable:checked~*,.disabled{pointer-events:none;color:var(--figma-color-text-disabled);filter:grayscale(100%);opacity:.5}.field select[size]{margin:-.5rem -.25rem -.25rem;width:calc(100% + .5rem)}select,select[size]{background:none;width:auto;height:auto;padding:0;margin:0;border-width:2px;border-style:inset;appearance:none;-moz-appearance:none;-webkit-appearance:none;border:0;color:var(--figma-color-text);font-size:inherit;display:block;width:100%;padding:.25rem .5rem;margin:0 -.5rem}.input-list{color:var(--figma-color-text);scroll-behavior:smooth;max-height:4rem;overflow:auto;padding:1px;overflow-x:hidden;width:100%;border-radius:var(--control-radius);background-color:var(--figma-color-bg-secondary)}.input-list::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}.input-list--item{font-size:inherit;position:relative;display:block}.input-list--item input{position:absolute;inset:0;width:100%;height:100%;appearance:none;-moz-appearance:none;-webkit-appearance:none;z-index:3;opacity:0;cursor:pointer}.input-list--item label{display:block;padding:.25rem .5rem;border-radius:calc(var(--control-radius) - 1px);color:var(--figma-color-text-secondary);align-items:center}.input-list--item:hover label{color:var(--figma-color-text)}.input-list--item :checked~label{color:var(--figma-color-text);background-color:var(--color-grey);box-shadow:var(--control-outset)}.blend-modes-menu .dropdown-item{display:flex;justify-content:space-between}.blend-modes-menu .dropdown-item svg :first-child{stroke:#0000001a;stroke-width:.5px}.blend-modes-menu .dropdown-item svg{isolation:isolate;filter:drop-shadow(0 1px .25px rgba(0,0,0,.15))}select[size]{margin:-.5rem;padding:.5rem 0;scroll-behavior:smooth;-webkit-mask-image:linear-gradient(to bottom,transparent,black .5rem,black calc(100% - .5rem),transparent)}select[size]::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}select:not([size]){border-radius:4px;background-position:calc(100% - 10px) 50%;background-repeat:no-repeat;background-image:url("data:image/svg+xml,%3Csvg width='8' height='6' viewBox='0 0 6 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L3 3L5 1' stroke='white' stroke-width='0.75'/%3E%3C/svg%3E%0A")}.figma-light select:not([size]){background-image:url("data:image/svg+xml,%3Csvg width='8' height='6' viewBox='0 0 6 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L3 3L5 1' stroke='black' stroke-width='0.75'/%3E%3C/svg%3E%0A")}select:not([size]):hover{background-color:var(--figma-color-bg-secondary)}select:focus{outline:0}select[size] option{padding:.25rem;border-radius:4px;font-size:inherit;appearance:none;-moz-appearance:none;-webkit-appearance:none;position:relative}select[size] option:not(:checked){color:var(--figma-color-text-disabled)}select[size] option:not(:checked):hover{color:var(--figma-color-text)}select[size] option:checked,select[size] option:checked:hover{background:linear-gradient(var(--figma-color-text),var(--figma-color-text));-webkit-text-fill-color:var(--figma-color-bg)}select[size] option:hover{background:linear-gradient(var(--figma-color-bg-secondary),var(--figma-color-bg-secondary));-webkit-text-fill-color:var(--figma-color-text)}.field label{display:flex;justify-content:space-between}.field label *{color:var(--figma-color-text-disabled)}.field label span:first-letter{text-transform:uppercase}.button,button{border-radius:var(--control-radius);appearance:none;border:0;background-color:var(--figma-color-bg-brand);color:var(--figma-color-text-onbrand);font-size:11px;padding:.5rem 1rem;line-height:16px;display:inline-flex;white-space:nowrap;text-align:center;user-select:none;justify-content:center;align-items:center;cursor:pointer}.button:disabled{color:var(--figma-color-text-secondary);background-color:var(--figma-color-bg-secondary);opacity:.5;pointer-events:none}button:focus,.button:focus{outline:none}.button>*{pointer-events:none}button.button--secondary,.button.button--secondary{color:var(--figma-color-text);background-color:var(--figma-color-bg-secondary);box-shadow:none}.button:last-child,button:last-child{margin-right:0}.button.icon,button.icon{padding:.5rem;background:transparent;color:var(--figma-color-text);box-shadow:none}.button.button--narrow,.button.button--narrow.icon{padding-left:0;padding-right:0}button.button--small,.button.button--small{padding:.25rem .75rem}button.icon.button--small,.button.icon.button--small{padding:.25rem}.button.button--toggle.on,.button.button--toggle.on:hover{background-color:var(--figma-color-bg-brand);color:var(--figma-color-text-onbrand)}.button.icon:active,button.icon:active{color:var(--figma-color-text);box-shadow:none}button.button--secondary:active,.button.button--secondary:active{box-shadow:inset 0 0 0 2px #ffffff1a}.button.icon:hover,button.icon:hover{background-color:var(--figma-color-bg-secondary)}.button:active,button:active{box-shadow:inset 0 0 0 2px var(--figma-color-border-brand-strong)}.button.button--link{background-color:transparent;color:var(--figma-color-text-brand);box-shadow:none;padding:0}input[type=color]{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:none;border:0;cursor:pointer;height:.75rem;padding:0;width:.75rem;border-radius:2px;background-color:transparent}input[type=color]::-webkit-color-swatch-wrapper{padding:0;border-radius:2px;background-color:transparent}input[type=color]::-moz-color-swatch{border:none;padding:0;border-radius:2px}input[type=color]::-webkit-color-swatch{border:none;padding:0;border-radius:2px}.field.field--color .color{display:flex;flex:1;margin:0 -.25rem!important}.field.field--color input[type=text]{width:4rem;padding:0;background:none}.field.field--color input[type=text]:hover,.field.field--color input[type=text]:focus,.field.field--color input[type=text]:active{box-shadow:none;border:0}.options .checkbox,.options .color{display:flex;justify-content:start;align-items:center;cursor:pointer;border-radius:var(--control-radius);padding:.25rem;margin:0 -.25rem}.options .checkbox:hover,.options .color:hover{background-color:var(--figma-color-bg-secondary)}.options .checkbox input,.options .color input{margin:0 .5rem 0 0}input[type=range]+[type=number]{width:3rem;padding:0;appearance:none}.picker{position:relative}.swatch{width:1rem;height:1rem;box-shadow:none;border-radius:var(--control-radius-sm);cursor:pointer;box-shadow:var(--control-outset);position:relative;overflow:hidden;background:repeating-conic-gradient(rgba(0,0,0,.5) 0% 25%,rgba(255,255,255,.5) 0% 50%) 0 0 / .5rem .5rem}.swatch .swatch-color,.swatch .swatch-color-opaque{inset:0;position:absolute;background-color:inherit}.swatch .swatch-color-opaque{right:50%}.swatch .swatch-color:after{content:"";inset:0;border-radius:var(--control-radius-sm);position:absolute;mix-blend-mode:overlay;box-shadow:inset 0 0 0 1px #fff3}.popover{position:absolute;bottom:auto;left:0;z-index:999;transform:translateY(-10px);padding:1rem;border-radius:var(--control-radius);background:var(--figma-color-bg-popup);box-shadow:0 0 0 1px #0000001a,inset 0 1px .5px #ffffff1a,0 10px 24px #00000040}.popover.color-picker input[type=text]{width:calc(96px + 1rem);margin:.5rem -.5rem 0}.popover .react-colorful{width:96px;height:96px}.popover .react-colorful__pointer{width:11px;height:11px;border-width:1.5px}.field.field--color .picker+input{margin-left:.5rem}.field.field--color .picker+.picker{margin-left:.25rem}.popover .react-colorful__hue,.popover .react-colorful__alpha{height:.5rem;border-radius:.25rem;margin-top:.75rem}.popover .react-colorful__saturation{border-radius:.25rem .25rem 0 0;border-bottom:0;margin:-1rem;margin-bottom:0}dialog{background:var(--figma-color-bg-popup);color:var(--figma-color-text);border:0;border-radius:var(--control-radius);padding:0;min-width:14rem;box-shadow:0 10px 24px #00000040,0 3px 5px #00000026,inset 0 1px #ffffff1a;position:fixed;display:block;z-index:var(--z-index-tooltip);max-width:90vw;margin:0 auto;transform:translate(-50%,-50%);transform:translateY(120%);transform-origin:center top;pointer-events:none;inset:auto 0 0;width:100%;max-width:clamp(14rem,calc(100vw - 2rem),32rem);border-radius:var(--control-radius) var(--control-radius) 0 0;transition:all .2s ease-in-out;will-change:transform,opacity}dialog[open]{opacity:1;pointer-events:all;transform:translate(0)}dialog[open]::backdrop{background:#1e1e1ecc;pointer-events:none}.figma-light dialog[open]::backdrop{background:#ffffffcc}dialog>form>footer,dialog>footer{padding:.5rem 1rem 1rem;display:flex;justify-content:space-between;width:100%}dialog>form>footer>*:not(:first-child):not(:last-child),dialog>footer>*:not(:first-child):not(:last-child){margin:0 .5rem}dialog>form>footer:first-child,dialog>footer>:first-child{margin-right:auto}dialog form{width:100%;margin:0;padding:0}dialog>form>main,dialog>main{display:block;width:100%}dialog>form>main>section,dialog>main>section{padding:.5rem 1rem}dialog>form>header,dialog>header{padding:.5rem .5rem .5rem 1rem;display:flex;width:100%;min-height:3rem;justify-content:space-between;align-items:center;color:var(--figma-color-text-secondary)}dialog>form>header>.tabbar,dialog>header>.tabbar{margin-left:-8px}dialog>form>header h3,dialog>header h3{margin:0 auto 0 0;padding:0;color:var(--figma-color-text);font-weight:700;font-size:inherit}.shader-thumbnail{width:2rem;height:2rem;border-radius:4px}.shader-list-item{padding:.5rem 1rem;display:flex;align-items:center;width:100%}.shader-list-item .shader-thumbnail{margin-right:.5rem}.shader-list-item input{width:100%}.tabs.tabs--source{padding:.5rem 1rem 0rem .5rem}.tabs.tabs--source+.options{padding-top:0}.range{position:relative;--height: 3px;--total-height: 1.5rem;--transition-timing-function: cubic-bezier(.075, .82, .165, 1);--transition-duration: 0;user-select:none;transition:transform var(--transition-duration) var(--transition-timing-function);transform-origin:right center;width:100%}.range .range-number-tip{position:absolute;left:.5rem;top:50%;transform:translateY(-50%);z-index:0;opacity:0;display:flex;transition:opacity var(--transition-duration) var(--transition-timing-function);display:inline-block;white-space:nowrap;pointer-events:none}.range.range--editing .range-number-tip{inset:0;width:100%;transform:none}.range.range--editing .range-number-units{position:absolute;right:.5rem;top:50%;transform:translateY(-50%)}.range .range-number-input{width:100%;padding-right:2rem;height:var(--total-height);appearance:none;box-shadow:none;outline:none!important;border-radius:var(--control-radius)}.range.range--editing .range-number-input{pointer-events:all}.range-number-input:focus{box-shadow:0 0 0 2px var(--figma-color-bg-brand)}.range-number-value{display:inline-block;pointer-events:none;opacity:1}.range.range--editing .range-number-value{opacity:0;position:absolute;padding:.25rem .5rem}.range:not(.range--editing) .range-number-input{display:none}.range .range-number-tip{display:flex;align-items:baseline;color:var(--figma-color-text)}input[type=range]{width:100%;background:transparent;height:var(--height);background:var(--figma-color-border);padding:0;margin:calc((var(--total-height) - var(--height))/2) 0;color:var(--figma-color-text);appearance:none;-moz-appearance:none;-webkit-appearance:none;position:relative;display:block;cursor:ew-resize;border-radius:var(--control-radius);transition:height var(--transition-duration) var(--transition-timing-function);transition-property:height,margin;transform-origin:0 center;background:linear-gradient(to right,currentColor 0%,currentColor calc(var(--percent) * 100%),var(--figma-color-border) calc(var(--percent) * 100%),var(--figma-color-border) 100%)}.range.range--editing input[type=range],.range.range--show-labels input[type=range],.range:hover input[type=range]{--height: var(--total-height)}.range.range--show-labels .range-number-tip,.range.range--editing .range-number-tip,.range:hover input[type=range]~.range-number-tip{opacity:1}input[type=range]::-moz-range-thumb{appearance:none;-webkit-appearance:none;-moz-appearance:none;display:none;width:11px;height:11px;background:var(--figma-color-text);border:0 solid var(--figma-color-bg);border-radius:50%;opacity:0}input[type=range]::-webkit-slider-thumb{appearance:none;-webkit-appearance:none;-moz-appearance:none;width:11px;height:11px;background:var(--figma-color-text);border:1px solid var(--figma-color-bg);border-radius:50%;opacity:0}input[type=range]::-webkit-slider-container{height:1px;min-block-size:0}input[type=range]:-moz-focusring{outline:1px solid white;outline-offset:-1px}.range:focus-within input[type=range],input[type=range]:focus,.range.range--show-labels:hover input[type=range],input[type=range]:hover{outline:none;color:var(--figma-color-bg-brand)}.range.range--show-labels:not(:hover) input[type=range]{color:var(--figma-color-text)}.range.range--show-labels:not(:hover) .range-number-tip{color:var(--figma-color-bg)}input[type=range]::-webkit-slider-thumb{background:currentColor}input[type=range]::-ms-track{width:100%;cursor:pointer;background:transparent;border-color:transparent;color:transparent}.toggle{--height: .75rem;--width: 1.5rem;--transition-timing-function: cubic-bezier(.075, .82, .165, 1);--transition-duration: .2s;position:relative;display:inline-flex;margin:0;width:var(--width);height:var(--height)}.toggle:before{content:"";position:absolute;left:0;right:0;top:calc(50% - 1.5px);height:3px;background-color:var(--figma-color-border);border-radius:2px}.toggle:has(input[type=checkbox]:checked):before{background-color:currentColor}.toggle-thumb{position:absolute;left:1px;top:1px;width:calc(var(--height) - 2px);height:calc(var(--height) - 2px);background:currentColor;color:var(--figma-color-text);border-radius:calc(var(--height)/2);pointer-events:none;box-shadow:0 2px 2px -1px #00000040,inset 0 1px 1px #ffffff26;transition:transform var(--transition-duration) var(--transition-timing-function)}.toggle>input[type=checkbox]{display:inline-flex;vertical-align:middle;padding:0;width:100%;height:100%;position:absolute;left:0;top:0;margin:0;background:transparent;appearance:none;-moz-appearance:none;-webkit-appearance:none;outline:none;border:0;border-radius:calc(var(--height)/2);color:var(--color-grey);accent-color:var(--figma-color-bg-brand);background:none!important;box-shadow:inset 0 0 0 1rem var(--figma-color-border)}.toggle:hover>input[type=checkbox]{box-shadow:inset 0 0 0 1rem var(--figma-color-border),0 0 0 1px #0000004d,inset 0 1px 3px -.5px #0000007f,0 1.5px .5px #ffffff1a,0 2px 6px #0000004d,0 0 0 2px var(--figma-color-bg),0 0 0 3.5px var(--figma-color-bg-brand)}.toggle>input[type=checkbox]:hover{border:0;color:var(--color-grey)}.toggle>input[type=checkbox]:focus{background:none}.toggle>input[type=checkbox]:checked{color:var(--figma-color-text)!important;border:0;box-shadow:inset 0 0 0 1rem currentColor}.toggle>input[type=checkbox]:checked:hover,.toggle>input[type=checkbox]:checked:focus{color:var(--figma-color-text)!important;box-shadow:inset 0 0 0 1rem currentColor,0 0 0 2px var(--figma-color-bg),0 0 0 3.5px var(--figma-color-bg-brand)}.toggle>input[type=checkbox]:checked~.toggle-thumb{transform:translate(calc(var(--width) - 100% - 2px));color:var(--figma-color-bg);box-shadow:0 2px 2px -1px #00000040}dialog.dynamic-dialog{background:var(--figma-color-bg);color:var(--figma-color-text);border:0;border-radius:var(--control-radius-lg);padding:0;min-width:14rem;box-shadow:0 0 3rem 2rem #0003,0 3px 5px #00000026,inset 0 1px #ffffff1a;position:fixed;z-index:var(--z-index-dialog);margin:0 auto;pointer-events:none;transition:all .1666s cubic-bezier(.43,.42,.41,.78);will-change:transform,opacity,height;overflow:hidden;display:block;max-width:100vw;top:0;left:0;font:var(--root-font)}.figma-light dialog.dynamic-dialog{box-shadow:0 8px 64px #00000080,0 3px 5px #00000026,inset 0 1px #ffffff1a}dialog.dynamic-dialog .dynamic-dialog-content{border:1rem solid transparent;display:block;width:100%}.dynamic-dialog-content main{display:block}.dynamic-dialog-content header{padding:0 0 .5rem;display:flex;width:100%;min-height:2rem;justify-content:space-between;align-items:center;color:var(--figma-color-text-secondary)}.dynamic-dialog-content header h3{margin:0 auto 0 0;padding:0;color:var(--figma-color-text);font-weight:700;font-size:inherit}.dynamic-dialog-content .field,.dynamic-dialog-content .shader-list-item{padding-left:0;padding-right:0}.dynamic-dialog-content footer{padding:.5rem 0 0}dialog.dynamic-dialog[open]{opacity:1;pointer-events:all;display:block}dialog.dynamic-dialog:not([open]){transform:translateY(110vh)!important;box-shadow:none!important}dialog.dynamic-dialog main{color:var(--figma-color-text-secondary)}dialog.dynamic-dialog main h3{color:var(--figma-color-text)}dialog.dynamic-dialog main h3,dialog.dynamic-dialog main p{font-size:inherit;margin:0 0 .5rem}dialog.dynamic-dialog footer{display:flex;justify-content:space-between;align-items:center}dialog.dynamic-dialog footer button:first-child:last-child{margin-left:auto}dialog.dynamic-dialog main p+h3{margin-top:1rem}dialog.dynamic-dialog main p:last-of-type{margin-bottom:0}dialog.dynamic-dialog main a:not(.button):link{text-decoration:underline;color:var(--figma-color-text)}dialog.dynamic-dialog .spinner{margin:.25rem}dialog.dynamic-dialog .spinner:first-child{margin-left:0}.spinner{opacity:0;transition:opacity .2s ease-in-out;margin:.5rem;vertical-align:middle}.spinner--play{opacity:1}.spinner-div{width:100%;height:100%;background:conic-gradient(white,transparent);animation:loader-rotate 2s linear infinite}.spinner.spinner--stop .spinner-div{animation:none}.figma-light .spinner .spinner-div{background:conic-gradient(black,transparent)}@keyframes loader-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.community{height:100vh;display:flex;width:420px;flex-direction:column}.community>header{padding:0;padding:0 1rem}.community>header .account-menu .dropdown-trigger:not(.button){padding:1rem}.community>main{position:relative}.community-resources{width:100%;height:100%;overflow:auto}.community-resource-thumbnail{width:6rem;height:6rem;flex-shrink:0;border-radius:4px;position:relative}.community-resource-thumbnail>img{width:100%;height:100%;border-radius:inherit}.community-resource-thumbnail:after{content:"";width:100%;height:100%;position:absolute;left:0;top:0;border-radius:inherit;box-shadow:inset 0 1px #ffffff1a,inset 0 0 0 1px #ffffff0d,0 2px 4px -2px #00000080,0 0 0 3.5px transparent}.community-resource{--x: 0;--y: 0;padding:1rem;display:flex;flex-direction:column;align-items:top;position:relative;justify-content:space-between;border-bottom:1px solid var(--figma-color-border)}.community-resource:hover{background-color:var(--figma-color-bg-secondary)}.community-resource-actions{visibility:hidden;flex-wrap:nowrap;display:flex;align-items:flex-start;column-gap:.25rem}.community-resource:hover .community-resource-actions{visibility:visible}.community-resource--selected{background-color:var(--figma-color-bg-secondary)}.community-resource .community-resource-thumbnail{margin-right:1rem}.community-resource-title{padding:0;margin:.5rem 0 .25rem}.community-resource-description{white-space:pre-wrap;width:100%;overflow-wrap:break-word;line-height:1.5em;overflow:hidden;text-overflow:ellipsis;white-space:pre-line;-webkit-line-clamp:3;max-height:3.5em;display:-webkit-box!important;-webkit-line-clamp:2;-webkit-box-orient:vertical;white-space:normal;margin-bottom:.5rem}.community-resource-description a:link{color:var(--figma-color-text-brand)}.community-resource--selected .community-resource-description{max-height:none;overflow:visible;display:block;-webkit-line-clamp:inherit}.community-resource-body{padding:0;display:flex;width:100%}.community-resource-header{display:flex;padding:0 0 .5rem;align-items:center;justify-content:space-between}.community-resource-details{display:flex;flex-direction:column;align-items:flex-start;width:100%}.community-resource-details .community-creator{margin-top:auto}.community-creator{display:inline-flex;align-items:center;justify-content:center;margin:.5rem 0}.community-creator .community-avatar+.community-creator-username{margin-left:.5rem}.community-resource-tags{padding:.5rem 0}.tag{margin-left:.25rem;padding:0 .25rem;white-space:nowrap;font-size:.5rem;display:inline-flex;border-radius:2px;font-weight:bolder;text-transform:uppercase;letter-spacing:.1em;background-color:#ffffff1a;color:var(--figma-color-text-secondary)}.tag.tag--brand{background-color:#0d99ff44}.tag:first-child{margin-left:0}.publish-community-resource{min-width:60vw}.publish-community-resource>main{padding:1rem;display:flex;width:100%}.publish-community-resource-form{width:100%}.community-resource-detail{padding:1rem}.avatar{width:1rem;height:1rem;flex-basis:1rem;border-radius:100%;position:relative;display:inline-flex}.avatar>img{width:inherit;height:inherit;border-radius:inherit}.avatar:after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 1px #ffffff1a}.tooltip{display:none;position:fixed;background:var(--figma-color-bg-popup);border-radius:var(--control-radius);z-index:var(--z-index-tooltip);pointer-events:none;white-space:nowrap;padding:.25rem .5rem;transition:opacity .2s ease-in-out;opacity:0;transform:translateY(-50%);box-shadow:0 0 0 1px #0000001a,inset 0 1px .5px #ffffff1a,0 4px 3px -2px #00000026}.figma-light .tooltip{background:rgba(255,255,255,.6)}.tooltip--shown{display:block;opacity:1}.tooltip--top,.tooltip--bottom{transform:translate(0)}.dropdown{display:inline-flex;justify-content:left}.dropdown-trigger:not(.button){display:flex;align-items:center;padding:1rem .5rem;background:none;border-radius:0;justify-content:center;width:100%;color:currentColor;margin:0;box-shadow:none}.dropdown-trigger.button{display:inline-flex;align-items:center;width:100%;justify-content:space-between}.dropdown-trigger:not(.button):hover{background:var(--figma-color-bg-popup);box-shadow:none}.dropdown-chevron{margin-left:.5rem;transition:transform .1s ease-in-out;opacity:50%}.dropdown-trigger:not(.button):hover .dropdown-chevron{transform:translateY(50%)}.dropdown-trigger:hover .dropdown-chevron{opacity:100%}.dropdown-choices{padding:0;position:absolute;top:100%;left:0;min-width:10rem;padding:.5rem;margin:0;background:var(--figma-color-bg-popup);color:var(--figma-color-text);border:0;border-radius:var(--control-radius);overflow:auto;z-index:var(--z-index-tooltip);display:none;max-height:40vh;box-shadow:0 0 0 1px #0000001a,inset 0 1px .5px #ffffff1a,0 10px 24px #00000040;scroll-behavior:smooth;scroll-padding:.5rem 0;overflow-x:hidden}.dropdown-choices::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}.dropdown-choices.open{display:block}.dropdown--up .dropdown-choices{top:auto;bottom:calc(100% + .5rem)}.dropdown--right .dropdown-choices{right:0;left:auto}.dropdown-choices>ul{list-style:none;padding:0;margin:0}.dropdown--open{position:relative;z-index:9999}.dropdown--open .dropdown-trigger:not(.button){background:var(--figma-color-bg-brand);color:var(--figma-color-text-onbrand)}.dropdown--open .dropdown-choices{display:block}.dropdown-item{padding:.25rem 1rem .25rem 1.5rem;display:flex;width:100%;align-items:center;white-space:nowrap;position:relative;border-radius:var(--control-radius-sm)}.dropdown-item:has(>div){padding:0}.dropdown-item>div{width:100%;padding:.25rem 1rem .25rem 1.5rem;display:flex;align-items:center;white-space:nowrap}.dropdown-item:hover{cursor:default;background:var(--figma-color-bg-brand);color:var(--figma-color-text-onbrand)}.dropdown-item-check{position:absolute;left:.5rem}.dropdown-choices .dropdown-separator{border-bottom:1px solid rgba(255,255,255,.075);pointer-events:none;padding:0;margin:.5rem 0}.figma-light .dropdown-choices .dropdown-separator{border-bottom:1px solid rgba(0,0,0,.075)}.dropdown-item-icon{margin-right:.5rem}.texture-viewer{position:relative}.texture-viewer-actions{position:absolute;pointer-events:none;right:.5rem;bottom:.5rem;z-index:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border-radius:var(--control-radius);background-color:#00000040;overflow:hidden}.texture-viewer-actions:hover{background-color:#00000080}.texture-viewer-actions .button,.texture-viewer-actions .button:hover{background:none;color:var(--color-white);box-shadow:none!important}.texture-viewer:hover .texture-viewer-actions{opacity:1;pointer-events:all}.texture-viewer canvas{transform-origin:0 0;transform:var(--transform)}.segmented-control{background-color:var(--figma-color-bg-input);display:inline-flex;position:relative;font-size:11px;border-radius:var(--control-radius)}.segmented-control.segmented-control--full{display:flex;width:100%}.segmented-control label{position:relative;display:inline-flex;align-items:center;justify-content:center;z-index:1;padding:.25rem .75rem;font-size:11px;line-height:16px;cursor:pointer;user-select:none;color:var(--figma-color-text-secondary)}.segmented-control.segmented-control--full label{flex-grow:1}.segmented-control-focus{position:absolute;padding:.25rem .75rem;left:0;top:0;bottom:0;font-size:11px;border-radius:calc(var(--control-radius));background-color:var(--figma-color-bg-secondary);transition:all var(--transition-duration) var(--transition-timing-function);border:1px solid var(--figma-color-bg-input)}.segmented-control--small label,.segmented-control--small .segmented-control-focus{padding:.125rem .5rem;font-size:9px;font-variant:small-caps}.segmented-control--small,.segmented-control--small .segmented-control-focus{border-radius:var(--control-radius-sm)}.figma-light .segmented-control-focus{background-color:var(--color-white)}.segmented-control [type=radio]{display:none;position:relative}.segmented-control label:hover,.segmented-control [type=radio]:checked+label{color:var(--figma-color-text)}dialog.export .segmented-control-export{margin-bottom:.5rem}.export-video .field.field--horizontal>label{width:5rem}dialog.embed-code .field label{text-transform:none}dialog.embed-code .field.field--horizontal>label{width:3em}dialog.embed-code .field--textarea{margin-bottom:.5rem}.welcome a.signature{display:inline-flex;align-items:center;color:inherit!important}.welcome a.signature:hover{color:var(--figma-color-text)!important}

</style>
</head>

<body>
      <div id="root"></div>
      
</body>

</html>